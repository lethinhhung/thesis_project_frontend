const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-LfdN0zeE.js","assets/html-C2L_23MC.js","assets/javascript-ySlJ1b_l.js","assets/css-BPhBrDlE.js","assets/angular-ts-CKsD7JZE.js","assets/scss-C31hgJw-.js","assets/apl-BBq3IX1j.js","assets/xml-e3z08dGr.js","assets/java-xI-RfyKK.js","assets/json-BQoSv7ci.js","assets/astro-CqkE3fuf.js","assets/typescript-Dj6nwHGl.js","assets/postcss-B3ZDOciz.js","assets/blade-a8OxSdnT.js","assets/sql-COK4E0Yg.js","assets/bsl-Dgyn0ogV.js","assets/sdbl-BLhTXw86.js","assets/cairo--RitsXJZ.js","assets/python-DhUJRlN_.js","assets/cobol-PTqiYgYu.js","assets/coffee-dyiR41kL.js","assets/cpp-BksuvNSY.js","assets/regexp-DWJ3fJO_.js","assets/glsl-DBO2IWDn.js","assets/c-C3t2pwGQ.js","assets/crystal-DtDmRg-F.js","assets/shellscript-atvbtKCR.js","assets/edge-D5gP-w-T.js","assets/html-derivative-CSfWNPLT.js","assets/elixir-CLiX3zqd.js","assets/elm-CmHSxxaM.js","assets/erb-BYTLMnw6.js","assets/ruby-DeZ3UC14.js","assets/haml-B2EZWmdv.js","assets/graphql-cDcHW_If.js","assets/jsx-BAng5TT0.js","assets/tsx-B6W0miNI.js","assets/lua-CvWAzNxB.js","assets/yaml-CVw76BM1.js","assets/fortran-fixed-form-TqA4NnZg.js","assets/fortran-free-form-DKXYxT9g.js","assets/fsharp-XplgxFYe.js","assets/markdown-UIAJJxZW.js","assets/gdresource-BHYsBjWJ.js","assets/gdshader-SKMF96pI.js","assets/gdscript-DfxzS6Rs.js","assets/git-commit-i4q6IMui.js","assets/diff-BgYniUM_.js","assets/git-rebase-B-v9cOL2.js","assets/glimmer-js-D-cwc0-E.js","assets/glimmer-ts-pgjy16dm.js","assets/hack-D1yCygmZ.js","assets/handlebars-BQGss363.js","assets/http-FRrOvY1W.js","assets/hxml-TIA70rKU.js","assets/haxe-C5wWYbrZ.js","assets/imba-bv_oIlVt.js","assets/jinja-DGy0s7-h.js","assets/jison-BqZprYcd.js","assets/julia-BBuGR-5E.js","assets/r-CwjWoCRV.js","assets/latex-C-cWTeAZ.js","assets/tex-rYs2v40G.js","assets/liquid-D3W5UaiH.js","assets/marko-z0MBrx5-.js","assets/less-BfCpw3nA.js","assets/mdc-DB_EDNY_.js","assets/nginx-D_VnBJ67.js","assets/nim-ZlGxZxc3.js","assets/perl-CHQXSrWU.js","assets/php-B5ebYQev.js","assets/pug-CM9l7STV.js","assets/qml-D8XfuvdV.js","assets/razor-CNLDkMZG.js","assets/csharp-D9R-vmeu.js","assets/rst-4NLicBqY.js","assets/cmake-DbXoA79R.js","assets/sas-BmTFh92c.js","assets/shaderlab-B7qAK45m.js","assets/hlsl-ifBTmRxC.js","assets/shellsession-C_rIy8kc.js","assets/soy-C-lX7w71.js","assets/sparql-bYkjHRlG.js","assets/turtle-BMR_PYu6.js","assets/stata-DorPZHa4.js","assets/svelte-MSaWC3Je.js","assets/templ-dwX3ZSMB.js","assets/go-B1SYOhNW.js","assets/ts-tags-CipyTH0X.js","assets/twig-NC5TFiHP.js","assets/vue-BuYVFjOK.js","assets/vue-html-xdeiXROB.js","assets/xsl-Dd0NUgwM.js","assets/index-fPWOxJft.js","assets/index-CayEAvHG.js","assets/index-B8MU8g2C.js","assets/index-DPW-W-EU.js","assets/index-DMOF2JQ0.js","assets/index-C1QSjMhF.js","assets/index-Ch_qCilz.js","assets/index-CTBKYPz4.js","assets/index-Cz2EFvpz.js","assets/index-vY-h4J_N.js","assets/index-BSAZhzZx.js","assets/index-C_aolqmU.js","assets/index-DQ088uqa.js","assets/index-BPDK8emt.js","assets/index-CHMJxWBp.js","assets/list-item-xb9BgIlX.js","assets/index-D7TIu75F.js","assets/index-ChyhdTBI.js","assets/index-BiP7EpHt.js","assets/index-CHHYbbld.js"])))=>i.map(i=>d[i]);
var IX=Object.defineProperty;var VX=(t,e,n)=>e in t?IX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var de=(t,e,n)=>VX(t,typeof e!="symbol"?e+"":e,n);function BX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function $B(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sk={exports:{}},Vp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NL;function $X(){if(NL)return Vp;NL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,i){var s=null;if(i!==void 0&&(s=""+i),o.key!==void 0&&(s=""+o.key),"key"in o){i={};for(var a in o)a!=="key"&&(i[a]=o[a])}else i=o;return o=i.ref,{$$typeof:t,type:r,key:s,ref:o!==void 0?o:null,props:i}}return Vp.Fragment=e,Vp.jsx=n,Vp.jsxs=n,Vp}var OL;function HX(){return OL||(OL=1,sk.exports=$X()),sk.exports}var g=HX(),ak={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DL;function zX(){if(DL)return ut;DL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(L){return L===null||typeof L!="object"?null:(L=h&&L[h]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function C(L,W,se){this.props=L,this.context=W,this.refs=x,this.updater=se||y}C.prototype.isReactComponent={},C.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=C.prototype;function E(L,W,se){this.props=L,this.context=W,this.refs=x,this.updater=se||y}var T=E.prototype=new k;T.constructor=E,b(T,C.prototype),T.isPureReactComponent=!0;var R=Array.isArray,A={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function O(L,W,se,ae,fe,Ee){return se=Ee.ref,{$$typeof:t,type:L,key:W,ref:se!==void 0?se:null,props:Ee}}function j(L,W){return O(L.type,W,void 0,void 0,void 0,L.props)}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function z(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(se){return W[se]})}var X=/\/+/g;function Z(L,W){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):W.toString(36)}function q(){}function re(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(q,q):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ee(L,W,se,ae,fe){var Ee=typeof L;(Ee==="undefined"||Ee==="boolean")&&(L=null);var pe=!1;if(L===null)pe=!0;else switch(Ee){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(L.$$typeof){case t:case e:pe=!0;break;case f:return pe=L._init,ee(pe(L._payload),W,se,ae,fe)}}if(pe)return fe=fe(L),pe=ae===""?"."+Z(L,0):ae,R(fe)?(se="",pe!=null&&(se=pe.replace(X,"$&/")+"/"),ee(fe,W,se,"",function(Ie){return Ie})):fe!=null&&(P(fe)&&(fe=j(fe,se+(fe.key==null||L&&L.key===fe.key?"":(""+fe.key).replace(X,"$&/")+"/")+pe)),W.push(fe)),1;pe=0;var Ne=ae===""?".":ae+":";if(R(L))for(var Oe=0;Oe<L.length;Oe++)ae=L[Oe],Ee=Ne+Z(ae,Oe),pe+=ee(ae,W,se,Ee,fe);else if(Oe=p(L),typeof Oe=="function")for(L=Oe.call(L),Oe=0;!(ae=L.next()).done;)ae=ae.value,Ee=Ne+Z(ae,Oe++),pe+=ee(ae,W,se,Ee,fe);else if(Ee==="object"){if(typeof L.then=="function")return ee(re(L),W,se,ae,fe);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return pe}function B(L,W,se){if(L==null)return L;var ae=[],fe=0;return ee(L,ae,"","",function(Ee){return W.call(se,Ee,fe++)}),ae}function $(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(se){(L._status===0||L._status===-1)&&(L._status=1,L._result=se)},function(se){(L._status===0||L._status===-1)&&(L._status=2,L._result=se)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var V=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function G(){}return ut.Children={map:B,forEach:function(L,W,se){B(L,function(){W.apply(this,arguments)},se)},count:function(L){var W=0;return B(L,function(){W++}),W},toArray:function(L){return B(L,function(W){return W})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},ut.Component=C,ut.Fragment=n,ut.Profiler=o,ut.PureComponent=E,ut.StrictMode=r,ut.Suspense=l,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ut.act=function(){throw Error("act(...) is not supported in production builds of React.")},ut.cache=function(L){return function(){return L.apply(null,arguments)}},ut.cloneElement=function(L,W,se){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ae=b({},L.props),fe=L.key,Ee=void 0;if(W!=null)for(pe in W.ref!==void 0&&(Ee=void 0),W.key!==void 0&&(fe=""+W.key),W)!N.call(W,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&W.ref===void 0||(ae[pe]=W[pe]);var pe=arguments.length-2;if(pe===1)ae.children=se;else if(1<pe){for(var Ne=Array(pe),Oe=0;Oe<pe;Oe++)Ne[Oe]=arguments[Oe+2];ae.children=Ne}return O(L.type,fe,void 0,void 0,Ee,ae)},ut.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:i,_context:L},L},ut.createElement=function(L,W,se){var ae,fe={},Ee=null;if(W!=null)for(ae in W.key!==void 0&&(Ee=""+W.key),W)N.call(W,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(fe[ae]=W[ae]);var pe=arguments.length-2;if(pe===1)fe.children=se;else if(1<pe){for(var Ne=Array(pe),Oe=0;Oe<pe;Oe++)Ne[Oe]=arguments[Oe+2];fe.children=Ne}if(L&&L.defaultProps)for(ae in pe=L.defaultProps,pe)fe[ae]===void 0&&(fe[ae]=pe[ae]);return O(L,Ee,void 0,void 0,null,fe)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(L){return{$$typeof:a,render:L}},ut.isValidElement=P,ut.lazy=function(L){return{$$typeof:f,_payload:{_status:-1,_result:L},_init:$}},ut.memo=function(L,W){return{$$typeof:c,type:L,compare:W===void 0?null:W}},ut.startTransition=function(L){var W=A.T,se={};A.T=se;try{var ae=L(),fe=A.S;fe!==null&&fe(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(G,V)}catch(Ee){V(Ee)}finally{A.T=W}},ut.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ut.use=function(L){return A.H.use(L)},ut.useActionState=function(L,W,se){return A.H.useActionState(L,W,se)},ut.useCallback=function(L,W){return A.H.useCallback(L,W)},ut.useContext=function(L){return A.H.useContext(L)},ut.useDebugValue=function(){},ut.useDeferredValue=function(L,W){return A.H.useDeferredValue(L,W)},ut.useEffect=function(L,W){return A.H.useEffect(L,W)},ut.useId=function(){return A.H.useId()},ut.useImperativeHandle=function(L,W,se){return A.H.useImperativeHandle(L,W,se)},ut.useInsertionEffect=function(L,W){return A.H.useInsertionEffect(L,W)},ut.useLayoutEffect=function(L,W){return A.H.useLayoutEffect(L,W)},ut.useMemo=function(L,W){return A.H.useMemo(L,W)},ut.useOptimistic=function(L,W){return A.H.useOptimistic(L,W)},ut.useReducer=function(L,W,se){return A.H.useReducer(L,W,se)},ut.useRef=function(L){return A.H.useRef(L)},ut.useState=function(L){return A.H.useState(L)},ut.useSyncExternalStore=function(L,W,se){return A.H.useSyncExternalStore(L,W,se)},ut.useTransition=function(){return A.H.useTransition()},ut.version="19.0.0",ut}var PL;function z2(){return PL||(PL=1,ak.exports=zX()),ak.exports}var w=z2();const U=$B(w),HB=BX({__proto__:null,default:U},[w]);var lk={exports:{}},Bp={},ck={exports:{}},uk={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LL;function FX(){return LL||(LL=1,function(t){function e(B,$){var V=B.length;B.push($);e:for(;0<V;){var G=V-1>>>1,L=B[G];if(0<o(L,$))B[G]=$,B[V]=L,V=G;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var $=B[0],V=B.pop();if(V!==$){B[0]=V;e:for(var G=0,L=B.length,W=L>>>1;G<W;){var se=2*(G+1)-1,ae=B[se],fe=se+1,Ee=B[fe];if(0>o(ae,V))fe<L&&0>o(Ee,ae)?(B[G]=Ee,B[fe]=V,G=fe):(B[G]=ae,B[se]=V,G=se);else if(fe<L&&0>o(Ee,V))B[G]=Ee,B[fe]=V,G=fe;else break e}}return $}function o(B,$){var V=B.sortIndex-$.sortIndex;return V!==0?V:B.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],f=1,h=null,p=3,y=!1,b=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=B)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function R(B){if(x=!1,T(B),!b)if(n(l)!==null)b=!0,re();else{var $=n(c);$!==null&&ee(R,$.startTime-B)}}var A=!1,N=-1,O=5,j=-1;function P(){return!(t.unstable_now()-j<O)}function z(){if(A){var B=t.unstable_now();j=B;var $=!0;try{e:{b=!1,x&&(x=!1,k(N),N=-1),y=!0;var V=p;try{t:{for(T(B),h=n(l);h!==null&&!(h.expirationTime>B&&P());){var G=h.callback;if(typeof G=="function"){h.callback=null,p=h.priorityLevel;var L=G(h.expirationTime<=B);if(B=t.unstable_now(),typeof L=="function"){h.callback=L,T(B),$=!0;break t}h===n(l)&&r(l),T(B)}else r(l);h=n(l)}if(h!==null)$=!0;else{var W=n(c);W!==null&&ee(R,W.startTime-B),$=!1}}break e}finally{h=null,p=V,y=!1}$=void 0}}finally{$?X():A=!1}}}var X;if(typeof E=="function")X=function(){E(z)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,q=Z.port2;Z.port1.onmessage=z,X=function(){q.postMessage(null)}}else X=function(){C(z,0)};function re(){A||(A=!0,X())}function ee(B,$){N=C(function(){B(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,re())},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var V=p;p=$;try{return B()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=p;p=B;try{return $()}finally{p=V}},t.unstable_scheduleCallback=function(B,$,V){var G=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=V+L,B={id:f++,callback:$,priorityLevel:B,startTime:V,expirationTime:L,sortIndex:-1},V>G?(B.sortIndex=V,e(c,B),n(l)===null&&B===n(c)&&(x?(k(N),N=-1):x=!0,ee(R,V-G))):(B.sortIndex=L,e(l,B),b||y||(b=!0,re())),B},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(B){var $=p;return function(){var V=p;p=$;try{return B.apply(this,arguments)}finally{p=V}}}}(uk)),uk}var jL;function UX(){return jL||(jL=1,ck.exports=FX()),ck.exports}var dk={exports:{}},Vr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IL;function GX(){if(IL)return Vr;IL=1;var t=z2();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function i(l,c,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:h==null?null:""+h,children:l,containerInfo:c,implementation:f}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Vr.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return i(l,c,null,f)},Vr.flushSync=function(l){var c=s.T,f=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=c,r.p=f,r.d.f()}},Vr.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Vr.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Vr.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var f=c.as,h=a(f,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:y}):f==="script"&&r.d.X(l,{crossOrigin:h,integrity:p,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Vr.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Vr.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,h=a(f,c.crossOrigin);r.d.L(l,f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Vr.preloadModule=function(l,c){if(typeof l=="string")if(c){var f=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Vr.requestFormReset=function(l){r.d.r(l)},Vr.unstable_batchedUpdates=function(l,c){return l(c)},Vr.useFormState=function(l,c,f){return s.H.useFormState(l,c,f)},Vr.useFormStatus=function(){return s.H.useHostTransitionStatus()},Vr.version="19.0.0",Vr}var VL;function zB(){if(VL)return dk.exports;VL=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dk.exports=GX(),dk.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BL;function WX(){if(BL)return Bp;BL=1;var t=UX(),e=z2(),n=zB();function r(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var i=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),R=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function N(u){return u===null||typeof u!="object"?null:(u=A&&u[A]||u["@@iterator"],typeof u=="function"?u:null)}var O=Symbol.for("react.client.reference");function j(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===O?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case a:return"Portal";case f:return"Profiler";case c:return"StrictMode";case x:return"Suspense";case C:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case p:return(u._context.displayName||"Context")+".Consumer";case b:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case k:return d=u.displayName||null,d!==null?d:j(u.type)||"Memo";case E:d=u._payload,u=u._init;try{return j(u(d))}catch{}}return null}var P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,X,Z;function q(u){if(X===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);X=d&&d[1]||"",Z=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+u+Z}var re=!1;function ee(u,d){if(!u||re)return"";re=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(d){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(le){var ie=le}Reflect.construct(u,[],me)}else{try{me.call()}catch(le){ie=le}u.call(me.prototype)}}else{try{throw Error()}catch(le){ie=le}(me=u())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(le){if(le&&ie&&typeof le.stack=="string")return[le.stack,ie.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=v.DetermineComponentFrameRoot(),M=_[0],D=_[1];if(M&&D){var H=M.split(`
`),K=D.split(`
`);for(S=v=0;v<H.length&&!H[v].includes("DetermineComponentFrameRoot");)v++;for(;S<K.length&&!K[S].includes("DetermineComponentFrameRoot");)S++;if(v===H.length||S===K.length)for(v=H.length-1,S=K.length-1;1<=v&&0<=S&&H[v]!==K[S];)S--;for(;1<=v&&0<=S;v--,S--)if(H[v]!==K[S]){if(v!==1||S!==1)do if(v--,S--,0>S||H[v]!==K[S]){var ue=`
`+H[v].replace(" at new "," at ");return u.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",u.displayName)),ue}while(1<=v&&0<=S);break}}}finally{re=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?q(m):""}function B(u){switch(u.tag){case 26:case 27:case 5:return q(u.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 15:return u=ee(u.type,!1),u;case 11:return u=ee(u.type.render,!1),u;case 1:return u=ee(u.type,!0),u;default:return""}}function $(u){try{var d="";do d+=B(u),u=u.return;while(u);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function V(u){var d=u,m=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(m=d.return),u=d.return;while(u)}return d.tag===3?m:null}function G(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function L(u){if(V(u)!==u)throw Error(r(188))}function W(u){var d=u.alternate;if(!d){if(d=V(u),d===null)throw Error(r(188));return d!==u?null:u}for(var m=u,v=d;;){var S=m.return;if(S===null)break;var _=S.alternate;if(_===null){if(v=S.return,v!==null){m=v;continue}break}if(S.child===_.child){for(_=S.child;_;){if(_===m)return L(S),u;if(_===v)return L(S),d;_=_.sibling}throw Error(r(188))}if(m.return!==v.return)m=S,v=_;else{for(var M=!1,D=S.child;D;){if(D===m){M=!0,m=S,v=_;break}if(D===v){M=!0,v=S,m=_;break}D=D.sibling}if(!M){for(D=_.child;D;){if(D===m){M=!0,m=_,v=S;break}if(D===v){M=!0,v=_,m=S;break}D=D.sibling}if(!M)throw Error(r(189))}}if(m.alternate!==v)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?u:d}function se(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u;for(u=u.child;u!==null;){if(d=se(u),d!==null)return d;u=u.sibling}return null}var ae=Array.isArray,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},pe=[],Ne=-1;function Oe(u){return{current:u}}function Ie(u){0>Ne||(u.current=pe[Ne],pe[Ne]=null,Ne--)}function Ue(u,d){Ne++,pe[Ne]=u.current,u.current=d}var At=Oe(null),Tn=Oe(null),zt=Oe(null),Ve=Oe(null);function dr(u,d){switch(Ue(zt,d),Ue(Tn,u),Ue(At,null),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?sL(d):0;break;default:if(u=u===8?d.parentNode:d,d=u.tagName,u=u.namespaceURI)u=sL(u),d=aL(u,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}Ie(At),Ue(At,d)}function Jn(){Ie(At),Ie(Tn),Ie(zt)}function Fn(u){u.memoizedState!==null&&Ue(Ve,u);var d=At.current,m=aL(d,u.type);d!==m&&(Ue(Tn,u),Ue(At,m))}function F(u){Tn.current===u&&(Ie(At),Ie(Tn)),Ve.current===u&&(Ie(Ve),Dp._currentValue=Ee)}var Q=Object.prototype.hasOwnProperty,oe=t.unstable_scheduleCallback,Ce=t.unstable_cancelCallback,ve=t.unstable_shouldYield,ye=t.unstable_requestPaint,Re=t.unstable_now,et=t.unstable_getCurrentPriorityLevel,Ht=t.unstable_ImmediatePriority,qt=t.unstable_UserBlockingPriority,yn=t.unstable_NormalPriority,ri=t.unstable_LowPriority,Qn=t.unstable_IdlePriority,vn=t.log,Lr=t.unstable_setDisableYieldValue,Do=null,er=null;function fa(u){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Do,u,void 0,(u.current.flags&128)===128)}catch{}}function Po(u){if(typeof vn=="function"&&Lr(u),er&&typeof er.setStrictMode=="function")try{er.setStrictMode(Do,u)}catch{}}var kr=Math.clz32?Math.clz32:Lt,Hc=Math.log,Ge=Math.LN2;function Lt(u){return u>>>=0,u===0?32:31-(Hc(u)/Ge|0)|0}var Rt=128,ht=4194304;function Me(u){var d=u&42;if(d!==0)return d;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function bt(u,d){var m=u.pendingLanes;if(m===0)return 0;var v=0,S=u.suspendedLanes,_=u.pingedLanes,M=u.warmLanes;u=u.finishedLanes!==0;var D=m&134217727;return D!==0?(m=D&~S,m!==0?v=Me(m):(_&=D,_!==0?v=Me(_):u||(M=D&~M,M!==0&&(v=Me(M))))):(D=m&~S,D!==0?v=Me(D):_!==0?v=Me(_):u||(M=m&~M,M!==0&&(v=Me(M)))),v===0?0:d!==0&&d!==v&&(d&S)===0&&(S=v&-v,M=d&-d,S>=M||S===32&&(M&4194176)!==0)?d:v}function xt(u,d){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&d)===0}function bn(u,d){switch(u){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(){var u=Rt;return Rt<<=1,(Rt&4194176)===0&&(Rt=128),u}function Yt(){var u=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),u}function fn(u){for(var d=[],m=0;31>m;m++)d.push(u);return d}function Pn(u,d){u.pendingLanes|=d,d!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function fr(u,d,m,v,S,_){var M=u.pendingLanes;u.pendingLanes=m,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=m,u.entangledLanes&=m,u.errorRecoveryDisabledLanes&=m,u.shellSuspendCounter=0;var D=u.entanglements,H=u.expirationTimes,K=u.hiddenUpdates;for(m=M&~m;0<m;){var ue=31-kr(m),me=1<<ue;D[ue]=0,H[ue]=-1;var ie=K[ue];if(ie!==null)for(K[ue]=null,ue=0;ue<ie.length;ue++){var le=ie[ue];le!==null&&(le.lane&=-536870913)}m&=~me}v!==0&&_r(u,v,0),_!==0&&S===0&&u.tag!==0&&(u.suspendedLanes|=_&~(M&~d))}function _r(u,d,m){u.pendingLanes|=d,u.suspendedLanes&=~d;var v=31-kr(d);u.entangledLanes|=d,u.entanglements[v]=u.entanglements[v]|1073741824|m&4194218}function Uh(u,d){var m=u.entangledLanes|=d;for(u=u.entanglements;m;){var v=31-kr(m),S=1<<v;S&d|u[v]&d&&(u[v]|=d),m&=~S}}function ys(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function tS(){var u=fe.p;return u!==0?u:(u=window.event,u===void 0?32:_L(u.type))}function TK(u,d){var m=fe.p;try{return fe.p=u,d()}finally{fe.p=m}}var vl=Math.random().toString(36).slice(2),jr="__reactFiber$"+vl,po="__reactProps$"+vl,wd="__reactContainer$"+vl,nS="__reactEvents$"+vl,MK="__reactListeners$"+vl,AK="__reactHandles$"+vl,oO="__reactResources$"+vl,Gh="__reactMarker$"+vl;function rS(u){delete u[jr],delete u[po],delete u[nS],delete u[MK],delete u[AK]}function zc(u){var d=u[jr];if(d)return d;for(var m=u.parentNode;m;){if(d=m[wd]||m[jr]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(u=uL(u);u!==null;){if(m=u[jr])return m;u=uL(u)}return d}u=m,m=u.parentNode}return null}function Sd(u){if(u=u[jr]||u[wd]){var d=u.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return u}return null}function Wh(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u.stateNode;throw Error(r(33))}function Cd(u){var d=u[oO];return d||(d=u[oO]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function hr(u){u[Gh]=!0}var iO=new Set,sO={};function Fc(u,d){kd(u,d),kd(u+"Capture",d)}function kd(u,d){for(sO[u]=d,u=0;u<d.length;u++)iO.add(d[u])}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),RK=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aO={},lO={};function NK(u){return Q.call(lO,u)?!0:Q.call(aO,u)?!1:RK.test(u)?lO[u]=!0:(aO[u]=!0,!1)}function zy(u,d,m){if(NK(d))if(m===null)u.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":u.removeAttribute(d);return;case"boolean":var v=d.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){u.removeAttribute(d);return}}u.setAttribute(d,""+m)}}function Fy(u,d,m){if(m===null)u.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(d);return}u.setAttribute(d,""+m)}}function pa(u,d,m,v){if(v===null)u.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttributeNS(d,m,""+v)}}function oi(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function cO(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function OK(u){var d=cO(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),v=""+u[d];if(!u.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,_=m.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return S.call(this)},set:function(M){v=""+M,_.call(this,M)}}),Object.defineProperty(u,d,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(M){v=""+M},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function Uy(u){u._valueTracker||(u._valueTracker=OK(u))}function uO(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return u&&(v=cO(u)?u.checked?"true":"false":u.value),u=v,u!==m?(d.setValue(u),!0):!1}function Gy(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var DK=/[\n"\\]/g;function ii(u){return u.replace(DK,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function oS(u,d,m,v,S,_,M,D){u.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?u.type=M:u.removeAttribute("type"),d!=null?M==="number"?(d===0&&u.value===""||u.value!=d)&&(u.value=""+oi(d)):u.value!==""+oi(d)&&(u.value=""+oi(d)):M!=="submit"&&M!=="reset"||u.removeAttribute("value"),d!=null?iS(u,M,oi(d)):m!=null?iS(u,M,oi(m)):v!=null&&u.removeAttribute("value"),S==null&&_!=null&&(u.defaultChecked=!!_),S!=null&&(u.checked=S&&typeof S!="function"&&typeof S!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?u.name=""+oi(D):u.removeAttribute("name")}function dO(u,d,m,v,S,_,M,D){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(u.type=_),d!=null||m!=null){if(!(_!=="submit"&&_!=="reset"||d!=null))return;m=m!=null?""+oi(m):"",d=d!=null?""+oi(d):m,D||d===u.value||(u.value=d),u.defaultValue=d}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,u.checked=D?u.checked:!!v,u.defaultChecked=!!v,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(u.name=M)}function iS(u,d,m){d==="number"&&Gy(u.ownerDocument)===u||u.defaultValue===""+m||(u.defaultValue=""+m)}function _d(u,d,m,v){if(u=u.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<u.length;m++)S=d.hasOwnProperty("$"+u[m].value),u[m].selected!==S&&(u[m].selected=S),S&&v&&(u[m].defaultSelected=!0)}else{for(m=""+oi(m),d=null,S=0;S<u.length;S++){if(u[S].value===m){u[S].selected=!0,v&&(u[S].defaultSelected=!0);return}d!==null||u[S].disabled||(d=u[S])}d!==null&&(d.selected=!0)}}function fO(u,d,m){if(d!=null&&(d=""+oi(d),d!==u.value&&(u.value=d),m==null)){u.defaultValue!==d&&(u.defaultValue=d);return}u.defaultValue=m!=null?""+oi(m):""}function hO(u,d,m,v){if(d==null){if(v!=null){if(m!=null)throw Error(r(92));if(ae(v)){if(1<v.length)throw Error(r(93));v=v[0]}m=v}m==null&&(m=""),d=m}m=oi(d),u.defaultValue=m,v=u.textContent,v===m&&v!==""&&v!==null&&(u.value=v)}function Ed(u,d){if(d){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=d;return}}u.textContent=d}var PK=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pO(u,d,m){var v=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?u.setProperty(d,""):d==="float"?u.cssFloat="":u[d]="":v?u.setProperty(d,m):typeof m!="number"||m===0||PK.has(d)?d==="float"?u.cssFloat=m:u[d]=(""+m).trim():u[d]=m+"px"}function mO(u,d,m){if(d!=null&&typeof d!="object")throw Error(r(62));if(u=u.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||d!=null&&d.hasOwnProperty(v)||(v.indexOf("--")===0?u.setProperty(v,""):v==="float"?u.cssFloat="":u[v]="");for(var S in d)v=d[S],d.hasOwnProperty(S)&&m[S]!==v&&pO(u,S,v)}else for(var _ in d)d.hasOwnProperty(_)&&pO(u,_,d[_])}function sS(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LK=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jK=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wy(u){return jK.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var aS=null;function lS(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Td=null,Md=null;function gO(u){var d=Sd(u);if(d&&(u=d.stateNode)){var m=u[po]||null;e:switch(u=d.stateNode,d.type){case"input":if(oS(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+ii(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==u&&v.form===u.form){var S=v[po]||null;if(!S)throw Error(r(90));oS(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<m.length;d++)v=m[d],v.form===u.form&&uO(v)}break e;case"textarea":fO(u,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&_d(u,!!m.multiple,d,!1)}}}var cS=!1;function yO(u,d,m){if(cS)return u(d,m);cS=!0;try{var v=u(d);return v}finally{if(cS=!1,(Td!==null||Md!==null)&&(Av(),Td&&(d=Td,u=Md,Md=Td=null,gO(d),u)))for(d=0;d<u.length;d++)gO(u[d])}}function qh(u,d){var m=u.stateNode;if(m===null)return null;var v=m[po]||null;if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(u=u.type,v=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!v;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var uS=!1;if(ha)try{var Yh={};Object.defineProperty(Yh,"passive",{get:function(){uS=!0}}),window.addEventListener("test",Yh,Yh),window.removeEventListener("test",Yh,Yh)}catch{uS=!1}var bl=null,dS=null,qy=null;function vO(){if(qy)return qy;var u,d=dS,m=d.length,v,S="value"in bl?bl.value:bl.textContent,_=S.length;for(u=0;u<m&&d[u]===S[u];u++);var M=m-u;for(v=1;v<=M&&d[m-v]===S[_-v];v++);return qy=S.slice(u,1<v?1-v:void 0)}function Yy(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function Ky(){return!0}function bO(){return!1}function mo(u){function d(m,v,S,_,M){this._reactName=m,this._targetInst=S,this.type=v,this.nativeEvent=_,this.target=M,this.currentTarget=null;for(var D in u)u.hasOwnProperty(D)&&(m=u[D],this[D]=m?m(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ky:bO,this.isPropagationStopped=bO,this}return z(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ky)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ky)},persist:function(){},isPersistent:Ky}),d}var Uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zy=mo(Uc),Kh=z({},Uc,{view:0,detail:0}),IK=mo(Kh),fS,hS,Zh,Xy=z({},Kh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mS,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Zh&&(Zh&&u.type==="mousemove"?(fS=u.screenX-Zh.screenX,hS=u.screenY-Zh.screenY):hS=fS=0,Zh=u),fS)},movementY:function(u){return"movementY"in u?u.movementY:hS}}),xO=mo(Xy),VK=z({},Xy,{dataTransfer:0}),BK=mo(VK),$K=z({},Kh,{relatedTarget:0}),pS=mo($K),HK=z({},Uc,{animationName:0,elapsedTime:0,pseudoElement:0}),zK=mo(HK),FK=z({},Uc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),UK=mo(FK),GK=z({},Uc,{data:0}),wO=mo(GK),WK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KK(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=YK[u])?!!d[u]:!1}function mS(){return KK}var ZK=z({},Kh,{key:function(u){if(u.key){var d=WK[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Yy(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?qK[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mS,charCode:function(u){return u.type==="keypress"?Yy(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Yy(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),XK=mo(ZK),JK=z({},Xy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SO=mo(JK),QK=z({},Kh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mS}),eZ=mo(QK),tZ=z({},Uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),nZ=mo(tZ),rZ=z({},Xy,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),oZ=mo(rZ),iZ=z({},Uc,{newState:0,oldState:0}),sZ=mo(iZ),aZ=[9,13,27,32],gS=ha&&"CompositionEvent"in window,Xh=null;ha&&"documentMode"in document&&(Xh=document.documentMode);var lZ=ha&&"TextEvent"in window&&!Xh,CO=ha&&(!gS||Xh&&8<Xh&&11>=Xh),kO=" ",_O=!1;function EO(u,d){switch(u){case"keyup":return aZ.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TO(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ad=!1;function cZ(u,d){switch(u){case"compositionend":return TO(d);case"keypress":return d.which!==32?null:(_O=!0,kO);case"textInput":return u=d.data,u===kO&&_O?null:u;default:return null}}function uZ(u,d){if(Ad)return u==="compositionend"||!gS&&EO(u,d)?(u=vO(),qy=dS=bl=null,Ad=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return CO&&d.locale!=="ko"?null:d.data;default:return null}}var dZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MO(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!dZ[u.type]:d==="textarea"}function AO(u,d,m,v){Td?Md?Md.push(v):Md=[v]:Td=v,d=Pv(d,"onChange"),0<d.length&&(m=new Zy("onChange","change",null,m,v),u.push({event:m,listeners:d}))}var Jh=null,Qh=null;function fZ(u){tL(u,0)}function Jy(u){var d=Wh(u);if(uO(d))return u}function RO(u,d){if(u==="change")return d}var NO=!1;if(ha){var yS;if(ha){var vS="oninput"in document;if(!vS){var OO=document.createElement("div");OO.setAttribute("oninput","return;"),vS=typeof OO.oninput=="function"}yS=vS}else yS=!1;NO=yS&&(!document.documentMode||9<document.documentMode)}function DO(){Jh&&(Jh.detachEvent("onpropertychange",PO),Qh=Jh=null)}function PO(u){if(u.propertyName==="value"&&Jy(Qh)){var d=[];AO(d,Qh,u,lS(u)),yO(fZ,d)}}function hZ(u,d,m){u==="focusin"?(DO(),Jh=d,Qh=m,Jh.attachEvent("onpropertychange",PO)):u==="focusout"&&DO()}function pZ(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Jy(Qh)}function mZ(u,d){if(u==="click")return Jy(d)}function gZ(u,d){if(u==="input"||u==="change")return Jy(d)}function yZ(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Lo=typeof Object.is=="function"?Object.is:yZ;function ep(u,d){if(Lo(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var m=Object.keys(u),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var S=m[v];if(!Q.call(d,S)||!Lo(u[S],d[S]))return!1}return!0}function LO(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function jO(u,d){var m=LO(u);u=0;for(var v;m;){if(m.nodeType===3){if(v=u+m.textContent.length,u<=d&&v>=d)return{node:m,offset:d-u};u=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=LO(m)}}function IO(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?IO(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function VO(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var d=Gy(u.document);d instanceof u.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)u=d.contentWindow;else break;d=Gy(u.document)}return d}function bS(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function vZ(u,d){var m=VO(d);d=u.focusedElem;var v=u.selectionRange;if(m!==d&&d&&d.ownerDocument&&IO(d.ownerDocument.documentElement,d)){if(v!==null&&bS(d)){if(u=v.start,m=v.end,m===void 0&&(m=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(m,d.value.length);else if(m=(u=d.ownerDocument||document)&&u.defaultView||window,m.getSelection){m=m.getSelection();var S=d.textContent.length,_=Math.min(v.start,S);v=v.end===void 0?_:Math.min(v.end,S),!m.extend&&_>v&&(S=v,v=_,_=S),S=jO(d,_);var M=jO(d,v);S&&M&&(m.rangeCount!==1||m.anchorNode!==S.node||m.anchorOffset!==S.offset||m.focusNode!==M.node||m.focusOffset!==M.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),m.removeAllRanges(),_>v?(m.addRange(u),m.extend(M.node,M.offset)):(u.setEnd(M.node,M.offset),m.addRange(u)))}}for(u=[],m=d;m=m.parentNode;)m.nodeType===1&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)m=u[d],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var bZ=ha&&"documentMode"in document&&11>=document.documentMode,Rd=null,xS=null,tp=null,wS=!1;function BO(u,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;wS||Rd==null||Rd!==Gy(v)||(v=Rd,"selectionStart"in v&&bS(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),tp&&ep(tp,v)||(tp=v,v=Pv(xS,"onSelect"),0<v.length&&(d=new Zy("onSelect","select",null,d,m),u.push({event:d,listeners:v}),d.target=Rd)))}function Gc(u,d){var m={};return m[u.toLowerCase()]=d.toLowerCase(),m["Webkit"+u]="webkit"+d,m["Moz"+u]="moz"+d,m}var Nd={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionrun:Gc("Transition","TransitionRun"),transitionstart:Gc("Transition","TransitionStart"),transitioncancel:Gc("Transition","TransitionCancel"),transitionend:Gc("Transition","TransitionEnd")},SS={},$O={};ha&&($O=document.createElement("div").style,"AnimationEvent"in window||(delete Nd.animationend.animation,delete Nd.animationiteration.animation,delete Nd.animationstart.animation),"TransitionEvent"in window||delete Nd.transitionend.transition);function Wc(u){if(SS[u])return SS[u];if(!Nd[u])return u;var d=Nd[u],m;for(m in d)if(d.hasOwnProperty(m)&&m in $O)return SS[u]=d[m];return u}var HO=Wc("animationend"),zO=Wc("animationiteration"),FO=Wc("animationstart"),xZ=Wc("transitionrun"),wZ=Wc("transitionstart"),SZ=Wc("transitioncancel"),UO=Wc("transitionend"),GO=new Map,WO="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Vi(u,d){GO.set(u,d),Fc(d,[u])}var si=[],Od=0,CS=0;function Qy(){for(var u=Od,d=CS=Od=0;d<u;){var m=si[d];si[d++]=null;var v=si[d];si[d++]=null;var S=si[d];si[d++]=null;var _=si[d];if(si[d++]=null,v!==null&&S!==null){var M=v.pending;M===null?S.next=S:(S.next=M.next,M.next=S),v.pending=S}_!==0&&qO(m,S,_)}}function ev(u,d,m,v){si[Od++]=u,si[Od++]=d,si[Od++]=m,si[Od++]=v,CS|=v,u.lanes|=v,u=u.alternate,u!==null&&(u.lanes|=v)}function kS(u,d,m,v){return ev(u,d,m,v),tv(u)}function xl(u,d){return ev(u,null,null,d),tv(u)}function qO(u,d,m){u.lanes|=m;var v=u.alternate;v!==null&&(v.lanes|=m);for(var S=!1,_=u.return;_!==null;)_.childLanes|=m,v=_.alternate,v!==null&&(v.childLanes|=m),_.tag===22&&(u=_.stateNode,u===null||u._visibility&1||(S=!0)),u=_,_=_.return;S&&d!==null&&u.tag===3&&(_=u.stateNode,S=31-kr(m),_=_.hiddenUpdates,u=_[S],u===null?_[S]=[d]:u.push(d),d.lane=m|536870912)}function tv(u){if(50<Ep)throw Ep=0,RC=null,Error(r(185));for(var d=u.return;d!==null;)u=d,d=u.return;return u.tag===3?u.stateNode:null}var Dd={},YO=new WeakMap;function ai(u,d){if(typeof u=="object"&&u!==null){var m=YO.get(u);return m!==void 0?m:(d={value:u,source:d,stack:$(d)},YO.set(u,d),d)}return{value:u,source:d,stack:$(d)}}var Pd=[],Ld=0,nv=null,rv=0,li=[],ci=0,qc=null,ma=1,ga="";function Yc(u,d){Pd[Ld++]=rv,Pd[Ld++]=nv,nv=u,rv=d}function KO(u,d,m){li[ci++]=ma,li[ci++]=ga,li[ci++]=qc,qc=u;var v=ma;u=ga;var S=32-kr(v)-1;v&=~(1<<S),m+=1;var _=32-kr(d)+S;if(30<_){var M=S-S%5;_=(v&(1<<M)-1).toString(32),v>>=M,S-=M,ma=1<<32-kr(d)+S|m<<S|v,ga=_+u}else ma=1<<_|m<<S|v,ga=u}function _S(u){u.return!==null&&(Yc(u,1),KO(u,1,0))}function ES(u){for(;u===nv;)nv=Pd[--Ld],Pd[Ld]=null,rv=Pd[--Ld],Pd[Ld]=null;for(;u===qc;)qc=li[--ci],li[ci]=null,ga=li[--ci],li[ci]=null,ma=li[--ci],li[ci]=null}var Qr=null,Er=null,Bt=!1,Bi=null,vs=!1,TS=Error(r(519));function Kc(u){var d=Error(r(418,""));throw op(ai(d,u)),TS}function ZO(u){var d=u.stateNode,m=u.type,v=u.memoizedProps;switch(d[jr]=u,d[po]=v,m){case"dialog":Mt("cancel",d),Mt("close",d);break;case"iframe":case"object":case"embed":Mt("load",d);break;case"video":case"audio":for(m=0;m<Mp.length;m++)Mt(Mp[m],d);break;case"source":Mt("error",d);break;case"img":case"image":case"link":Mt("error",d),Mt("load",d);break;case"details":Mt("toggle",d);break;case"input":Mt("invalid",d),dO(d,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Uy(d);break;case"select":Mt("invalid",d);break;case"textarea":Mt("invalid",d),hO(d,v.value,v.defaultValue,v.children),Uy(d)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||v.suppressHydrationWarning===!0||iL(d.textContent,m)?(v.popover!=null&&(Mt("beforetoggle",d),Mt("toggle",d)),v.onScroll!=null&&Mt("scroll",d),v.onScrollEnd!=null&&Mt("scrollend",d),v.onClick!=null&&(d.onclick=Lv),d=!0):d=!1,d||Kc(u)}function XO(u){for(Qr=u.return;Qr;)switch(Qr.tag){case 3:case 27:vs=!0;return;case 5:case 13:vs=!1;return;default:Qr=Qr.return}}function np(u){if(u!==Qr)return!1;if(!Bt)return XO(u),Bt=!0,!1;var d=!1,m;if((m=u.tag!==3&&u.tag!==27)&&((m=u.tag===5)&&(m=u.type,m=!(m!=="form"&&m!=="button")||qC(u.type,u.memoizedProps)),m=!m),m&&(d=!0),d&&Er&&Kc(u),XO(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8)if(m=u.data,m==="/$"){if(d===0){Er=Hi(u.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;u=u.nextSibling}Er=null}}else Er=Qr?Hi(u.stateNode.nextSibling):null;return!0}function rp(){Er=Qr=null,Bt=!1}function op(u){Bi===null?Bi=[u]:Bi.push(u)}var ip=Error(r(460)),JO=Error(r(474)),MS={then:function(){}};function QO(u){return u=u.status,u==="fulfilled"||u==="rejected"}function ov(){}function eD(u,d,m){switch(m=u[m],m===void 0?u.push(d):m!==d&&(d.then(ov,ov),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===ip?Error(r(483)):u;default:if(typeof d.status=="string")d.then(ov,ov);else{if(u=rn,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=d,u.status="pending",u.then(function(v){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=v}},function(v){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=v}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===ip?Error(r(483)):u}throw sp=d,ip}}var sp=null;function tD(){if(sp===null)throw Error(r(459));var u=sp;return sp=null,u}var jd=null,ap=0;function iv(u){var d=ap;return ap+=1,jd===null&&(jd=[]),eD(jd,u,d)}function lp(u,d){d=d.props.ref,u.ref=d!==void 0?d:null}function sv(u,d){throw d.$$typeof===i?Error(r(525)):(u=Object.prototype.toString.call(d),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u)))}function nD(u){var d=u._init;return d(u._payload)}function rD(u){function d(J,Y){if(u){var ne=J.deletions;ne===null?(J.deletions=[Y],J.flags|=16):ne.push(Y)}}function m(J,Y){if(!u)return null;for(;Y!==null;)d(J,Y),Y=Y.sibling;return null}function v(J){for(var Y=new Map;J!==null;)J.key!==null?Y.set(J.key,J):Y.set(J.index,J),J=J.sibling;return Y}function S(J,Y){return J=Ol(J,Y),J.index=0,J.sibling=null,J}function _(J,Y,ne){return J.index=ne,u?(ne=J.alternate,ne!==null?(ne=ne.index,ne<Y?(J.flags|=33554434,Y):ne):(J.flags|=33554434,Y)):(J.flags|=1048576,Y)}function M(J){return u&&J.alternate===null&&(J.flags|=33554434),J}function D(J,Y,ne,he){return Y===null||Y.tag!==6?(Y=SC(ne,J.mode,he),Y.return=J,Y):(Y=S(Y,ne),Y.return=J,Y)}function H(J,Y,ne,he){var De=ne.type;return De===l?ue(J,Y,ne.props.children,he,ne.key):Y!==null&&(Y.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===E&&nD(De)===Y.type)?(Y=S(Y,ne.props),lp(Y,ne),Y.return=J,Y):(Y=kv(ne.type,ne.key,ne.props,null,J.mode,he),lp(Y,ne),Y.return=J,Y)}function K(J,Y,ne,he){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=CC(ne,J.mode,he),Y.return=J,Y):(Y=S(Y,ne.children||[]),Y.return=J,Y)}function ue(J,Y,ne,he,De){return Y===null||Y.tag!==7?(Y=iu(ne,J.mode,he,De),Y.return=J,Y):(Y=S(Y,ne),Y.return=J,Y)}function me(J,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=SC(""+Y,J.mode,ne),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case s:return ne=kv(Y.type,Y.key,Y.props,null,J.mode,ne),lp(ne,Y),ne.return=J,ne;case a:return Y=CC(Y,J.mode,ne),Y.return=J,Y;case E:var he=Y._init;return Y=he(Y._payload),me(J,Y,ne)}if(ae(Y)||N(Y))return Y=iu(Y,J.mode,ne,null),Y.return=J,Y;if(typeof Y.then=="function")return me(J,iv(Y),ne);if(Y.$$typeof===y)return me(J,wv(J,Y),ne);sv(J,Y)}return null}function ie(J,Y,ne,he){var De=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return De!==null?null:D(J,Y,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case s:return ne.key===De?H(J,Y,ne,he):null;case a:return ne.key===De?K(J,Y,ne,he):null;case E:return De=ne._init,ne=De(ne._payload),ie(J,Y,ne,he)}if(ae(ne)||N(ne))return De!==null?null:ue(J,Y,ne,he,null);if(typeof ne.then=="function")return ie(J,Y,iv(ne),he);if(ne.$$typeof===y)return ie(J,Y,wv(J,ne),he);sv(J,ne)}return null}function le(J,Y,ne,he,De){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return J=J.get(ne)||null,D(Y,J,""+he,De);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case s:return J=J.get(he.key===null?ne:he.key)||null,H(Y,J,he,De);case a:return J=J.get(he.key===null?ne:he.key)||null,K(Y,J,he,De);case E:var wt=he._init;return he=wt(he._payload),le(J,Y,ne,he,De)}if(ae(he)||N(he))return J=J.get(ne)||null,ue(Y,J,he,De,null);if(typeof he.then=="function")return le(J,Y,ne,iv(he),De);if(he.$$typeof===y)return le(J,Y,ne,wv(Y,he),De);sv(Y,he)}return null}function Fe(J,Y,ne,he){for(var De=null,wt=null,We=Y,Xe=Y=0,gr=null;We!==null&&Xe<ne.length;Xe++){We.index>Xe?(gr=We,We=null):gr=We.sibling;var $t=ie(J,We,ne[Xe],he);if($t===null){We===null&&(We=gr);break}u&&We&&$t.alternate===null&&d(J,We),Y=_($t,Y,Xe),wt===null?De=$t:wt.sibling=$t,wt=$t,We=gr}if(Xe===ne.length)return m(J,We),Bt&&Yc(J,Xe),De;if(We===null){for(;Xe<ne.length;Xe++)We=me(J,ne[Xe],he),We!==null&&(Y=_(We,Y,Xe),wt===null?De=We:wt.sibling=We,wt=We);return Bt&&Yc(J,Xe),De}for(We=v(We);Xe<ne.length;Xe++)gr=le(We,J,Xe,ne[Xe],he),gr!==null&&(u&&gr.alternate!==null&&We.delete(gr.key===null?Xe:gr.key),Y=_(gr,Y,Xe),wt===null?De=gr:wt.sibling=gr,wt=gr);return u&&We.forEach(function(Bl){return d(J,Bl)}),Bt&&Yc(J,Xe),De}function at(J,Y,ne,he){if(ne==null)throw Error(r(151));for(var De=null,wt=null,We=Y,Xe=Y=0,gr=null,$t=ne.next();We!==null&&!$t.done;Xe++,$t=ne.next()){We.index>Xe?(gr=We,We=null):gr=We.sibling;var Bl=ie(J,We,$t.value,he);if(Bl===null){We===null&&(We=gr);break}u&&We&&Bl.alternate===null&&d(J,We),Y=_(Bl,Y,Xe),wt===null?De=Bl:wt.sibling=Bl,wt=Bl,We=gr}if($t.done)return m(J,We),Bt&&Yc(J,Xe),De;if(We===null){for(;!$t.done;Xe++,$t=ne.next())$t=me(J,$t.value,he),$t!==null&&(Y=_($t,Y,Xe),wt===null?De=$t:wt.sibling=$t,wt=$t);return Bt&&Yc(J,Xe),De}for(We=v(We);!$t.done;Xe++,$t=ne.next())$t=le(We,J,Xe,$t.value,he),$t!==null&&(u&&$t.alternate!==null&&We.delete($t.key===null?Xe:$t.key),Y=_($t,Y,Xe),wt===null?De=$t:wt.sibling=$t,wt=$t);return u&&We.forEach(function(jX){return d(J,jX)}),Bt&&Yc(J,Xe),De}function Rn(J,Y,ne,he){if(typeof ne=="object"&&ne!==null&&ne.type===l&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case s:e:{for(var De=ne.key;Y!==null;){if(Y.key===De){if(De=ne.type,De===l){if(Y.tag===7){m(J,Y.sibling),he=S(Y,ne.props.children),he.return=J,J=he;break e}}else if(Y.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===E&&nD(De)===Y.type){m(J,Y.sibling),he=S(Y,ne.props),lp(he,ne),he.return=J,J=he;break e}m(J,Y);break}else d(J,Y);Y=Y.sibling}ne.type===l?(he=iu(ne.props.children,J.mode,he,ne.key),he.return=J,J=he):(he=kv(ne.type,ne.key,ne.props,null,J.mode,he),lp(he,ne),he.return=J,J=he)}return M(J);case a:e:{for(De=ne.key;Y!==null;){if(Y.key===De)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){m(J,Y.sibling),he=S(Y,ne.children||[]),he.return=J,J=he;break e}else{m(J,Y);break}else d(J,Y);Y=Y.sibling}he=CC(ne,J.mode,he),he.return=J,J=he}return M(J);case E:return De=ne._init,ne=De(ne._payload),Rn(J,Y,ne,he)}if(ae(ne))return Fe(J,Y,ne,he);if(N(ne)){if(De=N(ne),typeof De!="function")throw Error(r(150));return ne=De.call(ne),at(J,Y,ne,he)}if(typeof ne.then=="function")return Rn(J,Y,iv(ne),he);if(ne.$$typeof===y)return Rn(J,Y,wv(J,ne),he);sv(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,Y!==null&&Y.tag===6?(m(J,Y.sibling),he=S(Y,ne),he.return=J,J=he):(m(J,Y),he=SC(ne,J.mode,he),he.return=J,J=he),M(J)):m(J,Y)}return function(J,Y,ne,he){try{ap=0;var De=Rn(J,Y,ne,he);return jd=null,De}catch(We){if(We===ip)throw We;var wt=hi(29,We,null,J.mode);return wt.lanes=he,wt.return=J,wt}finally{}}}var Zc=rD(!0),oD=rD(!1),Id=Oe(null),av=Oe(0);function iD(u,d){u=Ta,Ue(av,u),Ue(Id,d),Ta=u|d.baseLanes}function AS(){Ue(av,Ta),Ue(Id,Id.current)}function RS(){Ta=av.current,Ie(Id),Ie(av)}var ui=Oe(null),bs=null;function wl(u){var d=u.alternate;Ue(nr,nr.current&1),Ue(ui,u),bs===null&&(d===null||Id.current!==null||d.memoizedState!==null)&&(bs=u)}function sD(u){if(u.tag===22){if(Ue(nr,nr.current),Ue(ui,u),bs===null){var d=u.alternate;d!==null&&d.memoizedState!==null&&(bs=u)}}else Sl()}function Sl(){Ue(nr,nr.current),Ue(ui,ui.current)}function ya(u){Ie(ui),bs===u&&(bs=null),Ie(nr)}var nr=Oe(0);function lv(u){for(var d=u;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var CZ=typeof AbortController<"u"?AbortController:function(){var u=[],d=this.signal={aborted:!1,addEventListener:function(m,v){u.push(v)}};this.abort=function(){d.aborted=!0,u.forEach(function(m){return m()})}},kZ=t.unstable_scheduleCallback,_Z=t.unstable_NormalPriority,rr={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function NS(){return{controller:new CZ,data:new Map,refCount:0}}function cp(u){u.refCount--,u.refCount===0&&kZ(_Z,function(){u.controller.abort()})}var up=null,OS=0,Vd=0,Bd=null;function EZ(u,d){if(up===null){var m=up=[];OS=0,Vd=VC(),Bd={status:"pending",value:void 0,then:function(v){m.push(v)}}}return OS++,d.then(aD,aD),d}function aD(){if(--OS===0&&up!==null){Bd!==null&&(Bd.status="fulfilled");var u=up;up=null,Vd=0,Bd=null;for(var d=0;d<u.length;d++)(0,u[d])()}}function TZ(u,d){var m=[],v={status:"pending",value:null,reason:null,then:function(S){m.push(S)}};return u.then(function(){v.status="fulfilled",v.value=d;for(var S=0;S<m.length;S++)(0,m[S])(d)},function(S){for(v.status="rejected",v.reason=S,S=0;S<m.length;S++)(0,m[S])(void 0)}),v}var lD=P.S;P.S=function(u,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&EZ(u,d),lD!==null&&lD(u,d)};var Xc=Oe(null);function DS(){var u=Xc.current;return u!==null?u:rn.pooledCache}function cv(u,d){d===null?Ue(Xc,Xc.current):Ue(Xc,d.pool)}function cD(){var u=DS();return u===null?null:{parent:rr._currentValue,pool:u}}var Cl=0,vt=null,Kt=null,Un=null,uv=!1,$d=!1,Jc=!1,dv=0,dp=0,Hd=null,MZ=0;function Ln(){throw Error(r(321))}function PS(u,d){if(d===null)return!1;for(var m=0;m<d.length&&m<u.length;m++)if(!Lo(u[m],d[m]))return!1;return!0}function LS(u,d,m,v,S,_){return Cl=_,vt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,P.H=u===null||u.memoizedState===null?Qc:kl,Jc=!1,_=m(v,S),Jc=!1,$d&&(_=dD(d,m,v,S)),uD(u),_}function uD(u){P.H=xs;var d=Kt!==null&&Kt.next!==null;if(Cl=0,Un=Kt=vt=null,uv=!1,dp=0,Hd=null,d)throw Error(r(300));u===null||pr||(u=u.dependencies,u!==null&&xv(u)&&(pr=!0))}function dD(u,d,m,v){vt=u;var S=0;do{if($d&&(Hd=null),dp=0,$d=!1,25<=S)throw Error(r(301));if(S+=1,Un=Kt=null,u.updateQueue!=null){var _=u.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}P.H=eu,_=d(m,v)}while($d);return _}function AZ(){var u=P.H,d=u.useState()[0];return d=typeof d.then=="function"?fp(d):d,u=u.useState()[0],(Kt!==null?Kt.memoizedState:null)!==u&&(vt.flags|=1024),d}function jS(){var u=dv!==0;return dv=0,u}function IS(u,d,m){d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~m}function VS(u){if(uv){for(u=u.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}uv=!1}Cl=0,Un=Kt=vt=null,$d=!1,dp=dv=0,Hd=null}function go(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?vt.memoizedState=Un=u:Un=Un.next=u,Un}function Gn(){if(Kt===null){var u=vt.alternate;u=u!==null?u.memoizedState:null}else u=Kt.next;var d=Un===null?vt.memoizedState:Un.next;if(d!==null)Un=d,Kt=u;else{if(u===null)throw vt.alternate===null?Error(r(467)):Error(r(310));Kt=u,u={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Un===null?vt.memoizedState=Un=u:Un=Un.next=u}return Un}var fv;fv=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fp(u){var d=dp;return dp+=1,Hd===null&&(Hd=[]),u=eD(Hd,u,d),d=vt,(Un===null?d.memoizedState:Un.next)===null&&(d=d.alternate,P.H=d===null||d.memoizedState===null?Qc:kl),u}function hv(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return fp(u);if(u.$$typeof===y)return Ir(u)}throw Error(r(438,String(u)))}function BS(u){var d=null,m=vt.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var v=vt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(d={data:v.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=fv(),vt.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(u),v=0;v<u;v++)m[v]=R;return d.index++,m}function va(u,d){return typeof d=="function"?d(u):d}function pv(u){var d=Gn();return $S(d,Kt,u)}function $S(u,d,m){var v=u.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=m;var S=u.baseQueue,_=v.pending;if(_!==null){if(S!==null){var M=S.next;S.next=_.next,_.next=M}d.baseQueue=S=_,v.pending=null}if(_=u.baseState,S===null)u.memoizedState=_;else{d=S.next;var D=M=null,H=null,K=d,ue=!1;do{var me=K.lane&-536870913;if(me!==K.lane?(Nt&me)===me:(Cl&me)===me){var ie=K.revertLane;if(ie===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),me===Vd&&(ue=!0);else if((Cl&ie)===ie){K=K.next,ie===Vd&&(ue=!0);continue}else me={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},H===null?(D=H=me,M=_):H=H.next=me,vt.lanes|=ie,Dl|=ie;me=K.action,Jc&&m(_,me),_=K.hasEagerState?K.eagerState:m(_,me)}else ie={lane:me,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},H===null?(D=H=ie,M=_):H=H.next=ie,vt.lanes|=me,Dl|=me;K=K.next}while(K!==null&&K!==d);if(H===null?M=_:H.next=D,!Lo(_,u.memoizedState)&&(pr=!0,ue&&(m=Bd,m!==null)))throw m;u.memoizedState=_,u.baseState=M,u.baseQueue=H,v.lastRenderedState=_}return S===null&&(v.lanes=0),[u.memoizedState,v.dispatch]}function HS(u){var d=Gn(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=m.dispatch,S=m.pending,_=d.memoizedState;if(S!==null){m.pending=null;var M=S=S.next;do _=u(_,M.action),M=M.next;while(M!==S);Lo(_,d.memoizedState)||(pr=!0),d.memoizedState=_,d.baseQueue===null&&(d.baseState=_),m.lastRenderedState=_}return[_,v]}function fD(u,d,m){var v=vt,S=Gn(),_=Bt;if(_){if(m===void 0)throw Error(r(407));m=m()}else m=d();var M=!Lo((Kt||S).memoizedState,m);if(M&&(S.memoizedState=m,pr=!0),S=S.queue,US(mD.bind(null,v,S,u),[u]),S.getSnapshot!==d||M||Un!==null&&Un.memoizedState.tag&1){if(v.flags|=2048,zd(9,pD.bind(null,v,S,m,d),{destroy:void 0},null),rn===null)throw Error(r(349));_||(Cl&60)!==0||hD(v,d,m)}return m}function hD(u,d,m){u.flags|=16384,u={getSnapshot:d,value:m},d=vt.updateQueue,d===null?(d=fv(),vt.updateQueue=d,d.stores=[u]):(m=d.stores,m===null?d.stores=[u]:m.push(u))}function pD(u,d,m,v){d.value=m,d.getSnapshot=v,gD(d)&&yD(u)}function mD(u,d,m){return m(function(){gD(d)&&yD(u)})}function gD(u){var d=u.getSnapshot;u=u.value;try{var m=d();return!Lo(u,m)}catch{return!0}}function yD(u){var d=xl(u,2);d!==null&&eo(d,u,2)}function zS(u){var d=go();if(typeof u=="function"){var m=u;if(u=m(),Jc){Po(!0);try{m()}finally{Po(!1)}}}return d.memoizedState=d.baseState=u,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:u},d}function vD(u,d,m,v){return u.baseState=m,$S(u,Kt,typeof v=="function"?v:va)}function RZ(u,d,m,v,S){if(yv(u))throw Error(r(485));if(u=d.action,u!==null){var _={payload:S,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){_.listeners.push(M)}};P.T!==null?m(!0):_.isTransition=!1,v(_),m=d.pending,m===null?(_.next=d.pending=_,bD(d,_)):(_.next=m.next,d.pending=m.next=_)}}function bD(u,d){var m=d.action,v=d.payload,S=u.state;if(d.isTransition){var _=P.T,M={};P.T=M;try{var D=m(S,v),H=P.S;H!==null&&H(M,D),xD(u,d,D)}catch(K){FS(u,d,K)}finally{P.T=_}}else try{_=m(S,v),xD(u,d,_)}catch(K){FS(u,d,K)}}function xD(u,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){wD(u,d,v)},function(v){return FS(u,d,v)}):wD(u,d,m)}function wD(u,d,m){d.status="fulfilled",d.value=m,SD(d),u.state=m,d=u.pending,d!==null&&(m=d.next,m===d?u.pending=null:(m=m.next,d.next=m,bD(u,m)))}function FS(u,d,m){var v=u.pending;if(u.pending=null,v!==null){v=v.next;do d.status="rejected",d.reason=m,SD(d),d=d.next;while(d!==v)}u.action=null}function SD(u){u=u.listeners;for(var d=0;d<u.length;d++)(0,u[d])()}function CD(u,d){return d}function kD(u,d){if(Bt){var m=rn.formState;if(m!==null){e:{var v=vt;if(Bt){if(Er){t:{for(var S=Er,_=vs;S.nodeType!==8;){if(!_){S=null;break t}if(S=Hi(S.nextSibling),S===null){S=null;break t}}_=S.data,S=_==="F!"||_==="F"?S:null}if(S){Er=Hi(S.nextSibling),v=S.data==="F!";break e}}Kc(v)}v=!1}v&&(d=m[0])}}return m=go(),m.memoizedState=m.baseState=d,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CD,lastRenderedState:d},m.queue=v,m=zD.bind(null,vt,v),v.dispatch=m,v=zS(!1),_=KS.bind(null,vt,!1,v.queue),v=go(),S={state:d,dispatch:null,action:u,pending:null},v.queue=S,m=RZ.bind(null,vt,S,_,m),S.dispatch=m,v.memoizedState=u,[d,m,!1]}function _D(u){var d=Gn();return ED(d,Kt,u)}function ED(u,d,m){d=$S(u,d,CD)[0],u=pv(va)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?fp(d):d;var v=Gn(),S=v.queue,_=S.dispatch;return m!==v.memoizedState&&(vt.flags|=2048,zd(9,NZ.bind(null,S,m),{destroy:void 0},null)),[d,_,u]}function NZ(u,d){u.action=d}function TD(u){var d=Gn(),m=Kt;if(m!==null)return ED(d,m,u);Gn(),d=d.memoizedState,m=Gn();var v=m.queue.dispatch;return m.memoizedState=u,[d,v,!1]}function zd(u,d,m,v){return u={tag:u,create:d,inst:m,deps:v,next:null},d=vt.updateQueue,d===null&&(d=fv(),vt.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=u.next=u:(v=m.next,m.next=u,u.next=v,d.lastEffect=u),u}function MD(){return Gn().memoizedState}function mv(u,d,m,v){var S=go();vt.flags|=u,S.memoizedState=zd(1|d,m,{destroy:void 0},v===void 0?null:v)}function gv(u,d,m,v){var S=Gn();v=v===void 0?null:v;var _=S.memoizedState.inst;Kt!==null&&v!==null&&PS(v,Kt.memoizedState.deps)?S.memoizedState=zd(d,m,_,v):(vt.flags|=u,S.memoizedState=zd(1|d,m,_,v))}function AD(u,d){mv(8390656,8,u,d)}function US(u,d){gv(2048,8,u,d)}function RD(u,d){return gv(4,2,u,d)}function ND(u,d){return gv(4,4,u,d)}function OD(u,d){if(typeof d=="function"){u=u();var m=d(u);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function DD(u,d,m){m=m!=null?m.concat([u]):null,gv(4,4,OD.bind(null,d,u),m)}function GS(){}function PD(u,d){var m=Gn();d=d===void 0?null:d;var v=m.memoizedState;return d!==null&&PS(d,v[1])?v[0]:(m.memoizedState=[u,d],u)}function LD(u,d){var m=Gn();d=d===void 0?null:d;var v=m.memoizedState;if(d!==null&&PS(d,v[1]))return v[0];if(v=u(),Jc){Po(!0);try{u()}finally{Po(!1)}}return m.memoizedState=[v,d],v}function WS(u,d,m){return m===void 0||(Cl&1073741824)!==0?u.memoizedState=d:(u.memoizedState=m,u=IP(),vt.lanes|=u,Dl|=u,m)}function jD(u,d,m,v){return Lo(m,d)?m:Id.current!==null?(u=WS(u,m,v),Lo(u,d)||(pr=!0),u):(Cl&42)===0?(pr=!0,u.memoizedState=m):(u=IP(),vt.lanes|=u,Dl|=u,d)}function ID(u,d,m,v,S){var _=fe.p;fe.p=_!==0&&8>_?_:8;var M=P.T,D={};P.T=D,KS(u,!1,d,m);try{var H=S(),K=P.S;if(K!==null&&K(D,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ue=TZ(H,v);hp(u,d,ue,Bo(u))}else hp(u,d,v,Bo(u))}catch(me){hp(u,d,{then:function(){},status:"rejected",reason:me},Bo())}finally{fe.p=_,P.T=M}}function OZ(){}function qS(u,d,m,v){if(u.tag!==5)throw Error(r(476));var S=VD(u).queue;ID(u,S,d,Ee,m===null?OZ:function(){return BD(u),m(v)})}function VD(u){var d=u.memoizedState;if(d!==null)return d;d={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:Ee},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:m},next:null},u.memoizedState=d,u=u.alternate,u!==null&&(u.memoizedState=d),d}function BD(u){var d=VD(u).next.queue;hp(u,d,{},Bo())}function YS(){return Ir(Dp)}function $D(){return Gn().memoizedState}function HD(){return Gn().memoizedState}function DZ(u){for(var d=u.return;d!==null;){switch(d.tag){case 24:case 3:var m=Bo();u=Tl(m);var v=Ml(d,u,m);v!==null&&(eo(v,d,m),gp(v,d,m)),d={cache:NS()},u.payload=d;return}d=d.return}}function PZ(u,d,m){var v=Bo();m={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},yv(u)?FD(d,m):(m=kS(u,d,m,v),m!==null&&(eo(m,u,v),UD(m,d,v)))}function zD(u,d,m){var v=Bo();hp(u,d,m,v)}function hp(u,d,m,v){var S={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(yv(u))FD(d,S);else{var _=u.alternate;if(u.lanes===0&&(_===null||_.lanes===0)&&(_=d.lastRenderedReducer,_!==null))try{var M=d.lastRenderedState,D=_(M,m);if(S.hasEagerState=!0,S.eagerState=D,Lo(D,M))return ev(u,d,S,0),rn===null&&Qy(),!1}catch{}finally{}if(m=kS(u,d,S,v),m!==null)return eo(m,u,v),UD(m,d,v),!0}return!1}function KS(u,d,m,v){if(v={lane:2,revertLane:VC(),action:v,hasEagerState:!1,eagerState:null,next:null},yv(u)){if(d)throw Error(r(479))}else d=kS(u,m,v,2),d!==null&&eo(d,u,2)}function yv(u){var d=u.alternate;return u===vt||d!==null&&d===vt}function FD(u,d){$d=uv=!0;var m=u.pending;m===null?d.next=d:(d.next=m.next,m.next=d),u.pending=d}function UD(u,d,m){if((m&4194176)!==0){var v=d.lanes;v&=u.pendingLanes,m|=v,d.lanes=m,Uh(u,m)}}var xs={readContext:Ir,use:hv,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln};xs.useCacheRefresh=Ln,xs.useMemoCache=Ln,xs.useHostTransitionStatus=Ln,xs.useFormState=Ln,xs.useActionState=Ln,xs.useOptimistic=Ln;var Qc={readContext:Ir,use:hv,useCallback:function(u,d){return go().memoizedState=[u,d===void 0?null:d],u},useContext:Ir,useEffect:AD,useImperativeHandle:function(u,d,m){m=m!=null?m.concat([u]):null,mv(4194308,4,OD.bind(null,d,u),m)},useLayoutEffect:function(u,d){return mv(4194308,4,u,d)},useInsertionEffect:function(u,d){mv(4,2,u,d)},useMemo:function(u,d){var m=go();d=d===void 0?null:d;var v=u();if(Jc){Po(!0);try{u()}finally{Po(!1)}}return m.memoizedState=[v,d],v},useReducer:function(u,d,m){var v=go();if(m!==void 0){var S=m(d);if(Jc){Po(!0);try{m(d)}finally{Po(!1)}}}else S=d;return v.memoizedState=v.baseState=S,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:S},v.queue=u,u=u.dispatch=PZ.bind(null,vt,u),[v.memoizedState,u]},useRef:function(u){var d=go();return u={current:u},d.memoizedState=u},useState:function(u){u=zS(u);var d=u.queue,m=zD.bind(null,vt,d);return d.dispatch=m,[u.memoizedState,m]},useDebugValue:GS,useDeferredValue:function(u,d){var m=go();return WS(m,u,d)},useTransition:function(){var u=zS(!1);return u=ID.bind(null,vt,u.queue,!0,!1),go().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,d,m){var v=vt,S=go();if(Bt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),rn===null)throw Error(r(349));(Nt&60)!==0||hD(v,d,m)}S.memoizedState=m;var _={value:m,getSnapshot:d};return S.queue=_,AD(mD.bind(null,v,_,u),[u]),v.flags|=2048,zd(9,pD.bind(null,v,_,m,d),{destroy:void 0},null),m},useId:function(){var u=go(),d=rn.identifierPrefix;if(Bt){var m=ga,v=ma;m=(v&~(1<<32-kr(v)-1)).toString(32)+m,d=":"+d+"R"+m,m=dv++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=MZ++,d=":"+d+"r"+m.toString(32)+":";return u.memoizedState=d},useCacheRefresh:function(){return go().memoizedState=DZ.bind(null,vt)}};Qc.useMemoCache=BS,Qc.useHostTransitionStatus=YS,Qc.useFormState=kD,Qc.useActionState=kD,Qc.useOptimistic=function(u){var d=go();d.memoizedState=d.baseState=u;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=KS.bind(null,vt,!0,m),m.dispatch=d,[u,d]};var kl={readContext:Ir,use:hv,useCallback:PD,useContext:Ir,useEffect:US,useImperativeHandle:DD,useInsertionEffect:RD,useLayoutEffect:ND,useMemo:LD,useReducer:pv,useRef:MD,useState:function(){return pv(va)},useDebugValue:GS,useDeferredValue:function(u,d){var m=Gn();return jD(m,Kt.memoizedState,u,d)},useTransition:function(){var u=pv(va)[0],d=Gn().memoizedState;return[typeof u=="boolean"?u:fp(u),d]},useSyncExternalStore:fD,useId:$D};kl.useCacheRefresh=HD,kl.useMemoCache=BS,kl.useHostTransitionStatus=YS,kl.useFormState=_D,kl.useActionState=_D,kl.useOptimistic=function(u,d){var m=Gn();return vD(m,Kt,u,d)};var eu={readContext:Ir,use:hv,useCallback:PD,useContext:Ir,useEffect:US,useImperativeHandle:DD,useInsertionEffect:RD,useLayoutEffect:ND,useMemo:LD,useReducer:HS,useRef:MD,useState:function(){return HS(va)},useDebugValue:GS,useDeferredValue:function(u,d){var m=Gn();return Kt===null?WS(m,u,d):jD(m,Kt.memoizedState,u,d)},useTransition:function(){var u=HS(va)[0],d=Gn().memoizedState;return[typeof u=="boolean"?u:fp(u),d]},useSyncExternalStore:fD,useId:$D};eu.useCacheRefresh=HD,eu.useMemoCache=BS,eu.useHostTransitionStatus=YS,eu.useFormState=TD,eu.useActionState=TD,eu.useOptimistic=function(u,d){var m=Gn();return Kt!==null?vD(m,Kt,u,d):(m.baseState=u,[u,m.queue.dispatch])};function ZS(u,d,m,v){d=u.memoizedState,m=m(v,d),m=m==null?d:z({},d,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var XS={isMounted:function(u){return(u=u._reactInternals)?V(u)===u:!1},enqueueSetState:function(u,d,m){u=u._reactInternals;var v=Bo(),S=Tl(v);S.payload=d,m!=null&&(S.callback=m),d=Ml(u,S,v),d!==null&&(eo(d,u,v),gp(d,u,v))},enqueueReplaceState:function(u,d,m){u=u._reactInternals;var v=Bo(),S=Tl(v);S.tag=1,S.payload=d,m!=null&&(S.callback=m),d=Ml(u,S,v),d!==null&&(eo(d,u,v),gp(d,u,v))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var m=Bo(),v=Tl(m);v.tag=2,d!=null&&(v.callback=d),d=Ml(u,v,m),d!==null&&(eo(d,u,m),gp(d,u,m))}};function GD(u,d,m,v,S,_,M){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(v,_,M):d.prototype&&d.prototype.isPureReactComponent?!ep(m,v)||!ep(S,_):!0}function WD(u,d,m,v){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==u&&XS.enqueueReplaceState(d,d.state,null)}function tu(u,d){var m=d;if("ref"in d){m={};for(var v in d)v!=="ref"&&(m[v]=d[v])}if(u=u.defaultProps){m===d&&(m=z({},m));for(var S in u)m[S]===void 0&&(m[S]=u[S])}return m}var vv=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function qD(u){vv(u)}function YD(u){console.error(u)}function KD(u){vv(u)}function bv(u,d){try{var m=u.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(v){setTimeout(function(){throw v})}}function ZD(u,d,m){try{var v=u.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function JS(u,d,m){return m=Tl(m),m.tag=3,m.payload={element:null},m.callback=function(){bv(u,d)},m}function XD(u){return u=Tl(u),u.tag=3,u}function JD(u,d,m,v){var S=m.type.getDerivedStateFromError;if(typeof S=="function"){var _=v.value;u.payload=function(){return S(_)},u.callback=function(){ZD(d,m,v)}}var M=m.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(u.callback=function(){ZD(d,m,v),typeof S!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var D=v.stack;this.componentDidCatch(v.value,{componentStack:D!==null?D:""})})}function LZ(u,d,m,v,S){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(d=m.alternate,d!==null&&mp(d,m,S,!0),m=ui.current,m!==null){switch(m.tag){case 13:return bs===null?DC():m.alternate===null&&An===0&&(An=3),m.flags&=-257,m.flags|=65536,m.lanes=S,v===MS?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([v]):d.add(v),LC(u,v,S)),!1;case 22:return m.flags|=65536,v===MS?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([v]):m.add(v)),LC(u,v,S)),!1}throw Error(r(435,m.tag))}return LC(u,v,S),DC(),!1}if(Bt)return d=ui.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,v!==TS&&(u=Error(r(422),{cause:v}),op(ai(u,m)))):(v!==TS&&(d=Error(r(423),{cause:v}),op(ai(d,m))),u=u.current.alternate,u.flags|=65536,S&=-S,u.lanes|=S,v=ai(v,m),S=JS(u.stateNode,v,S),hC(u,S),An!==4&&(An=2)),!1;var _=Error(r(520),{cause:v});if(_=ai(_,m),kp===null?kp=[_]:kp.push(_),An!==4&&(An=2),d===null)return!0;v=ai(v,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,u=S&-S,m.lanes|=u,u=JS(m.stateNode,v,u),hC(m,u),!1;case 1:if(d=m.type,_=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Pl===null||!Pl.has(_))))return m.flags|=65536,S&=-S,m.lanes|=S,S=XD(S),JD(S,u,m,v),hC(m,S),!1}m=m.return}while(m!==null);return!1}var QD=Error(r(461)),pr=!1;function Tr(u,d,m,v){d.child=u===null?oD(d,null,m,v):Zc(d,u.child,m,v)}function eP(u,d,m,v,S){m=m.render;var _=d.ref;if("ref"in v){var M={};for(var D in v)D!=="ref"&&(M[D]=v[D])}else M=v;return ru(d),v=LS(u,d,m,M,_,S),D=jS(),u!==null&&!pr?(IS(u,d,S),ba(u,d,S)):(Bt&&D&&_S(d),d.flags|=1,Tr(u,d,v,S),d.child)}function tP(u,d,m,v,S){if(u===null){var _=m.type;return typeof _=="function"&&!wC(_)&&_.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=_,nP(u,d,_,v,S)):(u=kv(m.type,null,v,d,d.mode,S),u.ref=d.ref,u.return=d,d.child=u)}if(_=u.child,!aC(u,S)){var M=_.memoizedProps;if(m=m.compare,m=m!==null?m:ep,m(M,v)&&u.ref===d.ref)return ba(u,d,S)}return d.flags|=1,u=Ol(_,v),u.ref=d.ref,u.return=d,d.child=u}function nP(u,d,m,v,S){if(u!==null){var _=u.memoizedProps;if(ep(_,v)&&u.ref===d.ref)if(pr=!1,d.pendingProps=v=_,aC(u,S))(u.flags&131072)!==0&&(pr=!0);else return d.lanes=u.lanes,ba(u,d,S)}return QS(u,d,m,v,S)}function rP(u,d,m){var v=d.pendingProps,S=v.children,_=(d.stateNode._pendingVisibility&2)!==0,M=u!==null?u.memoizedState:null;if(pp(u,d),v.mode==="hidden"||_){if((d.flags&128)!==0){if(v=M!==null?M.baseLanes|m:m,u!==null){for(S=d.child=u.child,_=0;S!==null;)_=_|S.lanes|S.childLanes,S=S.sibling;d.childLanes=_&~v}else d.childLanes=0,d.child=null;return oP(u,d,v,m)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},u!==null&&cv(d,M!==null?M.cachePool:null),M!==null?iD(d,M):AS(),sD(d);else return d.lanes=d.childLanes=536870912,oP(u,d,M!==null?M.baseLanes|m:m,m)}else M!==null?(cv(d,M.cachePool),iD(d,M),Sl(),d.memoizedState=null):(u!==null&&cv(d,null),AS(),Sl());return Tr(u,d,S,m),d.child}function oP(u,d,m,v){var S=DS();return S=S===null?null:{parent:rr._currentValue,pool:S},d.memoizedState={baseLanes:m,cachePool:S},u!==null&&cv(d,null),AS(),sD(d),u!==null&&mp(u,d,v,!0),null}function pp(u,d){var m=d.ref;if(m===null)u!==null&&u.ref!==null&&(d.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(u===null||u.ref!==m)&&(d.flags|=2097664)}}function QS(u,d,m,v,S){return ru(d),m=LS(u,d,m,v,void 0,S),v=jS(),u!==null&&!pr?(IS(u,d,S),ba(u,d,S)):(Bt&&v&&_S(d),d.flags|=1,Tr(u,d,m,S),d.child)}function iP(u,d,m,v,S,_){return ru(d),d.updateQueue=null,m=dD(d,v,m,S),uD(u),v=jS(),u!==null&&!pr?(IS(u,d,_),ba(u,d,_)):(Bt&&v&&_S(d),d.flags|=1,Tr(u,d,m,_),d.child)}function sP(u,d,m,v,S){if(ru(d),d.stateNode===null){var _=Dd,M=m.contextType;typeof M=="object"&&M!==null&&(_=Ir(M)),_=new m(v,_),d.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=XS,d.stateNode=_,_._reactInternals=d,_=d.stateNode,_.props=v,_.state=d.memoizedState,_.refs={},dC(d),M=m.contextType,_.context=typeof M=="object"&&M!==null?Ir(M):Dd,_.state=d.memoizedState,M=m.getDerivedStateFromProps,typeof M=="function"&&(ZS(d,m,M,v),_.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(M=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),M!==_.state&&XS.enqueueReplaceState(_,_.state,null),vp(d,v,_,S),yp(),_.state=d.memoizedState),typeof _.componentDidMount=="function"&&(d.flags|=4194308),v=!0}else if(u===null){_=d.stateNode;var D=d.memoizedProps,H=tu(m,D);_.props=H;var K=_.context,ue=m.contextType;M=Dd,typeof ue=="object"&&ue!==null&&(M=Ir(ue));var me=m.getDerivedStateFromProps;ue=typeof me=="function"||typeof _.getSnapshotBeforeUpdate=="function",D=d.pendingProps!==D,ue||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D||K!==M)&&WD(d,_,v,M),El=!1;var ie=d.memoizedState;_.state=ie,vp(d,v,_,S),yp(),K=d.memoizedState,D||ie!==K||El?(typeof me=="function"&&(ZS(d,m,me,v),K=d.memoizedState),(H=El||GD(d,m,H,v,ie,K,M))?(ue||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(d.flags|=4194308)):(typeof _.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=K),_.props=v,_.state=K,_.context=M,v=H):(typeof _.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{_=d.stateNode,fC(u,d),M=d.memoizedProps,ue=tu(m,M),_.props=ue,me=d.pendingProps,ie=_.context,K=m.contextType,H=Dd,typeof K=="object"&&K!==null&&(H=Ir(K)),D=m.getDerivedStateFromProps,(K=typeof D=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M!==me||ie!==H)&&WD(d,_,v,H),El=!1,ie=d.memoizedState,_.state=ie,vp(d,v,_,S),yp();var le=d.memoizedState;M!==me||ie!==le||El||u!==null&&u.dependencies!==null&&xv(u.dependencies)?(typeof D=="function"&&(ZS(d,m,D,v),le=d.memoizedState),(ue=El||GD(d,m,ue,v,ie,le,H)||u!==null&&u.dependencies!==null&&xv(u.dependencies))?(K||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(v,le,H),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(v,le,H)),typeof _.componentDidUpdate=="function"&&(d.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof _.componentDidUpdate!="function"||M===u.memoizedProps&&ie===u.memoizedState||(d.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===u.memoizedProps&&ie===u.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=le),_.props=v,_.state=le,_.context=H,v=ue):(typeof _.componentDidUpdate!="function"||M===u.memoizedProps&&ie===u.memoizedState||(d.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||M===u.memoizedProps&&ie===u.memoizedState||(d.flags|=1024),v=!1)}return _=v,pp(u,d),v=(d.flags&128)!==0,_||v?(_=d.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:_.render(),d.flags|=1,u!==null&&v?(d.child=Zc(d,u.child,null,S),d.child=Zc(d,null,m,S)):Tr(u,d,m,S),d.memoizedState=_.state,u=d.child):u=ba(u,d,S),u}function aP(u,d,m,v){return rp(),d.flags|=256,Tr(u,d,m,v),d.child}var eC={dehydrated:null,treeContext:null,retryLane:0};function tC(u){return{baseLanes:u,cachePool:cD()}}function nC(u,d,m){return u=u!==null?u.childLanes&~m:0,d&&(u|=pi),u}function lP(u,d,m){var v=d.pendingProps,S=!1,_=(d.flags&128)!==0,M;if((M=_)||(M=u!==null&&u.memoizedState===null?!1:(nr.current&2)!==0),M&&(S=!0,d.flags&=-129),M=(d.flags&32)!==0,d.flags&=-33,u===null){if(Bt){if(S?wl(d):Sl(),Bt){var D=Er,H;if(H=D){e:{for(H=D,D=vs;H.nodeType!==8;){if(!D){D=null;break e}if(H=Hi(H.nextSibling),H===null){D=null;break e}}D=H}D!==null?(d.memoizedState={dehydrated:D,treeContext:qc!==null?{id:ma,overflow:ga}:null,retryLane:536870912},H=hi(18,null,null,0),H.stateNode=D,H.return=d,d.child=H,Qr=d,Er=null,H=!0):H=!1}H||Kc(d)}if(D=d.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return D.data==="$!"?d.lanes=16:d.lanes=536870912,null;ya(d)}return D=v.children,v=v.fallback,S?(Sl(),S=d.mode,D=oC({mode:"hidden",children:D},S),v=iu(v,S,m,null),D.return=d,v.return=d,D.sibling=v,d.child=D,S=d.child,S.memoizedState=tC(m),S.childLanes=nC(u,M,m),d.memoizedState=eC,v):(wl(d),rC(d,D))}if(H=u.memoizedState,H!==null&&(D=H.dehydrated,D!==null)){if(_)d.flags&256?(wl(d),d.flags&=-257,d=iC(u,d,m)):d.memoizedState!==null?(Sl(),d.child=u.child,d.flags|=128,d=null):(Sl(),S=v.fallback,D=d.mode,v=oC({mode:"visible",children:v.children},D),S=iu(S,D,m,null),S.flags|=2,v.return=d,S.return=d,v.sibling=S,d.child=v,Zc(d,u.child,null,m),v=d.child,v.memoizedState=tC(m),v.childLanes=nC(u,M,m),d.memoizedState=eC,d=S);else if(wl(d),D.data==="$!"){if(M=D.nextSibling&&D.nextSibling.dataset,M)var K=M.dgst;M=K,v=Error(r(419)),v.stack="",v.digest=M,op({value:v,source:null,stack:null}),d=iC(u,d,m)}else if(pr||mp(u,d,m,!1),M=(m&u.childLanes)!==0,pr||M){if(M=rn,M!==null){if(v=m&-m,(v&42)!==0)v=1;else switch(v){case 2:v=1;break;case 8:v=4;break;case 32:v=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:v=64;break;case 268435456:v=134217728;break;default:v=0}if(v=(v&(M.suspendedLanes|m))!==0?0:v,v!==0&&v!==H.retryLane)throw H.retryLane=v,xl(u,v),eo(M,u,v),QD}D.data==="$?"||DC(),d=iC(u,d,m)}else D.data==="$?"?(d.flags|=128,d.child=u.child,d=ZZ.bind(null,u),D._reactRetry=d,d=null):(u=H.treeContext,Er=Hi(D.nextSibling),Qr=d,Bt=!0,Bi=null,vs=!1,u!==null&&(li[ci++]=ma,li[ci++]=ga,li[ci++]=qc,ma=u.id,ga=u.overflow,qc=d),d=rC(d,v.children),d.flags|=4096);return d}return S?(Sl(),S=v.fallback,D=d.mode,H=u.child,K=H.sibling,v=Ol(H,{mode:"hidden",children:v.children}),v.subtreeFlags=H.subtreeFlags&31457280,K!==null?S=Ol(K,S):(S=iu(S,D,m,null),S.flags|=2),S.return=d,v.return=d,v.sibling=S,d.child=v,v=S,S=d.child,D=u.child.memoizedState,D===null?D=tC(m):(H=D.cachePool,H!==null?(K=rr._currentValue,H=H.parent!==K?{parent:K,pool:K}:H):H=cD(),D={baseLanes:D.baseLanes|m,cachePool:H}),S.memoizedState=D,S.childLanes=nC(u,M,m),d.memoizedState=eC,v):(wl(d),m=u.child,u=m.sibling,m=Ol(m,{mode:"visible",children:v.children}),m.return=d,m.sibling=null,u!==null&&(M=d.deletions,M===null?(d.deletions=[u],d.flags|=16):M.push(u)),d.child=m,d.memoizedState=null,m)}function rC(u,d){return d=oC({mode:"visible",children:d},u.mode),d.return=u,u.child=d}function oC(u,d){return PP(u,d,0,null)}function iC(u,d,m){return Zc(d,u.child,null,m),u=rC(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function cP(u,d,m){u.lanes|=d;var v=u.alternate;v!==null&&(v.lanes|=d),cC(u.return,d,m)}function sC(u,d,m,v,S){var _=u.memoizedState;_===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:S}:(_.isBackwards=d,_.rendering=null,_.renderingStartTime=0,_.last=v,_.tail=m,_.tailMode=S)}function uP(u,d,m){var v=d.pendingProps,S=v.revealOrder,_=v.tail;if(Tr(u,d,v.children,m),v=nr.current,(v&2)!==0)v=v&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&cP(u,m,d);else if(u.tag===19)cP(u,m,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}v&=1}switch(Ue(nr,v),S){case"forwards":for(m=d.child,S=null;m!==null;)u=m.alternate,u!==null&&lv(u)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),sC(d,!1,S,m,_);break;case"backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(u=S.alternate,u!==null&&lv(u)===null){d.child=S;break}u=S.sibling,S.sibling=m,m=S,S=u}sC(d,!0,m,null,_);break;case"together":sC(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ba(u,d,m){if(u!==null&&(d.dependencies=u.dependencies),Dl|=d.lanes,(m&d.childLanes)===0)if(u!==null){if(mp(u,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(u!==null&&d.child!==u.child)throw Error(r(153));if(d.child!==null){for(u=d.child,m=Ol(u,u.pendingProps),d.child=m,m.return=d;u.sibling!==null;)u=u.sibling,m=m.sibling=Ol(u,u.pendingProps),m.return=d;m.sibling=null}return d.child}function aC(u,d){return(u.lanes&d)!==0?!0:(u=u.dependencies,!!(u!==null&&xv(u)))}function jZ(u,d,m){switch(d.tag){case 3:dr(d,d.stateNode.containerInfo),_l(d,rr,u.memoizedState.cache),rp();break;case 27:case 5:Fn(d);break;case 4:dr(d,d.stateNode.containerInfo);break;case 10:_l(d,d.type,d.memoizedProps.value);break;case 13:var v=d.memoizedState;if(v!==null)return v.dehydrated!==null?(wl(d),d.flags|=128,null):(m&d.child.childLanes)!==0?lP(u,d,m):(wl(d),u=ba(u,d,m),u!==null?u.sibling:null);wl(d);break;case 19:var S=(u.flags&128)!==0;if(v=(m&d.childLanes)!==0,v||(mp(u,d,m,!1),v=(m&d.childLanes)!==0),S){if(v)return uP(u,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Ue(nr,nr.current),v)break;return null;case 22:case 23:return d.lanes=0,rP(u,d,m);case 24:_l(d,rr,u.memoizedState.cache)}return ba(u,d,m)}function dP(u,d,m){if(u!==null)if(u.memoizedProps!==d.pendingProps)pr=!0;else{if(!aC(u,m)&&(d.flags&128)===0)return pr=!1,jZ(u,d,m);pr=(u.flags&131072)!==0}else pr=!1,Bt&&(d.flags&1048576)!==0&&KO(d,rv,d.index);switch(d.lanes=0,d.tag){case 16:e:{u=d.pendingProps;var v=d.elementType,S=v._init;if(v=S(v._payload),d.type=v,typeof v=="function")wC(v)?(u=tu(v,u),d.tag=1,d=sP(null,d,v,u,m)):(d.tag=0,d=QS(null,d,v,u,m));else{if(v!=null){if(S=v.$$typeof,S===b){d.tag=11,d=eP(null,d,v,u,m);break e}else if(S===k){d.tag=14,d=tP(null,d,v,u,m);break e}}throw d=j(v)||v,Error(r(306,d,""))}}return d;case 0:return QS(u,d,d.type,d.pendingProps,m);case 1:return v=d.type,S=tu(v,d.pendingProps),sP(u,d,v,S,m);case 3:e:{if(dr(d,d.stateNode.containerInfo),u===null)throw Error(r(387));var _=d.pendingProps;S=d.memoizedState,v=S.element,fC(u,d),vp(d,_,null,m);var M=d.memoizedState;if(_=M.cache,_l(d,rr,_),_!==S.cache&&uC(d,[rr],m,!0),yp(),_=M.element,S.isDehydrated)if(S={element:_,isDehydrated:!1,cache:M.cache},d.updateQueue.baseState=S,d.memoizedState=S,d.flags&256){d=aP(u,d,_,m);break e}else if(_!==v){v=ai(Error(r(424)),d),op(v),d=aP(u,d,_,m);break e}else for(Er=Hi(d.stateNode.containerInfo.firstChild),Qr=d,Bt=!0,Bi=null,vs=!0,m=oD(d,null,_,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(rp(),_===v){d=ba(u,d,m);break e}Tr(u,d,_,m)}d=d.child}return d;case 26:return pp(u,d),u===null?(m=pL(d.type,null,d.pendingProps,null))?d.memoizedState=m:Bt||(m=d.type,u=d.pendingProps,v=jv(zt.current).createElement(m),v[jr]=d,v[po]=u,Mr(v,m,u),hr(v),d.stateNode=v):d.memoizedState=pL(d.type,u.memoizedProps,d.pendingProps,u.memoizedState),null;case 27:return Fn(d),u===null&&Bt&&(v=d.stateNode=dL(d.type,d.pendingProps,zt.current),Qr=d,vs=!0,Er=Hi(v.firstChild)),v=d.pendingProps.children,u!==null||Bt?Tr(u,d,v,m):d.child=Zc(d,null,v,m),pp(u,d),d.child;case 5:return u===null&&Bt&&((S=v=Er)&&(v=fX(v,d.type,d.pendingProps,vs),v!==null?(d.stateNode=v,Qr=d,Er=Hi(v.firstChild),vs=!1,S=!0):S=!1),S||Kc(d)),Fn(d),S=d.type,_=d.pendingProps,M=u!==null?u.memoizedProps:null,v=_.children,qC(S,_)?v=null:M!==null&&qC(S,M)&&(d.flags|=32),d.memoizedState!==null&&(S=LS(u,d,AZ,null,null,m),Dp._currentValue=S),pp(u,d),Tr(u,d,v,m),d.child;case 6:return u===null&&Bt&&((u=m=Er)&&(m=hX(m,d.pendingProps,vs),m!==null?(d.stateNode=m,Qr=d,Er=null,u=!0):u=!1),u||Kc(d)),null;case 13:return lP(u,d,m);case 4:return dr(d,d.stateNode.containerInfo),v=d.pendingProps,u===null?d.child=Zc(d,null,v,m):Tr(u,d,v,m),d.child;case 11:return eP(u,d,d.type,d.pendingProps,m);case 7:return Tr(u,d,d.pendingProps,m),d.child;case 8:return Tr(u,d,d.pendingProps.children,m),d.child;case 12:return Tr(u,d,d.pendingProps.children,m),d.child;case 10:return v=d.pendingProps,_l(d,d.type,v.value),Tr(u,d,v.children,m),d.child;case 9:return S=d.type._context,v=d.pendingProps.children,ru(d),S=Ir(S),v=v(S),d.flags|=1,Tr(u,d,v,m),d.child;case 14:return tP(u,d,d.type,d.pendingProps,m);case 15:return nP(u,d,d.type,d.pendingProps,m);case 19:return uP(u,d,m);case 22:return rP(u,d,m);case 24:return ru(d),v=Ir(rr),u===null?(S=DS(),S===null&&(S=rn,_=NS(),S.pooledCache=_,_.refCount++,_!==null&&(S.pooledCacheLanes|=m),S=_),d.memoizedState={parent:v,cache:S},dC(d),_l(d,rr,S)):((u.lanes&m)!==0&&(fC(u,d),vp(d,null,null,m),yp()),S=u.memoizedState,_=d.memoizedState,S.parent!==v?(S={parent:v,cache:v},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),_l(d,rr,v)):(v=_.cache,_l(d,rr,v),v!==S.cache&&uC(d,[rr],m,!0))),Tr(u,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}var lC=Oe(null),nu=null,xa=null;function _l(u,d,m){Ue(lC,d._currentValue),d._currentValue=m}function wa(u){u._currentValue=lC.current,Ie(lC)}function cC(u,d,m){for(;u!==null;){var v=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),u===m)break;u=u.return}}function uC(u,d,m,v){var S=u.child;for(S!==null&&(S.return=u);S!==null;){var _=S.dependencies;if(_!==null){var M=S.child;_=_.firstContext;e:for(;_!==null;){var D=_;_=S;for(var H=0;H<d.length;H++)if(D.context===d[H]){_.lanes|=m,D=_.alternate,D!==null&&(D.lanes|=m),cC(_.return,m,u),v||(M=null);break e}_=D.next}}else if(S.tag===18){if(M=S.return,M===null)throw Error(r(341));M.lanes|=m,_=M.alternate,_!==null&&(_.lanes|=m),cC(M,m,u),M=null}else M=S.child;if(M!==null)M.return=S;else for(M=S;M!==null;){if(M===u){M=null;break}if(S=M.sibling,S!==null){S.return=M.return,M=S;break}M=M.return}S=M}}function mp(u,d,m,v){u=null;for(var S=d,_=!1;S!==null;){if(!_){if((S.flags&524288)!==0)_=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var M=S.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var D=S.type;Lo(S.pendingProps.value,M.value)||(u!==null?u.push(D):u=[D])}}else if(S===Ve.current){if(M=S.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(u!==null?u.push(Dp):u=[Dp])}S=S.return}u!==null&&uC(d,u,m,v),d.flags|=262144}function xv(u){for(u=u.firstContext;u!==null;){if(!Lo(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function ru(u){nu=u,xa=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Ir(u){return fP(nu,u)}function wv(u,d){return nu===null&&ru(u),fP(u,d)}function fP(u,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},xa===null){if(u===null)throw Error(r(308));xa=d,u.dependencies={lanes:0,firstContext:d},u.flags|=524288}else xa=xa.next=d;return m}var El=!1;function dC(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fC(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Tl(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Ml(u,d,m){var v=u.updateQueue;if(v===null)return null;if(v=v.shared,(Cn&2)!==0){var S=v.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),v.pending=d,d=tv(u),qO(u,null,m),d}return ev(u,v,d,m),tv(u)}function gp(u,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194176)!==0)){var v=d.lanes;v&=u.pendingLanes,m|=v,d.lanes=m,Uh(u,m)}}function hC(u,d){var m=u.updateQueue,v=u.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var S=null,_=null;if(m=m.firstBaseUpdate,m!==null){do{var M={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};_===null?S=_=M:_=_.next=M,m=m.next}while(m!==null);_===null?S=_=d:_=_.next=d}else S=_=d;m={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:_,shared:v.shared,callbacks:v.callbacks},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=d:u.next=d,m.lastBaseUpdate=d}var pC=!1;function yp(){if(pC){var u=Bd;if(u!==null)throw u}}function vp(u,d,m,v){pC=!1;var S=u.updateQueue;El=!1;var _=S.firstBaseUpdate,M=S.lastBaseUpdate,D=S.shared.pending;if(D!==null){S.shared.pending=null;var H=D,K=H.next;H.next=null,M===null?_=K:M.next=K,M=H;var ue=u.alternate;ue!==null&&(ue=ue.updateQueue,D=ue.lastBaseUpdate,D!==M&&(D===null?ue.firstBaseUpdate=K:D.next=K,ue.lastBaseUpdate=H))}if(_!==null){var me=S.baseState;M=0,ue=K=H=null,D=_;do{var ie=D.lane&-536870913,le=ie!==D.lane;if(le?(Nt&ie)===ie:(v&ie)===ie){ie!==0&&ie===Vd&&(pC=!0),ue!==null&&(ue=ue.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Fe=u,at=D;ie=d;var Rn=m;switch(at.tag){case 1:if(Fe=at.payload,typeof Fe=="function"){me=Fe.call(Rn,me,ie);break e}me=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=at.payload,ie=typeof Fe=="function"?Fe.call(Rn,me,ie):Fe,ie==null)break e;me=z({},me,ie);break e;case 2:El=!0}}ie=D.callback,ie!==null&&(u.flags|=64,le&&(u.flags|=8192),le=S.callbacks,le===null?S.callbacks=[ie]:le.push(ie))}else le={lane:ie,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ue===null?(K=ue=le,H=me):ue=ue.next=le,M|=ie;if(D=D.next,D===null){if(D=S.shared.pending,D===null)break;le=D,D=le.next,le.next=null,S.lastBaseUpdate=le,S.shared.pending=null}}while(!0);ue===null&&(H=me),S.baseState=H,S.firstBaseUpdate=K,S.lastBaseUpdate=ue,_===null&&(S.shared.lanes=0),Dl|=M,u.lanes=M,u.memoizedState=me}}function hP(u,d){if(typeof u!="function")throw Error(r(191,u));u.call(d)}function pP(u,d){var m=u.callbacks;if(m!==null)for(u.callbacks=null,u=0;u<m.length;u++)hP(m[u],d)}function bp(u,d){try{var m=d.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var S=v.next;m=S;do{if((m.tag&u)===u){v=void 0;var _=m.create,M=m.inst;v=_(),M.destroy=v}m=m.next}while(m!==S)}}catch(D){Qt(d,d.return,D)}}function Al(u,d,m){try{var v=d.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var _=S.next;v=_;do{if((v.tag&u)===u){var M=v.inst,D=M.destroy;if(D!==void 0){M.destroy=void 0,S=d;var H=m;try{D()}catch(K){Qt(S,H,K)}}}v=v.next}while(v!==_)}}catch(K){Qt(d,d.return,K)}}function mP(u){var d=u.updateQueue;if(d!==null){var m=u.stateNode;try{pP(d,m)}catch(v){Qt(u,u.return,v)}}}function gP(u,d,m){m.props=tu(u.type,u.memoizedProps),m.state=u.memoizedState;try{m.componentWillUnmount()}catch(v){Qt(u,d,v)}}function ou(u,d){try{var m=u.ref;if(m!==null){var v=u.stateNode;switch(u.tag){case 26:case 27:case 5:var S=v;break;default:S=v}typeof m=="function"?u.refCleanup=m(S):m.current=S}}catch(_){Qt(u,d,_)}}function jo(u,d){var m=u.ref,v=u.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(S){Qt(u,d,S)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(S){Qt(u,d,S)}else m.current=null}function yP(u){var d=u.type,m=u.memoizedProps,v=u.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(S){Qt(u,u.return,S)}}function vP(u,d,m){try{var v=u.stateNode;aX(v,u.type,m,d),v[po]=d}catch(S){Qt(u,u.return,S)}}function bP(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function mC(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||bP(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function gC(u,d,m){var v=u.tag;if(v===5||v===6)u=u.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(u,d):m.insertBefore(u,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(u,m)):(d=m,d.appendChild(u)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Lv));else if(v!==4&&v!==27&&(u=u.child,u!==null))for(gC(u,d,m),u=u.sibling;u!==null;)gC(u,d,m),u=u.sibling}function Sv(u,d,m){var v=u.tag;if(v===5||v===6)u=u.stateNode,d?m.insertBefore(u,d):m.appendChild(u);else if(v!==4&&v!==27&&(u=u.child,u!==null))for(Sv(u,d,m),u=u.sibling;u!==null;)Sv(u,d,m),u=u.sibling}var Sa=!1,Mn=!1,yC=!1,xP=typeof WeakSet=="function"?WeakSet:Set,mr=null,wP=!1;function IZ(u,d){if(u=u.containerInfo,GC=zv,u=VO(u),bS(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var S=v.anchorOffset,_=v.focusNode;v=v.focusOffset;try{m.nodeType,_.nodeType}catch{m=null;break e}var M=0,D=-1,H=-1,K=0,ue=0,me=u,ie=null;t:for(;;){for(var le;me!==m||S!==0&&me.nodeType!==3||(D=M+S),me!==_||v!==0&&me.nodeType!==3||(H=M+v),me.nodeType===3&&(M+=me.nodeValue.length),(le=me.firstChild)!==null;)ie=me,me=le;for(;;){if(me===u)break t;if(ie===m&&++K===S&&(D=M),ie===_&&++ue===v&&(H=M),(le=me.nextSibling)!==null)break;me=ie,ie=me.parentNode}me=le}m=D===-1||H===-1?null:{start:D,end:H}}else m=null}m=m||{start:0,end:0}}else m=null;for(WC={focusedElem:u,selectionRange:m},zv=!1,mr=d;mr!==null;)if(d=mr,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,mr=u;else for(;mr!==null;){switch(d=mr,_=d.alternate,u=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&_!==null){u=void 0,m=d,S=_.memoizedProps,_=_.memoizedState,v=m.stateNode;try{var Fe=tu(m.type,S,m.elementType===m.type);u=v.getSnapshotBeforeUpdate(Fe,_),v.__reactInternalSnapshotBeforeUpdate=u}catch(at){Qt(m,m.return,at)}}break;case 3:if((u&1024)!==0){if(u=d.stateNode.containerInfo,m=u.nodeType,m===9)ZC(u);else if(m===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":ZC(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=d.sibling,u!==null){u.return=d.return,mr=u;break}mr=d.return}return Fe=wP,wP=!1,Fe}function SP(u,d,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:ka(u,m),v&4&&bp(5,m);break;case 1:if(ka(u,m),v&4)if(u=m.stateNode,d===null)try{u.componentDidMount()}catch(D){Qt(m,m.return,D)}else{var S=tu(m.type,d.memoizedProps);d=d.memoizedState;try{u.componentDidUpdate(S,d,u.__reactInternalSnapshotBeforeUpdate)}catch(D){Qt(m,m.return,D)}}v&64&&mP(m),v&512&&ou(m,m.return);break;case 3:if(ka(u,m),v&64&&(v=m.updateQueue,v!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{pP(v,u)}catch(D){Qt(m,m.return,D)}}break;case 26:ka(u,m),v&512&&ou(m,m.return);break;case 27:case 5:ka(u,m),d===null&&v&4&&yP(m),v&512&&ou(m,m.return);break;case 12:ka(u,m);break;case 13:ka(u,m),v&4&&_P(u,m);break;case 22:if(S=m.memoizedState!==null||Sa,!S){d=d!==null&&d.memoizedState!==null||Mn;var _=Sa,M=Mn;Sa=S,(Mn=d)&&!M?Rl(u,m,(m.subtreeFlags&8772)!==0):ka(u,m),Sa=_,Mn=M}v&512&&(m.memoizedProps.mode==="manual"?ou(m,m.return):jo(m,m.return));break;default:ka(u,m)}}function CP(u){var d=u.alternate;d!==null&&(u.alternate=null,CP(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&rS(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Wn=null,Io=!1;function Ca(u,d,m){for(m=m.child;m!==null;)kP(u,d,m),m=m.sibling}function kP(u,d,m){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Do,m)}catch{}switch(m.tag){case 26:Mn||jo(m,d),Ca(u,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Mn||jo(m,d);var v=Wn,S=Io;for(Wn=m.stateNode,Ca(u,d,m),m=m.stateNode,d=m.attributes;d.length;)m.removeAttributeNode(d[0]);rS(m),Wn=v,Io=S;break;case 5:Mn||jo(m,d);case 6:S=Wn;var _=Io;if(Wn=null,Ca(u,d,m),Wn=S,Io=_,Wn!==null)if(Io)try{u=Wn,v=m.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)}catch(M){Qt(m,d,M)}else try{Wn.removeChild(m.stateNode)}catch(M){Qt(m,d,M)}break;case 18:Wn!==null&&(Io?(d=Wn,m=m.stateNode,d.nodeType===8?KC(d.parentNode,m):d.nodeType===1&&KC(d,m),Ip(d)):KC(Wn,m.stateNode));break;case 4:v=Wn,S=Io,Wn=m.stateNode.containerInfo,Io=!0,Ca(u,d,m),Wn=v,Io=S;break;case 0:case 11:case 14:case 15:Mn||Al(2,m,d),Mn||Al(4,m,d),Ca(u,d,m);break;case 1:Mn||(jo(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"&&gP(m,d,v)),Ca(u,d,m);break;case 21:Ca(u,d,m);break;case 22:Mn||jo(m,d),Mn=(v=Mn)||m.memoizedState!==null,Ca(u,d,m),Mn=v;break;default:Ca(u,d,m)}}function _P(u,d){if(d.memoizedState===null&&(u=d.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Ip(u)}catch(m){Qt(d,d.return,m)}}function VZ(u){switch(u.tag){case 13:case 19:var d=u.stateNode;return d===null&&(d=u.stateNode=new xP),d;case 22:return u=u.stateNode,d=u._retryCache,d===null&&(d=u._retryCache=new xP),d;default:throw Error(r(435,u.tag))}}function vC(u,d){var m=VZ(u);d.forEach(function(v){var S=XZ.bind(null,u,v);m.has(v)||(m.add(v),v.then(S,S))})}function di(u,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var S=m[v],_=u,M=d,D=M;e:for(;D!==null;){switch(D.tag){case 27:case 5:Wn=D.stateNode,Io=!1;break e;case 3:Wn=D.stateNode.containerInfo,Io=!0;break e;case 4:Wn=D.stateNode.containerInfo,Io=!0;break e}D=D.return}if(Wn===null)throw Error(r(160));kP(_,M,S),Wn=null,Io=!1,_=S.alternate,_!==null&&(_.return=null),S.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)EP(d,u),d=d.sibling}var $i=null;function EP(u,d){var m=u.alternate,v=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:di(d,u),fi(u),v&4&&(Al(3,u,u.return),bp(3,u),Al(5,u,u.return));break;case 1:di(d,u),fi(u),v&512&&(Mn||m===null||jo(m,m.return)),v&64&&Sa&&(u=u.updateQueue,u!==null&&(v=u.callbacks,v!==null&&(m=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var S=$i;if(di(d,u),fi(u),v&512&&(Mn||m===null||jo(m,m.return)),v&4){var _=m!==null?m.memoizedState:null;if(v=u.memoizedState,m===null)if(v===null)if(u.stateNode===null){e:{v=u.type,m=u.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":_=S.getElementsByTagName("title")[0],(!_||_[Gh]||_[jr]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=S.createElement(v),S.head.insertBefore(_,S.querySelector("head > title"))),Mr(_,v,m),_[jr]=u,hr(_),v=_;break e;case"link":var M=yL("link","href",S).get(v+(m.href||""));if(M){for(var D=0;D<M.length;D++)if(_=M[D],_.getAttribute("href")===(m.href==null?null:m.href)&&_.getAttribute("rel")===(m.rel==null?null:m.rel)&&_.getAttribute("title")===(m.title==null?null:m.title)&&_.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){M.splice(D,1);break t}}_=S.createElement(v),Mr(_,v,m),S.head.appendChild(_);break;case"meta":if(M=yL("meta","content",S).get(v+(m.content||""))){for(D=0;D<M.length;D++)if(_=M[D],_.getAttribute("content")===(m.content==null?null:""+m.content)&&_.getAttribute("name")===(m.name==null?null:m.name)&&_.getAttribute("property")===(m.property==null?null:m.property)&&_.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&_.getAttribute("charset")===(m.charSet==null?null:m.charSet)){M.splice(D,1);break t}}_=S.createElement(v),Mr(_,v,m),S.head.appendChild(_);break;default:throw Error(r(468,v))}_[jr]=u,hr(_),v=_}u.stateNode=v}else vL(S,u.type,u.stateNode);else u.stateNode=gL(S,v,u.memoizedProps);else _!==v?(_===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):_.count--,v===null?vL(S,u.type,u.stateNode):gL(S,v,u.memoizedProps)):v===null&&u.stateNode!==null&&vP(u,u.memoizedProps,m.memoizedProps)}break;case 27:if(v&4&&u.alternate===null){S=u.stateNode,_=u.memoizedProps;try{for(var H=S.firstChild;H;){var K=H.nextSibling,ue=H.nodeName;H[Gh]||ue==="HEAD"||ue==="BODY"||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&H.rel.toLowerCase()==="stylesheet"||S.removeChild(H),H=K}for(var me=u.type,ie=S.attributes;ie.length;)S.removeAttributeNode(ie[0]);Mr(S,me,_),S[jr]=u,S[po]=_}catch(Fe){Qt(u,u.return,Fe)}}case 5:if(di(d,u),fi(u),v&512&&(Mn||m===null||jo(m,m.return)),u.flags&32){S=u.stateNode;try{Ed(S,"")}catch(Fe){Qt(u,u.return,Fe)}}v&4&&u.stateNode!=null&&(S=u.memoizedProps,vP(u,S,m!==null?m.memoizedProps:S)),v&1024&&(yC=!0);break;case 6:if(di(d,u),fi(u),v&4){if(u.stateNode===null)throw Error(r(162));v=u.memoizedProps,m=u.stateNode;try{m.nodeValue=v}catch(Fe){Qt(u,u.return,Fe)}}break;case 3:if(Bv=null,S=$i,$i=Iv(d.containerInfo),di(d,u),$i=S,fi(u),v&4&&m!==null&&m.memoizedState.isDehydrated)try{Ip(d.containerInfo)}catch(Fe){Qt(u,u.return,Fe)}yC&&(yC=!1,TP(u));break;case 4:v=$i,$i=Iv(u.stateNode.containerInfo),di(d,u),fi(u),$i=v;break;case 12:di(d,u),fi(u);break;case 13:di(d,u),fi(u),u.child.flags&8192&&u.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(TC=Re()),v&4&&(v=u.updateQueue,v!==null&&(u.updateQueue=null,vC(u,v)));break;case 22:if(v&512&&(Mn||m===null||jo(m,m.return)),H=u.memoizedState!==null,K=m!==null&&m.memoizedState!==null,ue=Sa,me=Mn,Sa=ue||H,Mn=me||K,di(d,u),Mn=me,Sa=ue,fi(u),d=u.stateNode,d._current=u,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,v&8192&&(d._visibility=H?d._visibility&-2:d._visibility|1,H&&(d=Sa||Mn,m===null||K||d||Fd(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(m=null,d=u;;){if(d.tag===5||d.tag===26||d.tag===27){if(m===null){K=m=d;try{if(S=K.stateNode,H)_=S.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{M=K.stateNode,D=K.memoizedProps.style;var le=D!=null&&D.hasOwnProperty("display")?D.display:null;M.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Fe){Qt(K,K.return,Fe)}}}else if(d.tag===6){if(m===null){K=d;try{K.stateNode.nodeValue=H?"":K.memoizedProps}catch(Fe){Qt(K,K.return,Fe)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===u)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break e;for(;d.sibling===null;){if(d.return===null||d.return===u)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}v&4&&(v=u.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,vC(u,m))));break;case 19:di(d,u),fi(u),v&4&&(v=u.updateQueue,v!==null&&(u.updateQueue=null,vC(u,v)));break;case 21:break;default:di(d,u),fi(u)}}function fi(u){var d=u.flags;if(d&2){try{if(u.tag!==27){e:{for(var m=u.return;m!==null;){if(bP(m)){var v=m;break e}m=m.return}throw Error(r(160))}switch(v.tag){case 27:var S=v.stateNode,_=mC(u);Sv(u,_,S);break;case 5:var M=v.stateNode;v.flags&32&&(Ed(M,""),v.flags&=-33);var D=mC(u);Sv(u,D,M);break;case 3:case 4:var H=v.stateNode.containerInfo,K=mC(u);gC(u,K,H);break;default:throw Error(r(161))}}}catch(ue){Qt(u,u.return,ue)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function TP(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var d=u;TP(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),u=u.sibling}}function ka(u,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)SP(u,d.alternate,d),d=d.sibling}function Fd(u){for(u=u.child;u!==null;){var d=u;switch(d.tag){case 0:case 11:case 14:case 15:Al(4,d,d.return),Fd(d);break;case 1:jo(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&gP(d,d.return,m),Fd(d);break;case 26:case 27:case 5:jo(d,d.return),Fd(d);break;case 22:jo(d,d.return),d.memoizedState===null&&Fd(d);break;default:Fd(d)}u=u.sibling}}function Rl(u,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var v=d.alternate,S=u,_=d,M=_.flags;switch(_.tag){case 0:case 11:case 15:Rl(S,_,m),bp(4,_);break;case 1:if(Rl(S,_,m),v=_,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(K){Qt(v,v.return,K)}if(v=_,S=v.updateQueue,S!==null){var D=v.stateNode;try{var H=S.shared.hiddenCallbacks;if(H!==null)for(S.shared.hiddenCallbacks=null,S=0;S<H.length;S++)hP(H[S],D)}catch(K){Qt(v,v.return,K)}}m&&M&64&&mP(_),ou(_,_.return);break;case 26:case 27:case 5:Rl(S,_,m),m&&v===null&&M&4&&yP(_),ou(_,_.return);break;case 12:Rl(S,_,m);break;case 13:Rl(S,_,m),m&&M&4&&_P(S,_);break;case 22:_.memoizedState===null&&Rl(S,_,m),ou(_,_.return);break;default:Rl(S,_,m)}d=d.sibling}}function bC(u,d){var m=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),u=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(u=d.memoizedState.cachePool.pool),u!==m&&(u!=null&&u.refCount++,m!=null&&cp(m))}function xC(u,d){u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&cp(u))}function Nl(u,d,m,v){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)MP(u,d,m,v),d=d.sibling}function MP(u,d,m,v){var S=d.flags;switch(d.tag){case 0:case 11:case 15:Nl(u,d,m,v),S&2048&&bp(9,d);break;case 3:Nl(u,d,m,v),S&2048&&(u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&cp(u)));break;case 12:if(S&2048){Nl(u,d,m,v),u=d.stateNode;try{var _=d.memoizedProps,M=_.id,D=_.onPostCommit;typeof D=="function"&&D(M,d.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(H){Qt(d,d.return,H)}}else Nl(u,d,m,v);break;case 23:break;case 22:_=d.stateNode,d.memoizedState!==null?_._visibility&4?Nl(u,d,m,v):xp(u,d):_._visibility&4?Nl(u,d,m,v):(_._visibility|=4,Ud(u,d,m,v,(d.subtreeFlags&10256)!==0)),S&2048&&bC(d.alternate,d);break;case 24:Nl(u,d,m,v),S&2048&&xC(d.alternate,d);break;default:Nl(u,d,m,v)}}function Ud(u,d,m,v,S){for(S=S&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var _=u,M=d,D=m,H=v,K=M.flags;switch(M.tag){case 0:case 11:case 15:Ud(_,M,D,H,S),bp(8,M);break;case 23:break;case 22:var ue=M.stateNode;M.memoizedState!==null?ue._visibility&4?Ud(_,M,D,H,S):xp(_,M):(ue._visibility|=4,Ud(_,M,D,H,S)),S&&K&2048&&bC(M.alternate,M);break;case 24:Ud(_,M,D,H,S),S&&K&2048&&xC(M.alternate,M);break;default:Ud(_,M,D,H,S)}d=d.sibling}}function xp(u,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=u,v=d,S=v.flags;switch(v.tag){case 22:xp(m,v),S&2048&&bC(v.alternate,v);break;case 24:xp(m,v),S&2048&&xC(v.alternate,v);break;default:xp(m,v)}d=d.sibling}}var wp=8192;function Gd(u){if(u.subtreeFlags&wp)for(u=u.child;u!==null;)AP(u),u=u.sibling}function AP(u){switch(u.tag){case 26:Gd(u),u.flags&wp&&u.memoizedState!==null&&EX($i,u.memoizedState,u.memoizedProps);break;case 5:Gd(u);break;case 3:case 4:var d=$i;$i=Iv(u.stateNode.containerInfo),Gd(u),$i=d;break;case 22:u.memoizedState===null&&(d=u.alternate,d!==null&&d.memoizedState!==null?(d=wp,wp=16777216,Gd(u),wp=d):Gd(u));break;default:Gd(u)}}function RP(u){var d=u.alternate;if(d!==null&&(u=d.child,u!==null)){d.child=null;do d=u.sibling,u.sibling=null,u=d;while(u!==null)}}function Sp(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];mr=v,OP(v,u)}RP(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)NP(u),u=u.sibling}function NP(u){switch(u.tag){case 0:case 11:case 15:Sp(u),u.flags&2048&&Al(9,u,u.return);break;case 3:Sp(u);break;case 12:Sp(u);break;case 22:var d=u.stateNode;u.memoizedState!==null&&d._visibility&4&&(u.return===null||u.return.tag!==13)?(d._visibility&=-5,Cv(u)):Sp(u);break;default:Sp(u)}}function Cv(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];mr=v,OP(v,u)}RP(u)}for(u=u.child;u!==null;){switch(d=u,d.tag){case 0:case 11:case 15:Al(8,d,d.return),Cv(d);break;case 22:m=d.stateNode,m._visibility&4&&(m._visibility&=-5,Cv(d));break;default:Cv(d)}u=u.sibling}}function OP(u,d){for(;mr!==null;){var m=mr;switch(m.tag){case 0:case 11:case 15:Al(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:cp(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,mr=v;else e:for(m=u;mr!==null;){v=mr;var S=v.sibling,_=v.return;if(CP(v),v===m){mr=null;break e}if(S!==null){S.return=_,mr=S;break e}mr=_}}}function BZ(u,d,m,v){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(u,d,m,v){return new BZ(u,d,m,v)}function wC(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Ol(u,d){var m=u.alternate;return m===null?(m=hi(u.tag,d,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=d,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&31457280,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,d=u.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m.refCleanup=u.refCleanup,m}function DP(u,d){u.flags&=31457282;var m=u.alternate;return m===null?(u.childLanes=0,u.lanes=d,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,d=m.dependencies,u.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),u}function kv(u,d,m,v,S,_){var M=0;if(v=u,typeof u=="function")wC(u)&&(M=1);else if(typeof u=="string")M=kX(u,m,At.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return iu(m.children,S,_,d);case c:M=8,S|=24;break;case f:return u=hi(12,m,d,S|2),u.elementType=f,u.lanes=_,u;case x:return u=hi(13,m,d,S),u.elementType=x,u.lanes=_,u;case C:return u=hi(19,m,d,S),u.elementType=C,u.lanes=_,u;case T:return PP(m,S,_,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case h:case y:M=10;break e;case p:M=9;break e;case b:M=11;break e;case k:M=14;break e;case E:M=16,v=null;break e}M=29,m=Error(r(130,u===null?"null":typeof u,"")),v=null}return d=hi(M,m,d,S),d.elementType=u,d.type=v,d.lanes=_,d}function iu(u,d,m,v){return u=hi(7,u,v,d),u.lanes=m,u}function PP(u,d,m,v){u=hi(22,u,v,d),u.elementType=T,u.lanes=m;var S={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var _=S._current;if(_===null)throw Error(r(456));if((S._pendingVisibility&2)===0){var M=xl(_,2);M!==null&&(S._pendingVisibility|=2,eo(M,_,2))}},attach:function(){var _=S._current;if(_===null)throw Error(r(456));if((S._pendingVisibility&2)!==0){var M=xl(_,2);M!==null&&(S._pendingVisibility&=-3,eo(M,_,2))}}};return u.stateNode=S,u}function SC(u,d,m){return u=hi(6,u,null,d),u.lanes=m,u}function CC(u,d,m){return d=hi(4,u.children!==null?u.children:[],u.key,d),d.lanes=m,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function _a(u){u.flags|=4}function LP(u,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!bL(d)){if(d=ui.current,d!==null&&((Nt&4194176)===Nt?bs!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||d!==bs))throw sp=MS,JO;u.flags|=8192}}function _v(u,d){d!==null&&(u.flags|=4),u.flags&16384&&(d=u.tag!==22?Yt():536870912,u.lanes|=d,qd|=d)}function Cp(u,d){if(!Bt)switch(u.tailMode){case"hidden":d=u.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:v.sibling=null}}function Sn(u){var d=u.alternate!==null&&u.alternate.child===u.child,m=0,v=0;if(d)for(var S=u.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags&31457280,v|=S.flags&31457280,S.return=u,S=S.sibling;else for(S=u.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=u,S=S.sibling;return u.subtreeFlags|=v,u.childLanes=m,d}function $Z(u,d,m){var v=d.pendingProps;switch(ES(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(d),null;case 1:return Sn(d),null;case 3:return m=d.stateNode,v=null,u!==null&&(v=u.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),wa(rr),Jn(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(u===null||u.child===null)&&(np(d)?_a(d):u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Bi!==null&&(NC(Bi),Bi=null))),Sn(d),null;case 26:return m=d.memoizedState,u===null?(_a(d),m!==null?(Sn(d),LP(d,m)):(Sn(d),d.flags&=-16777217)):m?m!==u.memoizedState?(_a(d),Sn(d),LP(d,m)):(Sn(d),d.flags&=-16777217):(u.memoizedProps!==v&&_a(d),Sn(d),d.flags&=-16777217),null;case 27:F(d),m=zt.current;var S=d.type;if(u!==null&&d.stateNode!=null)u.memoizedProps!==v&&_a(d);else{if(!v){if(d.stateNode===null)throw Error(r(166));return Sn(d),null}u=At.current,np(d)?ZO(d):(u=dL(S,v,m),d.stateNode=u,_a(d))}return Sn(d),null;case 5:if(F(d),m=d.type,u!==null&&d.stateNode!=null)u.memoizedProps!==v&&_a(d);else{if(!v){if(d.stateNode===null)throw Error(r(166));return Sn(d),null}if(u=At.current,np(d))ZO(d);else{switch(S=jv(zt.current),u){case 1:u=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:u=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":u=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":u=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":u=S.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof v.is=="string"?S.createElement("select",{is:v.is}):S.createElement("select"),v.multiple?u.multiple=!0:v.size&&(u.size=v.size);break;default:u=typeof v.is=="string"?S.createElement(m,{is:v.is}):S.createElement(m)}}u[jr]=d,u[po]=v;e:for(S=d.child;S!==null;){if(S.tag===5||S.tag===6)u.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break e;for(;S.sibling===null;){if(S.return===null||S.return===d)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}d.stateNode=u;e:switch(Mr(u,m,v),m){case"button":case"input":case"select":case"textarea":u=!!v.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_a(d)}}return Sn(d),d.flags&=-16777217,null;case 6:if(u&&d.stateNode!=null)u.memoizedProps!==v&&_a(d);else{if(typeof v!="string"&&d.stateNode===null)throw Error(r(166));if(u=zt.current,np(d)){if(u=d.stateNode,m=d.memoizedProps,v=null,S=Qr,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}u[jr]=d,u=!!(u.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||iL(u.nodeValue,m)),u||Kc(d)}else u=jv(u).createTextNode(v),u[jr]=d,d.stateNode=u}return Sn(d),null;case 13:if(v=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(S=np(d),v!==null&&v.dehydrated!==null){if(u===null){if(!S)throw Error(r(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[jr]=d}else rp(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Sn(d),S=!1}else Bi!==null&&(NC(Bi),Bi=null),S=!0;if(!S)return d.flags&256?(ya(d),d):(ya(d),null)}if(ya(d),(d.flags&128)!==0)return d.lanes=m,d;if(m=v!==null,u=u!==null&&u.memoizedState!==null,m){v=d.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool);var _=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(_=v.memoizedState.cachePool.pool),_!==S&&(v.flags|=2048)}return m!==u&&m&&(d.child.flags|=8192),_v(d,d.updateQueue),Sn(d),null;case 4:return Jn(),u===null&&zC(d.stateNode.containerInfo),Sn(d),null;case 10:return wa(d.type),Sn(d),null;case 19:if(Ie(nr),S=d.memoizedState,S===null)return Sn(d),null;if(v=(d.flags&128)!==0,_=S.rendering,_===null)if(v)Cp(S,!1);else{if(An!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(_=lv(u),_!==null){for(d.flags|=128,Cp(S,!1),u=_.updateQueue,d.updateQueue=u,_v(d,u),d.subtreeFlags=0,u=m,m=d.child;m!==null;)DP(m,u),m=m.sibling;return Ue(nr,nr.current&1|2),d.child}u=u.sibling}S.tail!==null&&Re()>Ev&&(d.flags|=128,v=!0,Cp(S,!1),d.lanes=4194304)}else{if(!v)if(u=lv(_),u!==null){if(d.flags|=128,v=!0,u=u.updateQueue,d.updateQueue=u,_v(d,u),Cp(S,!0),S.tail===null&&S.tailMode==="hidden"&&!_.alternate&&!Bt)return Sn(d),null}else 2*Re()-S.renderingStartTime>Ev&&m!==536870912&&(d.flags|=128,v=!0,Cp(S,!1),d.lanes=4194304);S.isBackwards?(_.sibling=d.child,d.child=_):(u=S.last,u!==null?u.sibling=_:d.child=_,S.last=_)}return S.tail!==null?(d=S.tail,S.rendering=d,S.tail=d.sibling,S.renderingStartTime=Re(),d.sibling=null,u=nr.current,Ue(nr,v?u&1|2:u&1),d):(Sn(d),null);case 22:case 23:return ya(d),RS(),v=d.memoizedState!==null,u!==null?u.memoizedState!==null!==v&&(d.flags|=8192):v&&(d.flags|=8192),v?(m&536870912)!==0&&(d.flags&128)===0&&(Sn(d),d.subtreeFlags&6&&(d.flags|=8192)):Sn(d),m=d.updateQueue,m!==null&&_v(d,m.retryQueue),m=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048),u!==null&&Ie(Xc),null;case 24:return m=null,u!==null&&(m=u.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),wa(rr),Sn(d),null;case 25:return null}throw Error(r(156,d.tag))}function HZ(u,d){switch(ES(d),d.tag){case 1:return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return wa(rr),Jn(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 26:case 27:case 5:return F(d),null;case 13:if(ya(d),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(r(340));rp()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return Ie(nr),null;case 4:return Jn(),null;case 10:return wa(d.type),null;case 22:case 23:return ya(d),RS(),u!==null&&Ie(Xc),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 24:return wa(rr),null;case 25:return null;default:return null}}function jP(u,d){switch(ES(d),d.tag){case 3:wa(rr),Jn();break;case 26:case 27:case 5:F(d);break;case 4:Jn();break;case 13:ya(d);break;case 19:Ie(nr);break;case 10:wa(d.type);break;case 22:case 23:ya(d),RS(),u!==null&&Ie(Xc);break;case 24:wa(rr)}}var zZ={getCacheForType:function(u){var d=Ir(rr),m=d.data.get(u);return m===void 0&&(m=u(),d.data.set(u,m)),m}},FZ=typeof WeakMap=="function"?WeakMap:Map,Cn=0,rn=null,Ct=null,Nt=0,on=0,Vo=null,Ea=!1,Wd=!1,kC=!1,Ta=0,An=0,Dl=0,su=0,_C=0,pi=0,qd=0,kp=null,ws=null,EC=!1,TC=0,Ev=1/0,Tv=null,Pl=null,Mv=!1,au=null,_p=0,MC=0,AC=null,Ep=0,RC=null;function Bo(){if((Cn&2)!==0&&Nt!==0)return Nt&-Nt;if(P.T!==null){var u=Vd;return u!==0?u:VC()}return tS()}function IP(){pi===0&&(pi=(Nt&536870912)===0||Bt?tr():536870912);var u=ui.current;return u!==null&&(u.flags|=32),pi}function eo(u,d,m){(u===rn&&on===2||u.cancelPendingCommit!==null)&&(Yd(u,0),Ma(u,Nt,pi,!1)),Pn(u,m),((Cn&2)===0||u!==rn)&&(u===rn&&((Cn&2)===0&&(su|=m),An===4&&Ma(u,Nt,pi,!1)),Ss(u))}function VP(u,d,m){if((Cn&6)!==0)throw Error(r(327));var v=!m&&(d&60)===0&&(d&u.expiredLanes)===0||xt(u,d),S=v?WZ(u,d):PC(u,d,!0),_=v;do{if(S===0){Wd&&!v&&Ma(u,d,0,!1);break}else if(S===6)Ma(u,d,0,!Ea);else{if(m=u.current.alternate,_&&!UZ(m)){S=PC(u,d,!1),_=!1;continue}if(S===2){if(_=d,u.errorRecoveryDisabledLanes&_)var M=0;else M=u.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){d=M;e:{var D=u;S=kp;var H=D.current.memoizedState.isDehydrated;if(H&&(Yd(D,M).flags|=256),M=PC(D,M,!1),M!==2){if(kC&&!H){D.errorRecoveryDisabledLanes|=_,su|=_,S=4;break e}_=ws,ws=S,_!==null&&NC(_)}S=M}if(_=!1,S!==2)continue}}if(S===1){Yd(u,0),Ma(u,d,0,!0);break}e:{switch(v=u,S){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Ma(v,d,pi,!Ea);break e}break;case 2:ws=null;break;case 3:case 5:break;default:throw Error(r(329))}if(v.finishedWork=m,v.finishedLanes=d,(d&62914560)===d&&(_=TC+300-Re(),10<_)){if(Ma(v,d,pi,!Ea),bt(v,0)!==0)break e;v.timeoutHandle=lL(BP.bind(null,v,m,ws,Tv,EC,d,pi,su,qd,Ea,2,-0,0),_);break e}BP(v,m,ws,Tv,EC,d,pi,su,qd,Ea,0,-0,0)}}break}while(!0);Ss(u)}function NC(u){ws===null?ws=u:ws.push.apply(ws,u)}function BP(u,d,m,v,S,_,M,D,H,K,ue,me,ie){var le=d.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(Op={stylesheets:null,count:0,unsuspend:_X},AP(d),d=TX(),d!==null)){u.cancelPendingCommit=d(WP.bind(null,u,m,v,S,M,D,H,1,me,ie)),Ma(u,_,M,!K);return}WP(u,m,v,S,M,D,H,ue,me,ie)}function UZ(u){for(var d=u;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var S=m[v],_=S.getSnapshot;S=S.value;try{if(!Lo(_(),S))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ma(u,d,m,v){d&=~_C,d&=~su,u.suspendedLanes|=d,u.pingedLanes&=~d,v&&(u.warmLanes|=d),v=u.expirationTimes;for(var S=d;0<S;){var _=31-kr(S),M=1<<_;v[_]=-1,S&=~M}m!==0&&_r(u,m,d)}function Av(){return(Cn&6)===0?(Tp(0),!1):!0}function OC(){if(Ct!==null){if(on===0)var u=Ct.return;else u=Ct,xa=nu=null,VS(u),jd=null,ap=0,u=Ct;for(;u!==null;)jP(u.alternate,u),u=u.return;Ct=null}}function Yd(u,d){u.finishedWork=null,u.finishedLanes=0;var m=u.timeoutHandle;m!==-1&&(u.timeoutHandle=-1,cX(m)),m=u.cancelPendingCommit,m!==null&&(u.cancelPendingCommit=null,m()),OC(),rn=u,Ct=m=Ol(u.current,null),Nt=d,on=0,Vo=null,Ea=!1,Wd=xt(u,d),kC=!1,qd=pi=_C=su=Dl=An=0,ws=kp=null,EC=!1,(d&8)!==0&&(d|=d&32);var v=u.entangledLanes;if(v!==0)for(u=u.entanglements,v&=d;0<v;){var S=31-kr(v),_=1<<S;d|=u[S],v&=~_}return Ta=d,Qy(),m}function $P(u,d){vt=null,P.H=xs,d===ip?(d=tD(),on=3):d===JO?(d=tD(),on=4):on=d===QD?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Vo=d,Ct===null&&(An=1,bv(u,ai(d,u.current)))}function HP(){var u=P.H;return P.H=xs,u===null?xs:u}function zP(){var u=P.A;return P.A=zZ,u}function DC(){An=4,Ea||(Nt&4194176)!==Nt&&ui.current!==null||(Wd=!0),(Dl&134217727)===0&&(su&134217727)===0||rn===null||Ma(rn,Nt,pi,!1)}function PC(u,d,m){var v=Cn;Cn|=2;var S=HP(),_=zP();(rn!==u||Nt!==d)&&(Tv=null,Yd(u,d)),d=!1;var M=An;e:do try{if(on!==0&&Ct!==null){var D=Ct,H=Vo;switch(on){case 8:OC(),M=6;break e;case 3:case 2:case 6:ui.current===null&&(d=!0);var K=on;if(on=0,Vo=null,Kd(u,D,H,K),m&&Wd){M=0;break e}break;default:K=on,on=0,Vo=null,Kd(u,D,H,K)}}GZ(),M=An;break}catch(ue){$P(u,ue)}while(!0);return d&&u.shellSuspendCounter++,xa=nu=null,Cn=v,P.H=S,P.A=_,Ct===null&&(rn=null,Nt=0,Qy()),M}function GZ(){for(;Ct!==null;)FP(Ct)}function WZ(u,d){var m=Cn;Cn|=2;var v=HP(),S=zP();rn!==u||Nt!==d?(Tv=null,Ev=Re()+500,Yd(u,d)):Wd=xt(u,d);e:do try{if(on!==0&&Ct!==null){d=Ct;var _=Vo;t:switch(on){case 1:on=0,Vo=null,Kd(u,d,_,1);break;case 2:if(QO(_)){on=0,Vo=null,UP(d);break}d=function(){on===2&&rn===u&&(on=7),Ss(u)},_.then(d,d);break e;case 3:on=7;break e;case 4:on=5;break e;case 7:QO(_)?(on=0,Vo=null,UP(d)):(on=0,Vo=null,Kd(u,d,_,7));break;case 5:var M=null;switch(Ct.tag){case 26:M=Ct.memoizedState;case 5:case 27:var D=Ct;if(!M||bL(M)){on=0,Vo=null;var H=D.sibling;if(H!==null)Ct=H;else{var K=D.return;K!==null?(Ct=K,Rv(K)):Ct=null}break t}}on=0,Vo=null,Kd(u,d,_,5);break;case 6:on=0,Vo=null,Kd(u,d,_,6);break;case 8:OC(),An=6;break e;default:throw Error(r(462))}}qZ();break}catch(ue){$P(u,ue)}while(!0);return xa=nu=null,P.H=v,P.A=S,Cn=m,Ct!==null?0:(rn=null,Nt=0,Qy(),An)}function qZ(){for(;Ct!==null&&!ve();)FP(Ct)}function FP(u){var d=dP(u.alternate,u,Ta);u.memoizedProps=u.pendingProps,d===null?Rv(u):Ct=d}function UP(u){var d=u,m=d.alternate;switch(d.tag){case 15:case 0:d=iP(m,d,d.pendingProps,d.type,void 0,Nt);break;case 11:d=iP(m,d,d.pendingProps,d.type.render,d.ref,Nt);break;case 5:VS(d);default:jP(m,d),d=Ct=DP(d,Ta),d=dP(m,d,Ta)}u.memoizedProps=u.pendingProps,d===null?Rv(u):Ct=d}function Kd(u,d,m,v){xa=nu=null,VS(d),jd=null,ap=0;var S=d.return;try{if(LZ(u,S,d,m,Nt)){An=1,bv(u,ai(m,u.current)),Ct=null;return}}catch(_){if(S!==null)throw Ct=S,_;An=1,bv(u,ai(m,u.current)),Ct=null;return}d.flags&32768?(Bt||v===1?u=!0:Wd||(Nt&536870912)!==0?u=!1:(Ea=u=!0,(v===2||v===3||v===6)&&(v=ui.current,v!==null&&v.tag===13&&(v.flags|=16384))),GP(d,u)):Rv(d)}function Rv(u){var d=u;do{if((d.flags&32768)!==0){GP(d,Ea);return}u=d.return;var m=$Z(d.alternate,d,Ta);if(m!==null){Ct=m;return}if(d=d.sibling,d!==null){Ct=d;return}Ct=d=u}while(d!==null);An===0&&(An=5)}function GP(u,d){do{var m=HZ(u.alternate,u);if(m!==null){m.flags&=32767,Ct=m;return}if(m=u.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(u=u.sibling,u!==null)){Ct=u;return}Ct=u=m}while(u!==null);An=6,Ct=null}function WP(u,d,m,v,S,_,M,D,H,K){var ue=P.T,me=fe.p;try{fe.p=2,P.T=null,YZ(u,d,m,v,me,S,_,M,D,H,K)}finally{P.T=ue,fe.p=me}}function YZ(u,d,m,v,S,_,M,D){do Zd();while(au!==null);if((Cn&6)!==0)throw Error(r(327));var H=u.finishedWork;if(v=u.finishedLanes,H===null)return null;if(u.finishedWork=null,u.finishedLanes=0,H===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var K=H.lanes|H.childLanes;if(K|=CS,fr(u,v,K,_,M,D),u===rn&&(Ct=rn=null,Nt=0),(H.subtreeFlags&10256)===0&&(H.flags&10256)===0||Mv||(Mv=!0,MC=K,AC=m,JZ(yn,function(){return Zd(),null})),m=(H.flags&15990)!==0,(H.subtreeFlags&15990)!==0||m?(m=P.T,P.T=null,_=fe.p,fe.p=2,M=Cn,Cn|=4,IZ(u,H),EP(H,u),vZ(WC,u.containerInfo),zv=!!GC,WC=GC=null,u.current=H,SP(u,H.alternate,H),ye(),Cn=M,fe.p=_,P.T=m):u.current=H,Mv?(Mv=!1,au=u,_p=v):qP(u,K),K=u.pendingLanes,K===0&&(Pl=null),fa(H.stateNode),Ss(u),d!==null)for(S=u.onRecoverableError,H=0;H<d.length;H++)K=d[H],S(K.value,{componentStack:K.stack});return(_p&3)!==0&&Zd(),K=u.pendingLanes,(v&4194218)!==0&&(K&42)!==0?u===RC?Ep++:(Ep=0,RC=u):Ep=0,Tp(0),null}function qP(u,d){(u.pooledCacheLanes&=d)===0&&(d=u.pooledCache,d!=null&&(u.pooledCache=null,cp(d)))}function Zd(){if(au!==null){var u=au,d=MC;MC=0;var m=ys(_p),v=P.T,S=fe.p;try{if(fe.p=32>m?32:m,P.T=null,au===null)var _=!1;else{m=AC,AC=null;var M=au,D=_p;if(au=null,_p=0,(Cn&6)!==0)throw Error(r(331));var H=Cn;if(Cn|=4,NP(M.current),MP(M,M.current,D,m),Cn=H,Tp(0,!1),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Do,M)}catch{}_=!0}return _}finally{fe.p=S,P.T=v,qP(u,d)}}return!1}function YP(u,d,m){d=ai(m,d),d=JS(u.stateNode,d,2),u=Ml(u,d,2),u!==null&&(Pn(u,2),Ss(u))}function Qt(u,d,m){if(u.tag===3)YP(u,u,m);else for(;d!==null;){if(d.tag===3){YP(d,u,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Pl===null||!Pl.has(v))){u=ai(m,u),m=XD(2),v=Ml(d,m,2),v!==null&&(JD(m,v,d,u),Pn(v,2),Ss(v));break}}d=d.return}}function LC(u,d,m){var v=u.pingCache;if(v===null){v=u.pingCache=new FZ;var S=new Set;v.set(d,S)}else S=v.get(d),S===void 0&&(S=new Set,v.set(d,S));S.has(m)||(kC=!0,S.add(m),u=KZ.bind(null,u,d,m),d.then(u,u))}function KZ(u,d,m){var v=u.pingCache;v!==null&&v.delete(d),u.pingedLanes|=u.suspendedLanes&m,u.warmLanes&=~m,rn===u&&(Nt&m)===m&&(An===4||An===3&&(Nt&62914560)===Nt&&300>Re()-TC?(Cn&2)===0&&Yd(u,0):_C|=m,qd===Nt&&(qd=0)),Ss(u)}function KP(u,d){d===0&&(d=Yt()),u=xl(u,d),u!==null&&(Pn(u,d),Ss(u))}function ZZ(u){var d=u.memoizedState,m=0;d!==null&&(m=d.retryLane),KP(u,m)}function XZ(u,d){var m=0;switch(u.tag){case 13:var v=u.stateNode,S=u.memoizedState;S!==null&&(m=S.retryLane);break;case 19:v=u.stateNode;break;case 22:v=u.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(d),KP(u,m)}function JZ(u,d){return oe(u,d)}var Nv=null,Xd=null,jC=!1,Ov=!1,IC=!1,lu=0;function Ss(u){u!==Xd&&u.next===null&&(Xd===null?Nv=Xd=u:Xd=Xd.next=u),Ov=!0,jC||(jC=!0,eX(QZ))}function Tp(u,d){if(!IC&&Ov){IC=!0;do for(var m=!1,v=Nv;v!==null;){if(u!==0){var S=v.pendingLanes;if(S===0)var _=0;else{var M=v.suspendedLanes,D=v.pingedLanes;_=(1<<31-kr(42|u)+1)-1,_&=S&~(M&~D),_=_&201326677?_&201326677|1:_?_|2:0}_!==0&&(m=!0,JP(v,_))}else _=Nt,_=bt(v,v===rn?_:0),(_&3)===0||xt(v,_)||(m=!0,JP(v,_));v=v.next}while(m);IC=!1}}function QZ(){Ov=jC=!1;var u=0;lu!==0&&(lX()&&(u=lu),lu=0);for(var d=Re(),m=null,v=Nv;v!==null;){var S=v.next,_=ZP(v,d);_===0?(v.next=null,m===null?Nv=S:m.next=S,S===null&&(Xd=m)):(m=v,(u!==0||(_&3)!==0)&&(Ov=!0)),v=S}Tp(u)}function ZP(u,d){for(var m=u.suspendedLanes,v=u.pingedLanes,S=u.expirationTimes,_=u.pendingLanes&-62914561;0<_;){var M=31-kr(_),D=1<<M,H=S[M];H===-1?((D&m)===0||(D&v)!==0)&&(S[M]=bn(D,d)):H<=d&&(u.expiredLanes|=D),_&=~D}if(d=rn,m=Nt,m=bt(u,u===d?m:0),v=u.callbackNode,m===0||u===d&&on===2||u.cancelPendingCommit!==null)return v!==null&&v!==null&&Ce(v),u.callbackNode=null,u.callbackPriority=0;if((m&3)===0||xt(u,m)){if(d=m&-m,d===u.callbackPriority)return d;switch(v!==null&&Ce(v),ys(m)){case 2:case 8:m=qt;break;case 32:m=yn;break;case 268435456:m=Qn;break;default:m=yn}return v=XP.bind(null,u),m=oe(m,v),u.callbackPriority=d,u.callbackNode=m,d}return v!==null&&v!==null&&Ce(v),u.callbackPriority=2,u.callbackNode=null,2}function XP(u,d){var m=u.callbackNode;if(Zd()&&u.callbackNode!==m)return null;var v=Nt;return v=bt(u,u===rn?v:0),v===0?null:(VP(u,v,d),ZP(u,Re()),u.callbackNode!=null&&u.callbackNode===m?XP.bind(null,u):null)}function JP(u,d){if(Zd())return null;VP(u,d,!0)}function eX(u){uX(function(){(Cn&6)!==0?oe(Ht,u):u()})}function VC(){return lu===0&&(lu=tr()),lu}function QP(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Wy(""+u)}function eL(u,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,u.id&&m.setAttribute("form",u.id),d.parentNode.insertBefore(m,d),u=new FormData(u),m.parentNode.removeChild(m),u}function tX(u,d,m,v,S){if(d==="submit"&&m&&m.stateNode===S){var _=QP((S[po]||null).action),M=v.submitter;M&&(d=(d=M[po]||null)?QP(d.formAction):M.getAttribute("formAction"),d!==null&&(_=d,M=null));var D=new Zy("action","action",null,v,S);u.push({event:D,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(lu!==0){var H=M?eL(S,M):new FormData(S);qS(m,{pending:!0,data:H,method:S.method,action:_},null,H)}}else typeof _=="function"&&(D.preventDefault(),H=M?eL(S,M):new FormData(S),qS(m,{pending:!0,data:H,method:S.method,action:_},_,H))},currentTarget:S}]})}}for(var BC=0;BC<WO.length;BC++){var $C=WO[BC],nX=$C.toLowerCase(),rX=$C[0].toUpperCase()+$C.slice(1);Vi(nX,"on"+rX)}Vi(HO,"onAnimationEnd"),Vi(zO,"onAnimationIteration"),Vi(FO,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(xZ,"onTransitionRun"),Vi(wZ,"onTransitionStart"),Vi(SZ,"onTransitionCancel"),Vi(UO,"onTransitionEnd"),kd("onMouseEnter",["mouseout","mouseover"]),kd("onMouseLeave",["mouseout","mouseover"]),kd("onPointerEnter",["pointerout","pointerover"]),kd("onPointerLeave",["pointerout","pointerover"]),Fc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fc("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mp));function tL(u,d){d=(d&4)!==0;for(var m=0;m<u.length;m++){var v=u[m],S=v.event;v=v.listeners;e:{var _=void 0;if(d)for(var M=v.length-1;0<=M;M--){var D=v[M],H=D.instance,K=D.currentTarget;if(D=D.listener,H!==_&&S.isPropagationStopped())break e;_=D,S.currentTarget=K;try{_(S)}catch(ue){vv(ue)}S.currentTarget=null,_=H}else for(M=0;M<v.length;M++){if(D=v[M],H=D.instance,K=D.currentTarget,D=D.listener,H!==_&&S.isPropagationStopped())break e;_=D,S.currentTarget=K;try{_(S)}catch(ue){vv(ue)}S.currentTarget=null,_=H}}}}function Mt(u,d){var m=d[nS];m===void 0&&(m=d[nS]=new Set);var v=u+"__bubble";m.has(v)||(nL(d,u,2,!1),m.add(v))}function HC(u,d,m){var v=0;d&&(v|=4),nL(m,u,v,d)}var Dv="_reactListening"+Math.random().toString(36).slice(2);function zC(u){if(!u[Dv]){u[Dv]=!0,iO.forEach(function(m){m!=="selectionchange"&&(oX.has(m)||HC(m,!1,u),HC(m,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[Dv]||(d[Dv]=!0,HC("selectionchange",!1,d))}}function nL(u,d,m,v){switch(_L(d)){case 2:var S=RX;break;case 8:S=NX;break;default:S=tk}m=S.bind(null,d,m,u),S=void 0,!uS||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),v?S!==void 0?u.addEventListener(d,m,{capture:!0,passive:S}):u.addEventListener(d,m,!0):S!==void 0?u.addEventListener(d,m,{passive:S}):u.addEventListener(d,m,!1)}function FC(u,d,m,v,S){var _=v;if((d&1)===0&&(d&2)===0&&v!==null)e:for(;;){if(v===null)return;var M=v.tag;if(M===3||M===4){var D=v.stateNode.containerInfo;if(D===S||D.nodeType===8&&D.parentNode===S)break;if(M===4)for(M=v.return;M!==null;){var H=M.tag;if((H===3||H===4)&&(H=M.stateNode.containerInfo,H===S||H.nodeType===8&&H.parentNode===S))return;M=M.return}for(;D!==null;){if(M=zc(D),M===null)return;if(H=M.tag,H===5||H===6||H===26||H===27){v=_=M;continue e}D=D.parentNode}}v=v.return}yO(function(){var K=_,ue=lS(m),me=[];e:{var ie=GO.get(u);if(ie!==void 0){var le=Zy,Fe=u;switch(u){case"keypress":if(Yy(m)===0)break e;case"keydown":case"keyup":le=XK;break;case"focusin":Fe="focus",le=pS;break;case"focusout":Fe="blur",le=pS;break;case"beforeblur":case"afterblur":le=pS;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=xO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=BK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=eZ;break;case HO:case zO:case FO:le=zK;break;case UO:le=nZ;break;case"scroll":case"scrollend":le=IK;break;case"wheel":le=oZ;break;case"copy":case"cut":case"paste":le=UK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=SO;break;case"toggle":case"beforetoggle":le=sZ}var at=(d&4)!==0,Rn=!at&&(u==="scroll"||u==="scrollend"),J=at?ie!==null?ie+"Capture":null:ie;at=[];for(var Y=K,ne;Y!==null;){var he=Y;if(ne=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ne===null||J===null||(he=qh(Y,J),he!=null&&at.push(Ap(Y,he,ne))),Rn)break;Y=Y.return}0<at.length&&(ie=new le(ie,Fe,null,m,ue),me.push({event:ie,listeners:at}))}}if((d&7)===0){e:{if(ie=u==="mouseover"||u==="pointerover",le=u==="mouseout"||u==="pointerout",ie&&m!==aS&&(Fe=m.relatedTarget||m.fromElement)&&(zc(Fe)||Fe[wd]))break e;if((le||ie)&&(ie=ue.window===ue?ue:(ie=ue.ownerDocument)?ie.defaultView||ie.parentWindow:window,le?(Fe=m.relatedTarget||m.toElement,le=K,Fe=Fe?zc(Fe):null,Fe!==null&&(Rn=V(Fe),at=Fe.tag,Fe!==Rn||at!==5&&at!==27&&at!==6)&&(Fe=null)):(le=null,Fe=K),le!==Fe)){if(at=xO,he="onMouseLeave",J="onMouseEnter",Y="mouse",(u==="pointerout"||u==="pointerover")&&(at=SO,he="onPointerLeave",J="onPointerEnter",Y="pointer"),Rn=le==null?ie:Wh(le),ne=Fe==null?ie:Wh(Fe),ie=new at(he,Y+"leave",le,m,ue),ie.target=Rn,ie.relatedTarget=ne,he=null,zc(ue)===K&&(at=new at(J,Y+"enter",Fe,m,ue),at.target=ne,at.relatedTarget=Rn,he=at),Rn=he,le&&Fe)t:{for(at=le,J=Fe,Y=0,ne=at;ne;ne=Jd(ne))Y++;for(ne=0,he=J;he;he=Jd(he))ne++;for(;0<Y-ne;)at=Jd(at),Y--;for(;0<ne-Y;)J=Jd(J),ne--;for(;Y--;){if(at===J||J!==null&&at===J.alternate)break t;at=Jd(at),J=Jd(J)}at=null}else at=null;le!==null&&rL(me,ie,le,at,!1),Fe!==null&&Rn!==null&&rL(me,Rn,Fe,at,!0)}}e:{if(ie=K?Wh(K):window,le=ie.nodeName&&ie.nodeName.toLowerCase(),le==="select"||le==="input"&&ie.type==="file")var De=RO;else if(MO(ie))if(NO)De=gZ;else{De=pZ;var wt=hZ}else le=ie.nodeName,!le||le.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?K&&sS(K.elementType)&&(De=RO):De=mZ;if(De&&(De=De(u,K))){AO(me,De,m,ue);break e}wt&&wt(u,ie,K),u==="focusout"&&K&&ie.type==="number"&&K.memoizedProps.value!=null&&iS(ie,"number",ie.value)}switch(wt=K?Wh(K):window,u){case"focusin":(MO(wt)||wt.contentEditable==="true")&&(Rd=wt,xS=K,tp=null);break;case"focusout":tp=xS=Rd=null;break;case"mousedown":wS=!0;break;case"contextmenu":case"mouseup":case"dragend":wS=!1,BO(me,m,ue);break;case"selectionchange":if(bZ)break;case"keydown":case"keyup":BO(me,m,ue)}var We;if(gS)e:{switch(u){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ad?EO(u,m)&&(Xe="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(Xe="onCompositionStart");Xe&&(CO&&m.locale!=="ko"&&(Ad||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ad&&(We=vO()):(bl=ue,dS="value"in bl?bl.value:bl.textContent,Ad=!0)),wt=Pv(K,Xe),0<wt.length&&(Xe=new wO(Xe,u,null,m,ue),me.push({event:Xe,listeners:wt}),We?Xe.data=We:(We=TO(m),We!==null&&(Xe.data=We)))),(We=lZ?cZ(u,m):uZ(u,m))&&(Xe=Pv(K,"onBeforeInput"),0<Xe.length&&(wt=new wO("onBeforeInput","beforeinput",null,m,ue),me.push({event:wt,listeners:Xe}),wt.data=We)),tX(me,u,K,m,ue)}tL(me,d)})}function Ap(u,d,m){return{instance:u,listener:d,currentTarget:m}}function Pv(u,d){for(var m=d+"Capture",v=[];u!==null;){var S=u,_=S.stateNode;S=S.tag,S!==5&&S!==26&&S!==27||_===null||(S=qh(u,m),S!=null&&v.unshift(Ap(u,S,_)),S=qh(u,d),S!=null&&v.push(Ap(u,S,_))),u=u.return}return v}function Jd(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function rL(u,d,m,v,S){for(var _=d._reactName,M=[];m!==null&&m!==v;){var D=m,H=D.alternate,K=D.stateNode;if(D=D.tag,H!==null&&H===v)break;D!==5&&D!==26&&D!==27||K===null||(H=K,S?(K=qh(m,_),K!=null&&M.unshift(Ap(m,K,H))):S||(K=qh(m,_),K!=null&&M.push(Ap(m,K,H)))),m=m.return}M.length!==0&&u.push({event:d,listeners:M})}var iX=/\r\n?/g,sX=/\u0000|\uFFFD/g;function oL(u){return(typeof u=="string"?u:""+u).replace(iX,`
`).replace(sX,"")}function iL(u,d){return d=oL(d),oL(u)===d}function Lv(){}function Zt(u,d,m,v,S,_){switch(m){case"children":typeof v=="string"?d==="body"||d==="textarea"&&v===""||Ed(u,v):(typeof v=="number"||typeof v=="bigint")&&d!=="body"&&Ed(u,""+v);break;case"className":Fy(u,"class",v);break;case"tabIndex":Fy(u,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Fy(u,m,v);break;case"style":mO(u,v,_);break;case"data":if(d!=="object"){Fy(u,"data",v);break}case"src":case"href":if(v===""&&(d!=="a"||m!=="href")){u.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){u.removeAttribute(m);break}v=Wy(""+v),u.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){u.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(m==="formAction"?(d!=="input"&&Zt(u,d,"name",S.name,S,null),Zt(u,d,"formEncType",S.formEncType,S,null),Zt(u,d,"formMethod",S.formMethod,S,null),Zt(u,d,"formTarget",S.formTarget,S,null)):(Zt(u,d,"encType",S.encType,S,null),Zt(u,d,"method",S.method,S,null),Zt(u,d,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){u.removeAttribute(m);break}v=Wy(""+v),u.setAttribute(m,v);break;case"onClick":v!=null&&(u.onclick=Lv);break;case"onScroll":v!=null&&Mt("scroll",u);break;case"onScrollEnd":v!=null&&Mt("scrollend",u);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(S.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"multiple":u.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":u.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){u.removeAttribute("xlink:href");break}m=Wy(""+v),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(m,""+v):u.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(m,""):u.removeAttribute(m);break;case"capture":case"download":v===!0?u.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(m,v):u.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?u.setAttribute(m,v):u.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?u.removeAttribute(m):u.setAttribute(m,v);break;case"popover":Mt("beforetoggle",u),Mt("toggle",u),zy(u,"popover",v);break;case"xlinkActuate":pa(u,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":pa(u,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":pa(u,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":pa(u,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":pa(u,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":pa(u,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":pa(u,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":pa(u,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":pa(u,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":zy(u,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=LK.get(m)||m,zy(u,m,v))}}function UC(u,d,m,v,S,_){switch(m){case"style":mO(u,v,_);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(S.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"children":typeof v=="string"?Ed(u,v):(typeof v=="number"||typeof v=="bigint")&&Ed(u,""+v);break;case"onScroll":v!=null&&Mt("scroll",u);break;case"onScrollEnd":v!=null&&Mt("scrollend",u);break;case"onClick":v!=null&&(u.onclick=Lv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sO.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(S=m.endsWith("Capture"),d=m.slice(2,S?m.length-7:void 0),_=u[po]||null,_=_!=null?_[m]:null,typeof _=="function"&&u.removeEventListener(d,_,S),typeof v=="function")){typeof _!="function"&&_!==null&&(m in u?u[m]=null:u.hasAttribute(m)&&u.removeAttribute(m)),u.addEventListener(d,v,S);break e}m in u?u[m]=v:v===!0?u.setAttribute(m,""):zy(u,m,v)}}}function Mr(u,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",u),Mt("load",u);var v=!1,S=!1,_;for(_ in m)if(m.hasOwnProperty(_)){var M=m[_];if(M!=null)switch(_){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Zt(u,d,_,M,m,null)}}S&&Zt(u,d,"srcSet",m.srcSet,m,null),v&&Zt(u,d,"src",m.src,m,null);return;case"input":Mt("invalid",u);var D=_=M=S=null,H=null,K=null;for(v in m)if(m.hasOwnProperty(v)){var ue=m[v];if(ue!=null)switch(v){case"name":S=ue;break;case"type":M=ue;break;case"checked":H=ue;break;case"defaultChecked":K=ue;break;case"value":_=ue;break;case"defaultValue":D=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,d));break;default:Zt(u,d,v,ue,m,null)}}dO(u,_,D,H,K,M,S,!1),Uy(u);return;case"select":Mt("invalid",u),v=M=_=null;for(S in m)if(m.hasOwnProperty(S)&&(D=m[S],D!=null))switch(S){case"value":_=D;break;case"defaultValue":M=D;break;case"multiple":v=D;default:Zt(u,d,S,D,m,null)}d=_,m=M,u.multiple=!!v,d!=null?_d(u,!!v,d,!1):m!=null&&_d(u,!!v,m,!0);return;case"textarea":Mt("invalid",u),_=S=v=null;for(M in m)if(m.hasOwnProperty(M)&&(D=m[M],D!=null))switch(M){case"value":v=D;break;case"defaultValue":S=D;break;case"children":_=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Zt(u,d,M,D,m,null)}hO(u,v,S,_),Uy(u);return;case"option":for(H in m)if(m.hasOwnProperty(H)&&(v=m[H],v!=null))switch(H){case"selected":u.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Zt(u,d,H,v,m,null)}return;case"dialog":Mt("cancel",u),Mt("close",u);break;case"iframe":case"object":Mt("load",u);break;case"video":case"audio":for(v=0;v<Mp.length;v++)Mt(Mp[v],u);break;case"image":Mt("error",u),Mt("load",u);break;case"details":Mt("toggle",u);break;case"embed":case"source":case"link":Mt("error",u),Mt("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in m)if(m.hasOwnProperty(K)&&(v=m[K],v!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Zt(u,d,K,v,m,null)}return;default:if(sS(d)){for(ue in m)m.hasOwnProperty(ue)&&(v=m[ue],v!==void 0&&UC(u,d,ue,v,m,void 0));return}}for(D in m)m.hasOwnProperty(D)&&(v=m[D],v!=null&&Zt(u,d,D,v,m,null))}function aX(u,d,m,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,_=null,M=null,D=null,H=null,K=null,ue=null;for(le in m){var me=m[le];if(m.hasOwnProperty(le)&&me!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":H=me;default:v.hasOwnProperty(le)||Zt(u,d,le,null,v,me)}}for(var ie in v){var le=v[ie];if(me=m[ie],v.hasOwnProperty(ie)&&(le!=null||me!=null))switch(ie){case"type":_=le;break;case"name":S=le;break;case"checked":K=le;break;case"defaultChecked":ue=le;break;case"value":M=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,d));break;default:le!==me&&Zt(u,d,ie,le,v,me)}}oS(u,M,D,H,K,ue,_,S);return;case"select":le=M=D=ie=null;for(_ in m)if(H=m[_],m.hasOwnProperty(_)&&H!=null)switch(_){case"value":break;case"multiple":le=H;default:v.hasOwnProperty(_)||Zt(u,d,_,null,v,H)}for(S in v)if(_=v[S],H=m[S],v.hasOwnProperty(S)&&(_!=null||H!=null))switch(S){case"value":ie=_;break;case"defaultValue":D=_;break;case"multiple":M=_;default:_!==H&&Zt(u,d,S,_,v,H)}d=D,m=M,v=le,ie!=null?_d(u,!!m,ie,!1):!!v!=!!m&&(d!=null?_d(u,!!m,d,!0):_d(u,!!m,m?[]:"",!1));return;case"textarea":le=ie=null;for(D in m)if(S=m[D],m.hasOwnProperty(D)&&S!=null&&!v.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Zt(u,d,D,null,v,S)}for(M in v)if(S=v[M],_=m[M],v.hasOwnProperty(M)&&(S!=null||_!=null))switch(M){case"value":ie=S;break;case"defaultValue":le=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==_&&Zt(u,d,M,S,v,_)}fO(u,ie,le);return;case"option":for(var Fe in m)if(ie=m[Fe],m.hasOwnProperty(Fe)&&ie!=null&&!v.hasOwnProperty(Fe))switch(Fe){case"selected":u.selected=!1;break;default:Zt(u,d,Fe,null,v,ie)}for(H in v)if(ie=v[H],le=m[H],v.hasOwnProperty(H)&&ie!==le&&(ie!=null||le!=null))switch(H){case"selected":u.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Zt(u,d,H,ie,v,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in m)ie=m[at],m.hasOwnProperty(at)&&ie!=null&&!v.hasOwnProperty(at)&&Zt(u,d,at,null,v,ie);for(K in v)if(ie=v[K],le=m[K],v.hasOwnProperty(K)&&ie!==le&&(ie!=null||le!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,d));break;default:Zt(u,d,K,ie,v,le)}return;default:if(sS(d)){for(var Rn in m)ie=m[Rn],m.hasOwnProperty(Rn)&&ie!==void 0&&!v.hasOwnProperty(Rn)&&UC(u,d,Rn,void 0,v,ie);for(ue in v)ie=v[ue],le=m[ue],!v.hasOwnProperty(ue)||ie===le||ie===void 0&&le===void 0||UC(u,d,ue,ie,v,le);return}}for(var J in m)ie=m[J],m.hasOwnProperty(J)&&ie!=null&&!v.hasOwnProperty(J)&&Zt(u,d,J,null,v,ie);for(me in v)ie=v[me],le=m[me],!v.hasOwnProperty(me)||ie===le||ie==null&&le==null||Zt(u,d,me,ie,v,le)}var GC=null,WC=null;function jv(u){return u.nodeType===9?u:u.ownerDocument}function sL(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aL(u,d){if(u===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&d==="foreignObject"?0:u}function qC(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var YC=null;function lX(){var u=window.event;return u&&u.type==="popstate"?u===YC?!1:(YC=u,!0):(YC=null,!1)}var lL=typeof setTimeout=="function"?setTimeout:void 0,cX=typeof clearTimeout=="function"?clearTimeout:void 0,cL=typeof Promise=="function"?Promise:void 0,uX=typeof queueMicrotask=="function"?queueMicrotask:typeof cL<"u"?function(u){return cL.resolve(null).then(u).catch(dX)}:lL;function dX(u){setTimeout(function(){throw u})}function KC(u,d){var m=d,v=0;do{var S=m.nextSibling;if(u.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(v===0){u.removeChild(S),Ip(d);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=S}while(m);Ip(d)}function ZC(u){var d=u.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":ZC(m),rS(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}u.removeChild(m)}}function fX(u,d,m,v){for(;u.nodeType===1;){var S=m;if(u.nodeName.toLowerCase()!==d.toLowerCase()){if(!v&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(v){if(!u[Gh])switch(d){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(_=u.getAttribute("rel"),_==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(_!==S.rel||u.getAttribute("href")!==(S.href==null?null:S.href)||u.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||u.getAttribute("title")!==(S.title==null?null:S.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(_=u.getAttribute("src"),(_!==(S.src==null?null:S.src)||u.getAttribute("type")!==(S.type==null?null:S.type)||u.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&_&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(d==="input"&&u.type==="hidden"){var _=S.name==null?null:""+S.name;if(S.type==="hidden"&&u.getAttribute("name")===_)return u}else return u;if(u=Hi(u.nextSibling),u===null)break}return null}function hX(u,d,m){if(d==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!m||(u=Hi(u.nextSibling),u===null))return null;return u}function Hi(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return u}function uL(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return u;d--}else m==="/$"&&d++}u=u.previousSibling}return null}function dL(u,d,m){switch(d=jv(m),u){case"html":if(u=d.documentElement,!u)throw Error(r(452));return u;case"head":if(u=d.head,!u)throw Error(r(453));return u;case"body":if(u=d.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}var mi=new Map,fL=new Set;function Iv(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var Aa=fe.d;fe.d={f:pX,r:mX,D:gX,C:yX,L:vX,m:bX,X:wX,S:xX,M:SX};function pX(){var u=Aa.f(),d=Av();return u||d}function mX(u){var d=Sd(u);d!==null&&d.tag===5&&d.type==="form"?BD(d):Aa.r(u)}var Qd=typeof document>"u"?null:document;function hL(u,d,m){var v=Qd;if(v&&typeof d=="string"&&d){var S=ii(d);S='link[rel="'+u+'"][href="'+S+'"]',typeof m=="string"&&(S+='[crossorigin="'+m+'"]'),fL.has(S)||(fL.add(S),u={rel:u,crossOrigin:m,href:d},v.querySelector(S)===null&&(d=v.createElement("link"),Mr(d,"link",u),hr(d),v.head.appendChild(d)))}}function gX(u){Aa.D(u),hL("dns-prefetch",u,null)}function yX(u,d){Aa.C(u,d),hL("preconnect",u,d)}function vX(u,d,m){Aa.L(u,d,m);var v=Qd;if(v&&u&&d){var S='link[rel="preload"][as="'+ii(d)+'"]';d==="image"&&m&&m.imageSrcSet?(S+='[imagesrcset="'+ii(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(S+='[imagesizes="'+ii(m.imageSizes)+'"]')):S+='[href="'+ii(u)+'"]';var _=S;switch(d){case"style":_=ef(u);break;case"script":_=tf(u)}mi.has(_)||(u=z({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:u,as:d},m),mi.set(_,u),v.querySelector(S)!==null||d==="style"&&v.querySelector(Rp(_))||d==="script"&&v.querySelector(Np(_))||(d=v.createElement("link"),Mr(d,"link",u),hr(d),v.head.appendChild(d)))}}function bX(u,d){Aa.m(u,d);var m=Qd;if(m&&u){var v=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+ii(v)+'"][href="'+ii(u)+'"]',_=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=tf(u)}if(!mi.has(_)&&(u=z({rel:"modulepreload",href:u},d),mi.set(_,u),m.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Np(_)))return}v=m.createElement("link"),Mr(v,"link",u),hr(v),m.head.appendChild(v)}}}function xX(u,d,m){Aa.S(u,d,m);var v=Qd;if(v&&u){var S=Cd(v).hoistableStyles,_=ef(u);d=d||"default";var M=S.get(_);if(!M){var D={loading:0,preload:null};if(M=v.querySelector(Rp(_)))D.loading=5;else{u=z({rel:"stylesheet",href:u,"data-precedence":d},m),(m=mi.get(_))&&XC(u,m);var H=M=v.createElement("link");hr(H),Mr(H,"link",u),H._p=new Promise(function(K,ue){H.onload=K,H.onerror=ue}),H.addEventListener("load",function(){D.loading|=1}),H.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Vv(M,d,v)}M={type:"stylesheet",instance:M,count:1,state:D},S.set(_,M)}}}function wX(u,d){Aa.X(u,d);var m=Qd;if(m&&u){var v=Cd(m).hoistableScripts,S=tf(u),_=v.get(S);_||(_=m.querySelector(Np(S)),_||(u=z({src:u,async:!0},d),(d=mi.get(S))&&JC(u,d),_=m.createElement("script"),hr(_),Mr(_,"link",u),m.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},v.set(S,_))}}function SX(u,d){Aa.M(u,d);var m=Qd;if(m&&u){var v=Cd(m).hoistableScripts,S=tf(u),_=v.get(S);_||(_=m.querySelector(Np(S)),_||(u=z({src:u,async:!0,type:"module"},d),(d=mi.get(S))&&JC(u,d),_=m.createElement("script"),hr(_),Mr(_,"link",u),m.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},v.set(S,_))}}function pL(u,d,m,v){var S=(S=zt.current)?Iv(S):null;if(!S)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=ef(m.href),m=Cd(S).hoistableStyles,v=m.get(d),v||(v={type:"style",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){u=ef(m.href);var _=Cd(S).hoistableStyles,M=_.get(u);if(M||(S=S.ownerDocument||S,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(u,M),(_=S.querySelector(Rp(u)))&&!_._p&&(M.instance=_,M.state.loading=5),mi.has(u)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},mi.set(u,m),_||CX(S,u,m,M.state))),d&&v===null)throw Error(r(528,""));return M}if(d&&v!==null)throw Error(r(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=tf(m),m=Cd(S).hoistableScripts,v=m.get(d),v||(v={type:"script",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function ef(u){return'href="'+ii(u)+'"'}function Rp(u){return'link[rel="stylesheet"]['+u+"]"}function mL(u){return z({},u,{"data-precedence":u.precedence,precedence:null})}function CX(u,d,m,v){u.querySelector('link[rel="preload"][as="style"]['+d+"]")?v.loading=1:(d=u.createElement("link"),v.preload=d,d.addEventListener("load",function(){return v.loading|=1}),d.addEventListener("error",function(){return v.loading|=2}),Mr(d,"link",m),hr(d),u.head.appendChild(d))}function tf(u){return'[src="'+ii(u)+'"]'}function Np(u){return"script[async]"+u}function gL(u,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var v=u.querySelector('style[data-href~="'+ii(m.href)+'"]');if(v)return d.instance=v,hr(v),v;var S=z({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(u.ownerDocument||u).createElement("style"),hr(v),Mr(v,"style",S),Vv(v,m.precedence,u),d.instance=v;case"stylesheet":S=ef(m.href);var _=u.querySelector(Rp(S));if(_)return d.state.loading|=4,d.instance=_,hr(_),_;v=mL(m),(S=mi.get(S))&&XC(v,S),_=(u.ownerDocument||u).createElement("link"),hr(_);var M=_;return M._p=new Promise(function(D,H){M.onload=D,M.onerror=H}),Mr(_,"link",v),d.state.loading|=4,Vv(_,m.precedence,u),d.instance=_;case"script":return _=tf(m.src),(S=u.querySelector(Np(_)))?(d.instance=S,hr(S),S):(v=m,(S=mi.get(_))&&(v=z({},m),JC(v,S)),u=u.ownerDocument||u,S=u.createElement("script"),hr(S),Mr(S,"link",v),u.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(v=d.instance,d.state.loading|=4,Vv(v,m.precedence,u));return d.instance}function Vv(u,d,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,_=S,M=0;M<v.length;M++){var D=v[M];if(D.dataset.precedence===d)_=D;else if(_!==S)break}_?_.parentNode.insertBefore(u,_.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(u,d.firstChild))}function XC(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.title==null&&(u.title=d.title)}function JC(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.integrity==null&&(u.integrity=d.integrity)}var Bv=null;function yL(u,d,m){if(Bv===null){var v=new Map,S=Bv=new Map;S.set(m,v)}else S=Bv,v=S.get(m),v||(v=new Map,S.set(m,v));if(v.has(u))return v;for(v.set(u,null),m=m.getElementsByTagName(u),S=0;S<m.length;S++){var _=m[S];if(!(_[Gh]||_[jr]||u==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var M=_.getAttribute(d)||"";M=u+M;var D=v.get(M);D?D.push(_):v.set(M,[_])}}return v}function vL(u,d,m){u=u.ownerDocument||u,u.head.insertBefore(m,d==="title"?u.querySelector("head > title"):null)}function kX(u,d,m){if(m===1||d.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return u=d.disabled,typeof d.precedence=="string"&&u==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function bL(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var Op=null;function _X(){}function EX(u,d,m){if(Op===null)throw Error(r(475));var v=Op;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=ef(m.href),_=u.querySelector(Rp(S));if(_){u=_._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(v.count++,v=$v.bind(v),u.then(v,v)),d.state.loading|=4,d.instance=_,hr(_);return}_=u.ownerDocument||u,m=mL(m),(S=mi.get(S))&&XC(m,S),_=_.createElement("link"),hr(_);var M=_;M._p=new Promise(function(D,H){M.onload=D,M.onerror=H}),Mr(_,"link",m),d.instance=_}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(v.count++,d=$v.bind(v),u.addEventListener("load",d),u.addEventListener("error",d))}}function TX(){if(Op===null)throw Error(r(475));var u=Op;return u.stylesheets&&u.count===0&&QC(u,u.stylesheets),0<u.count?function(d){var m=setTimeout(function(){if(u.stylesheets&&QC(u,u.stylesheets),u.unsuspend){var v=u.unsuspend;u.unsuspend=null,v()}},6e4);return u.unsuspend=d,function(){u.unsuspend=null,clearTimeout(m)}}:null}function $v(){if(this.count--,this.count===0){if(this.stylesheets)QC(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Hv=null;function QC(u,d){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Hv=new Map,d.forEach(MX,u),Hv=null,$v.call(u))}function MX(u,d){if(!(d.state.loading&4)){var m=Hv.get(u);if(m)var v=m.get(null);else{m=new Map,Hv.set(u,m);for(var S=u.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<S.length;_++){var M=S[_];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(m.set(M.dataset.precedence,M),v=M)}v&&m.set(null,v)}S=d.instance,M=S.getAttribute("data-precedence"),_=m.get(M)||v,_===v&&m.set(null,S),m.set(M,S),this.count++,v=$v.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),_?_.parentNode.insertBefore(S,_.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(S,u.firstChild)),d.state.loading|=4}}var Dp={$$typeof:y,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function AX(u,d,m,v,S,_,M,D){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fn(0),this.hiddenUpdates=fn(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=_,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function xL(u,d,m,v,S,_,M,D,H,K,ue,me){return u=new AX(u,d,m,M,D,H,K,me),d=1,_===!0&&(d|=24),_=hi(3,null,null,d),u.current=_,_.stateNode=u,d=NS(),d.refCount++,u.pooledCache=d,d.refCount++,_.memoizedState={element:v,isDehydrated:m,cache:d},dC(_),u}function wL(u){return u?(u=Dd,u):Dd}function SL(u,d,m,v,S,_){S=wL(S),v.context===null?v.context=S:v.pendingContext=S,v=Tl(d),v.payload={element:m},_=_===void 0?null:_,_!==null&&(v.callback=_),m=Ml(u,v,d),m!==null&&(eo(m,u,d),gp(m,u,d))}function CL(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<d?m:d}}function ek(u,d){CL(u,d),(u=u.alternate)&&CL(u,d)}function kL(u){if(u.tag===13){var d=xl(u,67108864);d!==null&&eo(d,u,67108864),ek(u,67108864)}}var zv=!0;function RX(u,d,m,v){var S=P.T;P.T=null;var _=fe.p;try{fe.p=2,tk(u,d,m,v)}finally{fe.p=_,P.T=S}}function NX(u,d,m,v){var S=P.T;P.T=null;var _=fe.p;try{fe.p=8,tk(u,d,m,v)}finally{fe.p=_,P.T=S}}function tk(u,d,m,v){if(zv){var S=nk(v);if(S===null)FC(u,d,v,Fv,m),EL(u,v);else if(DX(S,u,d,m,v))v.stopPropagation();else if(EL(u,v),d&4&&-1<OX.indexOf(u)){for(;S!==null;){var _=Sd(S);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var M=Me(_.pendingLanes);if(M!==0){var D=_;for(D.pendingLanes|=2,D.entangledLanes|=2;M;){var H=1<<31-kr(M);D.entanglements[1]|=H,M&=~H}Ss(_),(Cn&6)===0&&(Ev=Re()+500,Tp(0))}}break;case 13:D=xl(_,2),D!==null&&eo(D,_,2),Av(),ek(_,2)}if(_=nk(v),_===null&&FC(u,d,v,Fv,m),_===S)break;S=_}S!==null&&v.stopPropagation()}else FC(u,d,v,null,m)}}function nk(u){return u=lS(u),rk(u)}var Fv=null;function rk(u){if(Fv=null,u=zc(u),u!==null){var d=V(u);if(d===null)u=null;else{var m=d.tag;if(m===13){if(u=G(d),u!==null)return u;u=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null)}}return Fv=u,null}function _L(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(et()){case Ht:return 2;case qt:return 8;case yn:case ri:return 32;case Qn:return 268435456;default:return 32}default:return 32}}var ok=!1,Ll=null,jl=null,Il=null,Pp=new Map,Lp=new Map,Vl=[],OX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function EL(u,d){switch(u){case"focusin":case"focusout":Ll=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":Pp.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lp.delete(d.pointerId)}}function jp(u,d,m,v,S,_){return u===null||u.nativeEvent!==_?(u={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:_,targetContainers:[S]},d!==null&&(d=Sd(d),d!==null&&kL(d)),u):(u.eventSystemFlags|=v,d=u.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),u)}function DX(u,d,m,v,S){switch(d){case"focusin":return Ll=jp(Ll,u,d,m,v,S),!0;case"dragenter":return jl=jp(jl,u,d,m,v,S),!0;case"mouseover":return Il=jp(Il,u,d,m,v,S),!0;case"pointerover":var _=S.pointerId;return Pp.set(_,jp(Pp.get(_)||null,u,d,m,v,S)),!0;case"gotpointercapture":return _=S.pointerId,Lp.set(_,jp(Lp.get(_)||null,u,d,m,v,S)),!0}return!1}function TL(u){var d=zc(u.target);if(d!==null){var m=V(d);if(m!==null){if(d=m.tag,d===13){if(d=G(m),d!==null){u.blockedOn=d,TK(u.priority,function(){if(m.tag===13){var v=Bo(),S=xl(m,v);S!==null&&eo(S,m,v),ek(m,v)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Uv(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var m=nk(u.nativeEvent);if(m===null){m=u.nativeEvent;var v=new m.constructor(m.type,m);aS=v,m.target.dispatchEvent(v),aS=null}else return d=Sd(m),d!==null&&kL(d),u.blockedOn=m,!1;d.shift()}return!0}function ML(u,d,m){Uv(u)&&m.delete(d)}function PX(){ok=!1,Ll!==null&&Uv(Ll)&&(Ll=null),jl!==null&&Uv(jl)&&(jl=null),Il!==null&&Uv(Il)&&(Il=null),Pp.forEach(ML),Lp.forEach(ML)}function Gv(u,d){u.blockedOn===d&&(u.blockedOn=null,ok||(ok=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PX)))}var Wv=null;function AL(u){Wv!==u&&(Wv=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wv===u&&(Wv=null);for(var d=0;d<u.length;d+=3){var m=u[d],v=u[d+1],S=u[d+2];if(typeof v!="function"){if(rk(v||m)===null)continue;break}var _=Sd(m);_!==null&&(u.splice(d,3),d-=3,qS(_,{pending:!0,data:S,method:m.method,action:v},v,S))}}))}function Ip(u){function d(H){return Gv(H,u)}Ll!==null&&Gv(Ll,u),jl!==null&&Gv(jl,u),Il!==null&&Gv(Il,u),Pp.forEach(d),Lp.forEach(d);for(var m=0;m<Vl.length;m++){var v=Vl[m];v.blockedOn===u&&(v.blockedOn=null)}for(;0<Vl.length&&(m=Vl[0],m.blockedOn===null);)TL(m),m.blockedOn===null&&Vl.shift();if(m=(u.ownerDocument||u).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var S=m[v],_=m[v+1],M=S[po]||null;if(typeof _=="function")M||AL(m);else if(M){var D=null;if(_&&_.hasAttribute("formAction")){if(S=_,M=_[po]||null)D=M.formAction;else if(rk(S)!==null)continue}else D=M.action;typeof D=="function"?m[v+1]=D:(m.splice(v,3),v-=3),AL(m)}}}function ik(u){this._internalRoot=u}qv.prototype.render=ik.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(r(409));var m=d.current,v=Bo();SL(m,v,u,d,null,null)},qv.prototype.unmount=ik.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;u.tag===0&&Zd(),SL(u.current,2,null,u,null,null),Av(),d[wd]=null}};function qv(u){this._internalRoot=u}qv.prototype.unstable_scheduleHydration=function(u){if(u){var d=tS();u={blockedOn:null,target:u,priority:d};for(var m=0;m<Vl.length&&d!==0&&d<Vl[m].priority;m++);Vl.splice(m,0,u),m===0&&TL(u)}};var RL=e.version;if(RL!=="19.0.0")throw Error(r(527,RL,"19.0.0"));fe.findDOMNode=function(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=W(d),u=u!==null?se(u):null,u=u===null?null:u.stateNode,u};var LX={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:zc,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yv.isDisabled&&Yv.supportsFiber)try{Do=Yv.inject(LX),er=Yv}catch{}}return Bp.createRoot=function(u,d){if(!o(u))throw Error(r(299));var m=!1,v="",S=qD,_=YD,M=KD,D=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(_=d.onCaughtError),d.onRecoverableError!==void 0&&(M=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(D=d.unstable_transitionCallbacks)),d=xL(u,1,!1,null,null,m,v,S,_,M,D,null),u[wd]=d.current,zC(u.nodeType===8?u.parentNode:u),new ik(d)},Bp.hydrateRoot=function(u,d,m){if(!o(u))throw Error(r(299));var v=!1,S="",_=qD,M=YD,D=KD,H=null,K=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(_=m.onUncaughtError),m.onCaughtError!==void 0&&(M=m.onCaughtError),m.onRecoverableError!==void 0&&(D=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(H=m.unstable_transitionCallbacks),m.formState!==void 0&&(K=m.formState)),d=xL(u,1,!0,d,m??null,v,S,_,M,D,H,K),d.context=wL(null),m=d.current,v=Bo(),S=Tl(v),S.callback=null,Ml(m,S,v),d.current.lanes=v,Pn(d,v),Ss(d),u[wd]=d.current,zC(u),new qv(d)},Bp.version="19.0.0",Bp}var $L;function qX(){if($L)return lk.exports;$L=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lk.exports=WX(),lk.exports}var FB=qX();const YX=(t,e,n,r)=>{var i,s,a,l;const o=[n,{code:e,...r||{}}];if((s=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&s.forward)return t.services.logger.forward(o,"warn","react-i18next::",!0);Au(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},HL={},xE=(t,e,n,r)=>{Au(n)&&HL[n]||(Au(n)&&(HL[n]=new Date),YX(t,e,n,r))},UB=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},wE=(t,e,n)=>{t.loadNamespaces(e,UB(t,n))},zL=(t,e,n,r)=>{if(Au(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return wE(t,n,r);n.forEach(o=>{t.options.ns.indexOf(o)<0&&t.options.ns.push(o)}),t.loadLanguages(e,UB(t,r))},KX=(t,e,n={})=>!e.languages||!e.languages.length?(xE(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,o)=>{var i;if(((i=n.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!o(r.isLanguageChangingTo,t))return!1}}),Au=t=>typeof t=="string",ZX=t=>typeof t=="object"&&t!==null,XX=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,JX={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},QX=t=>JX[t],eJ=t=>t.replace(XX,QX);let SE={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:eJ};const tJ=(t={})=>{SE={...SE,...t}},nJ=()=>SE;let GB;const rJ=t=>{GB=t},oJ=()=>GB,iJ={type:"3rdParty",init(t){tJ(t.options.react),rJ(t)}},sJ=w.createContext();class aJ{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const lJ=(t,e)=>{const n=w.useRef();return w.useEffect(()=>{n.current=t},[t,e]),n.current},WB=(t,e,n,r)=>t.getFixedT(e,n,r),cJ=(t,e,n,r)=>w.useCallback(WB(t,e,n,r),[t,e,n,r]),Gg=(t,e={})=>{var R,A,N,O;const{i18n:n}=e,{i18n:r,defaultNS:o}=w.useContext(sJ)||{},i=n||r||oJ();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new aJ),!i){xE(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const j=(z,X)=>Au(X)?X:ZX(X)&&Au(X.defaultValue)?X.defaultValue:Array.isArray(z)?z[z.length-1]:z,P=[j,{},!1];return P.t=j,P.i18n={},P.ready=!1,P}(R=i.options.react)!=null&&R.wait&&xE(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...nJ(),...i.options.react,...e},{useSuspense:a,keyPrefix:l}=s;let c=o||((A=i.options)==null?void 0:A.defaultNS);c=Au(c)?[c]:c||["translation"],(O=(N=i.reportNamespaces).addUsedNamespaces)==null||O.call(N,c);const f=(i.isInitialized||i.initializedStoreOnce)&&c.every(j=>KX(j,i,s)),h=cJ(i,e.lng||null,s.nsMode==="fallback"?c:c[0],l),p=()=>h,y=()=>WB(i,e.lng||null,s.nsMode==="fallback"?c:c[0],l),[b,x]=w.useState(p);let C=c.join();e.lng&&(C=`${e.lng}${C}`);const k=lJ(C),E=w.useRef(!0);w.useEffect(()=>{const{bindI18n:j,bindI18nStore:P}=s;E.current=!0,!f&&!a&&(e.lng?zL(i,e.lng,c,()=>{E.current&&x(y)}):wE(i,c,()=>{E.current&&x(y)})),f&&k&&k!==C&&E.current&&x(y);const z=()=>{E.current&&x(y)};return j&&(i==null||i.on(j,z)),P&&(i==null||i.store.on(P,z)),()=>{E.current=!1,i&&(j==null||j.split(" ").forEach(X=>i.off(X,z))),P&&i&&P.split(" ").forEach(X=>i.store.off(X,z))}},[i,C]),w.useEffect(()=>{E.current&&f&&x(p)},[i,l,f]);const T=[b,i,f];if(T.t=b,T.i18n=i,T.ready=f,f||!f&&!a)return T;throw new Promise(j=>{e.lng?zL(i,e.lng,c,()=>j()):wE(i,c,()=>j())})},uJ={theme:"system",setTheme:()=>null},qB=w.createContext(uJ);function dJ({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[o,i]=w.useState(()=>localStorage.getItem(n)||e);w.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),o==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(o)},[o]);const s={theme:o,setTheme:a=>{localStorage.setItem(n,a),i(a)}};return g.jsx(qB.Provider,{...r,value:s,children:t})}const YB=()=>{const t=w.useContext(qB);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},F2=w.createContext({});function U2(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const yx=w.createContext(null),G2=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class fJ extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=r instanceof HTMLElement&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=o-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hJ({children:t,isPresent:e,anchorX:n}){const r=w.useId(),o=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=w.useContext(G2);return w.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:f,right:h}=i.current;if(e||!o.current||!a||!l)return;const p=n==="left"?`left: ${f}`:`right: ${h}`;o.current.dataset.motionPopId=r;const y=document.createElement("style");return s&&(y.nonce=s),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),g.jsx(fJ,{isPresent:e,childRef:o,sizeRef:i,children:w.cloneElement(t,{ref:o})})}const pJ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s,anchorX:a})=>{const l=U2(mJ),c=w.useId(),f=w.useCallback(p=>{l.set(p,!0);for(const y of l.values())if(!y)return;r&&r()},[l,r]),h=w.useMemo(()=>({id:c,initial:e,isPresent:n,custom:o,onExitComplete:f,register:p=>(l.set(p,!1),()=>l.delete(p))}),i?[Math.random(),f]:[n,f]);return w.useMemo(()=>{l.forEach((p,y)=>l.set(y,!1))},[n]),w.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),s==="popLayout"&&(t=g.jsx(hJ,{isPresent:n,anchorX:a,children:t})),g.jsx(yx.Provider,{value:h,children:t})};function mJ(){return new Map}function KB(t=!0){const e=w.useContext(yx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,i=w.useId();w.useEffect(()=>{if(t)return o(i)},[t]);const s=w.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,s]:[!0]}const Kv=t=>t.key||"";function FL(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const W2=typeof window<"u",ZB=W2?w.useLayoutEffect:w.useEffect,XB=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:i="sync",propagate:s=!1,anchorX:a="left"})=>{const[l,c]=KB(s),f=w.useMemo(()=>FL(t),[t]),h=s&&!l?[]:f.map(Kv),p=w.useRef(!0),y=w.useRef(f),b=U2(()=>new Map),[x,C]=w.useState(f),[k,E]=w.useState(f);ZB(()=>{p.current=!1,y.current=f;for(let A=0;A<k.length;A++){const N=Kv(k[A]);h.includes(N)?b.delete(N):b.get(N)!==!0&&b.set(N,!1)}},[k,h.length,h.join("-")]);const T=[];if(f!==x){let A=[...f];for(let N=0;N<k.length;N++){const O=k[N],j=Kv(O);h.includes(j)||(A.splice(N,0,O),T.push(O))}return i==="wait"&&T.length&&(A=T),E(FL(A)),C(f),null}const{forceRender:R}=w.useContext(F2);return g.jsx(g.Fragment,{children:k.map(A=>{const N=Kv(A),O=s&&!l?!1:f===k||h.includes(N),j=()=>{if(b.has(N))b.set(N,!0);else return;let P=!0;b.forEach(z=>{z||(P=!1)}),P&&(R==null||R(),E(y.current),s&&(c==null||c()),r&&r())};return g.jsx(pJ,{isPresent:O,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:i,onExitComplete:O?void 0:j,anchorX:a,children:A},N)})})},Go=t=>t;let JB=Go;function q2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ya=t=>t*1e3,Ka=t=>t/1e3,gJ={useManualTiming:!1},Zv=["read","resolveKeyframes","update","preRender","render","postRender"],UL={value:null};function yJ(t,e){let n=new Set,r=new Set,o=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){s.has(h)&&(f.schedule(h),t()),l++,h(a)}const f={schedule:(h,p=!1,y=!1)=>{const x=y&&o?n:r;return p&&s.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),s.delete(h)},process:h=>{if(a=h,o){i=!0;return}o=!0,[n,r]=[r,n],n.forEach(c),e&&UL.value&&UL.value.frameloop[e].push(l),l=0,n.clear(),o=!1,i&&(i=!1,f.process(h))}};return f}const vJ=40;function QB(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=Zv.reduce((k,E)=>(k[E]=yJ(i,e?E:void 0),k),{}),{read:a,resolveKeyframes:l,update:c,preRender:f,render:h,postRender:p}=s,y=()=>{const k=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(k-o.timestamp,vJ),1),o.timestamp=k,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),f.process(o),h.process(o),p.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(y))},b=()=>{n=!0,r=!0,o.isProcessing||t(y)};return{schedule:Zv.reduce((k,E)=>{const T=s[E];return k[E]=(R,A=!1,N=!1)=>(n||b(),T.schedule(R,A,N)),k},{}),cancel:k=>{for(let E=0;E<Zv.length;E++)s[Zv[E]].cancel(k)},state:o,steps:s}}const{schedule:cn,cancel:uc,state:Nr,steps:fk}=QB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Go,!0),e8=w.createContext({strict:!1}),GL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qf={};for(const t in GL)Qf[t]={isEnabled:e=>GL[t].some(n=>!!e[n])};function bJ(t){for(const e in t)Qf[e]={...Qf[e],...t[e]}}const xJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function p0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xJ.has(t)}let t8=t=>!p0(t);function wJ(t){t&&(t8=e=>e.startsWith("on")?!p0(e):t(e))}try{wJ(require("@emotion/is-prop-valid").default)}catch{}function SJ(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(t8(o)||n===!0&&p0(o)||!e&&!p0(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function CJ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const vx=w.createContext({});function bx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Im(t){return typeof t=="string"||Array.isArray(t)}const Y2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],K2=["initial",...Y2];function xx(t){return bx(t.animate)||K2.some(e=>Im(t[e]))}function n8(t){return!!(xx(t)||t.variants)}function kJ(t,e){if(xx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Im(n)?n:void 0,animate:Im(r)?r:void 0}}return t.inherit!==!1?e:{}}function _J(t){const{initial:e,animate:n}=kJ(t,w.useContext(vx));return w.useMemo(()=>({initial:e,animate:n}),[WL(e),WL(n)])}function WL(t){return Array.isArray(t)?t.join(" "):t}const EJ=Symbol.for("motionComponentSymbol");function Cf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TJ(t,e,n){return w.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Cf(n)&&(n.current=r))},[e])}const Z2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),MJ="framerAppearId",r8="data-"+Z2(MJ),{schedule:X2}=QB(queueMicrotask,!1),o8=w.createContext({});function AJ(t,e,n,r,o){var i,s;const{visualElement:a}=w.useContext(vx),l=w.useContext(e8),c=w.useContext(yx),f=w.useContext(G2).reducedMotion,h=w.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const p=h.current,y=w.useContext(o8);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&RJ(h.current,n,o,y);const b=w.useRef(!1);w.useInsertionEffect(()=>{p&&b.current&&p.update(n,c)});const x=n[r8],C=w.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,x)));return ZB(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),X2.render(p.render),C.current&&p.animationState&&p.animationState.animateChanges())}),w.useEffect(()=>{p&&(!C.current&&p.animationState&&p.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)===null||k===void 0||k.call(window,x)}),C.current=!1))}),p}function RJ(t,e,n,r){const{layoutId:o,layout:i,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:i8(t.parent)),t.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:!!s||a&&Cf(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function i8(t){if(t)return t.options.allowProjection!==!1?t.projection:i8(t.parent)}function NJ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){var i,s;t&&bJ(t);function a(c,f){let h;const p={...w.useContext(G2),...c,layoutId:OJ(c)},{isStatic:y}=p,b=_J(c),x=r(c,y);if(!y&&W2){DJ();const C=PJ(p);h=C.MeasureLayout,b.visualElement=AJ(o,x,p,e,C.ProjectionNode)}return g.jsxs(vx.Provider,{value:b,children:[h&&b.visualElement?g.jsx(h,{visualElement:b.visualElement,...p}):null,n(o,c,TJ(x,b.visualElement,f),x,y,b.visualElement)]})}a.displayName=`motion.${typeof o=="string"?o:`create(${(s=(i=o.displayName)!==null&&i!==void 0?i:o.name)!==null&&s!==void 0?s:""})`}`;const l=w.forwardRef(a);return l[EJ]=o,l}function OJ({layoutId:t}){const e=w.useContext(F2).id;return e&&t!==void 0?e+"-"+t:t}function DJ(t,e){w.useContext(e8).strict}function PJ(t){const{drag:e,layout:n}=Qf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const s8=t=>e=>typeof e=="string"&&e.startsWith(t),J2=s8("--"),LJ=s8("var(--"),Q2=t=>LJ(t)?jJ.test(t.split("/*")[0].trim()):!1,jJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vm={};function IJ(t){for(const e in t)Vm[e]=t[e],J2(e)&&(Vm[e].isCSSVariable=!0)}const bh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ad=new Set(bh);function a8(t,{layout:e,layoutId:n}){return ad.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vm[t]||t==="opacity")}const Fr=t=>!!(t&&t.getVelocity),l8=(t,e)=>e&&typeof t=="number"?e.transform(t):t,il=(t,e,n)=>n>e?e:n<t?t:n,xh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bm={...xh,transform:t=>il(0,1,t)},Xv={...xh,default:1},Wg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ul=Wg("deg"),Fs=Wg("%"),Je=Wg("px"),VJ=Wg("vh"),BJ=Wg("vw"),qL={...Fs,parse:t=>Fs.parse(t)/100,transform:t=>Fs.transform(t*100)},$J={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je},HJ={rotate:Ul,rotateX:Ul,rotateY:Ul,rotateZ:Ul,scale:Xv,scaleX:Xv,scaleY:Xv,scaleZ:Xv,skew:Ul,skewX:Ul,skewY:Ul,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:Bm,originX:qL,originY:qL,originZ:Je},YL={...xh,transform:Math.round},eM={...$J,...HJ,zIndex:YL,size:Je,fillOpacity:Bm,strokeOpacity:Bm,numOctaves:YL},zJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FJ=bh.length;function UJ(t,e,n){let r="",o=!0;for(let i=0;i<FJ;i++){const s=bh[i],a=t[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=l8(a,eM[s]);if(!l){o=!1;const f=zJ[s]||s;r+=`${f}(${c}) `}n&&(e[s]=c)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function tM(t,e,n){const{style:r,vars:o,transformOrigin:i}=t;let s=!1,a=!1;for(const l in e){const c=e[l];if(ad.has(l)){s=!0;continue}else if(J2(l)){o[l]=c;continue}else{const f=l8(c,eM[l]);l.startsWith("origin")?(a=!0,i[l]=f):r[l]=f}}if(e.transform||(s||n?r.transform=UJ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:f=0}=i;r.transformOrigin=`${l} ${c} ${f}`}}const nM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function c8(t,e,n){for(const r in e)!Fr(e[r])&&!a8(r,n)&&(t[r]=e[r])}function GJ({transformTemplate:t},e){return w.useMemo(()=>{const n=nM();return tM(n,e,t),Object.assign({},n.vars,n.style)},[e])}function WJ(t,e){const n=t.style||{},r={};return c8(r,n,t),Object.assign(r,GJ(t,e)),r}function qJ(t,e){const n={},r=WJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const YJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rM(t){return typeof t!="string"||t.includes("-")?!1:!!(YJ.indexOf(t)>-1||/[A-Z]/u.test(t))}const KJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZJ={offset:"strokeDashoffset",array:"strokeDasharray"};function XJ(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?KJ:ZJ;t[i.offset]=Je.transform(-r);const s=Je.transform(e),a=Je.transform(n);t[i.array]=`${s} ${a}`}function KL(t,e,n){return typeof t=="string"?t:Je.transform(e+n*t)}function JJ(t,e,n){const r=KL(e,t.x,t.width),o=KL(n,t.y,t.height);return`${r} ${o}`}function oM(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},f,h){if(tM(t,c,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y,dimensions:b}=t;p.transform&&(b&&(y.transform=p.transform),delete p.transform),b&&(o!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=JJ(b,o!==void 0?o:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&XJ(p,s,a,l,!1)}const u8=()=>({...nM(),attrs:{}}),iM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QJ(t,e,n,r){const o=w.useMemo(()=>{const i=u8();return oM(i,e,iM(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};c8(i,t.style,t),o.style={...i,...o.style}}return o}function eQ(t=!1){return(n,r,o,{latestValues:i},s)=>{const l=(rM(n)?QJ:qJ)(r,i,s,n),c=SJ(r,typeof n=="string",t),f=n!==w.Fragment?{...c,...l,ref:o}:{},{children:h}=r,p=w.useMemo(()=>Fr(h)?h.get():h,[h]);return w.createElement(n,{...f,children:p})}}function ZL(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function sM(t,e,n,r){if(typeof e=="function"){const[o,i]=ZL(r);e=e(n!==void 0?n:t.custom,o,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,i]=ZL(r);e=e(n!==void 0?n:t.custom,o,i)}return e}const CE=t=>Array.isArray(t),tQ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),nQ=t=>CE(t)?t[t.length-1]||0:t;function Hb(t){const e=Fr(t)?t.get():t;return tQ(e)?e.toValue():e}function rQ({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,o,i){const s={latestValues:oQ(r,o,i,t),renderState:e()};return n&&(s.onMount=a=>n({props:r,current:a,...s}),s.onUpdate=a=>n(a)),s}const d8=t=>(e,n)=>{const r=w.useContext(vx),o=w.useContext(yx),i=()=>rQ(t,e,r,o);return n?i():U2(i)};function oQ(t,e,n,r){const o={},i=r(t,{});for(const p in i)o[p]=Hb(i[p]);let{initial:s,animate:a}=t;const l=xx(t),c=n8(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||s===!1;const h=f?a:s;if(h&&typeof h!="boolean"&&!bx(h)){const p=Array.isArray(h)?h:[h];for(let y=0;y<p.length;y++){const b=sM(t,p[y]);if(b){const{transitionEnd:x,transition:C,...k}=b;for(const E in k){let T=k[E];if(Array.isArray(T)){const R=f?T.length-1:0;T=T[R]}T!==null&&(o[E]=T)}for(const E in x)o[E]=x[E]}}}return o}function aM(t,e,n){var r;const{style:o}=t,i={};for(const s in o)(Fr(o[s])||e.style&&Fr(e.style[s])||a8(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[s]=o[s]);return i}const iQ={useVisualState:d8({scrapeMotionValuesFromProps:aM,createRenderState:nM})};function f8(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function h8(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const p8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function m8(t,e,n,r){h8(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(p8.has(o)?o:Z2(o),e.attrs[o])}function g8(t,e,n){const r=aM(t,e,n);for(const o in t)if(Fr(t[o])||Fr(e[o])){const i=bh.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[i]=t[o]}return r}const XL=["x","y","width","height","cx","cy","r"],sQ={useVisualState:d8({scrapeMotionValuesFromProps:g8,createRenderState:u8,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:o})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in o)if(ad.has(a)){i=!0;break}}if(!i)return;let s=!e;if(e)for(let a=0;a<XL.length;a++){const l=XL[a];t[l]!==e[l]&&(s=!0)}s&&cn.read(()=>{f8(n,r),cn.render(()=>{oM(r,o,iM(n.tagName),t.transformTemplate),m8(n,r)})})}})};function aQ(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const s={...rM(r)?sQ:iQ,preloadedFeatures:t,useRender:eQ(o),createVisualElement:e,Component:r};return NJ(s)}}function $m(t,e,n){const r=t.getProps();return sM(r,e,n!==void 0?n:r.custom,t)}const lQ=q2(()=>window.ScrollTimeline!==void 0);class cQ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(o=>{if(lQ()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{r.forEach((o,i)=>{o&&o(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class uQ extends cQ{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function lM(t,e){return t?t[e]||t.default||t:void 0}const kE=2e4;function y8(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<kE;)e+=n,r=t.next(e);return e>=kE?1/0:e}function cM(t){return typeof t=="function"}function JL(t,e){t.timeline=e,t.onfinish=null}const uM=t=>Array.isArray(t)&&typeof t[0]=="number",dQ={linearEasing:void 0};function fQ(t,e){const n=q2(t);return()=>{var r;return(r=dQ[e])!==null&&r!==void 0?r:n()}}const m0=fQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),v8=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let i=0;i<o;i++)r+=t(Jf(0,o-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function b8(t){return!!(typeof t=="function"&&m0()||!t||typeof t=="string"&&(t in _E||m0())||uM(t)||Array.isArray(t)&&t.every(b8))}const im=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,_E={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:im([0,.65,.55,1]),circOut:im([.55,0,1,.45]),backIn:im([.31,.01,.66,-.59]),backOut:im([.33,1.53,.69,.99])};function x8(t,e){if(t)return typeof t=="function"&&m0()?v8(t,e):uM(t)?im(t):Array.isArray(t)?t.map(n=>x8(n,e)||_E.easeOut):_E[t]}const zi={x:!1,y:!1};function w8(){return zi.x||zi.y}function hQ(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let o=document;const i=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function S8(t,e){const n=hQ(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function QL(t){return!(t.pointerType==="touch"||w8())}function pQ(t,e,n={}){const[r,o,i]=S8(t,n),s=a=>{if(!QL(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const f=h=>{QL(h)&&(c(h),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,o)};return r.forEach(a=>{a.addEventListener("pointerenter",s,o)}),i}function g0(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const C8=(t,e)=>e?t===e?!0:C8(t,e.parentElement):!1,dM=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gQ(t){return mQ.has(t.tagName)||t.tabIndex!==-1}const sm=new WeakSet;function ej(t){return e=>{e.key==="Enter"&&t(e)}}function hk(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yQ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ej(()=>{if(sm.has(n))return;hk(n,"down");const o=ej(()=>{hk(n,"up")}),i=()=>hk(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tj(t){return dM(t)&&!w8()}function vQ(t,e,n={}){const[r,o,i]=S8(t,n),s=a=>{const l=a.currentTarget;if(!l||!tj(a)||sm.has(l))return;sm.add(l),g0(a,"set");const c=e(l,a),f=(y,b)=>{l.removeEventListener("pointerup",h),l.removeEventListener("pointercancel",p),g0(y,"release"),!(!tj(y)||!sm.has(l))&&(sm.delete(l),typeof c=="function"&&c(y,{success:b}))},h=y=>{(y.isTrusted?bQ(y,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?f(y,!1):f(y,!(l instanceof Element)||C8(l,y.target))},p=y=>{f(y,!1)};l.addEventListener("pointerup",h,o),l.addEventListener("pointercancel",p,o),l.addEventListener("lostpointercapture",p,o)};return r.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!gQ(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",s,o),l&&a.addEventListener("focus",c=>yQ(c,o),o)}),i}function bQ(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function xQ(t){return t==="x"||t==="y"?zi[t]?null:(zi[t]=!0,()=>{zi[t]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}const k8=new Set(["width","height","top","left","right","bottom",...bh]);let zb;function wQ(){zb=void 0}const Us={now:()=>(zb===void 0&&Us.set(Nr.isProcessing||gJ.useManualTiming?Nr.timestamp:performance.now()),zb),set:t=>{zb=t,queueMicrotask(wQ)}};function fM(t,e){t.indexOf(e)===-1&&t.push(e)}function hM(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class pM{constructor(){this.subscriptions=[]}add(e){return fM(this.subscriptions,e),()=>hM(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function _8(t,e){return e?t*(1e3/e):0}const nj=30,SQ=t=>!isNaN(parseFloat(t));class CQ{constructor(e,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const i=Us.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Us.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pM);const r=this.events[e].add(n);return e==="change"?()=>{r(),cn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nj);return _8(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hm(t,e){return new CQ(t,e)}function kQ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hm(n))}function _Q(t,e){const n=$m(t,e);let{transitionEnd:r={},transition:o={},...i}=n||{};i={...i,...r};for(const s in i){const a=nQ(i[s]);kQ(t,s,a)}}function EQ(t){return!!(Fr(t)&&t.add)}function EE(t,e){const n=t.getValue("willChange");if(EQ(n))return n.add(e)}function E8(t){return t.props[r8]}const T8=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,TQ=1e-7,MQ=12;function AQ(t,e,n,r,o){let i,s,a=0;do s=e+(n-e)/2,i=T8(s,r,o)-t,i>0?n=s:e=s;while(Math.abs(i)>TQ&&++a<MQ);return s}function qg(t,e,n,r){if(t===e&&n===r)return Go;const o=i=>AQ(i,0,1,t,n);return i=>i===0||i===1?i:T8(o(i),e,r)}const M8=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,A8=t=>e=>1-t(1-e),R8=qg(.33,1.53,.69,.99),mM=A8(R8),N8=M8(mM),O8=t=>(t*=2)<1?.5*mM(t):.5*(2-Math.pow(2,-10*(t-1))),gM=t=>1-Math.sin(Math.acos(t)),D8=A8(gM),P8=M8(gM),L8=t=>/^0[^.\s]+$/u.test(t);function RQ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||L8(t):!0}const ym=t=>Math.round(t*1e5)/1e5,yM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NQ(t){return t==null}const OQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vM=(t,e)=>n=>!!(typeof n=="string"&&OQ.test(n)&&n.startsWith(t)||e&&!NQ(n)&&Object.prototype.hasOwnProperty.call(n,e)),j8=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,i,s,a]=r.match(yM);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},DQ=t=>il(0,255,t),pk={...xh,transform:t=>Math.round(DQ(t))},bu={test:vM("rgb","red"),parse:j8("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+pk.transform(t)+", "+pk.transform(e)+", "+pk.transform(n)+", "+ym(Bm.transform(r))+")"};function PQ(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const TE={test:vM("#"),parse:PQ,transform:bu.transform},kf={test:vM("hsl","hue"),parse:j8("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Fs.transform(ym(e))+", "+Fs.transform(ym(n))+", "+ym(Bm.transform(r))+")"},$r={test:t=>bu.test(t)||TE.test(t)||kf.test(t),parse:t=>bu.test(t)?bu.parse(t):kf.test(t)?kf.parse(t):TE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bu.transform(t):kf.transform(t)},LQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jQ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yM))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(LQ))===null||n===void 0?void 0:n.length)||0)>0}const I8="number",V8="color",IQ="var",VQ="var(",rj="${}",BQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const a=e.replace(BQ,l=>($r.test(l)?(r.color.push(i),o.push(V8),n.push($r.parse(l))):l.startsWith(VQ)?(r.var.push(i),o.push(IQ),n.push(l)):(r.number.push(i),o.push(I8),n.push(parseFloat(l))),++i,rj)).split(rj);return{values:n,split:a,indexes:r,types:o}}function B8(t){return zm(t).values}function $8(t){const{split:e,types:n}=zm(t),r=e.length;return o=>{let i="";for(let s=0;s<r;s++)if(i+=e[s],o[s]!==void 0){const a=n[s];a===I8?i+=ym(o[s]):a===V8?i+=$r.transform(o[s]):i+=o[s]}return i}}const $Q=t=>typeof t=="number"?0:t;function HQ(t){const e=B8(t);return $8(t)(e.map($Q))}const dc={test:jQ,parse:B8,createTransformer:$8,getAnimatableNone:HQ},zQ=new Set(["brightness","contrast","saturate","opacity"]);function FQ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(yM)||[];if(!r)return t;const o=n.replace(r,"");let i=zQ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+o+")"}const UQ=/\b([a-z-]*)\(.*?\)/gu,ME={...dc,getAnimatableNone:t=>{const e=t.match(UQ);return e?e.map(FQ).join(" "):t}},GQ={...eM,color:$r,backgroundColor:$r,outlineColor:$r,fill:$r,stroke:$r,borderColor:$r,borderTopColor:$r,borderRightColor:$r,borderBottomColor:$r,borderLeftColor:$r,filter:ME,WebkitFilter:ME},bM=t=>GQ[t];function H8(t,e){let n=bM(t);return n!==ME&&(n=dc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const WQ=new Set(["auto","none","0"]);function qQ(t,e,n){let r=0,o;for(;r<t.length&&!o;){const i=t[r];typeof i=="string"&&!WQ.has(i)&&zm(i).values.length&&(o=t[r]),r++}if(o&&n)for(const i of e)t[i]=H8(n,o)}const oj=t=>t===xh||t===Je,ij=(t,e)=>parseFloat(t.split(", ")[e]),sj=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return ij(o[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?ij(i[1],t):0}},YQ=new Set(["x","y","z"]),KQ=bh.filter(t=>!YQ.has(t));function ZQ(t){const e=[];return KQ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const eh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sj(4,13),y:sj(5,14)};eh.translateX=eh.x;eh.translateY=eh.y;const Ru=new Set;let AE=!1,RE=!1;function z8(){if(RE){const t=Array.from(Ru).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=ZQ(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([i,s])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}RE=!1,AE=!1,Ru.forEach(t=>t.complete()),Ru.clear()}function F8(){Ru.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(RE=!0)})}function XQ(){F8(),z8()}class xM{constructor(e,n,r,o,i,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ru.add(this),AE||(AE=!0,cn.read(F8),cn.resolveKeyframes(z8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const s=o==null?void 0:o.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),o&&s===void 0&&o.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ru.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ru.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const U8=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),JQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QQ(t){const e=JQ.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function G8(t,e,n=1){const[r,o]=QQ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const s=i.trim();return U8(s)?parseFloat(s):s}return Q2(o)?G8(o,e,n+1):o}const W8=t=>e=>e.test(t),eee={test:t=>t==="auto",parse:t=>t},q8=[xh,Je,Fs,Ul,BJ,VJ,eee],aj=t=>q8.find(W8(t));class Y8 extends xM{constructor(e,n,r,o,i){super(e,n,r,o,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Q2(c))){const f=G8(c,n.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!k8.has(r)||e.length!==2)return;const[o,i]=e,s=aj(o),a=aj(i);if(s!==a)if(oj(s)&&oj(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)RQ(e[o])&&r.push(o);r.length&&qQ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=o.length-1,a=o[s];o[s]=eh[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const lj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dc.test(t)||t==="0")&&!t.startsWith("url("));function tee(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function nee(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],s=lj(o,e),a=lj(i,e);return!s||!a?!1:tee(t)||(n==="spring"||cM(n))&&r}const ree=t=>t!==null;function wx(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(ree),i=e&&n!=="loop"&&e%2===1?0:o.length-1;return!i||r===void 0?o[i]:r}const oee=40;class K8{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Us.now(),this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:i,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>oee?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&XQ(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Us.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:i,delay:s,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!nee(e,r,o,i))if(s)this.options.duration=0;else{l&&l(wx(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const En=(t,e,n)=>t+(e-t)*n;function mk(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iee({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,i=0,s=0;if(!e)o=i=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=mk(l,a,t+1/3),i=mk(l,a,t),s=mk(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}function y0(t,e){return n=>n>0?e:t}const gk=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},see=[TE,bu,kf],aee=t=>see.find(e=>e.test(t));function cj(t){const e=aee(t);if(!e)return!1;let n=e.parse(t);return e===kf&&(n=iee(n)),n}const uj=(t,e)=>{const n=cj(t),r=cj(e);if(!n||!r)return y0(t,e);const o={...n};return i=>(o.red=gk(n.red,r.red,i),o.green=gk(n.green,r.green,i),o.blue=gk(n.blue,r.blue,i),o.alpha=En(n.alpha,r.alpha,i),bu.transform(o))},lee=(t,e)=>n=>e(t(n)),Yg=(...t)=>t.reduce(lee),NE=new Set(["none","hidden"]);function cee(t,e){return NE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uee(t,e){return n=>En(t,e,n)}function wM(t){return typeof t=="number"?uee:typeof t=="string"?Q2(t)?y0:$r.test(t)?uj:hee:Array.isArray(t)?Z8:typeof t=="object"?$r.test(t)?uj:dee:y0}function Z8(t,e){const n=[...t],r=n.length,o=t.map((i,s)=>wM(i)(i,e[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}}function dee(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=wM(t[o])(t[o],e[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}}function fee(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][o[s]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,o[s]++}return r}const hee=(t,e)=>{const n=dc.createTransformer(e),r=zm(t),o=zm(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?NE.has(t)&&!o.values.length||NE.has(e)&&!r.values.length?cee(t,e):Yg(Z8(fee(r,o),o.values),n):y0(t,e)};function X8(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?En(t,e,n):wM(t)(t,e)}const pee=5;function J8(t,e,n){const r=Math.max(e-pee,0);return _8(n-t(r),e-r)}const On={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dj=.001;function mee({duration:t=On.duration,bounce:e=On.bounce,velocity:n=On.velocity,mass:r=On.mass}){let o,i,s=1-e;s=il(On.minDamping,On.maxDamping,s),t=il(On.minDuration,On.maxDuration,Ka(t)),s<1?(o=c=>{const f=c*s,h=f*t,p=f-n,y=OE(c,s),b=Math.exp(-h);return dj-p/y*b},i=c=>{const h=c*s*t,p=h*n+n,y=Math.pow(s,2)*Math.pow(c,2)*t,b=Math.exp(-h),x=OE(Math.pow(c,2),s);return(-o(c)+dj>0?-1:1)*((p-y)*b)/x}):(o=c=>{const f=Math.exp(-c*t),h=(c-n)*t+1;return-.001+f*h},i=c=>{const f=Math.exp(-c*t),h=(n-c)*(t*t);return f*h});const a=5/t,l=yee(o,i,a);if(t=Ya(t),isNaN(l))return{stiffness:On.stiffness,damping:On.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const gee=12;function yee(t,e,n){let r=n;for(let o=1;o<gee;o++)r=r-t(r)/e(r);return r}function OE(t,e){return t*Math.sqrt(1-e*e)}const vee=["duration","bounce"],bee=["stiffness","damping","mass"];function fj(t,e){return e.some(n=>t[n]!==void 0)}function xee(t){let e={velocity:On.velocity,stiffness:On.stiffness,damping:On.damping,mass:On.mass,isResolvedFromDuration:!1,...t};if(!fj(t,bee)&&fj(t,vee))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,i=2*il(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:On.mass,stiffness:o,damping:i}}else{const n=mee(t);e={...e,...n,mass:On.mass},e.isResolvedFromDuration=!0}return e}function Q8(t=On.visualDuration,e=On.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const i=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:f,duration:h,velocity:p,isResolvedFromDuration:y}=xee({...n,velocity:-Ka(n.velocity||0)}),b=p||0,x=c/(2*Math.sqrt(l*f)),C=s-i,k=Ka(Math.sqrt(l/f)),E=Math.abs(C)<5;r||(r=E?On.restSpeed.granular:On.restSpeed.default),o||(o=E?On.restDelta.granular:On.restDelta.default);let T;if(x<1){const A=OE(k,x);T=N=>{const O=Math.exp(-x*k*N);return s-O*((b+x*k*C)/A*Math.sin(A*N)+C*Math.cos(A*N))}}else if(x===1)T=A=>s-Math.exp(-k*A)*(C+(b+k*C)*A);else{const A=k*Math.sqrt(x*x-1);T=N=>{const O=Math.exp(-x*k*N),j=Math.min(A*N,300);return s-O*((b+x*k*C)*Math.sinh(j)+A*C*Math.cosh(j))/A}}const R={calculatedDuration:y&&h||null,next:A=>{const N=T(A);if(y)a.done=A>=h;else{let O=0;x<1&&(O=A===0?Ya(b):J8(T,A,N));const j=Math.abs(O)<=r,P=Math.abs(s-N)<=o;a.done=j&&P}return a.value=a.done?s:N,a},toString:()=>{const A=Math.min(y8(R),kE),N=v8(O=>R.next(A*O).value,A,30);return A+"ms "+N}};return R}function hj({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},y=j=>a!==void 0&&j<a||l!==void 0&&j>l,b=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let x=n*e;const C=h+x,k=s===void 0?C:s(C);k!==C&&(x=k-h);const E=j=>-x*Math.exp(-j/r),T=j=>k+E(j),R=j=>{const P=E(j),z=T(j);p.done=Math.abs(P)<=c,p.value=p.done?k:z};let A,N;const O=j=>{y(p.value)&&(A=j,N=Q8({keyframes:[p.value,b(p.value)],velocity:J8(T,j,p.value),damping:o,stiffness:i,restDelta:c,restSpeed:f}))};return O(0),{calculatedDuration:null,next:j=>{let P=!1;return!N&&A===void 0&&(P=!0,R(j),O(j)),A!==void 0&&j>=A?N.next(j-A):(!P&&R(j),p)}}}const wee=qg(.42,0,1,1),See=qg(0,0,.58,1),e7=qg(.42,0,.58,1),Cee=t=>Array.isArray(t)&&typeof t[0]!="number",kee={linear:Go,easeIn:wee,easeInOut:e7,easeOut:See,circIn:gM,circInOut:P8,circOut:D8,backIn:mM,backInOut:N8,backOut:R8,anticipate:O8},pj=t=>{if(uM(t)){JB(t.length===4);const[e,n,r,o]=t;return qg(e,n,r,o)}else if(typeof t=="string")return kee[t];return t};function _ee(t,e,n){const r=[],o=n||X8,i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||Go:e;a=Yg(l,a)}r.push(a)}return r}function Eee(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(JB(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=_ee(e,r,o),l=a.length,c=f=>{if(s&&f<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const p=Jf(t[h],t[h+1],f);return a[h](p)};return n?f=>c(il(t[0],t[i-1],f)):c}function Tee(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Jf(0,e,r);t.push(En(n,1,o))}}function Mee(t){const e=[0];return Tee(e,t.length-1),e}function Aee(t,e){return t.map(n=>n*e)}function Ree(t,e){return t.map(()=>e||e7).splice(0,t.length-1)}function v0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=Cee(r)?r.map(pj):pj(r),i={done:!1,value:e[0]},s=Aee(n&&n.length===e.length?n:Mee(e),t),a=Eee(s,e,{ease:Array.isArray(o)?o:Ree(e,o)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const Nee=t=>{const e=({timestamp:n})=>t(n);return{start:()=>cn.update(e,!0),stop:()=>uc(e),now:()=>Nr.isProcessing?Nr.timestamp:Us.now()}},Oee={decay:hj,inertia:hj,tween:v0,keyframes:v0,spring:Q8},Dee=t=>t/100;class SM extends K8{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:o,keyframes:i}=this.options,s=(o==null?void 0:o.KeyframeResolver)||xM,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new s(i,a,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:i,velocity:s=0}=this.options,a=cM(n)?n:Oee[n]||v0;let l,c;a!==v0&&typeof e[0]!="number"&&(l=Yg(Dee,X8(e[0],e[1])),e=[0,100]);const f=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=y8(f));const{calculatedDuration:h}=f,p=h+o,y=p*(r+1)-o;return{generator:f,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:o,generator:i,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:f,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:y,repeatType:b,repeatDelay:x,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const k=this.currentTime-p*(this.speed>=0?1:-1),E=this.speed>=0?k<0:k>f;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let T=this.currentTime,R=i;if(y){const j=Math.min(this.currentTime,f)/h;let P=Math.floor(j),z=j%1;!z&&j>=1&&(z=1),z===1&&P--,P=Math.min(P,y+1),!!(P%2)&&(b==="reverse"?(z=1-z,x&&(z-=x/h)):b==="mirror"&&(R=s)),T=il(0,1,z)*h}const A=E?{done:!1,value:l[0]}:R.next(T);a&&(A.value=a(A.value));let{done:N}=A;!E&&c!==null&&(N=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return O&&o!==void 0&&(A.value=wx(l,this.options,o)),C&&C(A.value),O&&this.finish(),A}get duration(){const{resolved:e}=this;return e?Ka(e.calculatedDuration):0}get time(){return Ka(this.currentTime)}set time(e){e=Ya(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ka(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Nee,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Pee=new Set(["opacity","clipPath","filter","transform"]);function Lee(t,e,n,{delay:r=0,duration:o=300,repeat:i=0,repeatType:s="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const f=x8(a,o);return Array.isArray(f)&&(c.easing=f),t.animate(c,{delay:r,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}const jee=q2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),b0=10,Iee=2e4;function Vee(t){return cM(t.type)||t.type==="spring"||!b8(t.ease)}function Bee(t,e){const n=new SM({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let i=0;for(;!r.done&&i<Iee;)r=n.sample(i),o.push(r.value),i+=b0;return{times:void 0,keyframes:o,duration:i-b0,ease:"linear"}}const t7={anticipate:O8,backInOut:N8,circInOut:P8};function $ee(t){return t in t7}class mj extends K8{constructor(e){super(e);const{name:n,motionValue:r,element:o,keyframes:i}=this.options;this.resolver=new Y8(i,(s,a)=>this.onKeyframesResolved(s,a),n,r,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:o,ease:i,type:s,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&m0()&&$ee(i)&&(i=t7[i]),Vee(this.options)){const{onComplete:h,onUpdate:p,motionValue:y,element:b,...x}=this.options,C=Bee(e,x);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,o=C.times,i=C.ease,s="keyframes"}const f=Lee(a.owner.current,l,e,{...this.options,duration:r,times:o,ease:i});return f.startTime=c??this.calcStartTime(),this.pendingTimeline?(JL(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;a.set(wx(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:o,type:s,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ka(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ka(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ya(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Go;const{animation:r}=n;JL(r,e)}return Go}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:o,type:i,ease:s,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:f,onComplete:h,element:p,...y}=this.options,b=new SM({...y,keyframes:r,duration:o,type:i,ease:s,times:a,isGenerator:!0}),x=Ya(this.time);c.setWithVelocity(b.sample(x-b0).value,b.sample(x).value,b0)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:i,damping:s,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return jee()&&r&&Pee.has(r)&&!l&&!c&&!o&&i!=="mirror"&&s!==0&&a!=="inertia"}}const Hee={type:"spring",stiffness:500,damping:25,restSpeed:10},zee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Fee={type:"keyframes",duration:.8},Uee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gee=(t,{keyframes:e})=>e.length>2?Fee:ad.has(t)?t.startsWith("scale")?zee(e[1]):Hee:Uee;function Wee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...f}){return!!Object.keys(f).length}const CM=(t,e,n,r={},o,i)=>s=>{const a=lM(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ya(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:o};Wee(a)||(f={...f,...Gee(t,f)}),f.duration&&(f.duration=Ya(f.duration)),f.repeatDelay&&(f.repeatDelay=Ya(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const p=wx(f.keyframes,a);if(p!==void 0)return cn.update(()=>{f.onUpdate(p),f.onComplete()}),new uQ([])}return!i&&mj.supports(f)?new mj(f):new SM(f)};function qee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function n7(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var i;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const c=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const h in l){const p=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),y=l[h];if(y===void 0||f&&qee(f,h))continue;const b={delay:n,...lM(s||{},h)};let x=!1;if(window.MotionHandoffAnimation){const k=E8(t);if(k){const E=window.MotionHandoffAnimation(k,h,cn);E!==null&&(b.startTime=E,x=!0)}}EE(t,h),p.start(CM(h,p,y,t.shouldReduceMotion&&k8.has(h)?{type:!1}:b,t,x));const C=p.animation;C&&c.push(C)}return a&&Promise.all(c).then(()=>{cn.update(()=>{a&&_Q(t,a)})}),c}function DE(t,e,n={}){var r;const o=$m(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(i=n.transitionOverride);const s=o?()=>Promise.all(n7(t,o,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=i;return Yee(t,e,f+c,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,f]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function Yee(t,e,n=0,r=0,o=1,i){const s=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Kee).forEach((c,f)=>{c.notify("AnimationStart",e),s.push(DE(c,e,{...i,delay:n+l(f)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function Kee(t,e){return t.sortNodePosition(e)}function Zee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(i=>DE(t,i,n));r=Promise.all(o)}else if(typeof e=="string")r=DE(t,e,n);else{const o=typeof e=="function"?$m(t,e,n.custom):e;r=Promise.all(n7(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function r7(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Xee=K2.length;function o7(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?o7(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Xee;n++){const r=K2[n],o=t.props[r];(Im(o)||o===!1)&&(e[r]=o)}return e}const Jee=[...Y2].reverse(),Qee=Y2.length;function ete(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Zee(t,n,r)))}function tte(t){let e=ete(t),n=gj(),r=!0;const o=l=>(c,f)=>{var h;const p=$m(t,f,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:y,transitionEnd:b,...x}=p;c={...c,...x,...b}}return c};function i(l){e=l(t)}function s(l){const{props:c}=t,f=o7(t.parent)||{},h=[],p=new Set;let y={},b=1/0;for(let C=0;C<Qee;C++){const k=Jee[C],E=n[k],T=c[k]!==void 0?c[k]:f[k],R=Im(T),A=k===l?E.isActive:null;A===!1&&(b=C);let N=T===f[k]&&T!==c[k]&&R;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),E.protectedKeys={...y},!E.isActive&&A===null||!T&&!E.prevProp||bx(T)||typeof T=="boolean")continue;const O=nte(E.prevProp,T);let j=O||k===l&&E.isActive&&!N&&R||C>b&&R,P=!1;const z=Array.isArray(T)?T:[T];let X=z.reduce(o(k),{});A===!1&&(X={});const{prevResolvedValues:Z={}}=E,q={...Z,...X},re=$=>{j=!0,p.has($)&&(P=!0,p.delete($)),E.needsAnimating[$]=!0;const V=t.getValue($);V&&(V.liveStyle=!1)};for(const $ in q){const V=X[$],G=Z[$];if(y.hasOwnProperty($))continue;let L=!1;CE(V)&&CE(G)?L=!r7(V,G):L=V!==G,L?V!=null?re($):p.add($):V!==void 0&&p.has($)?re($):E.protectedKeys[$]=!0}E.prevProp=T,E.prevResolvedValues=X,E.isActive&&(y={...y,...X}),r&&t.blockInitialAnimation&&(j=!1),j&&(!(N&&O)||P)&&h.push(...z.map($=>({animation:$,options:{type:k}})))}if(p.size){const C={};if(typeof c.initial!="boolean"){const k=$m(t,Array.isArray(c.initial)?c.initial[0]:c.initial);k&&k.transition&&(C.transition=k.transition)}p.forEach(k=>{const E=t.getBaseTarget(k),T=t.getValue(k);T&&(T.liveStyle=!0),C[k]=E??null}),h.push({animation:C})}let x=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const h=s(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=gj(),r=!0}}}function nte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!r7(e,t):!1}function cu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gj(){return{animate:cu(!0),whileInView:cu(),whileHover:cu(),whileTap:cu(),whileDrag:cu(),whileFocus:cu(),exit:cu()}}class Ac{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rte extends Ac{constructor(e){super(e),e.animationState||(e.animationState=tte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let ote=0;class ite extends Ac{constructor(){super(...arguments),this.id=ote++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ste={animation:{Feature:rte},exit:{Feature:ite}};function Fm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Kg(t){return{point:{x:t.pageX,y:t.pageY}}}const ate=t=>e=>dM(e)&&t(e,Kg(e));function _f(t,e,n,r){return Fm(t,e,ate(n),r)}function i7({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function lte({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cte(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const s7=1e-4,ute=1-s7,dte=1+s7,a7=.01,fte=0-a7,hte=0+a7;function oo(t){return t.max-t.min}function pte(t,e,n){return Math.abs(t-e)<=n}function yj(t,e,n,r=.5){t.origin=r,t.originPoint=En(e.min,e.max,t.origin),t.scale=oo(n)/oo(e),t.translate=En(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ute&&t.scale<=dte||isNaN(t.scale))&&(t.scale=1),(t.translate>=fte&&t.translate<=hte||isNaN(t.translate))&&(t.translate=0)}function vm(t,e,n,r){yj(t.x,e.x,n.x,r?r.originX:void 0),yj(t.y,e.y,n.y,r?r.originY:void 0)}function vj(t,e,n){t.min=n.min+e.min,t.max=t.min+oo(e)}function mte(t,e,n){vj(t.x,e.x,n.x),vj(t.y,e.y,n.y)}function bj(t,e,n){t.min=e.min-n.min,t.max=t.min+oo(e)}function bm(t,e,n){bj(t.x,e.x,n.x),bj(t.y,e.y,n.y)}const xj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ef=()=>({x:xj(),y:xj()}),wj=()=>({min:0,max:0}),jn=()=>({x:wj(),y:wj()});function bi(t){return[t("x"),t("y")]}function yk(t){return t===void 0||t===1}function PE({scale:t,scaleX:e,scaleY:n}){return!yk(t)||!yk(e)||!yk(n)}function hu(t){return PE(t)||l7(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function l7(t){return Sj(t.x)||Sj(t.y)}function Sj(t){return t&&t!=="0%"}function x0(t,e,n){const r=t-n,o=e*r;return n+o}function Cj(t,e,n,r,o){return o!==void 0&&(t=x0(t,o,r)),x0(t,n,r)+e}function LE(t,e=0,n=1,r,o){t.min=Cj(t.min,e,n,r,o),t.max=Cj(t.max,e,n,r,o)}function c7(t,{x:e,y:n}){LE(t.x,e.translate,e.scale,e.originPoint),LE(t.y,n.translate,n.scale,n.originPoint)}const kj=.999999999999,_j=1.0000000000001;function gte(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mf(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,c7(t,s)),r&&hu(i.latestValues)&&Mf(t,i.latestValues))}e.x<_j&&e.x>kj&&(e.x=1),e.y<_j&&e.y>kj&&(e.y=1)}function Tf(t,e){t.min=t.min+e,t.max=t.max+e}function Ej(t,e,n,r,o=.5){const i=En(t.min,t.max,o);LE(t,e,n,i,r)}function Mf(t,e){Ej(t.x,e.x,e.scaleX,e.scale,e.originX),Ej(t.y,e.y,e.scaleY,e.scale,e.originY)}function u7(t,e){return i7(cte(t.getBoundingClientRect(),e))}function yte(t,e,n){const r=u7(t,n),{scroll:o}=e;return o&&(Tf(r.x,o.offset.x),Tf(r.y,o.offset.y)),r}const Tj=(t,e)=>Math.abs(t-e);function vte(t,e){const n=Tj(t.x,e.x),r=Tj(t.y,e.y);return Math.sqrt(n**2+r**2)}class d7{constructor(e,n,{transformPagePoint:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=bk(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=vte(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:y}=f,{timestamp:b}=Nr;this.history.push({...y,timestamp:b});const{onStart:x,onMove:C}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{if(f.target instanceof Element&&f.target.hasPointerCapture&&f.pointerId!==void 0)try{if(!f.target.hasPointerCapture(f.pointerId))return}catch{}this.lastMoveEvent=f,this.lastMoveEventInfo=vk(h,this.transformPagePoint),cn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{g0(f,"release"),this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=bk(f.type==="pointercancel"||f.type==="lostpointercapture"?this.lastMoveEventInfo:vk(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),y&&y(f,x)},!dM(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r;const i=Kg(e),s=vk(i,this.transformPagePoint),{point:a}=s,{timestamp:l}=Nr;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=n;c&&c(e,bk(s,this.history)),g0(e,"set"),this.removeListeners=Yg(_f(e.currentTarget,"pointermove",this.handlePointerMove),_f(e.currentTarget,"pointerup",this.handlePointerUp),_f(e.currentTarget,"pointercancel",this.handlePointerUp),_f(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),uc(this.updatePoint)}}function vk(t,e){return e?{point:e(t.point)}:t}function Mj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bk({point:t},e){return{point:t,delta:Mj(t,f7(e)),offset:Mj(t,bte(e)),velocity:xte(e,.1)}}function bte(t){return t[0]}function f7(t){return t[t.length-1]}function xte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=f7(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Ya(e)));)n--;if(!r)return{x:0,y:0};const i=Ka(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function wte(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?En(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?En(n,t,r.max):Math.min(t,n)),t}function Aj(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ste(t,{top:e,left:n,bottom:r,right:o}){return{x:Aj(t.x,n,o),y:Aj(t.y,e,r)}}function Rj(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Cte(t,e){return{x:Rj(t.x,e.x),y:Rj(t.y,e.y)}}function kte(t,e){let n=.5;const r=oo(t),o=oo(e);return o>r?n=Jf(e.min,e.max-r,t.min):r>o&&(n=Jf(t.min,t.max-o,e.min)),il(0,1,n)}function _te(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jE=.35;function Ete(t=jE){return t===!1?t=0:t===!0&&(t=jE),{x:Nj(t,"left","right"),y:Nj(t,"top","bottom")}}function Nj(t,e,n){return{min:Oj(t,e),max:Oj(t,n)}}function Oj(t,e){return typeof t=="number"?t:t[e]||0}const Tte=new WeakMap;class Mte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Kg(f).point)},i=(f,h)=>{const{drag:p,dragPropagation:y,onDragStart:b}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xQ(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bi(C=>{let k=this.getAxisMotionValue(C).get()||0;if(Fs.test(k)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[C];T&&(k=oo(T)*(parseFloat(k)/100))}}this.originPoint[C]=k}),b&&cn.postRender(()=>b(f,h)),EE(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},s=(f,h)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:b,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:C}=h;if(y&&this.currentDirection===null){this.currentDirection=Ate(C),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,C),this.updateAxis("y",h.point,C),this.visualElement.render(),x&&x(f,h)},a=(f,h)=>this.stop(f,h),l=()=>bi(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new d7(e,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&cn.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Jv(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=wte(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Cf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=Ste(o.layoutBox,n):this.constraints=!1,this.elastic=Ete(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&bi(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=_te(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cf(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=yte(r,o.root,this.visualElement.getTransformPagePoint());let s=Cte(o.layout.layoutBox,i);if(n){const a=n(lte(s));this.hasMutatedConstraints=!!a,a&&(s=i7(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=bi(f=>{if(!Jv(f,n,this.currentDirection))return;let h=l&&l[f]||{};s&&(h={min:0,max:0});const p=o?200:1e6,y=o?40:1e7,b={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(f,b)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return EE(this.visualElement,e),r.start(CM(e,r,0,n,this.visualElement,!1))}stopAnimation(){bi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bi(n=>{const{drag:r}=this.getProps();if(!Jv(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(e[n]-En(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Cf(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};bi(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();o[s]=kte({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bi(s=>{if(!Jv(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(En(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;Tte.set(this.visualElement,this);const e=this.visualElement.current,n=_f(e,"pointerdown",l=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Cf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),cn.read(r);const s=Fm(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(bi(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=jE,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function Jv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ate(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Rte extends Ac{constructor(e){super(e),this.removeGroupControls=Go,this.removeListeners=Go,this.controls=new Mte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Go}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dj=t=>(e,n)=>{t&&cn.postRender(()=>t(e,n))};class Nte extends Ac{constructor(){super(...arguments),this.removePointerDownListener=Go}onPointerDown(e){this.session=new d7(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Dj(e),onStart:Dj(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&cn.postRender(()=>o(i,s))}}}mount(){this.removePointerDownListener=_f(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $p={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Je.test(t))t=parseFloat(t);else return t;const n=Pj(t,e.target.x),r=Pj(t,e.target.y);return`${n}% ${r}%`}},Ote={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=dc.parse(t);if(o.length>5)return r;const i=dc.createTransformer(t),s=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+s]/=a,o[1+s]/=l;const c=En(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};class Dte extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=e;IJ(Pte),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Fb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||cn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),X2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function h7(t){const[e,n]=KB(),r=w.useContext(F2);return g.jsx(Dte,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(o8),isPresent:e,safeToRemove:n})}const Pte={borderRadius:{...$p,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$p,borderTopRightRadius:$p,borderBottomLeftRadius:$p,borderBottomRightRadius:$p,boxShadow:Ote};function Lte(t,e,n){const r=Fr(t)?t:Hm(t);return r.start(CM("",r,e,n)),r.animation}function jte(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Ite=(t,e)=>t.depth-e.depth;class Vte{constructor(){this.children=[],this.isDirty=!1}add(e){fM(this.children,e),this.isDirty=!0}remove(e){hM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ite),this.isDirty=!1,this.children.forEach(e)}}function Bte(t,e){const n=Us.now(),r=({timestamp:o})=>{const i=o-n;i>=e&&(uc(r),t(i-e))};return cn.read(r,!0),()=>uc(r)}const p7=["TopLeft","TopRight","BottomLeft","BottomRight"],$te=p7.length,Lj=t=>typeof t=="string"?parseFloat(t):t,jj=t=>typeof t=="number"||Je.test(t);function Hte(t,e,n,r,o,i){o?(t.opacity=En(0,n.opacity!==void 0?n.opacity:1,zte(r)),t.opacityExit=En(e.opacity!==void 0?e.opacity:1,0,Fte(r))):i&&(t.opacity=En(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<$te;s++){const a=`border${p7[s]}Radius`;let l=Ij(e,a),c=Ij(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||jj(l)===jj(c)?(t[a]=Math.max(En(Lj(l),Lj(c),r),0),(Fs.test(c)||Fs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=En(e.rotate||0,n.rotate||0,r))}function Ij(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zte=m7(0,.5,D8),Fte=m7(.5,.95,Go);function m7(t,e,n){return r=>r<t?0:r>e?1:n(Jf(t,e,r))}function Vj(t,e){t.min=e.min,t.max=e.max}function gi(t,e){Vj(t.x,e.x),Vj(t.y,e.y)}function Bj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $j(t,e,n,r,o){return t-=e,t=x0(t,1/n,r),o!==void 0&&(t=x0(t,1/o,r)),t}function Ute(t,e=0,n=1,r=.5,o,i=t,s=t){if(Fs.test(e)&&(e=parseFloat(e),e=En(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=En(i.min,i.max,r);t===i&&(a-=e),t.min=$j(t.min,e,n,a,o),t.max=$j(t.max,e,n,a,o)}function Hj(t,e,[n,r,o],i,s){Ute(t,e[n],e[r],e[o],e.scale,i,s)}const Gte=["x","scaleX","originX"],Wte=["y","scaleY","originY"];function zj(t,e,n,r){Hj(t.x,e,Gte,n?n.x:void 0,r?r.x:void 0),Hj(t.y,e,Wte,n?n.y:void 0,r?r.y:void 0)}function Fj(t){return t.translate===0&&t.scale===1}function g7(t){return Fj(t.x)&&Fj(t.y)}function Uj(t,e){return t.min===e.min&&t.max===e.max}function qte(t,e){return Uj(t.x,e.x)&&Uj(t.y,e.y)}function Gj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function y7(t,e){return Gj(t.x,e.x)&&Gj(t.y,e.y)}function Wj(t){return oo(t.x)/oo(t.y)}function qj(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Yte{constructor(){this.members=[]}add(e){fM(this.members,e),e.scheduleRender()}remove(e){if(hM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kte(t,e,n){let r="";const o=t.x.translate/e.x,i=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((o||i||s)&&(r=`translate3d(${o}px, ${i}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:f,rotateX:h,rotateY:p,skewX:y,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const xk=["","X","Y","Z"],Zte={visibility:"hidden"},Yj=1e3;let Xte=0;function wk(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function v7(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=E8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",cn,!(o||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&v7(r)}function b7({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=e==null?void 0:e()){this.id=Xte++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ene),this.nodes.forEach(ine),this.nodes.forEach(sne),this.nodes.forEach(tne)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vte)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new pM),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jte(s),this.instance=s;const{layoutId:l,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Bte(p,250),Fb.hasAnimatedSinceResize&&(Fb.hasAnimatedSinceResize=!1,this.nodes.forEach(Zj))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||dne,{onLayoutAnimationStart:C,onLayoutAnimationComplete:k}=f.getProps(),E=!this.targetLayout||!y7(this.targetLayout,b),T=!p&&y;if(this.options.layoutRoot||this.resumeFrom||T||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const R={...lM(x,"layout"),onPlay:C,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||Zj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,uc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ane),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&v7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kj);return}this.isUpdating||this.nodes.forEach(rne),this.isUpdating=!1,this.nodes.forEach(one),this.nodes.forEach(Jte),this.nodes.forEach(Qte),this.clearAllSnapshots();const a=Us.now();Nr.delta=il(0,1e3/60,a-Nr.timestamp),Nr.timestamp=a,Nr.isProcessing=!0,fk.update.process(Nr),fk.preRender.process(Nr),fk.render.process(Nr),Nr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,X2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nne),this.sharedNodes.forEach(lne)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!oo(this.snapshot.measuredBox.x)&&!oo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!g7(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;s&&(a||hu(this.latestValues)||f)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),fne(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return jn();const l=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(hne))){const{scroll:f}=this.root;f&&(Tf(l.x,f.offset.x),Tf(l.y,f.offset.y))}return l}removeElementScroll(s){var a;const l=jn();if(gi(l,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&gi(l,s),Tf(l.x,h.offset.x),Tf(l.y,h.offset.y))}return l}applyTransform(s,a=!1){const l=jn();gi(l,s);for(let c=0;c<this.path.length;c++){const f=this.path[c];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Mf(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),hu(f.latestValues)&&Mf(l,f.latestValues)}return hu(this.latestValues)&&Mf(l,this.latestValues),l}removeTransform(s){const a=jn();gi(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!hu(c.latestValues))continue;PE(c.latestValues)&&c.updateSnapshot();const f=jn(),h=c.measurePageBox();gi(f,h),zj(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return hu(this.latestValues)&&zj(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Nr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),bm(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jn(),this.targetWithTransforms=jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gi(this.target,this.layout.layoutBox),c7(this.target,this.targetDelta)):gi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),bm(this.relativeTargetOrigin,this.target,y.target),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||PE(this.parent.latestValues)||l7(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Nr.timestamp&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;gi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;gte(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=jn());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bj(this.prevProjectionDelta.x,this.projectionDelta.x),Bj(this.prevProjectionDelta.y,this.projectionDelta.y)),vm(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!qj(this.projectionDelta.x,this.prevProjectionDelta.x)||!qj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ef(),this.projectionDelta=Ef(),this.projectionDeltaWithTransform=Ef()}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},f={...this.latestValues},h=Ef();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=jn(),y=l?l.source:void 0,b=this.layout?this.layout.source:void 0,x=y!==b,C=this.getStack(),k=!C||C.members.length<=1,E=!!(x&&!k&&this.options.crossfade===!0&&!this.path.some(une));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const A=R/1e3;Xj(h.x,s.x,A),Xj(h.y,s.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bm(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cne(this.relativeTarget,this.relativeTargetOrigin,p,A),T&&qte(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=jn()),gi(T,this.relativeTarget)),x&&(this.animationValues=f,Hte(f,c,this.latestValues,A,E,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(uc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cn.update(()=>{Fb.hasAnimatedSinceResize=!0,this.currentAnimation=Lte(0,Yj,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:f}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&x7(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||jn();const h=oo(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const p=oo(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}gi(a,l),Mf(a,f),vm(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Yte),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&wk("z",s,c,this.animationValues);for(let f=0;f<xk.length;f++)wk(`rotate${xk[f]}`,s,c,this.animationValues),wk(`skew${xk[f]}`,s,c,this.animationValues);s.render();for(const f in c)s.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Zte;const c={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Hb(s==null?void 0:s.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Hb(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!hu(this.latestValues)&&(x.transform=f?f({},""):"none",this.hasProjected=!1),x}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=Kte(this.projectionDeltaWithTransform,this.treeScale,p),f&&(c.transform=f(p,c.transform));const{x:y,y:b}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in Vm){if(p[x]===void 0)continue;const{correct:C,applyTo:k,isCSSVariable:E}=Vm[x],T=c.transform==="none"?p[x]:C(p[x],h);if(k){const R=k.length;for(let A=0;A<R;A++)c[k[A]]=T}else E?this.options.visualElement.renderState.vars[x]=T:c[x]=T}return this.options.layoutId&&(c.pointerEvents=h===this?Hb(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Kj),this.root.sharedNodes.clear()}}}function Jte(t){t.updateLayout()}function Qte(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;i==="size"?bi(h=>{const p=s?n.measuredBox[h]:n.layoutBox[h],y=oo(p);p.min=r[h].min,p.max=p.min+y}):x7(i,n.layoutBox,r)&&bi(h=>{const p=s?n.measuredBox[h]:n.layoutBox[h],y=oo(r[h]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const a=Ef();vm(a,r,n.layoutBox);const l=Ef();s?vm(l,t.applyTransform(o,!0),n.measuredBox):vm(l,r,n.layoutBox);const c=!g7(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:y}=h;if(p&&y){const b=jn();bm(b,n.layoutBox,p.layoutBox);const x=jn();bm(x,r,y.layoutBox),y7(b,x)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ene(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function nne(t){t.clearSnapshot()}function Kj(t){t.clearMeasurements()}function rne(t){t.isLayoutDirty=!1}function one(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Zj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ine(t){t.resolveTargetDelta()}function sne(t){t.calcProjection()}function ane(t){t.resetSkewAndRotation()}function lne(t){t.removeLeadSnapshot()}function Xj(t,e,n){t.translate=En(e.translate,0,n),t.scale=En(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Jj(t,e,n,r){t.min=En(e.min,n.min,r),t.max=En(e.max,n.max,r)}function cne(t,e,n,r){Jj(t.x,e.x,n.x,r),Jj(t.y,e.y,n.y,r)}function une(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dne={duration:.45,ease:[.4,0,.1,1]},Qj=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eI=Qj("applewebkit/")&&!Qj("chrome/")?Math.round:Go;function tI(t){t.min=eI(t.min),t.max=eI(t.max)}function fne(t){tI(t.x),tI(t.y)}function x7(t,e,n){return t==="position"||t==="preserve-aspect"&&!pte(Wj(e),Wj(n),.2)}function hne(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const pne=b7({attachResizeListener:(t,e)=>Fm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sk={current:void 0},w7=b7({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sk.current){const t=new pne({});t.mount(window),t.setOptions({layoutScroll:!0}),Sk.current=t}return Sk.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mne={pan:{Feature:Nte},drag:{Feature:Rte,ProjectionNode:w7,MeasureLayout:h7}};function nI(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,i=r[o];i&&cn.postRender(()=>i(e,Kg(e)))}class gne extends Ac{mount(){const{current:e}=this.node;e&&(this.unmount=pQ(e,(n,r)=>(nI(this.node,r,"Start"),o=>nI(this.node,o,"End"))))}unmount(){}}class yne extends Ac{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yg(Fm(this.node.current,"focus",()=>this.onFocus()),Fm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rI(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),i=r[o];i&&cn.postRender(()=>i(e,Kg(e)))}class vne extends Ac{mount(){const{current:e}=this.node;e&&(this.unmount=vQ(e,(n,r)=>(rI(this.node,r,"Start"),(o,{success:i})=>rI(this.node,o,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const IE=new WeakMap,Ck=new WeakMap,bne=t=>{const e=IE.get(t.target);e&&e(t)},xne=t=>{t.forEach(bne)};function wne({root:t,...e}){const n=t||document;Ck.has(n)||Ck.set(n,{});const r=Ck.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(xne,{root:t,...e})),r[o]}function Sne(t,e,n){const r=wne(e);return IE.set(t,n),r.observe(t),()=>{IE.delete(t),r.unobserve(t)}}const Cne={some:0,all:1};class kne extends Ac{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:Cne[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=c?f:h;p&&p(l)};return Sne(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_ne(e,n))&&this.startObserver()}unmount(){}}function _ne({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ene={inView:{Feature:kne},tap:{Feature:vne},focus:{Feature:yne},hover:{Feature:gne}},Tne={layout:{ProjectionNode:w7,MeasureLayout:h7}},VE={current:null},S7={current:!1};function Mne(){if(S7.current=!0,!!W2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>VE.current=t.matches;t.addListener(e),e()}else VE.current=!1}const Ane=[...q8,$r,dc],Rne=t=>Ane.find(W8(t)),Nne=new WeakMap;function One(t,e,n){for(const r in e){const o=e[r],i=n[r];if(Fr(o))t.addValue(r,o);else if(Fr(i))t.addValue(r,Hm(o,{owner:t}));else if(i!==o)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(o):s.hasAnimated||s.set(o)}else{const s=t.getStaticValue(r);t.addValue(r,Hm(s!==void 0?s:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const oI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dne{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Us.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,cn.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:f}=s;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=xx(n),this.isVariantNode=n8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const b=p[y];l[y]!==void 0&&Fr(b)&&b.set(l[y],!1)}}mount(e){this.current=e,Nne.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),S7.current||Mne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:VE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),uc(this.notifyUpdate),uc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ad.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&cn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qf){const n=Qf[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oI.length;r++){const o=oI[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i="on"+o,s=e[i];s&&(this.propEventSubscriptions[o]=this.on(o,s))}this.prevMotionValues=One(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hm(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(U8(o)||L8(o))?o=parseFloat(o):!Rne(o)&&dc.test(n)&&(o=H8(e,n)),this.setBaseTarget(e,Fr(o)?o.get():o)),Fr(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const s=sM(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(o=s[e])}if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Fr(i)?i:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pM),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class C7 extends Dne{constructor(){super(...arguments),this.KeyframeResolver=Y8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Pne(t){return window.getComputedStyle(t)}class Lne extends C7{constructor(){super(...arguments),this.type="html",this.renderInstance=h8}readValueFromInstance(e,n){if(ad.has(n)){const r=bM(n);return r&&r.default||0}else{const r=Pne(e),o=(J2(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return u7(e,n)}build(e,n,r){tM(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return aM(e,n,r)}}class jne extends C7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&f8(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ad.has(n)){const r=bM(n);return r&&r.default||0}return n=p8.has(n)?n:Z2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return g8(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&cn.postRender(this.updateDimensions)}build(e,n,r){oM(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){m8(e,n,r,o)}mount(e){this.isSVGTag=iM(e.tagName),super.mount(e)}}const Ine=(t,e)=>rM(t)?new jne(e):new Lne(e,{allowProjection:t!==w.Fragment}),Vne=aQ({...ste,...Ene,...mne,...Tne},Ine),Bne=CJ(Vne);var Hp={},iI;function $ne(){if(iI)return Hp;iI=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.parse=s,Hp.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,i=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function s(p,y){const b=new i,x=p.length;if(x<2)return b;const C=(y==null?void 0:y.decode)||f;let k=0;do{const E=p.indexOf("=",k);if(E===-1)break;const T=p.indexOf(";",k),R=T===-1?x:T;if(E>R){k=p.lastIndexOf(";",E-1)+1;continue}const A=a(p,k,E),N=l(p,E,A),O=p.slice(A,N);if(b[O]===void 0){let j=a(p,E+1,R),P=l(p,R,j);const z=C(p.slice(j,P));b[O]=z}k=R+1}while(k<x);return b}function a(p,y,b){do{const x=p.charCodeAt(y);if(x!==32&&x!==9)return y}while(++y<b);return b}function l(p,y,b){for(;y>b;){const x=p.charCodeAt(--y);if(x!==32&&x!==9)return y+1}return b}function c(p,y,b){const x=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const C=x(y);if(!e.test(C))throw new TypeError(`argument val is invalid: ${y}`);let k=p+"="+C;if(!b)return k;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);k+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);k+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);k+="; Path="+b.path}if(b.expires){if(!h(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);k+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(k+="; HttpOnly"),b.secure&&(k+="; Secure"),b.partitioned&&(k+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return k}function f(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return o.call(p)==="[object Date]"}return Hp}$ne();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sI="popstate";function Hne(t={}){function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return BE("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Um(o)}return Fne(e,n,null,t)}function wn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zne(){return Math.random().toString(36).substring(2,10)}function aI(t,e){return{usr:t.state,key:t.key,idx:e}}function BE(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wh(e):e,state:n,key:e&&e.key||r||zne()}}function Um({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Fne(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a="POP",l=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function h(){a="POP";let C=f(),k=C==null?null:C-c;c=C,l&&l({action:a,location:x.location,delta:k})}function p(C,k){a="PUSH";let E=BE(x.location,C,k);c=f()+1;let T=aI(E,c),R=x.createHref(E);try{s.pushState(T,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(R)}i&&l&&l({action:a,location:x.location,delta:1})}function y(C,k){a="REPLACE";let E=BE(x.location,C,k);c=f();let T=aI(E,c),R=x.createHref(E);s.replaceState(T,"",R),i&&l&&l({action:a,location:x.location,delta:0})}function b(C){let k=o.location.origin!=="null"?o.location.origin:o.location.href,E=typeof C=="string"?C:Um(C);return E=E.replace(/ $/,"%20"),wn(k,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,k)}let x={get action(){return a},get location(){return t(o,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(sI,h),l=C,()=>{o.removeEventListener(sI,h),l=null}},createHref(C){return e(o,C)},createURL:b,encodeLocation(C){let k=b(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:p,replace:y,go(C){return s.go(C)}};return x}function k7(t,e,n="/"){return Une(t,e,n,!1)}function Une(t,e,n,r){let o=typeof e=="string"?wh(e):e,i=fc(o.pathname||"/",n);if(i==null)return null;let s=_7(t);Gne(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=nre(i);a=ere(s[l],c,r)}return a}function _7(t,e=[],n=[],r=""){let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(wn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Za([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(wn(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),_7(i.children,e,f,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Jne(c,i.index),routesMeta:f})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of E7(i.path))o(i,s,l)}),e}function E7(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=E7(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Gne(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Qne(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Wne=/^:[\w-]+$/,qne=3,Yne=2,Kne=1,Zne=10,Xne=-2,lI=t=>t==="*";function Jne(t,e){let n=t.split("/"),r=n.length;return n.some(lI)&&(r+=Xne),e&&(r+=Yne),n.filter(o=>!lI(o)).reduce((o,i)=>o+(Wne.test(i)?qne:i===""?Kne:Zne),r)}function Qne(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function ere(t,e,n=!1){let{routesMeta:r}=t,o={},i="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=w0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=w0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(o,h.params),s.push({params:o,pathname:Za([i,h.pathname]),pathnameBase:sre(Za([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Za([i,h.pathnameBase]))}return s}function w0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tre(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:h},p)=>{if(f==="*"){let b=a[p]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=a[p];return h&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function tre(t,e=!1,n=!0){Xi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function nre(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rre(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?wh(t):t;return{pathname:n?n.startsWith("/")?n:ore(n,e):e,search:are(r),hash:lre(o)}}function ore(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function kk(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ire(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kM(t){let e=ire(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _M(t,e,n,r=!1){let o;typeof t=="string"?o=wh(t):(o={...t},wn(!o.pathname||!o.pathname.includes("?"),kk("?","pathname","search",o)),wn(!o.pathname||!o.pathname.includes("#"),kk("#","pathname","hash",o)),wn(!o.search||!o.search.includes("#"),kk("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;o.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=rre(o,a),c=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}var Za=t=>t.join("/").replace(/\/\/+/g,"/"),sre=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),are=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lre=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cre(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var T7=["POST","PUT","PATCH","DELETE"];new Set(T7);var ure=["GET",...T7];new Set(ure);var Sh=w.createContext(null);Sh.displayName="DataRouter";var Sx=w.createContext(null);Sx.displayName="DataRouterState";var M7=w.createContext({isTransitioning:!1});M7.displayName="ViewTransition";var dre=w.createContext(new Map);dre.displayName="Fetchers";var fre=w.createContext(null);fre.displayName="Await";var ls=w.createContext(null);ls.displayName="Navigation";var Zg=w.createContext(null);Zg.displayName="Location";var cs=w.createContext({outlet:null,matches:[],isDataRoute:!1});cs.displayName="Route";var EM=w.createContext(null);EM.displayName="RouteError";function hre(t,{relative:e}={}){wn(Ch(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(ls),{hash:o,pathname:i,search:s}=Xg(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Za([n,i])),r.createHref({pathname:a,search:s,hash:o})}function Ch(){return w.useContext(Zg)!=null}function ia(){return wn(Ch(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Zg).location}var A7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R7(t){w.useContext(ls).static||w.useLayoutEffect(t)}function Rc(){let{isDataRoute:t}=w.useContext(cs);return t?Mre():pre()}function pre(){wn(Ch(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Sh),{basename:e,navigator:n}=w.useContext(ls),{matches:r}=w.useContext(cs),{pathname:o}=ia(),i=JSON.stringify(kM(r)),s=w.useRef(!1);return R7(()=>{s.current=!0}),w.useCallback((l,c={})=>{if(Xi(s.current,A7),!s.current)return;if(typeof l=="number"){n.go(l);return}let f=_M(l,JSON.parse(i),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Za([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,i,o,t])}var mre=w.createContext(null);function gre(t){let e=w.useContext(cs).outlet;return e&&w.createElement(mre.Provider,{value:t},e)}function Xg(t,{relative:e}={}){let{matches:n}=w.useContext(cs),{pathname:r}=ia(),o=JSON.stringify(kM(n));return w.useMemo(()=>_M(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function yre(t,e){return N7(t,e)}function N7(t,e,n,r){var E;wn(Ch(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:i}=w.useContext(ls),{matches:s}=w.useContext(cs),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",f=a?a.pathnameBase:"/",h=a&&a.route;{let T=h&&h.path||"";O7(c,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=ia(),y;if(e){let T=typeof e=="string"?wh(e):e;wn(f==="/"||((E=T.pathname)==null?void 0:E.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=p;let b=y.pathname||"/",x=b;if(f!=="/"){let T=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=!i&&n&&n.matches&&n.matches.length>0?n.matches:k7(t,{pathname:x});Xi(h||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Xi(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Sre(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Za([f,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Za([f,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&k?w.createElement(Zg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},k):k}function vre(){let t=Tre(),e=cre(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:o},n):null,s)}var bre=w.createElement(vre,null),xre=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(cs.Provider,{value:this.props.routeContext},w.createElement(EM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wre({routeContext:t,match:e,children:n}){let r=w.useContext(Sh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(cs.Provider,{value:t},n)}function Sre(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,i=n==null?void 0:n.errors;if(i!=null){let l=o.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id])!==void 0);wn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<o.length;l++){let c=o[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:f,errors:h}=n,p=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){s=!0,a>=0?o=o.slice(0,a+1):o=[o[0]];break}}}return o.reduceRight((l,c,f)=>{let h,p=!1,y=null,b=null;n&&(h=i&&c.route.id?i[c.route.id]:void 0,y=c.route.errorElement||bre,s&&(a<0&&f===0?(O7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,b=null):a===f&&(p=!0,b=c.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),C=()=>{let k;return h?k=y:p?k=b:c.route.Component?k=w.createElement(c.route.Component,null):c.route.element?k=c.route.element:k=l,w.createElement(wre,{match:c,routeContext:{outlet:l,matches:x,isDataRoute:n!=null},children:k})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?w.createElement(xre,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:C(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):C()},null)}function TM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cre(t){let e=w.useContext(Sh);return wn(e,TM(t)),e}function kre(t){let e=w.useContext(Sx);return wn(e,TM(t)),e}function _re(t){let e=w.useContext(cs);return wn(e,TM(t)),e}function MM(t){let e=_re(t),n=e.matches[e.matches.length-1];return wn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Ere(){return MM("useRouteId")}function Tre(){var r;let t=w.useContext(EM),e=kre("useRouteError"),n=MM("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Mre(){let{router:t}=Cre("useNavigate"),e=MM("useNavigate"),n=w.useRef(!1);return R7(()=>{n.current=!0}),w.useCallback(async(o,i={})=>{Xi(n.current,A7),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...i}))},[t,e])}var cI={};function O7(t,e,n){!e&&!cI[t]&&(cI[t]=!0,Xi(!1,n))}w.memo(Are);function Are({routes:t,future:e,state:n}){return N7(t,void 0,n,e)}function Rre({to:t,replace:e,state:n,relative:r}){wn(Ch(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(ls);Xi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(cs),{pathname:s}=ia(),a=Rc(),l=_M(t,kM(i),s,r==="path"),c=JSON.stringify(l);return w.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function AM(t){return gre(t.context)}function vr(t){wn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nre({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:i=!1}){wn(!Ch(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=w.useMemo(()=>({basename:s,navigator:o,static:i,future:{}}),[s,o,i]);typeof n=="string"&&(n=wh(n));let{pathname:l="/",search:c="",hash:f="",state:h=null,key:p="default"}=n,y=w.useMemo(()=>{let b=fc(l,s);return b==null?null:{location:{pathname:b,search:c,hash:f,state:h,key:p},navigationType:r}},[s,l,c,f,h,p,r]);return Xi(y!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:w.createElement(ls.Provider,{value:a},w.createElement(Zg.Provider,{children:e,value:y}))}function Ore({children:t,location:e}){return yre($E(t),e)}function $E(t,e=[]){let n=[];return w.Children.forEach(t,(r,o)=>{if(!w.isValidElement(r))return;let i=[...e,o];if(r.type===w.Fragment){n.push.apply(n,$E(r.props.children,i));return}wn(r.type===vr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=$E(r.props.children,i)),n.push(s)}),n}var Ub="get",Gb="application/x-www-form-urlencoded";function Cx(t){return t!=null&&typeof t.tagName=="string"}function Dre(t){return Cx(t)&&t.tagName.toLowerCase()==="button"}function Pre(t){return Cx(t)&&t.tagName.toLowerCase()==="form"}function Lre(t){return Cx(t)&&t.tagName.toLowerCase()==="input"}function jre(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ire(t,e){return t.button===0&&(!e||e==="_self")&&!jre(t)}var Qv=null;function Vre(){if(Qv===null)try{new FormData(document.createElement("form"),0),Qv=!1}catch{Qv=!0}return Qv}var Bre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _k(t){return t!=null&&!Bre.has(t)?(Xi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gb}"`),null):t}function $re(t,e){let n,r,o,i,s;if(Pre(t)){let a=t.getAttribute("action");r=a?fc(a,e):null,n=t.getAttribute("method")||Ub,o=_k(t.getAttribute("enctype"))||Gb,i=new FormData(t)}else if(Dre(t)||Lre(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?fc(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Ub,o=_k(t.getAttribute("formenctype"))||_k(a.getAttribute("enctype"))||Gb,i=new FormData(a,t),!Vre()){let{name:c,type:f,value:h}=t;if(f==="image"){let p=c?`${c}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else c&&i.append(c,h)}}else{if(Cx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ub,r=null,o=Gb,s=t}return i&&o==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}function RM(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Hre(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zre(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Fre(t,e,n){let r=await Promise.all(t.map(async o=>{let i=e.routes[o.route.id];if(i){let s=await Hre(i,n);return s.links?s.links():[]}return[]}));return qre(r.flat(1).filter(zre).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uI(t,e,n,r,o,i){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var f;return n[c].pathname!==l.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,c)=>s(l,c)||a(l,c)):i==="data"?e.filter((l,c)=>{var h;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Ure(t,e,{includeHydrateFallback:n}={}){return Gre(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function Gre(t){return[...new Set(t)]}function Wre(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function qre(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let i=JSON.stringify(Wre(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function Yre(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Kre(){let t=w.useContext(Sh);return RM(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Zre(){let t=w.useContext(Sx);return RM(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var NM=w.createContext(void 0);NM.displayName="FrameworkContext";function D7(){let t=w.useContext(NM);return RM(t,"You must render this element inside a <HydratedRouter> element"),t}function Xre(t,e){let n=w.useContext(NM),[r,o]=w.useState(!1),[i,s]=w.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:f,onTouchStart:h}=e,p=w.useRef(null);w.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let x=k=>{k.forEach(E=>{s(E.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[t]),w.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let y=()=>{o(!0)},b=()=>{o(!1),s(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:zp(a,y),onBlur:zp(l,b),onMouseEnter:zp(c,y),onMouseLeave:zp(f,b),onTouchStart:zp(h,y)}]:[!1,p,{}]}function zp(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Jre({page:t,...e}){let{router:n}=Kre(),r=w.useMemo(()=>k7(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(eoe,{page:t,matches:r,...e}):null}function Qre(t){let{manifest:e,routeModules:n}=D7(),[r,o]=w.useState([]);return w.useEffect(()=>{let i=!1;return Fre(t,e,n).then(s=>{i||o(s)}),()=>{i=!0}},[t,e,n]),r}function eoe({page:t,matches:e,...n}){let r=ia(),{manifest:o,routeModules:i}=D7(),{loaderData:s,matches:a}=Zre(),l=w.useMemo(()=>uI(t,e,a,o,r,"data"),[t,e,a,o,r]),c=w.useMemo(()=>uI(t,e,a,o,r,"assets"),[t,e,a,o,r]),f=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,b=!1;if(e.forEach(C=>{var E;let k=o.routes[C.route.id];!k||!k.hasLoader||(!l.some(T=>T.route.id===C.route.id)&&C.route.id in s&&((E=i[C.route.id])!=null&&E.shouldRevalidate)||k.hasClientLoader?b=!0:y.add(C.route.id))}),y.size===0)return[];let x=Yre(t);return b&&y.size>0&&x.searchParams.set("_routes",e.filter(C=>y.has(C.route.id)).map(C=>C.route.id).join(",")),[x.pathname+x.search]},[s,r,o,l,e,t,i]),h=w.useMemo(()=>Ure(c,o),[c,o]),p=Qre(c);return w.createElement(w.Fragment,null,f.map(y=>w.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),h.map(y=>w.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),p.map(({key:y,link:b})=>w.createElement("link",{key:y,...b})))}function toe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var P7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P7&&(window.__reactRouterVersion="7.2.0")}catch{}function noe({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=Hne({window:n,v5Compat:!0}));let o=r.current,[i,s]=w.useState({action:o.action,location:o.location}),a=w.useCallback(l=>{w.startTransition(()=>s(l))},[s]);return w.useLayoutEffect(()=>o.listen(a),[o,a]),w.createElement(Nre,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:o})}var L7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j7=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:f,viewTransition:h,...p},y){let{basename:b}=w.useContext(ls),x=typeof c=="string"&&L7.test(c),C,k=!1;if(typeof c=="string"&&x&&(C=c,P7))try{let P=new URL(window.location.href),z=c.startsWith("//")?new URL(P.protocol+c):new URL(c),X=fc(z.pathname,b);z.origin===P.origin&&X!=null?c=X+z.search+z.hash:k=!0}catch{Xi(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=hre(c,{relative:o}),[T,R,A]=Xre(r,p),N=soe(c,{replace:s,state:a,target:l,preventScrollReset:f,relative:o,viewTransition:h});function O(P){e&&e(P),P.defaultPrevented||N(P)}let j=w.createElement("a",{...p,...A,href:C||E,onClick:k||i?e:O,ref:toe(y,R),target:l,"data-discover":!x&&n==="render"?"true":void 0});return T&&!x?w.createElement(w.Fragment,null,j,w.createElement(Jre,{page:E})):j});j7.displayName="Link";var roe=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:s,viewTransition:a,children:l,...c},f){let h=Xg(s,{relative:c.relative}),p=ia(),y=w.useContext(Sx),{navigator:b,basename:x}=w.useContext(ls),C=y!=null&&doe(h)&&a===!0,k=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,E=p.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(E=E.toLowerCase(),T=T?T.toLowerCase():null,k=k.toLowerCase()),T&&x&&(T=fc(T,x)||T);const R=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let A=E===k||!o&&E.startsWith(k)&&E.charAt(R)==="/",N=T!=null&&(T===k||!o&&T.startsWith(k)&&T.charAt(k.length)==="/"),O={isActive:A,isPending:N,isTransitioning:C},j=A?e:void 0,P;typeof r=="function"?P=r(O):P=[r,A?"active":null,N?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(O):i;return w.createElement(j7,{...c,"aria-current":j,className:P,ref:f,style:z,to:s,viewTransition:a},typeof l=="function"?l(O):l)});roe.displayName="NavLink";var ooe=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:i,method:s=Ub,action:a,onSubmit:l,relative:c,preventScrollReset:f,viewTransition:h,...p},y)=>{let b=coe(),x=uoe(a,{relative:c}),C=s.toLowerCase()==="get"?"get":"post",k=typeof a=="string"&&L7.test(a),E=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let R=T.nativeEvent.submitter,A=(R==null?void 0:R.getAttribute("formmethod"))||s;b(R||T.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:o,state:i,relative:c,preventScrollReset:f,viewTransition:h})};return w.createElement("form",{ref:y,method:C,action:x,onSubmit:r?l:E,...p,"data-discover":!k&&t==="render"?"true":void 0})});ooe.displayName="Form";function ioe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I7(t){let e=w.useContext(Sh);return wn(e,ioe(t)),e}function soe(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:s}={}){let a=Rc(),l=ia(),c=Xg(t,{relative:i});return w.useCallback(f=>{if(Ire(f,e)){f.preventDefault();let h=n!==void 0?n:Um(l)===Um(c);a(t,{replace:h,state:r,preventScrollReset:o,relative:i,viewTransition:s})}},[l,a,c,n,r,e,t,o,i,s])}var aoe=0,loe=()=>`__${String(++aoe)}__`;function coe(){let{router:t}=I7("useSubmit"),{basename:e}=w.useContext(ls),n=Ere();return w.useCallback(async(r,o={})=>{let{action:i,method:s,encType:a,formData:l,body:c}=$re(r,e);if(o.navigate===!1){let f=o.fetcherKey||loe();await t.fetch(f,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await t.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function uoe(t,{relative:e}={}){let{basename:n}=w.useContext(ls),r=w.useContext(cs);wn(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...Xg(t||".",{relative:e})},s=ia();if(t==null){i.search=s.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let f=a.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Za([n,i.pathname])),Um(i)}function doe(t,e={}){let n=w.useContext(M7);wn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=I7("useViewTransitionState"),o=Xg(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=fc(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=fc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return w0(o.pathname,s)!=null||w0(o.pathname,i)!=null}new TextEncoder;var Di=zB();const kx=$B(Di),foe={initial:{opacity:0,transition:{duration:0}},animate:{opacity:1,transition:{duration:1}},exit:{opacity:0,transition:{duration:0}}};function dI({children:t}){const e=ia();return g.jsx(XB,{mode:"wait",children:g.jsx(Bne.div,{variants:foe,initial:"initial",animate:"animate",exit:"exit",className:"h-full w-full",children:t},e.pathname)})}function hoe(){return g.jsx("div",{className:"w-svw flex min-h-svh flex-col items-center justify-center bg-muted p-6 md:p-10",children:g.jsx("div",{className:"w-full max-w-sm md:max-w-3xl",children:g.jsx(AM,{})})})}function poe(){return g.jsx("div",{className:"flex flex-col items-center mx-auto h-full w-full rounded-xl bg-muted/50",children:g.jsxs("div",{className:"w-full h-full grid grid-cols-12 gap-2",children:[g.jsx("div",{className:"space-y-2 col-span-12 h-full sm:col-span-6 lg:col-span-4 bg-black"}),g.jsx("div",{className:"space-y-2 col-span-12 h-full sm:col-span-12 lg:col-span-8 bg-black"}),g.jsx("div",{className:"space-y-2 col-span-12 h-full sm:col-span-6 lg:col-span-4 bg-black"}),g.jsx("div",{className:"space-y-2 col-span-12 h-full sm:col-span-6 lg:col-span-4 bg-black"}),g.jsx("div",{className:"space-y-2 col-span-12 h-full sm:col-span-6 lg:col-span-4 bg-black"}),g.jsx("div",{className:"space-y-2 col-span-12 h-full sm:col-span-6 lg:col-span-4 bg-black"}),g.jsx("div",{className:"space-y-2 col-span-12 h-full sm:col-span-6 lg:col-span-4 bg-black"}),g.jsx("div",{className:"space-y-2 col-span-12 h-full sm:col-span-6 lg:col-span-4 bg-black"})]})})}function fI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _x(...t){return e=>{let n=!1;const r=t.map(o=>{const i=fI(o,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():fI(t[o],null)}}}}function un(...t){return w.useCallback(_x(...t),t)}var Ko=w.forwardRef((t,e)=>{const{children:n,...r}=t,o=w.Children.toArray(n),i=o.find(moe);if(i){const s=i.props.children,a=o.map(l=>l===i?w.Children.count(s)>1?w.Children.only(null):w.isValidElement(s)?s.props.children:null:l);return g.jsx(HE,{...r,ref:e,children:w.isValidElement(s)?w.cloneElement(s,void 0,a):null})}return g.jsx(HE,{...r,ref:e,children:n})});Ko.displayName="Slot";var HE=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const o=yoe(n),i=goe(r,n.props);return n.type!==w.Fragment&&(i.ref=e?_x(e,o):o),w.cloneElement(n,i)}return w.Children.count(n)>1?w.Children.only(null):null});HE.displayName="SlotClone";var V7=({children:t})=>g.jsx(g.Fragment,{children:t});function moe(t){return w.isValidElement(t)&&t.type===V7}function goe(t,e){const n={...e};for(const r in e){const o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...t,...n}}function yoe(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function B7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=B7(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function us(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=B7(t))&&(r&&(r+=" "),r+=e);return r}const hI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,pI=us,OM=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return pI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=e,s=Object.keys(o).map(c=>{const f=n==null?void 0:n[c],h=i==null?void 0:i[c];if(f===null)return null;const p=hI(f)||hI(h);return o[c][p]}),a=n&&Object.entries(n).reduce((c,f)=>{let[h,p]=f;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:h,className:p,...y}=f;return Object.entries(y).every(b=>{let[x,C]=b;return Array.isArray(C)?C.includes({...i,...a}[x]):{...i,...a}[x]===C})?[...c,h,p]:c},[]);return pI(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},DM="-",voe=t=>{const e=xoe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(DM);return a[0]===""&&a.length!==1&&a.shift(),$7(a,e)||boe(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},$7=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?$7(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const i=t.join(DM);return(s=e.validators.find(({validator:a})=>a(i)))==null?void 0:s.classGroupId},mI=/^\[(.+)\]$/,boe=t=>{if(mI.test(t)){const e=mI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xoe=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const o in n)zE(n[o],r,o,e);return r},zE=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const i=o===""?e:gI(e,o);i.classGroupId=n;return}if(typeof o=="function"){if(woe(o)){zE(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{zE(s,gI(e,i),n,r)})})},gI=(t,e)=>{let n=t;return e.split(DM).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},woe=t=>t.isThemeGetter,Soe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(i,s)=>{n.set(i,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}},FE="!",UE=":",Coe=UE.length,koe=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=o=>{const i=[];let s=0,a=0,l=0,c;for(let b=0;b<o.length;b++){let x=o[b];if(s===0&&a===0){if(x===UE){i.push(o.slice(l,b)),l=b+Coe;continue}if(x==="/"){c=b;continue}}x==="["?s++:x==="]"?s--:x==="("?a++:x===")"&&a--}const f=i.length===0?o:o.substring(l),h=_oe(f),p=h!==f,y=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:y}};if(e){const o=e+UE,i=r;r=s=>s.startsWith(o)?i(s.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},_oe=t=>t.endsWith(FE)?t.substring(0,t.length-1):t.startsWith(FE)?t.substring(1):t,Eoe=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let i=[];return r.forEach(s=>{s[0]==="["||e[s]?(o.push(...i.sort(),s),i=[]):i.push(s)}),o.push(...i.sort()),o}},Toe=t=>({cache:Soe(t.cacheSize),parseClassName:koe(t),sortModifiers:Eoe(t),...voe(t)}),Moe=/\s+/,Aoe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=e,s=[],a=t.trim().split(Moe);let l="";for(let c=a.length-1;c>=0;c-=1){const f=a[c],{isExternal:h,modifiers:p,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:x}=n(f);if(h){l=f+(l.length>0?" "+l:l);continue}let C=!!x,k=r(C?b.substring(0,x):b);if(!k){if(!C){l=f+(l.length>0?" "+l:l);continue}if(k=r(b),!k){l=f+(l.length>0?" "+l:l);continue}C=!1}const E=i(p).join(":"),T=y?E+FE:E,R=T+k;if(s.includes(R))continue;s.push(R);const A=o(k,C);for(let N=0;N<A.length;++N){const O=A[N];s.push(T+O)}l=f+(l.length>0?" "+l:l)}return l};function Roe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=H7(e))&&(r&&(r+=" "),r+=n);return r}const H7=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=H7(t[r]))&&(n&&(n+=" "),n+=e);return n};function Noe(t,...e){let n,r,o,i=s;function s(l){const c=e.reduce((f,h)=>h(f),t());return n=Toe(c),r=n.cache.get,o=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const f=Aoe(l,n);return o(l,f),f}return function(){return i(Roe.apply(null,arguments))}}const yr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},z7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,F7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ooe=/^\d+\/\d+$/,Doe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Poe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Loe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,joe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ioe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nf=t=>Ooe.test(t),Et=t=>!!t&&!Number.isNaN(Number(t)),uu=t=>!!t&&Number.isInteger(Number(t)),yI=t=>t.endsWith("%")&&Et(t.slice(0,-1)),$l=t=>Doe.test(t),Voe=()=>!0,Boe=t=>Poe.test(t)&&!Loe.test(t),PM=()=>!1,$oe=t=>joe.test(t),Hoe=t=>Ioe.test(t),zoe=t=>!Le(t)&&!je(t),Foe=t=>kh(t,W7,PM),Le=t=>z7.test(t),du=t=>kh(t,q7,Boe),Ek=t=>kh(t,eie,Et),Uoe=t=>kh(t,U7,PM),Goe=t=>kh(t,G7,Hoe),Woe=t=>kh(t,PM,$oe),je=t=>F7.test(t),eb=t=>_h(t,q7),qoe=t=>_h(t,tie),Yoe=t=>_h(t,U7),Koe=t=>_h(t,W7),Zoe=t=>_h(t,G7),Xoe=t=>_h(t,nie,!0),kh=(t,e,n)=>{const r=z7.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},_h=(t,e,n=!1)=>{const r=F7.exec(t);return r?r[1]?e(r[1]):n:!1},U7=t=>t==="position",Joe=new Set(["image","url"]),G7=t=>Joe.has(t),Qoe=new Set(["length","size","percentage"]),W7=t=>Qoe.has(t),q7=t=>t==="length",eie=t=>t==="number",tie=t=>t==="family-name",nie=t=>t==="shadow",rie=()=>{const t=yr("color"),e=yr("font"),n=yr("text"),r=yr("font-weight"),o=yr("tracking"),i=yr("leading"),s=yr("breakpoint"),a=yr("container"),l=yr("spacing"),c=yr("radius"),f=yr("shadow"),h=yr("inset-shadow"),p=yr("drop-shadow"),y=yr("blur"),b=yr("perspective"),x=yr("aspect"),C=yr("ease"),k=yr("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],N=()=>[je,Le,l],O=()=>[nf,"full","auto",...N()],j=()=>[uu,"none","subgrid",je,Le],P=()=>["auto",{span:["full",uu,je,Le]},je,Le],z=()=>[uu,"auto",je,Le],X=()=>["auto","min","max","fr",je,Le],Z=()=>["start","end","center","between","around","evenly","stretch","baseline"],q=()=>["start","end","center","stretch"],re=()=>["auto",...N()],ee=()=>[nf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],B=()=>[t,je,Le],$=()=>[yI,du],V=()=>["","none","full",c,je,Le],G=()=>["",Et,eb,du],L=()=>["solid","dashed","dotted","double"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["","none",y,je,Le],ae=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je,Le],fe=()=>["none",Et,je,Le],Ee=()=>["none",Et,je,Le],pe=()=>[Et,je,Le],Ne=()=>[nf,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$l],breakpoint:[$l],color:[Voe],container:[$l],"drop-shadow":[$l],ease:["in","out","in-out"],font:[zoe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$l],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$l],shadow:[$l],spacing:["px",Et],text:[$l],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",nf,Le,je,x]}],container:["container"],columns:[{columns:[Et,Le,je,a]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),Le,je]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[uu,"auto",je,Le]}],basis:[{basis:[nf,"full","auto",a,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Et,nf,"auto","initial","none",Le]}],grow:[{grow:["",Et,je,Le]}],shrink:[{shrink:["",Et,je,Le]}],order:[{order:[uu,"first","last","none",je,Le]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...q(),"baseline"]}],"align-self":[{self:["auto",...q(),"baseline"]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[a,"screen",...ee()]}],"min-w":[{"min-w":[a,"screen","none",...ee()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...ee()]}],h:[{h:["screen",...ee()]}],"min-h":[{"min-h":["screen","none",...ee()]}],"max-h":[{"max-h":["screen",...ee()]}],"font-size":[{text:["base",n,eb,du]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,Ek]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yI,Le]}],"font-family":[{font:[qoe,Le,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,je,Le]}],"line-clamp":[{"line-clamp":[Et,"none",je,Ek]}],leading:[{leading:[i,...N()]}],"list-image":[{"list-image":["none",je,Le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:[Et,"from-font","auto",je,du]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[Et,"auto",je,Le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),Yoe,Uoe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",Koe,Foe]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},uu,je,Le],radial:["",je,Le],conic:[uu,je,Le]},Zoe,Goe]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...L(),"hidden","none"]}],"divide-style":[{divide:[...L(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...L(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Et,je,Le]}],"outline-w":[{outline:["",Et,eb,du]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",f,Xoe,Woe]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",je,Le,h]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[Et,du]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":B()}],opacity:[{opacity:[Et,je,Le]}],"mix-blend":[{"mix-blend":[...W(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none",je,Le]}],blur:[{blur:se()}],brightness:[{brightness:[Et,je,Le]}],contrast:[{contrast:[Et,je,Le]}],"drop-shadow":[{"drop-shadow":["","none",p,je,Le]}],grayscale:[{grayscale:["",Et,je,Le]}],"hue-rotate":[{"hue-rotate":[Et,je,Le]}],invert:[{invert:["",Et,je,Le]}],saturate:[{saturate:[Et,je,Le]}],sepia:[{sepia:["",Et,je,Le]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Le]}],"backdrop-blur":[{"backdrop-blur":se()}],"backdrop-brightness":[{"backdrop-brightness":[Et,je,Le]}],"backdrop-contrast":[{"backdrop-contrast":[Et,je,Le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Et,je,Le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Et,je,Le]}],"backdrop-invert":[{"backdrop-invert":["",Et,je,Le]}],"backdrop-opacity":[{"backdrop-opacity":[Et,je,Le]}],"backdrop-saturate":[{"backdrop-saturate":[Et,je,Le]}],"backdrop-sepia":[{"backdrop-sepia":["",Et,je,Le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Et,"initial",je,Le]}],ease:[{ease:["linear","initial",C,je,Le]}],delay:[{delay:[Et,je,Le]}],animate:[{animate:["none",k,je,Le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,je,Le]}],"perspective-origin":[{"perspective-origin":ae()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[je,Le,"","none","gpu","cpu"]}],"transform-origin":[{origin:ae()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Le]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[Et,eb,du,Ek]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},oie=Noe(rie);function ke(...t){return oie(us(t))}const Gm=OM("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Tt({className:t,variant:e,size:n,asChild:r=!1,...o}){const i=r?Ko:"button";return g.jsx(i,{"data-slot":"button",className:ke(Gm({variant:e,size:n,className:t})),...o})}/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...a},l)=>w.createElement("svg",{ref:l,...sie,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Y7("lucide",o),...a},[...s.map(([c,f])=>w.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=w.forwardRef(({className:r,...o},i)=>w.createElement(aie,{ref:i,iconNode:e,className:Y7(`lucide-${iie(t)}`,r),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vI=rt("ArrowRight",lie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],uie=rt("ArrowUpNarrowWide",cie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],fie=rt("ArrowUpRight",die);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],pie=rt("ArrowUp",hie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]],gie=rt("BookCheck",mie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],vie=rt("BookOpen",yie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],K7=rt("Book",bie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Z7=rt("Briefcase",xie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Sie=rt("CalendarClock",wie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],X7=rt("ChevronLeft",Cie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ex=rt("ChevronRight",kie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Eie=rt("ChevronsUpDown",_ie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tx=rt("CircleCheck",Tie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Aie=rt("Circle",Mie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],J7=rt("Download",Rie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],S0=rt("Ellipsis",Nie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],Die=rt("FolderKanban",Oie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],Lie=rt("Hourglass",Pie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Iie=rt("House",jie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Bie=rt("Inbox",Vie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Hie=rt("Languages",$ie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Fie=rt("LayoutDashboard",zie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1",key:"oynpb5"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z",key:"1qboyk"}]],Q7=rt("LibraryBig",Uie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Wie=rt("Library",Gie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Yie=rt("Link",qie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Zie=rt("LogIn",Kie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Jie=rt("LogOut",Xie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],ese=rt("Moon",Qie);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],nse=rt("NotebookPen",tse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],ose=rt("PanelLeft",rse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],sse=rt("Pause",ise);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],lse=rt("Play",ase);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],LM=rt("Plus",cse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dse=rt("RotateCcw",use);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],e6=rt("Search",fse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pse=rt("Settings",hse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],GE=rt("Sparkles",mse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]],yse=rt("SquareDashed",gse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"M5 8V5c0-1 1-2 2-2h10c1 0 2 1 2 2v3",key:"1pi83i"}],["path",{d:"M19 16v3c0 1-1 2-2 2H7c-1 0-2-1-2-2v-3",key:"ido5k7"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],bse=rt("SquareSplitVertical",vse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],wse=rt("Square",xse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],Cse=rt("StarOff",Sse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4",key:"1fu5g2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.9 4.9 1.4 1.4",key:"b9915j"}],["path",{d:"m17.7 17.7 1.4 1.4",key:"qc3ed3"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.3 17.7-1.4 1.4",key:"5gca6"}],["path",{d:"m19.1 4.9-1.4 1.4",key:"wpu9u6"}]],_se=rt("SunMoon",kse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],bI=rt("Sun",Ese);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Mse=rt("Tag",Tse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Rse=rt("Trash2",Ase);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],jM=rt("Trash",Nse);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dse=rt("User",Ose);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lse=rt("X",Pse);function jse(){const{t}=Gg(),e=Rc(),n=()=>{e("/login")};return g.jsx("div",{className:"flex flex-col items-center mx-auto h-2000 w-full max-w-3xl rounded-xl bg-muted/50",children:g.jsxs(Tt,{className:"m-5",onClick:n,children:[g.jsx(Zie,{}),t("login")]})})}function Gs({className:t,...e}){return g.jsx("div",{"data-slot":"card",className:ke("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function Vf({className:t,...e}){return g.jsx("div",{"data-slot":"card-header",className:ke("flex flex-col gap-1.5 px-6",t),...e})}function Bf({className:t,...e}){return g.jsx("div",{"data-slot":"card-title",className:ke("leading-none font-semibold",t),...e})}function Ei({className:t,...e}){return g.jsx("div",{"data-slot":"card-description",className:ke("text-muted-foreground text-sm",t),...e})}function Ws({className:t,...e}){return g.jsx("div",{"data-slot":"card-content",className:ke("px-6",t),...e})}function Nu({className:t,...e}){return g.jsx("div",{"data-slot":"card-footer",className:ke("flex items-center px-6",t),...e})}function Fa({className:t,type:e,...n}){return g.jsx("input",{type:e,"data-slot":"input",className:ke("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Jg=t=>t.type==="checkbox",xu=t=>t instanceof Date,to=t=>t==null;const t6=t=>typeof t=="object";var Hn=t=>!to(t)&&!Array.isArray(t)&&t6(t)&&!xu(t),n6=t=>Hn(t)&&t.target?Jg(t.target)?t.target.checked:t.target.value:t,Ise=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,r6=(t,e)=>t.has(Ise(e)),Vse=t=>{const e=t.constructor&&t.constructor.prototype;return Hn(e)&&e.hasOwnProperty("isPrototypeOf")},IM=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vo(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(IM&&(t instanceof Blob||r))&&(n||Hn(t)))if(e=n?[]:{},!n&&!Vse(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=vo(t[o]));else return t;return e}var Mx=t=>Array.isArray(t)?t.filter(Boolean):[],In=t=>t===void 0,_e=(t,e,n)=>{if(!e||!Hn(t))return n;const r=Mx(e.split(/[,[\].]+?/)).reduce((o,i)=>to(o)?o:o[i],t);return In(r)||r===t?In(t[e])?n:t[e]:r},ki=t=>typeof t=="boolean",VM=t=>/^\w*$/.test(t),o6=t=>Mx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ft=(t,e,n)=>{let r=-1;const o=VM(e)?[e]:o6(e),i=o.length,s=i-1;for(;++r<i;){const a=o[r];let l=n;if(r!==s){const c=t[a];l=Hn(c)||Array.isArray(c)?c:isNaN(+o[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}return t};const C0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ra={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},i6=U.createContext(null),Ax=()=>U.useContext(i6),Bse=t=>{const{children:e,...n}=t;return U.createElement(i6.Provider,{value:n},e)};var s6=(t,e,n,r=!0)=>{const o={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(o,i,{get:()=>{const s=i;return e._proxyFormState[s]!==Fi.all&&(e._proxyFormState[s]=!r||Fi.all),n&&(n[s]=!0),t[s]}});return o},bo=t=>Hn(t)&&!Object.keys(t).length,a6=(t,e,n,r)=>{n(t);const{name:o,...i}=t;return bo(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(s=>e[s]===(!r||Fi.all))},xm=t=>Array.isArray(t)?t:[t],l6=(t,e,n)=>!t||!e||t===e||xm(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function BM(t){const e=U.useRef(t);e.current=t,U.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function c6(t){const e=Ax(),{control:n=e.control,disabled:r,name:o,exact:i}=t||{},[s,a]=U.useState(n._formState),l=U.useRef(!0),c=U.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=U.useRef(o);return f.current=o,BM({disabled:r,next:h=>l.current&&l6(f.current,h.name,i)&&a6(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),U.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),U.useMemo(()=>s6(s,n,c.current,!1),[s,n])}var Ds=t=>typeof t=="string",u6=(t,e,n,r,o)=>Ds(t)?(r&&e.watch.add(t),_e(n,t,o)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),_e(n,i))):(r&&(e.watchAll=!0),n);function $se(t){const e=Ax(),{control:n=e.control,name:r,defaultValue:o,disabled:i,exact:s}=t||{},a=U.useRef(r);a.current=r,BM({disabled:i,subject:n._subjects.values,next:f=>{l6(a.current,f.name,s)&&c(vo(u6(a.current,n._names,f.values||n._formValues,!1,o)))}});const[l,c]=U.useState(n._getWatch(r,o));return U.useEffect(()=>n._removeUnmounted()),l}function Hse(t){const e=Ax(),{name:n,disabled:r,control:o=e.control,shouldUnregister:i}=t,s=r6(o._names.array,n),a=$se({control:o,name:n,defaultValue:_e(o._formValues,n,_e(o._defaultValues,n,t.defaultValue)),exact:!0}),l=c6({control:o,name:n,exact:!0}),c=U.useRef(o.register(n,{...t.rules,value:a,...ki(t.disabled)?{disabled:t.disabled}:{}})),f=U.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_e(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!_e(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!_e(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!_e(l.validatingFields,n)},error:{enumerable:!0,get:()=>_e(l.errors,n)}}),[l,n]),h=U.useMemo(()=>({name:n,value:a,...ki(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:p=>c.current.onChange({target:{value:n6(p),name:n},type:C0.CHANGE}),onBlur:()=>c.current.onBlur({target:{value:_e(o._formValues,n),name:n},type:C0.BLUR}),ref:p=>{const y=_e(o._fields,n);y&&p&&(y._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:b=>p.setCustomValidity(b),reportValidity:()=>p.reportValidity()})}}),[n,o._formValues,r,l.disabled,a,o._fields]);return U.useEffect(()=>{const p=o._options.shouldUnregister||i,y=(b,x)=>{const C=_e(o._fields,b);C&&C._f&&(C._f.mount=x)};if(y(n,!0),p){const b=vo(_e(o._options.defaultValues,n));Ft(o._defaultValues,n,b),In(_e(o._formValues,n))&&Ft(o._formValues,n,b)}return!s&&o.register(n),()=>{(s?p&&!o._state.action:p)?o.unregister(n):y(n,!1)}},[n,o,s,i]),U.useEffect(()=>{o._updateDisabledField({disabled:r,fields:o._fields,name:n})},[r,n,o]),U.useMemo(()=>({field:h,formState:l,fieldState:f}),[h,l,f])}const zse=t=>t.render(Hse(t));var d6=(t,e,n,r,o)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:o||!0}}:{},xI=t=>({isOnSubmit:!t||t===Fi.onSubmit,isOnBlur:t===Fi.onBlur,isOnChange:t===Fi.onChange,isOnAll:t===Fi.all,isOnTouch:t===Fi.onTouched}),wI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const wm=(t,e,n,r)=>{for(const o of n||Object.keys(t)){const i=_e(t,o);if(i){const{_f:s,...a}=i;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],o)&&!r)return!0;if(s.ref&&e(s.ref,s.name)&&!r)return!0;if(wm(a,e))break}else if(Hn(a)&&wm(a,e))break}}};var Fse=(t,e,n)=>{const r=xm(_e(t,n));return Ft(r,"root",e[n]),Ft(t,n,r),t},$M=t=>t.type==="file",Rs=t=>typeof t=="function",k0=t=>{if(!IM)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Wb=t=>Ds(t),HM=t=>t.type==="radio",_0=t=>t instanceof RegExp;const SI={value:!1,isValid:!1},CI={value:!0,isValid:!0};var f6=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!In(t[0].attributes.value)?In(t[0].value)||t[0].value===""?CI:{value:t[0].value,isValid:!0}:CI:SI}return SI};const kI={isValid:!1,value:null};var h6=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,kI):kI;function _I(t,e,n="validate"){if(Wb(t)||Array.isArray(t)&&t.every(Wb)||ki(t)&&!t)return{type:n,message:Wb(t)?t:"",ref:e}}var rf=t=>Hn(t)&&!_0(t)?t:{value:t,message:""},EI=async(t,e,n,r,o,i)=>{const{ref:s,refs:a,required:l,maxLength:c,minLength:f,min:h,max:p,pattern:y,validate:b,name:x,valueAsNumber:C,mount:k}=t._f,E=_e(n,x);if(!k||e.has(x))return{};const T=a?a[0]:s,R=Z=>{o&&T.reportValidity&&(T.setCustomValidity(ki(Z)?"":Z||""),T.reportValidity())},A={},N=HM(s),O=Jg(s),j=N||O,P=(C||$M(s))&&In(s.value)&&In(E)||k0(s)&&s.value===""||E===""||Array.isArray(E)&&!E.length,z=d6.bind(null,x,r,A),X=(Z,q,re,ee=Ra.maxLength,B=Ra.minLength)=>{const $=Z?q:re;A[x]={type:Z?ee:B,message:$,ref:s,...z(Z?ee:B,$)}};if(i?!Array.isArray(E)||!E.length:l&&(!j&&(P||to(E))||ki(E)&&!E||O&&!f6(a).isValid||N&&!h6(a).isValid)){const{value:Z,message:q}=Wb(l)?{value:!!l,message:l}:rf(l);if(Z&&(A[x]={type:Ra.required,message:q,ref:T,...z(Ra.required,q)},!r))return R(q),A}if(!P&&(!to(h)||!to(p))){let Z,q;const re=rf(p),ee=rf(h);if(!to(E)&&!isNaN(E)){const B=s.valueAsNumber||E&&+E;to(re.value)||(Z=B>re.value),to(ee.value)||(q=B<ee.value)}else{const B=s.valueAsDate||new Date(E),$=L=>new Date(new Date().toDateString()+" "+L),V=s.type=="time",G=s.type=="week";Ds(re.value)&&E&&(Z=V?$(E)>$(re.value):G?E>re.value:B>new Date(re.value)),Ds(ee.value)&&E&&(q=V?$(E)<$(ee.value):G?E<ee.value:B<new Date(ee.value))}if((Z||q)&&(X(!!Z,re.message,ee.message,Ra.max,Ra.min),!r))return R(A[x].message),A}if((c||f)&&!P&&(Ds(E)||i&&Array.isArray(E))){const Z=rf(c),q=rf(f),re=!to(Z.value)&&E.length>+Z.value,ee=!to(q.value)&&E.length<+q.value;if((re||ee)&&(X(re,Z.message,q.message),!r))return R(A[x].message),A}if(y&&!P&&Ds(E)){const{value:Z,message:q}=rf(y);if(_0(Z)&&!E.match(Z)&&(A[x]={type:Ra.pattern,message:q,ref:s,...z(Ra.pattern,q)},!r))return R(q),A}if(b){if(Rs(b)){const Z=await b(E,n),q=_I(Z,T);if(q&&(A[x]={...q,...z(Ra.validate,q.message)},!r))return R(q.message),A}else if(Hn(b)){let Z={};for(const q in b){if(!bo(Z)&&!r)break;const re=_I(await b[q](E,n),T,q);re&&(Z={...re,...z(q,re.message)},R(re.message),r&&(A[x]=Z))}if(!bo(Z)&&(A[x]={ref:T,...Z},!r))return A}}return R(!0),A};function Use(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=In(t)?r++:t[e[r++]];return t}function Gse(t){for(const e in t)if(t.hasOwnProperty(e)&&!In(t[e]))return!1;return!0}function or(t,e){const n=Array.isArray(e)?e:VM(e)?[e]:o6(e),r=n.length===1?t:Use(t,n),o=n.length-1,i=n[o];return r&&delete r[i],o!==0&&(Hn(r)&&bo(r)||Array.isArray(r)&&Gse(r))&&or(t,n.slice(0,-1)),t}var Tk=()=>{let t=[];return{get observers(){return t},next:o=>{for(const i of t)i.next&&i.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(i=>i!==o)}}),unsubscribe:()=>{t=[]}}},WE=t=>to(t)||!t6(t);function Zl(t,e){if(WE(t)||WE(e))return t===e;if(xu(t)&&xu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const o of n){const i=t[o];if(!r.includes(o))return!1;if(o!=="ref"){const s=e[o];if(xu(i)&&xu(s)||Hn(i)&&Hn(s)||Array.isArray(i)&&Array.isArray(s)?!Zl(i,s):i!==s)return!1}}return!0}var p6=t=>t.type==="select-multiple",Wse=t=>HM(t)||Jg(t),Mk=t=>k0(t)&&t.isConnected,m6=t=>{for(const e in t)if(Rs(t[e]))return!0;return!1};function E0(t,e={}){const n=Array.isArray(t);if(Hn(t)||n)for(const r in t)Array.isArray(t[r])||Hn(t[r])&&!m6(t[r])?(e[r]=Array.isArray(t[r])?[]:{},E0(t[r],e[r])):to(t[r])||(e[r]=!0);return e}function g6(t,e,n){const r=Array.isArray(t);if(Hn(t)||r)for(const o in t)Array.isArray(t[o])||Hn(t[o])&&!m6(t[o])?In(e)||WE(n[o])?n[o]=Array.isArray(t[o])?E0(t[o],[]):{...E0(t[o])}:g6(t[o],to(e)?{}:e[o],n[o]):n[o]=!Zl(t[o],e[o]);return n}var Fp=(t,e)=>g6(t,e,E0(e)),y6=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>In(t)?t:e?t===""?NaN:t&&+t:n&&Ds(t)?new Date(t):r?r(t):t;function Ak(t){const e=t.ref;return $M(e)?e.files:HM(e)?h6(t.refs).value:p6(e)?[...e.selectedOptions].map(({value:n})=>n):Jg(e)?f6(t.refs).value:y6(In(e.value)?t.ref.value:e.value,t)}var qse=(t,e,n,r)=>{const o={};for(const i of t){const s=_e(e,i);s&&Ft(o,i,s._f)}return{criteriaMode:n,names:[...t],fields:o,shouldUseNativeValidation:r}},Up=t=>In(t)?t:_0(t)?t.source:Hn(t)?_0(t.value)?t.value.source:t.value:t;const TI="AsyncFunction";var Yse=t=>!!t&&!!t.validate&&!!(Rs(t.validate)&&t.validate.constructor.name===TI||Hn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===TI)),Kse=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function MI(t,e,n){const r=_e(t,n);if(r||VM(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const i=o.join("."),s=_e(e,i),a=_e(t,i);if(s&&!Array.isArray(s)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};o.pop()}return{name:n}}var Zse=(t,e,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(e||t):(n?r.isOnBlur:o.isOnBlur)?!t:(n?r.isOnChange:o.isOnChange)?t:!0,Xse=(t,e)=>!Mx(_e(t,e)).length&&or(t,e);const Jse={mode:Fi.onSubmit,reValidateMode:Fi.onChange,shouldFocusError:!0};function Qse(t={}){let e={...Jse,...t},n={submitCount:0,isDirty:!1,isLoading:Rs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},o=Hn(e.defaultValues)||Hn(e.values)?vo(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:vo(o),s={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Tk(),array:Tk(),state:Tk()},p=xI(e.mode),y=xI(e.reValidateMode),b=e.criteriaMode===Fi.all,x=F=>Q=>{clearTimeout(c),c=setTimeout(F,Q)},C=async F=>{if(!e.disabled&&(f.isValid||F)){const Q=e.resolver?bo((await j()).errors):await z(r,!0);Q!==n.isValid&&h.state.next({isValid:Q})}},k=(F,Q)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((F||Array.from(a.mount)).forEach(oe=>{oe&&(Q?Ft(n.validatingFields,oe,Q):or(n.validatingFields,oe))}),h.state.next({validatingFields:n.validatingFields,isValidating:!bo(n.validatingFields)}))},E=(F,Q=[],oe,Ce,ve=!0,ye=!0)=>{if(Ce&&oe&&!e.disabled){if(s.action=!0,ye&&Array.isArray(_e(r,F))){const Re=oe(_e(r,F),Ce.argA,Ce.argB);ve&&Ft(r,F,Re)}if(ye&&Array.isArray(_e(n.errors,F))){const Re=oe(_e(n.errors,F),Ce.argA,Ce.argB);ve&&Ft(n.errors,F,Re),Xse(n.errors,F)}if(f.touchedFields&&ye&&Array.isArray(_e(n.touchedFields,F))){const Re=oe(_e(n.touchedFields,F),Ce.argA,Ce.argB);ve&&Ft(n.touchedFields,F,Re)}f.dirtyFields&&(n.dirtyFields=Fp(o,i)),h.state.next({name:F,isDirty:Z(F,Q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ft(i,F,Q)},T=(F,Q)=>{Ft(n.errors,F,Q),h.state.next({errors:n.errors})},R=F=>{n.errors=F,h.state.next({errors:n.errors,isValid:!1})},A=(F,Q,oe,Ce)=>{const ve=_e(r,F);if(ve){const ye=_e(i,F,In(oe)?_e(o,F):oe);In(ye)||Ce&&Ce.defaultChecked||Q?Ft(i,F,Q?ye:Ak(ve._f)):ee(F,ye),s.mount&&C()}},N=(F,Q,oe,Ce,ve)=>{let ye=!1,Re=!1;const et={name:F};if(!e.disabled){const Ht=!!(_e(r,F)&&_e(r,F)._f&&_e(r,F)._f.disabled);if(!oe||Ce){f.isDirty&&(Re=n.isDirty,n.isDirty=et.isDirty=Z(),ye=Re!==et.isDirty);const qt=Ht||Zl(_e(o,F),Q);Re=!!(!Ht&&_e(n.dirtyFields,F)),qt||Ht?or(n.dirtyFields,F):Ft(n.dirtyFields,F,!0),et.dirtyFields=n.dirtyFields,ye=ye||f.dirtyFields&&Re!==!qt}if(oe){const qt=_e(n.touchedFields,F);qt||(Ft(n.touchedFields,F,oe),et.touchedFields=n.touchedFields,ye=ye||f.touchedFields&&qt!==oe)}ye&&ve&&h.state.next(et)}return ye?et:{}},O=(F,Q,oe,Ce)=>{const ve=_e(n.errors,F),ye=f.isValid&&ki(Q)&&n.isValid!==Q;if(e.delayError&&oe?(l=x(()=>T(F,oe)),l(e.delayError)):(clearTimeout(c),l=null,oe?Ft(n.errors,F,oe):or(n.errors,F)),(oe?!Zl(ve,oe):ve)||!bo(Ce)||ye){const Re={...Ce,...ye&&ki(Q)?{isValid:Q}:{},errors:n.errors,name:F};n={...n,...Re},h.state.next(Re)}},j=async F=>{k(F,!0);const Q=await e.resolver(i,e.context,qse(F||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return k(F),Q},P=async F=>{const{errors:Q}=await j(F);if(F)for(const oe of F){const Ce=_e(Q,oe);Ce?Ft(n.errors,oe,Ce):or(n.errors,oe)}else n.errors=Q;return Q},z=async(F,Q,oe={valid:!0})=>{for(const Ce in F){const ve=F[Ce];if(ve){const{_f:ye,...Re}=ve;if(ye){const et=a.array.has(ye.name),Ht=ve._f&&Yse(ve._f);Ht&&f.validatingFields&&k([Ce],!0);const qt=await EI(ve,a.disabled,i,b,e.shouldUseNativeValidation&&!Q,et);if(Ht&&f.validatingFields&&k([Ce]),qt[ye.name]&&(oe.valid=!1,Q))break;!Q&&(_e(qt,ye.name)?et?Fse(n.errors,qt,ye.name):Ft(n.errors,ye.name,qt[ye.name]):or(n.errors,ye.name))}!bo(Re)&&await z(Re,Q,oe)}}return oe.valid},X=()=>{for(const F of a.unMount){const Q=_e(r,F);Q&&(Q._f.refs?Q._f.refs.every(oe=>!Mk(oe)):!Mk(Q._f.ref))&&pe(F)}a.unMount=new Set},Z=(F,Q)=>!e.disabled&&(F&&Q&&Ft(i,F,Q),!Zl(W(),o)),q=(F,Q,oe)=>u6(F,a,{...s.mount?i:In(Q)?o:Ds(F)?{[F]:Q}:Q},oe,Q),re=F=>Mx(_e(s.mount?i:o,F,e.shouldUnregister?_e(o,F,[]):[])),ee=(F,Q,oe={})=>{const Ce=_e(r,F);let ve=Q;if(Ce){const ye=Ce._f;ye&&(!ye.disabled&&Ft(i,F,y6(Q,ye)),ve=k0(ye.ref)&&to(Q)?"":Q,p6(ye.ref)?[...ye.ref.options].forEach(Re=>Re.selected=ve.includes(Re.value)):ye.refs?Jg(ye.ref)?ye.refs.length>1?ye.refs.forEach(Re=>(!Re.defaultChecked||!Re.disabled)&&(Re.checked=Array.isArray(ve)?!!ve.find(et=>et===Re.value):ve===Re.value)):ye.refs[0]&&(ye.refs[0].checked=!!ve):ye.refs.forEach(Re=>Re.checked=Re.value===ve):$M(ye.ref)?ye.ref.value="":(ye.ref.value=ve,ye.ref.type||h.values.next({name:F,values:{...i}})))}(oe.shouldDirty||oe.shouldTouch)&&N(F,ve,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&L(F)},B=(F,Q,oe)=>{for(const Ce in Q){const ve=Q[Ce],ye=`${F}.${Ce}`,Re=_e(r,ye);(a.array.has(F)||Hn(ve)||Re&&!Re._f)&&!xu(ve)?B(ye,ve,oe):ee(ye,ve,oe)}},$=(F,Q,oe={})=>{const Ce=_e(r,F),ve=a.array.has(F),ye=vo(Q);Ft(i,F,ye),ve?(h.array.next({name:F,values:{...i}}),(f.isDirty||f.dirtyFields)&&oe.shouldDirty&&h.state.next({name:F,dirtyFields:Fp(o,i),isDirty:Z(F,ye)})):Ce&&!Ce._f&&!to(ye)?B(F,ye,oe):ee(F,ye,oe),wI(F,a)&&h.state.next({...n}),h.values.next({name:s.mount?F:void 0,values:{...i}})},V=async F=>{s.mount=!0;const Q=F.target;let oe=Q.name,Ce=!0;const ve=_e(r,oe),ye=()=>Q.type?Ak(ve._f):n6(F),Re=et=>{Ce=Number.isNaN(et)||xu(et)&&isNaN(et.getTime())||Zl(et,_e(i,oe,et))};if(ve){let et,Ht;const qt=ye(),yn=F.type===C0.BLUR||F.type===C0.FOCUS_OUT,ri=!Kse(ve._f)&&!e.resolver&&!_e(n.errors,oe)&&!ve._f.deps||Zse(yn,_e(n.touchedFields,oe),n.isSubmitted,y,p),Qn=wI(oe,a,yn);Ft(i,oe,qt),yn?(ve._f.onBlur&&ve._f.onBlur(F),l&&l(0)):ve._f.onChange&&ve._f.onChange(F);const vn=N(oe,qt,yn,!1),Lr=!bo(vn)||Qn;if(!yn&&h.values.next({name:oe,type:F.type,values:{...i}}),ri)return f.isValid&&(e.mode==="onBlur"&&yn?C():yn||C()),Lr&&h.state.next({name:oe,...Qn?{}:vn});if(!yn&&Qn&&h.state.next({...n}),e.resolver){const{errors:Do}=await j([oe]);if(Re(qt),Ce){const er=MI(n.errors,r,oe),fa=MI(Do,r,er.name||oe);et=fa.error,oe=fa.name,Ht=bo(Do)}}else k([oe],!0),et=(await EI(ve,a.disabled,i,b,e.shouldUseNativeValidation))[oe],k([oe]),Re(qt),Ce&&(et?Ht=!1:f.isValid&&(Ht=await z(r,!0)));Ce&&(ve._f.deps&&L(ve._f.deps),O(oe,Ht,et,vn))}},G=(F,Q)=>{if(_e(n.errors,Q)&&F.focus)return F.focus(),1},L=async(F,Q={})=>{let oe,Ce;const ve=xm(F);if(e.resolver){const ye=await P(In(F)?F:ve);oe=bo(ye),Ce=F?!ve.some(Re=>_e(ye,Re)):oe}else F?(Ce=(await Promise.all(ve.map(async ye=>{const Re=_e(r,ye);return await z(Re&&Re._f?{[ye]:Re}:Re)}))).every(Boolean),!(!Ce&&!n.isValid)&&C()):Ce=oe=await z(r);return h.state.next({...!Ds(F)||f.isValid&&oe!==n.isValid?{}:{name:F},...e.resolver||!F?{isValid:oe}:{},errors:n.errors}),Q.shouldFocus&&!Ce&&wm(r,G,F?ve:a.mount),Ce},W=F=>{const Q={...s.mount?i:o};return In(F)?Q:Ds(F)?_e(Q,F):F.map(oe=>_e(Q,oe))},se=(F,Q)=>({invalid:!!_e((Q||n).errors,F),isDirty:!!_e((Q||n).dirtyFields,F),error:_e((Q||n).errors,F),isValidating:!!_e(n.validatingFields,F),isTouched:!!_e((Q||n).touchedFields,F)}),ae=F=>{F&&xm(F).forEach(Q=>or(n.errors,Q)),h.state.next({errors:F?n.errors:{}})},fe=(F,Q,oe)=>{const Ce=(_e(r,F,{_f:{}})._f||{}).ref,ve=_e(n.errors,F)||{},{ref:ye,message:Re,type:et,...Ht}=ve;Ft(n.errors,F,{...Ht,...Q,ref:Ce}),h.state.next({name:F,errors:n.errors,isValid:!1}),oe&&oe.shouldFocus&&Ce&&Ce.focus&&Ce.focus()},Ee=(F,Q)=>Rs(F)?h.values.subscribe({next:oe=>F(q(void 0,Q),oe)}):q(F,Q,!0),pe=(F,Q={})=>{for(const oe of F?xm(F):a.mount)a.mount.delete(oe),a.array.delete(oe),Q.keepValue||(or(r,oe),or(i,oe)),!Q.keepError&&or(n.errors,oe),!Q.keepDirty&&or(n.dirtyFields,oe),!Q.keepTouched&&or(n.touchedFields,oe),!Q.keepIsValidating&&or(n.validatingFields,oe),!e.shouldUnregister&&!Q.keepDefaultValue&&or(o,oe);h.values.next({values:{...i}}),h.state.next({...n,...Q.keepDirty?{isDirty:Z()}:{}}),!Q.keepIsValid&&C()},Ne=({disabled:F,name:Q,field:oe,fields:Ce})=>{(ki(F)&&s.mount||F||a.disabled.has(Q))&&(F?a.disabled.add(Q):a.disabled.delete(Q),N(Q,Ak(oe?oe._f:_e(Ce,Q)._f),!1,!1,!0))},Oe=(F,Q={})=>{let oe=_e(r,F);const Ce=ki(Q.disabled)||ki(e.disabled);return Ft(r,F,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:F}},name:F,mount:!0,...Q}}),a.mount.add(F),oe?Ne({field:oe,disabled:ki(Q.disabled)?Q.disabled:e.disabled,name:F}):A(F,!0,Q.value),{...Ce?{disabled:Q.disabled||e.disabled}:{},...e.progressive?{required:!!Q.required,min:Up(Q.min),max:Up(Q.max),minLength:Up(Q.minLength),maxLength:Up(Q.maxLength),pattern:Up(Q.pattern)}:{},name:F,onChange:V,onBlur:V,ref:ve=>{if(ve){Oe(F,Q),oe=_e(r,F);const ye=In(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,Re=Wse(ye),et=oe._f.refs||[];if(Re?et.find(Ht=>Ht===ye):ye===oe._f.ref)return;Ft(r,F,{_f:{...oe._f,...Re?{refs:[...et.filter(Mk),ye,...Array.isArray(_e(o,F))?[{}]:[]],ref:{type:ye.type,name:F}}:{ref:ye}}}),A(F,!1,void 0,ye)}else oe=_e(r,F,{}),oe._f&&(oe._f.mount=!1),(e.shouldUnregister||Q.shouldUnregister)&&!(r6(a.array,F)&&s.action)&&a.unMount.add(F)}}},Ie=()=>e.shouldFocusError&&wm(r,G,a.mount),Ue=F=>{ki(F)&&(h.state.next({disabled:F}),wm(r,(Q,oe)=>{const Ce=_e(r,oe);Ce&&(Q.disabled=Ce._f.disabled||F,Array.isArray(Ce._f.refs)&&Ce._f.refs.forEach(ve=>{ve.disabled=Ce._f.disabled||F}))},0,!1))},At=(F,Q)=>async oe=>{let Ce;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let ve=vo(i);if(a.disabled.size)for(const ye of a.disabled)Ft(ve,ye,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ye,values:Re}=await j();n.errors=ye,ve=Re}else await z(r);if(or(n.errors,"root"),bo(n.errors)){h.state.next({errors:{}});try{await F(ve,oe)}catch(ye){Ce=ye}}else Q&&await Q({...n.errors},oe),Ie(),setTimeout(Ie);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bo(n.errors)&&!Ce,submitCount:n.submitCount+1,errors:n.errors}),Ce)throw Ce},Tn=(F,Q={})=>{_e(r,F)&&(In(Q.defaultValue)?$(F,vo(_e(o,F))):($(F,Q.defaultValue),Ft(o,F,vo(Q.defaultValue))),Q.keepTouched||or(n.touchedFields,F),Q.keepDirty||(or(n.dirtyFields,F),n.isDirty=Q.defaultValue?Z(F,vo(_e(o,F))):Z()),Q.keepError||(or(n.errors,F),f.isValid&&C()),h.state.next({...n}))},zt=(F,Q={})=>{const oe=F?vo(F):o,Ce=vo(oe),ve=bo(F),ye=ve?o:Ce;if(Q.keepDefaultValues||(o=oe),!Q.keepValues){if(Q.keepDirtyValues){const Re=new Set([...a.mount,...Object.keys(Fp(o,i))]);for(const et of Array.from(Re))_e(n.dirtyFields,et)?Ft(ye,et,_e(i,et)):$(et,_e(ye,et))}else{if(IM&&In(F))for(const Re of a.mount){const et=_e(r,Re);if(et&&et._f){const Ht=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(k0(Ht)){const qt=Ht.closest("form");if(qt){qt.reset();break}}}}r={}}i=e.shouldUnregister?Q.keepDefaultValues?vo(o):{}:vo(ye),h.array.next({values:{...ye}}),h.values.next({values:{...ye}})}a={mount:Q.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,s.watch=!!e.shouldUnregister,h.state.next({submitCount:Q.keepSubmitCount?n.submitCount:0,isDirty:ve?!1:Q.keepDirty?n.isDirty:!!(Q.keepDefaultValues&&!Zl(F,o)),isSubmitted:Q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ve?{}:Q.keepDirtyValues?Q.keepDefaultValues&&i?Fp(o,i):n.dirtyFields:Q.keepDefaultValues&&F?Fp(o,F):Q.keepDirty?n.dirtyFields:{},touchedFields:Q.keepTouched?n.touchedFields:{},errors:Q.keepErrors?n.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ve=(F,Q)=>zt(Rs(F)?F(i):F,Q);return{control:{register:Oe,unregister:pe,getFieldState:se,handleSubmit:At,setError:fe,_executeSchema:j,_getWatch:q,_getDirty:Z,_updateValid:C,_removeUnmounted:X,_updateFieldArray:E,_updateDisabledField:Ne,_getFieldArray:re,_reset:zt,_resetDefaultValues:()=>Rs(e.defaultValues)&&e.defaultValues().then(F=>{Ve(F,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:F=>{n={...n,...F}},_disableForm:Ue,_subjects:h,_proxyFormState:f,_setErrors:R,get _fields(){return r},get _formValues(){return i},get _state(){return s},set _state(F){s=F},get _defaultValues(){return o},get _names(){return a},set _names(F){a=F},get _formState(){return n},set _formState(F){n=F},get _options(){return e},set _options(F){e={...e,...F}}},trigger:L,register:Oe,handleSubmit:At,watch:Ee,setValue:$,getValues:W,reset:Ve,resetField:Tn,clearErrors:ae,unregister:pe,setError:fe,setFocus:(F,Q={})=>{const oe=_e(r,F),Ce=oe&&oe._f;if(Ce){const ve=Ce.refs?Ce.refs[0]:Ce.ref;ve.focus&&(ve.focus(),Q.shouldSelect&&Rs(ve.select)&&ve.select())}},getFieldState:se}}function v6(t={}){const e=U.useRef(void 0),n=U.useRef(void 0),[r,o]=U.useState({isDirty:!1,isValidating:!1,isLoading:Rs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Rs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Qse(t),formState:r});const i=e.current.control;return i._options=t,BM({subject:i._subjects.state,next:s=>{a6(s,i._proxyFormState,i._updateFormState,!0)&&o({...i._formState})}}),U.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),U.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==r.isDirty&&i._subjects.state.next({isDirty:s})}},[i,r.isDirty]),U.useEffect(()=>{t.values&&!Zl(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,o(s=>({...s}))):i._resetDefaultValues()},[t.values,i]),U.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),U.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),U.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=s6(r,i),e.current}var eae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_t=eae.reduce((t,e)=>{const n=w.forwardRef((r,o)=>{const{asChild:i,...s}=r,a=i?Ko:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(a,{...s,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function b6(t,e){t&&Di.flushSync(()=>t.dispatchEvent(e))}var tae="Label",x6=w.forwardRef((t,e)=>g.jsx(_t.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));x6.displayName=tae;var nae=x6;function w6({className:t,...e}){return g.jsx(nae,{"data-slot":"label",className:ke("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const S6=Bse,C6=w.createContext({}),Af=({...t})=>g.jsx(C6.Provider,{value:{name:t.name},children:g.jsx(zse,{...t})}),Rx=()=>{const t=w.useContext(C6),e=w.useContext(k6),{getFieldState:n}=Ax(),r=c6({name:t.name}),o=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...o}},k6=w.createContext({});function Rf({className:t,...e}){const n=w.useId();return g.jsx(k6.Provider,{value:{id:n},children:g.jsx("div",{"data-slot":"form-item",className:ke("grid gap-2",t),...e})})}function Nf({className:t,...e}){const{error:n,formItemId:r}=Rx();return g.jsx(w6,{"data-slot":"form-label","data-error":!!n,className:ke("data-[error=true]:text-destructive-foreground",t),htmlFor:r,...e})}function Of({...t}){const{error:e,formItemId:n,formDescriptionId:r,formMessageId:o}=Rx();return g.jsx(Ko,{"data-slot":"form-control",id:n,"aria-describedby":e?`${r} ${o}`:`${r}`,"aria-invalid":!!e,...t})}function Rk({className:t,...e}){const{formDescriptionId:n}=Rx();return g.jsx("p",{"data-slot":"form-description",id:n,className:ke("text-muted-foreground text-sm",t),...e})}function Df({className:t,...e}){const{error:n,formMessageId:r}=Rx(),o=n?String((n==null?void 0:n.message)??""):e.children;return o?g.jsx("p",{"data-slot":"form-message",id:r,className:ke("text-destructive-foreground text-sm",t),...e,children:o}):null}const AI=(t,e,n)=>{if(t&&"reportValidity"in t){const r=_e(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},_6=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?AI(r.ref,n,t):r&&r.refs&&r.refs.forEach(o=>AI(o,n,t))}},rae=(t,e)=>{e.shouldUseNativeValidation&&_6(t,e);const n={};for(const r in t){const o=_e(e.fields,r),i=Object.assign(t[r]||{},{ref:o&&o.ref});if(oae(e.names||Object.keys(t),r)){const s=Object.assign({},_e(n,r));Ft(s,"root",i),Ft(n,r,s)}else Ft(n,r,i)}return n},oae=(t,e)=>t.some(n=>n.match(`^${e}\\.\\d+`));function iae(t,e){for(var n={};t.length;){var r=t[0],o=r.code,i=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[s]={message:a.message,type:a.code}}else n[s]={message:i,type:o};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return t.push(h)})}),e){var l=n[s].types,c=l&&l[r.code];n[s]=d6(s,e,n,o,c?[].concat(c,r.message):r.message)}t.shift()}return n}function E6(t,e,n){return n===void 0&&(n={}),function(r,o,i){try{return Promise.resolve(function(s,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&_6({},i),{errors:{},values:n.raw?Object.assign({},r):c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(s){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(s))return{values:{},errors:rae(iae(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}}var Ot;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const i={};for(const s of o)i[s]=s;return i},t.getValidEnumValues=o=>{const i=t.objectKeys(o).filter(a=>typeof o[o[a]]!="number"),s={};for(const a of i)s[a]=o[a];return t.objectValues(s)},t.objectValues=o=>t.objectKeys(o).map(function(i){return o[i]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const i=[];for(const s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.push(s);return i},t.find=(o,i)=>{for(const s of o)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,i=" | "){return o.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(Ot||(Ot={}));var qE;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(qE||(qE={}));const Ae=Ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$a=t=>{switch(typeof t){case"undefined":return Ae.undefined;case"string":return Ae.string;case"number":return isNaN(t)?Ae.nan:Ae.number;case"boolean":return Ae.boolean;case"function":return Ae.function;case"bigint":return Ae.bigint;case"symbol":return Ae.symbol;case"object":return Array.isArray(t)?Ae.array:t===null?Ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ae.promise:typeof Map<"u"&&t instanceof Map?Ae.map:typeof Set<"u"&&t instanceof Set?Ae.set:typeof Date<"u"&&t instanceof Date?Ae.date:Ae.object;default:return Ae.unknown}},be=Ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),sae=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Wo extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},o=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(o);else if(s.code==="invalid_return_type")o(s.returnTypeError);else if(s.code==="invalid_arguments")o(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(s))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return o(this),r}static assert(e){if(!(e instanceof Wo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Wo.create=t=>new Wo(t);const th=(t,e)=>{let n;switch(t.code){case be.invalid_type:t.received===Ae.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ot.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ot.joinValues(t.keys,", ")}`;break;case be.invalid_union:n="Invalid input";break;case be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ot.joinValues(t.options)}`;break;case be.invalid_enum_value:n=`Invalid enum value. Expected ${Ot.joinValues(t.options)}, received '${t.received}'`;break;case be.invalid_arguments:n="Invalid function arguments";break;case be.invalid_return_type:n="Invalid function return type";break;case be.invalid_date:n="Invalid date";break;case be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ot.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case be.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case be.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case be.custom:n="Invalid input";break;case be.invalid_intersection_types:n="Intersection results could not be merged";break;case be.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case be.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ot.assertNever(t)}return{message:n}};let T6=th;function aae(t){T6=t}function T0(){return T6}const M0=t=>{const{data:e,path:n,errorMaps:r,issueData:o}=t,i=[...n,...o.path||[]],s={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(s,{data:e,defaultError:a}).message;return{...o,path:i,message:a}},lae=[];function Te(t,e){const n=T0(),r=M0({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===th?void 0:th].filter(o=>!!o)});t.common.issues.push(r)}class Yr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const o of n){if(o.status==="aborted")return nt;o.status==="dirty"&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const o of n){const i=await o.key,s=await o.value;r.push({key:i,value:s})}return Yr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const o of n){const{key:i,value:s}=o;if(i.status==="aborted"||s.status==="aborted")return nt;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||o.alwaysSet)&&(r[i.value]=s.value)}return{status:e.value,value:r}}}const nt=Object.freeze({status:"aborted"}),Pf=t=>({status:"dirty",value:t}),so=t=>({status:"valid",value:t}),YE=t=>t.status==="aborted",KE=t=>t.status==="dirty",$u=t=>t.status==="valid",Wm=t=>typeof Promise<"u"&&t instanceof Promise;function A0(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function M6(t,e,n,r,o){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var $e;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})($e||($e={}));var am,lm;class Zs{constructor(e,n,r,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const RI=(t,e)=>{if($u(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Wo(t.common.issues);return this._error=n,this._error}}};function ct(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:o}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(s,a)=>{var l,c;const{message:f}=t;return s.code==="invalid_enum_value"?{message:f??a.defaultError}:typeof a.data>"u"?{message:(l=f??r)!==null&&l!==void 0?l:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(c=f??n)!==null&&c!==void 0?c:a.defaultError}},description:o}}class mt{get description(){return this._def.description}_getType(e){return $a(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:$a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Yr,ctx:{common:e.parent.common,data:e.data,parsedType:$a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Wm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$a(e)},i=this._parseSync({data:e,path:o.path,parent:o});return RI(o,i)}"~validate"(e){var n,r;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$a(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:o});return $u(i)?{value:i.value}:{issues:o.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(i=>$u(i)?{value:i.value}:{issues:o.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$a(e)},o=this._parse({data:e,path:r.path,parent:r}),i=await(Wm(o)?o:Promise.resolve(o));return RI(r,i)}refine(e,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,i)=>{const s=e(o),a=()=>i.addIssue({code:be.custom,...r(o)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,o)=>e(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(e){return new Ji({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return qs.create(this,this._def)}nullable(){return gc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ki.create(this)}promise(){return rh.create(this,this._def)}or(e){return Zm.create([this,e],this._def)}and(e){return Xm.create(this,e,this._def)}transform(e){return new Ji({...ct(this._def),schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ng({...ct(this._def),innerType:this,defaultValue:n,typeName:Qe.ZodDefault})}brand(){return new zM({typeName:Qe.ZodBranded,type:this,...ct(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new rg({...ct(this._def),innerType:this,catchValue:n,typeName:Qe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Qg.create(this,e)}readonly(){return og.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cae=/^c[^\s-]{8,}$/i,uae=/^[0-9a-z]+$/,dae=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,hae=/^[a-z0-9_-]{21}$/i,pae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Nk;const vae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,xae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Sae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Cae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,A6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kae=new RegExp(`^${A6}$`);function R6(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function _ae(t){return new RegExp(`^${R6(t)}$`)}function N6(t){let e=`${A6}T${R6(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Eae(t,e){return!!((e==="v4"||!e)&&vae.test(t)||(e==="v6"||!e)&&xae.test(t))}function Tae(t,e){if(!pae.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function Mae(t,e){return!!((e==="v4"||!e)&&bae.test(t)||(e==="v6"||!e)&&wae.test(t))}class Wi extends mt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ae.string){const i=this._getOrReturnCtx(e);return Te(i,{code:be.invalid_type,expected:Ae.string,received:i.parsedType}),nt}const r=new Yr;let o;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(o=this._getOrReturnCtx(e,o),Te(o,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(o=this._getOrReturnCtx(e,o),Te(o,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,a=e.data.length<i.value;(s||a)&&(o=this._getOrReturnCtx(e,o),s?Te(o,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Te(o,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")gae.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"email",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Nk||(Nk=new RegExp(yae,"u")),Nk.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"emoji",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")fae.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"uuid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")hae.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"nanoid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")cae.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"cuid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")uae.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"cuid2",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")dae.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"ulid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),Te(o,{validation:"url",code:be.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"regex",code:be.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(e,o),Te(o,{code:be.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(o=this._getOrReturnCtx(e,o),Te(o,{code:be.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(o=this._getOrReturnCtx(e,o),Te(o,{code:be.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?N6(i).test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{code:be.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?kae.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{code:be.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?_ae(i).test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{code:be.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?mae.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"duration",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Eae(e.data,i.version)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"ip",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Tae(e.data,i.alg)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"jwt",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Mae(e.data,i.version)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"cidr",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Sae.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"base64",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Cae.test(e.data)||(o=this._getOrReturnCtx(e,o),Te(o,{validation:"base64url",code:be.invalid_string,message:i.message}),r.dirty()):Ot.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(o=>e.test(o),{validation:n,code:be.invalid_string,...$e.errToObj(r)})}_addCheck(e){return new Wi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$e.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...$e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...$e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...$e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...$e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...$e.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...$e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...$e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...$e.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...$e.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...$e.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...$e.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...$e.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...$e.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...$e.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...$e.errToObj(n)})}nonempty(e){return this.min(1,$e.errToObj(e))}trim(){return new Wi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Wi.create=t=>{var e;return new Wi({checks:[],typeName:Qe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ct(t)})};function Aae(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,o=n>r?n:r,i=parseInt(t.toFixed(o).replace(".","")),s=parseInt(e.toFixed(o).replace(".",""));return i%s/Math.pow(10,o)}class hc extends mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ae.number){const i=this._getOrReturnCtx(e);return Te(i,{code:be.invalid_type,expected:Ae.number,received:i.parsedType}),nt}let r;const o=new Yr;for(const i of this._def.checks)i.kind==="int"?Ot.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:be.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:be.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:be.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?Aae(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Te(r,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:be.not_finite,message:i.message}),o.dirty()):Ot.assertNever(i);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,$e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,$e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,$e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,$e.toString(n))}setLimit(e,n,r,o){return new hc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:$e.toString(o)}]})}_addCheck(e){return new hc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:$e.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:$e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ot.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}hc.create=t=>new hc({checks:[],typeName:Qe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ct(t)});class pc extends mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ae.bigint)return this._getInvalidInput(e);let r;const o=new Yr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:be.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:be.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):Ot.assertNever(i);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Te(n,{code:be.invalid_type,expected:Ae.bigint,received:n.parsedType}),nt}gte(e,n){return this.setLimit("min",e,!0,$e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,$e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,$e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,$e.toString(n))}setLimit(e,n,r,o){return new pc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:$e.toString(o)}]})}_addCheck(e){return new pc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:$e.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}pc.create=t=>{var e;return new pc({checks:[],typeName:Qe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ct(t)})};class qm extends mt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ae.boolean){const r=this._getOrReturnCtx(e);return Te(r,{code:be.invalid_type,expected:Ae.boolean,received:r.parsedType}),nt}return so(e.data)}}qm.create=t=>new qm({typeName:Qe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ct(t)});class Hu extends mt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ae.date){const i=this._getOrReturnCtx(e);return Te(i,{code:be.invalid_type,expected:Ae.date,received:i.parsedType}),nt}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Te(i,{code:be.invalid_date}),nt}const r=new Yr;let o;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(o=this._getOrReturnCtx(e,o),Te(o,{code:be.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(o=this._getOrReturnCtx(e,o),Te(o,{code:be.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ot.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Hu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:$e.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:$e.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Hu.create=t=>new Hu({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Qe.ZodDate,...ct(t)});class R0 extends mt{_parse(e){if(this._getType(e)!==Ae.symbol){const r=this._getOrReturnCtx(e);return Te(r,{code:be.invalid_type,expected:Ae.symbol,received:r.parsedType}),nt}return so(e.data)}}R0.create=t=>new R0({typeName:Qe.ZodSymbol,...ct(t)});class Ym extends mt{_parse(e){if(this._getType(e)!==Ae.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:be.invalid_type,expected:Ae.undefined,received:r.parsedType}),nt}return so(e.data)}}Ym.create=t=>new Ym({typeName:Qe.ZodUndefined,...ct(t)});class Km extends mt{_parse(e){if(this._getType(e)!==Ae.null){const r=this._getOrReturnCtx(e);return Te(r,{code:be.invalid_type,expected:Ae.null,received:r.parsedType}),nt}return so(e.data)}}Km.create=t=>new Km({typeName:Qe.ZodNull,...ct(t)});class nh extends mt{constructor(){super(...arguments),this._any=!0}_parse(e){return so(e.data)}}nh.create=t=>new nh({typeName:Qe.ZodAny,...ct(t)});class Ou extends mt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return so(e.data)}}Ou.create=t=>new Ou({typeName:Qe.ZodUnknown,...ct(t)});class sl extends mt{_parse(e){const n=this._getOrReturnCtx(e);return Te(n,{code:be.invalid_type,expected:Ae.never,received:n.parsedType}),nt}}sl.create=t=>new sl({typeName:Qe.ZodNever,...ct(t)});class N0 extends mt{_parse(e){if(this._getType(e)!==Ae.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:be.invalid_type,expected:Ae.void,received:r.parsedType}),nt}return so(e.data)}}N0.create=t=>new N0({typeName:Qe.ZodVoid,...ct(t)});class Ki extends mt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),o=this._def;if(n.parsedType!==Ae.array)return Te(n,{code:be.invalid_type,expected:Ae.array,received:n.parsedType}),nt;if(o.exactLength!==null){const s=n.data.length>o.exactLength.value,a=n.data.length<o.exactLength.value;(s||a)&&(Te(n,{code:s?be.too_big:be.too_small,minimum:a?o.exactLength.value:void 0,maximum:s?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(Te(n,{code:be.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(Te(n,{code:be.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>o.type._parseAsync(new Zs(n,s,n.path,a)))).then(s=>Yr.mergeArray(r,s));const i=[...n.data].map((s,a)=>o.type._parseSync(new Zs(n,s,n.path,a)));return Yr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Ki({...this._def,minLength:{value:e,message:$e.toString(n)}})}max(e,n){return new Ki({...this._def,maxLength:{value:e,message:$e.toString(n)}})}length(e,n){return new Ki({...this._def,exactLength:{value:e,message:$e.toString(n)}})}nonempty(e){return this.min(1,e)}}Ki.create=(t,e)=>new Ki({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray,...ct(e)});function vf(t){if(t instanceof _n){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=qs.create(vf(r))}return new _n({...t._def,shape:()=>e})}else return t instanceof Ki?new Ki({...t._def,type:vf(t.element)}):t instanceof qs?qs.create(vf(t.unwrap())):t instanceof gc?gc.create(vf(t.unwrap())):t instanceof Xs?Xs.create(t.items.map(e=>vf(e))):t}class _n extends mt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ot.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Ae.object){const c=this._getOrReturnCtx(e);return Te(c,{code:be.invalid_type,expected:Ae.object,received:c.parsedType}),nt}const{status:r,ctx:o}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof sl&&this._def.unknownKeys==="strip"))for(const c in o.data)s.includes(c)||a.push(c);const l=[];for(const c of s){const f=i[c],h=o.data[c];l.push({key:{status:"valid",value:c},value:f._parse(new Zs(o,h,o.path,c)),alwaysSet:c in o.data})}if(this._def.catchall instanceof sl){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of a)l.push({key:{status:"valid",value:f},value:{status:"valid",value:o.data[f]}});else if(c==="strict")a.length>0&&(Te(o,{code:be.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of a){const h=o.data[f];l.push({key:{status:"valid",value:f},value:c._parse(new Zs(o,h,o.path,f)),alwaysSet:f in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of l){const h=await f.key,p=await f.value;c.push({key:h,value:p,alwaysSet:f.alwaysSet})}return c}).then(c=>Yr.mergeObjectSync(r,c)):Yr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return $e.errToObj,new _n({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,i,s,a;const l=(s=(i=(o=this._def).errorMap)===null||i===void 0?void 0:i.call(o,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=$e.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new _n({...this._def,unknownKeys:"strip"})}passthrough(){return new _n({...this._def,unknownKeys:"passthrough"})}extend(e){return new _n({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Qe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new _n({...this._def,catchall:e})}pick(e){const n={};return Ot.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new _n({...this._def,shape:()=>n})}omit(e){const n={};return Ot.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new _n({...this._def,shape:()=>n})}deepPartial(){return vf(this)}partial(e){const n={};return Ot.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];e&&!e[r]?n[r]=o:n[r]=o.optional()}),new _n({...this._def,shape:()=>n})}required(e){const n={};return Ot.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof qs;)i=i._def.innerType;n[r]=i}}),new _n({...this._def,shape:()=>n})}keyof(){return O6(Ot.objectKeys(this.shape))}}_n.create=(t,e)=>new _n({shape:()=>t,unknownKeys:"strip",catchall:sl.create(),typeName:Qe.ZodObject,...ct(e)});_n.strictCreate=(t,e)=>new _n({shape:()=>t,unknownKeys:"strict",catchall:sl.create(),typeName:Qe.ZodObject,...ct(e)});_n.lazycreate=(t,e)=>new _n({shape:t,unknownKeys:"strip",catchall:sl.create(),typeName:Qe.ZodObject,...ct(e)});class Zm extends mt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function o(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=i.map(a=>new Wo(a.ctx.common.issues));return Te(n,{code:be.invalid_union,unionErrors:s}),nt}if(n.common.async)return Promise.all(r.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(o);{let i;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=l._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=s.map(l=>new Wo(l));return Te(n,{code:be.invalid_union,unionErrors:a}),nt}}get options(){return this._def.options}}Zm.create=(t,e)=>new Zm({options:t,typeName:Qe.ZodUnion,...ct(e)});const ja=t=>t instanceof Qm?ja(t.schema):t instanceof Ji?ja(t.innerType()):t instanceof eg?[t.value]:t instanceof mc?t.options:t instanceof tg?Ot.objectValues(t.enum):t instanceof ng?ja(t._def.innerType):t instanceof Ym?[void 0]:t instanceof Km?[null]:t instanceof qs?[void 0,...ja(t.unwrap())]:t instanceof gc?[null,...ja(t.unwrap())]:t instanceof zM||t instanceof og?ja(t.unwrap()):t instanceof rg?ja(t._def.innerType):[];class Nx extends mt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.object)return Te(n,{code:be.invalid_type,expected:Ae.object,received:n.parsedType}),nt;const r=this.discriminator,o=n.data[r],i=this.optionsMap.get(o);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Te(n,{code:be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),nt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const o=new Map;for(const i of n){const s=ja(i.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of s){if(o.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);o.set(a,i)}}return new Nx({typeName:Qe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:o,...ct(r)})}}function ZE(t,e){const n=$a(t),r=$a(e);if(t===e)return{valid:!0,data:t};if(n===Ae.object&&r===Ae.object){const o=Ot.objectKeys(e),i=Ot.objectKeys(t).filter(a=>o.indexOf(a)!==-1),s={...t,...e};for(const a of i){const l=ZE(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===Ae.array&&r===Ae.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let i=0;i<t.length;i++){const s=t[i],a=e[i],l=ZE(s,a);if(!l.valid)return{valid:!1};o.push(l.data)}return{valid:!0,data:o}}else return n===Ae.date&&r===Ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xm extends mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=(i,s)=>{if(YE(i)||YE(s))return nt;const a=ZE(i.value,s.value);return a.valid?((KE(i)||KE(s))&&n.dirty(),{status:n.value,value:a.data}):(Te(r,{code:be.invalid_intersection_types}),nt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,s])=>o(i,s)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Xm.create=(t,e,n)=>new Xm({left:t,right:e,typeName:Qe.ZodIntersection,...ct(n)});class Xs extends mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.array)return Te(r,{code:be.invalid_type,expected:Ae.array,received:r.parsedType}),nt;if(r.data.length<this._def.items.length)return Te(r,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nt;!this._def.rest&&r.data.length>this._def.items.length&&(Te(r,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Zs(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(i).then(s=>Yr.mergeArray(n,s)):Yr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Xs({...this._def,rest:e})}}Xs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xs({items:t,typeName:Qe.ZodTuple,rest:null,...ct(e)})};class Jm extends mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.object)return Te(r,{code:be.invalid_type,expected:Ae.object,received:r.parsedType}),nt;const o=[],i=this._def.keyType,s=this._def.valueType;for(const a in r.data)o.push({key:i._parse(new Zs(r,a,r.path,a)),value:s._parse(new Zs(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Yr.mergeObjectAsync(n,o):Yr.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof mt?new Jm({keyType:e,valueType:n,typeName:Qe.ZodRecord,...ct(r)}):new Jm({keyType:Wi.create(),valueType:e,typeName:Qe.ZodRecord,...ct(n)})}}class O0 extends mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.map)return Te(r,{code:be.invalid_type,expected:Ae.map,received:r.parsedType}),nt;const o=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([a,l],c)=>({key:o._parse(new Zs(r,a,r.path,[c,"key"])),value:i._parse(new Zs(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,f=await l.value;if(c.status==="aborted"||f.status==="aborted")return nt;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(c.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const c=l.key,f=l.value;if(c.status==="aborted"||f.status==="aborted")return nt;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(c.value,f.value)}return{status:n.value,value:a}}}}O0.create=(t,e,n)=>new O0({valueType:e,keyType:t,typeName:Qe.ZodMap,...ct(n)});class zu extends mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.set)return Te(r,{code:be.invalid_type,expected:Ae.set,received:r.parsedType}),nt;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(Te(r,{code:be.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(Te(r,{code:be.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const i=this._def.valueType;function s(l){const c=new Set;for(const f of l){if(f.status==="aborted")return nt;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new Zs(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,n){return new zu({...this._def,minSize:{value:e,message:$e.toString(n)}})}max(e,n){return new zu({...this._def,maxSize:{value:e,message:$e.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}zu.create=(t,e)=>new zu({valueType:t,minSize:null,maxSize:null,typeName:Qe.ZodSet,...ct(e)});class $f extends mt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.function)return Te(n,{code:be.invalid_type,expected:Ae.function,received:n.parsedType}),nt;function r(a,l){return M0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,T0(),th].filter(c=>!!c),issueData:{code:be.invalid_arguments,argumentsError:l}})}function o(a,l){return M0({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,T0(),th].filter(c=>!!c),issueData:{code:be.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof rh){const a=this;return so(async function(...l){const c=new Wo([]),f=await a._def.args.parseAsync(l,i).catch(y=>{throw c.addIssue(r(l,y)),c}),h=await Reflect.apply(s,this,f);return await a._def.returns._def.type.parseAsync(h,i).catch(y=>{throw c.addIssue(o(h,y)),c})})}else{const a=this;return so(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new Wo([r(l,c.error)]);const f=Reflect.apply(s,this,c.data),h=a._def.returns.safeParse(f,i);if(!h.success)throw new Wo([o(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new $f({...this._def,args:Xs.create(e).rest(Ou.create())})}returns(e){return new $f({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new $f({args:e||Xs.create([]).rest(Ou.create()),returns:n||Ou.create(),typeName:Qe.ZodFunction,...ct(r)})}}class Qm extends mt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Qm.create=(t,e)=>new Qm({getter:t,typeName:Qe.ZodLazy,...ct(e)});class eg extends mt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Te(n,{received:n.data,code:be.invalid_literal,expected:this._def.value}),nt}return{status:"valid",value:e.data}}get value(){return this._def.value}}eg.create=(t,e)=>new eg({value:t,typeName:Qe.ZodLiteral,...ct(e)});function O6(t,e){return new mc({values:t,typeName:Qe.ZodEnum,...ct(e)})}class mc extends mt{constructor(){super(...arguments),am.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{expected:Ot.joinValues(r),received:n.parsedType,code:be.invalid_type}),nt}if(A0(this,am)||M6(this,am,new Set(this._def.values)),!A0(this,am).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{received:n.data,code:be.invalid_enum_value,options:r}),nt}return so(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return mc.create(e,{...this._def,...n})}exclude(e,n=this._def){return mc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}am=new WeakMap;mc.create=O6;class tg extends mt{constructor(){super(...arguments),lm.set(this,void 0)}_parse(e){const n=Ot.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ae.string&&r.parsedType!==Ae.number){const o=Ot.objectValues(n);return Te(r,{expected:Ot.joinValues(o),received:r.parsedType,code:be.invalid_type}),nt}if(A0(this,lm)||M6(this,lm,new Set(Ot.getValidEnumValues(this._def.values))),!A0(this,lm).has(e.data)){const o=Ot.objectValues(n);return Te(r,{received:r.data,code:be.invalid_enum_value,options:o}),nt}return so(e.data)}get enum(){return this._def.values}}lm=new WeakMap;tg.create=(t,e)=>new tg({values:t,typeName:Qe.ZodNativeEnum,...ct(e)});class rh extends mt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.promise&&n.common.async===!1)return Te(n,{code:be.invalid_type,expected:Ae.promise,received:n.parsedType}),nt;const r=n.parsedType===Ae.promise?n.data:Promise.resolve(n.data);return so(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}rh.create=(t,e)=>new rh({type:t,typeName:Qe.ZodPromise,...ct(e)});class Ji extends mt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=this._def.effect||null,i={addIssue:s=>{Te(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){const s=o.transform(r.data,i);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return nt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?nt:l.status==="dirty"||n.value==="dirty"?Pf(l.value):l});{if(n.value==="aborted")return nt;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?nt:a.status==="dirty"||n.value==="dirty"?Pf(a.value):a}}if(o.type==="refinement"){const s=a=>{const l=o.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?nt:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?nt:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(o.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!$u(s))return s;const a=o.transform(s.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>$u(s)?Promise.resolve(o.transform(s.value,i)).then(a=>({status:n.value,value:a})):s);Ot.assertNever(o)}}Ji.create=(t,e,n)=>new Ji({schema:t,typeName:Qe.ZodEffects,effect:e,...ct(n)});Ji.createWithPreprocess=(t,e,n)=>new Ji({schema:e,effect:{type:"preprocess",transform:t},typeName:Qe.ZodEffects,...ct(n)});class qs extends mt{_parse(e){return this._getType(e)===Ae.undefined?so(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qs.create=(t,e)=>new qs({innerType:t,typeName:Qe.ZodOptional,...ct(e)});class gc extends mt{_parse(e){return this._getType(e)===Ae.null?so(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gc.create=(t,e)=>new gc({innerType:t,typeName:Qe.ZodNullable,...ct(e)});class ng extends mt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ae.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ng.create=(t,e)=>new ng({innerType:t,typeName:Qe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ct(e)});class rg extends mt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Wm(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wo(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Wo(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}rg.create=(t,e)=>new rg({innerType:t,typeName:Qe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ct(e)});class D0 extends mt{_parse(e){if(this._getType(e)!==Ae.nan){const r=this._getOrReturnCtx(e);return Te(r,{code:be.invalid_type,expected:Ae.nan,received:r.parsedType}),nt}return{status:"valid",value:e.data}}}D0.create=t=>new D0({typeName:Qe.ZodNaN,...ct(t)});const Rae=Symbol("zod_brand");class zM extends mt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Qg extends mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?nt:i.status==="dirty"?(n.dirty(),Pf(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?nt:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(e,n){return new Qg({in:e,out:n,typeName:Qe.ZodPipeline})}}class og extends mt{_parse(e){const n=this._def.innerType._parse(e),r=o=>($u(o)&&(o.value=Object.freeze(o.value)),o);return Wm(n)?n.then(o=>r(o)):r(n)}unwrap(){return this._def.innerType}}og.create=(t,e)=>new og({innerType:t,typeName:Qe.ZodReadonly,...ct(e)});function NI(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function D6(t,e={},n){return t?nh.create().superRefine((r,o)=>{var i,s;const a=t(r);if(a instanceof Promise)return a.then(l=>{var c,f;if(!l){const h=NI(e,r),p=(f=(c=h.fatal)!==null&&c!==void 0?c:n)!==null&&f!==void 0?f:!0;o.addIssue({code:"custom",...h,fatal:p})}});if(!a){const l=NI(e,r),c=(s=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&s!==void 0?s:!0;o.addIssue({code:"custom",...l,fatal:c})}}):nh.create()}const Nae={object:_n.lazycreate};var Qe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));const Oae=(t,e={message:`Input not instance of ${t.name}`})=>D6(n=>n instanceof t,e),P6=Wi.create,L6=hc.create,Dae=D0.create,Pae=pc.create,j6=qm.create,Lae=Hu.create,jae=R0.create,Iae=Ym.create,Vae=Km.create,Bae=nh.create,$ae=Ou.create,Hae=sl.create,zae=N0.create,Fae=Ki.create,Uae=_n.create,Gae=_n.strictCreate,Wae=Zm.create,qae=Nx.create,Yae=Xm.create,Kae=Xs.create,Zae=Jm.create,Xae=O0.create,Jae=zu.create,Qae=$f.create,ele=Qm.create,tle=eg.create,nle=mc.create,rle=tg.create,ole=rh.create,OI=Ji.create,ile=qs.create,sle=gc.create,ale=Ji.createWithPreprocess,lle=Qg.create,cle=()=>P6().optional(),ule=()=>L6().optional(),dle=()=>j6().optional(),fle={string:t=>Wi.create({...t,coerce:!0}),number:t=>hc.create({...t,coerce:!0}),boolean:t=>qm.create({...t,coerce:!0}),bigint:t=>pc.create({...t,coerce:!0}),date:t=>Hu.create({...t,coerce:!0})},hle=nt;var Xl=Object.freeze({__proto__:null,defaultErrorMap:th,setErrorMap:aae,getErrorMap:T0,makeIssue:M0,EMPTY_PATH:lae,addIssueToContext:Te,ParseStatus:Yr,INVALID:nt,DIRTY:Pf,OK:so,isAborted:YE,isDirty:KE,isValid:$u,isAsync:Wm,get util(){return Ot},get objectUtil(){return qE},ZodParsedType:Ae,getParsedType:$a,ZodType:mt,datetimeRegex:N6,ZodString:Wi,ZodNumber:hc,ZodBigInt:pc,ZodBoolean:qm,ZodDate:Hu,ZodSymbol:R0,ZodUndefined:Ym,ZodNull:Km,ZodAny:nh,ZodUnknown:Ou,ZodNever:sl,ZodVoid:N0,ZodArray:Ki,ZodObject:_n,ZodUnion:Zm,ZodDiscriminatedUnion:Nx,ZodIntersection:Xm,ZodTuple:Xs,ZodRecord:Jm,ZodMap:O0,ZodSet:zu,ZodFunction:$f,ZodLazy:Qm,ZodLiteral:eg,ZodEnum:mc,ZodNativeEnum:tg,ZodPromise:rh,ZodEffects:Ji,ZodTransformer:Ji,ZodOptional:qs,ZodNullable:gc,ZodDefault:ng,ZodCatch:rg,ZodNaN:D0,BRAND:Rae,ZodBranded:zM,ZodPipeline:Qg,ZodReadonly:og,custom:D6,Schema:mt,ZodSchema:mt,late:Nae,get ZodFirstPartyTypeKind(){return Qe},coerce:fle,any:Bae,array:Fae,bigint:Pae,boolean:j6,date:Lae,discriminatedUnion:qae,effect:OI,enum:nle,function:Qae,instanceof:Oae,intersection:Yae,lazy:ele,literal:tle,map:Xae,nan:Dae,nativeEnum:rle,never:Hae,null:Vae,nullable:sle,number:L6,object:Uae,oboolean:dle,onumber:ule,optional:ile,ostring:cle,pipeline:lle,preprocess:ale,promise:ole,record:Zae,set:Jae,strictObject:Gae,string:P6,symbol:jae,transformer:OI,tuple:Kae,undefined:Iae,union:Wae,unknown:$ae,void:zae,NEVER:hle,ZodIssueCode:be,quotelessJson:sae,ZodError:Wo});function ple({className:t,...e}){const{t:n}=Gg(),r=Rc(),[o,i]=w.useState("white");w.useEffect(()=>{document.documentElement.classList.contains("dark")?i("white"):i("black")},[]);const s=Xl.object({email:Xl.string().email({message:n("email_required")}),password:Xl.string().min(8,{message:n("password_required")})}),a=v6({resolver:E6(s),defaultValues:{email:"",password:""}});function l(f){console.log(f)}const c=f=>{f.preventDefault(),r("/register")};return g.jsxs("div",{className:ke("flex flex-col gap-6",t),...e,children:[g.jsx(Gs,{className:"overflow-hidden p-0",children:g.jsxs(Ws,{className:"grid p-0 md:grid-cols-2",children:[g.jsx(S6,{...a,children:g.jsx("form",{className:"p-6 md:p-8",onSubmit:a.handleSubmit(l),children:g.jsxs("div",{className:"flex flex-col gap-6",children:[g.jsxs("div",{className:"flex flex-col items-center text-center",children:[g.jsx("h1",{className:"text-2xl font-bold",children:n("welcome")}),g.jsx("p",{className:"text-muted-foreground text-balance",children:n("login_to")})]}),g.jsx(Af,{control:a.control,name:"email",render:({field:f})=>g.jsxs(Rf,{className:"grid gap-3",children:[g.jsx(Nf,{children:"Email"}),g.jsx(Of,{children:g.jsx(Fa,{placeholder:"example@example.com",...f})}),g.jsx(Df,{})]})}),g.jsx(Af,{control:a.control,name:"password",render:({field:f})=>g.jsxs(Rf,{className:"grid gap-3",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(Nf,{children:n("password")}),g.jsx("a",{href:"#",className:"ml-auto text-sm underline-offset-2 hover:underline",children:n("forgot_password")})]}),g.jsx(Of,{children:g.jsx(Fa,{type:"password",...f})}),g.jsx(Df,{})]})}),g.jsx(Tt,{type:"submit",className:"w-full",children:n("login")}),g.jsx("div",{className:"after:border-border relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t",children:g.jsx("span",{className:"bg-background text-muted-foreground relative z-10 px-2",children:n("or_continue_with")})}),g.jsxs(Tt,{variant:"outline",type:"button",className:"w-full",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z",fill:o})}),g.jsx("span",{className:"sr-only",children:"Login with Google"})]}),g.jsxs("div",{className:"text-center text-sm",children:[n("dont_have_account")," ",g.jsx("a",{href:"#",className:"underline underline-offset-4",onClick:f=>c(f),children:n("sign_up")})]})]})})}),g.jsx("div",{className:"bg-muted relative hidden md:block",children:g.jsx("img",{src:"/placeholder.svg",alt:"Image",className:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"})})]})}),g.jsxs("div",{className:"text-muted-foreground *:[a]:hover:text-primary text-center text-xs text-balance *:[a]:underline *:[a]:underline-offset-4",children:["By clicking continue, you agree to our ",g.jsx("a",{href:"#",children:"Terms of Service"})," ","and ",g.jsx("a",{href:"#",children:"Privacy Policy"}),"."]})]})}function mle(){return g.jsx(ple,{})}function gle({className:t,...e}){const{t:n}=Gg(),r=Rc(),o=Xl.object({username:Xl.string().min(2,{message:n("username_required")}).regex(/^[a-zA-Z0-9_]+$/,{message:n("username_contain")}),email:Xl.string().email({message:n("email_required")}),password:Xl.string().min(8,{message:n("password_required")}).regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]+$/,{message:n("password_contain")}),confirmPassword:Xl.string().min(8,{message:n("confirm_password_required")})}).refine(l=>l.password===l.confirmPassword,{message:n("password_not_match"),path:["confirmPassword"]}),i=v6({resolver:E6(o),defaultValues:{username:"",email:"",password:"",confirmPassword:""}});function s(l){console.log(l)}const a=(l,c)=>{l.preventDefault(),r(c||-1)};return g.jsx("div",{className:ke("flex flex-col gap-6",t),...e,children:g.jsx(Gs,{className:"overflow-hidden p-0",children:g.jsxs(Ws,{className:"grid p-0 md:grid-cols-2",children:[g.jsx("div",{className:"bg-muted relative hidden md:block",children:g.jsx("img",{src:"/placeholder.svg",alt:"Image",className:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"})}),g.jsx(S6,{...i,children:g.jsx("form",{onSubmit:i.handleSubmit(s),className:"space-y-8",children:g.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[g.jsxs("div",{className:"flex flex-col items-center text-center",children:[g.jsx("h1",{className:"text-2xl font-bold",children:n("create_account")}),g.jsx("p",{className:"text-muted-foreground text-balance",children:n("join_study")})]}),g.jsx(Af,{control:i.control,name:"username",render:({field:l})=>g.jsxs(Rf,{children:[g.jsx(Nf,{children:n("username")}),g.jsx(Of,{children:g.jsx(Fa,{placeholder:"user",...l})}),g.jsx(Rk,{children:n("your_unique_display_name")}),g.jsx(Df,{})]})}),g.jsx(Af,{control:i.control,name:"email",render:({field:l})=>g.jsxs(Rf,{children:[g.jsx(Nf,{children:"Email"}),g.jsx(Of,{children:g.jsx(Fa,{placeholder:"example@example.com",...l})}),g.jsx(Df,{})]})}),g.jsx(Af,{control:i.control,name:"password",render:({field:l})=>g.jsxs(Rf,{children:[g.jsx(Nf,{children:n("password")}),g.jsx(Of,{children:g.jsx(Fa,{type:"password",placeholder:"Password",...l})}),g.jsx(Rk,{children:n("use_strong_password")}),g.jsx(Df,{})]})}),g.jsx(Af,{control:i.control,name:"confirmPassword",render:({field:l})=>g.jsxs(Rf,{children:[g.jsx(Nf,{children:n("confirm_password")}),g.jsx(Of,{children:g.jsx(Fa,{type:"password",placeholder:"Confirm Password",...l})}),g.jsx(Rk,{children:n("re_enter_password")}),g.jsx(Df,{})]})}),g.jsxs("div",{className:"text-center text-sm",children:[n("already_have_account")," ",g.jsx("a",{href:"#",className:"underline underline-offset-4",onClick:l=>a(l,"/login"),children:n("sign_in")})]}),g.jsxs("div",{className:"flex flex-row justify-between",children:[g.jsx(Tt,{variant:"secondary",onClick:l=>a(l),children:n("back")}),g.jsx(Tt,{type:"submit",children:n("submit")})]})]})})})]})})})}function yle(){return g.jsx(gle,{})}const vle="modulepreload",ble=function(t){return"/"+t},DI={},I=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(n.map(l=>{if(l=ble(l),l in DI)return;DI[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":vle,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Ok=768;function I6(){const[t,e]=w.useState(void 0);return w.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Ok-1}px)`),r=()=>{e(window.innerWidth<Ok)};return n.addEventListener("change",r),e(window.innerWidth<Ok),()=>n.removeEventListener("change",r)},[]),!!t}var xle="Separator",PI="horizontal",wle=["horizontal","vertical"],V6=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=PI,...o}=t,i=Sle(r)?r:PI,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return g.jsx(_t.div,{"data-orientation":i,...a,...o,ref:e})});V6.displayName=xle;function Sle(t){return wle.includes(t)}var Cle=V6;function ig({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return g.jsx(Cle,{"data-slot":"separator-root",decorative:n,orientation:e,className:ke("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}function Ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function kle(t,e){const n=w.createContext(e),r=i=>{const{children:s,...a}=i,l=w.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function o(i){const s=w.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,o]}function ds(t,e=[]){let n=[];function r(i,s){const a=w.createContext(s),l=n.length;n=[...n,s];const c=h=>{var k;const{scope:p,children:y,...b}=h,x=((k=p==null?void 0:p[t])==null?void 0:k[l])||a,C=w.useMemo(()=>b,Object.values(b));return g.jsx(x.Provider,{value:C,children:y})};c.displayName=i+"Provider";function f(h,p){var x;const y=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,b=w.useContext(y);if(b)return b;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,f]}const o=()=>{const i=n.map(s=>w.createContext(s));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return o.scopeName=t,[r,_le(o,...e)]}function _le(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var Qi=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},Ele=HB.useId||(()=>{}),Tle=0;function sc(t){const[e,n]=w.useState(Ele());return Qi(()=>{n(r=>r??String(Tle++))},[t]),t||(e?`radix-${e}`:"")}function lr(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ey({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=Mle({defaultProp:e,onChange:n}),i=t!==void 0,s=i?t:r,a=lr(n),l=w.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else o(c)},[i,t,o,a]);return[s,l]}function Mle({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,o=w.useRef(r),i=lr(e);return w.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}function Ale(t,e=globalThis==null?void 0:globalThis.document){const n=lr(t);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Rle="DismissableLayer",XE="dismissableLayer.update",Nle="dismissableLayer.pointerDownOutside",Ole="dismissableLayer.focusOutside",LI,B6=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ox=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=t,c=w.useContext(B6),[f,h]=w.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=w.useState({}),b=un(e,O=>h(O)),x=Array.from(c.layers),[C]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),k=x.indexOf(C),E=f?x.indexOf(f):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,R=E>=k,A=Lle(O=>{const j=O.target,P=[...c.branches].some(z=>z.contains(j));!R||P||(o==null||o(O),s==null||s(O),O.defaultPrevented||a==null||a())},p),N=jle(O=>{const j=O.target;[...c.branches].some(z=>z.contains(j))||(i==null||i(O),s==null||s(O),O.defaultPrevented||a==null||a())},p);return Ale(O=>{E===c.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},p),w.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(LI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),jI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=LI)}},[f,p,n,c]),w.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),jI())},[f,c]),w.useEffect(()=>{const O=()=>y({});return document.addEventListener(XE,O),()=>document.removeEventListener(XE,O)},[]),g.jsx(_t.div,{...l,ref:b,style:{pointerEvents:T?R?"auto":"none":void 0,...t.style},onFocusCapture:Ye(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Ye(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Ye(t.onPointerDownCapture,A.onPointerDownCapture)})});Ox.displayName=Rle;var Dle="DismissableLayerBranch",Ple=w.forwardRef((t,e)=>{const n=w.useContext(B6),r=w.useRef(null),o=un(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.jsx(_t.div,{...t,ref:o})});Ple.displayName=Dle;function Lle(t,e=globalThis==null?void 0:globalThis.document){const n=lr(t),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$6(Nle,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=l,e.addEventListener("click",o.current,{once:!0})):l()}else e.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jle(t,e=globalThis==null?void 0:globalThis.document){const n=lr(t),r=w.useRef(!1);return w.useEffect(()=>{const o=i=>{i.target&&!r.current&&$6(Ole,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jI(){const t=new CustomEvent(XE);document.dispatchEvent(t)}function $6(t,e,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?b6(o,i):o.dispatchEvent(i)}var Dk="focusScope.autoFocusOnMount",Pk="focusScope.autoFocusOnUnmount",II={bubbles:!1,cancelable:!0},Ile="FocusScope",FM=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=t,[a,l]=w.useState(null),c=lr(o),f=lr(i),h=w.useRef(null),p=un(e,x=>l(x)),y=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let x=function(T){if(y.paused||!a)return;const R=T.target;a.contains(R)?h.current=R:Gl(h.current,{select:!0})},C=function(T){if(y.paused||!a)return;const R=T.relatedTarget;R!==null&&(a.contains(R)||Gl(h.current,{select:!0}))},k=function(T){if(document.activeElement===document.body)for(const A of T)A.removedNodes.length>0&&Gl(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",C);const E=new MutationObserver(k);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",C),E.disconnect()}}},[r,a,y.paused]),w.useEffect(()=>{if(a){BI.add(y);const x=document.activeElement;if(!a.contains(x)){const k=new CustomEvent(Dk,II);a.addEventListener(Dk,c),a.dispatchEvent(k),k.defaultPrevented||(Vle(Fle(H6(a)),{select:!0}),document.activeElement===x&&Gl(a))}return()=>{a.removeEventListener(Dk,c),setTimeout(()=>{const k=new CustomEvent(Pk,II);a.addEventListener(Pk,f),a.dispatchEvent(k),k.defaultPrevented||Gl(x??document.body,{select:!0}),a.removeEventListener(Pk,f),BI.remove(y)},0)}}},[a,c,f,y]);const b=w.useCallback(x=>{if(!n&&!r||y.paused)return;const C=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,k=document.activeElement;if(C&&k){const E=x.currentTarget,[T,R]=Ble(E);T&&R?!x.shiftKey&&k===R?(x.preventDefault(),n&&Gl(T,{select:!0})):x.shiftKey&&k===T&&(x.preventDefault(),n&&Gl(R,{select:!0})):k===E&&x.preventDefault()}},[n,r,y.paused]);return g.jsx(_t.div,{tabIndex:-1,...s,ref:p,onKeyDown:b})});FM.displayName=Ile;function Vle(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Gl(r,{select:e}),document.activeElement!==n)return}function Ble(t){const e=H6(t),n=VI(e,t),r=VI(e.reverse(),t);return[n,r]}function H6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function VI(t,e){for(const n of t)if(!$le(n,{upTo:e}))return n}function $le(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Hle(t){return t instanceof HTMLInputElement&&"select"in t}function Gl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Hle(t)&&e&&t.select()}}var BI=zle();function zle(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=$I(t,e),t.unshift(e)},remove(e){var n;t=$I(t,e),(n=t[0])==null||n.resume()}}}function $I(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Fle(t){return t.filter(e=>e.tagName!=="A")}var Ule="Portal",Dx=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[o,i]=w.useState(!1);Qi(()=>i(!0),[]);const s=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?kx.createPortal(g.jsx(_t.div,{...r,ref:e}),s):null});Dx.displayName=Ule;function Gle(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var uo=t=>{const{present:e,children:n}=t,r=Wle(e),o=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=un(r.ref,qle(o));return typeof n=="function"||r.isPresent?w.cloneElement(o,{ref:i}):null};uo.displayName="Presence";function Wle(t){const[e,n]=w.useState(),r=w.useRef({}),o=w.useRef(t),i=w.useRef("none"),s=t?"mounted":"unmounted",[a,l]=Gle(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=tb(r.current);i.current=a==="mounted"?c:"none"},[a]),Qi(()=>{const c=r.current,f=o.current;if(f!==t){const p=i.current,y=tb(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&p!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,l]),Qi(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,h=y=>{const x=tb(r.current).includes(y.animationName);if(y.target===e&&x&&(l("ANIMATION_END"),!o.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},p=y=>{y.target===e&&(i.current=tb(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function tb(t){return(t==null?void 0:t.animationName)||"none"}function qle(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Lk=0;function z6(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??HI()),document.body.insertAdjacentElement("beforeend",t[1]??HI()),Lk++,()=>{Lk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lk--}},[])}function HI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ns=function(){return Ns=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ns.apply(this,arguments)};function F6(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Yle(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var qb="right-scroll-bar-position",Yb="width-before-scroll-bar",Kle="with-scroll-bars-hidden",Zle="--removed-body-scroll-bar-size";function jk(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Xle(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var Jle=typeof window<"u"?w.useLayoutEffect:w.useEffect,zI=new WeakMap;function Qle(t,e){var n=Xle(null,function(r){return t.forEach(function(o){return jk(o,r)})});return Jle(function(){var r=zI.get(n);if(r){var o=new Set(r),i=new Set(t),s=n.current;o.forEach(function(a){i.has(a)||jk(a,null)}),i.forEach(function(a){o.has(a)||jk(a,s)})}zI.set(n,t)},[t]),n}function ece(t){return t}function tce(t,e){e===void 0&&(e=ece);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var s=e(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var f=s;s=[],f.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){s.push(f),c()},filter:function(f){return s=s.filter(f),n}}}};return o}function nce(t){t===void 0&&(t={});var e=tce(null);return e.options=Ns({async:!0,ssr:!1},t),e}var U6=function(t){var e=t.sideCar,n=F6(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Ns({},n))};U6.isSideCarExport=!0;function rce(t,e){return t.useMedium(e),U6}var G6=nce(),Ik=function(){},Px=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Ik,onWheelCapture:Ik,onTouchMoveCapture:Ik}),o=r[0],i=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,h=t.shards,p=t.sideCar,y=t.noIsolation,b=t.inert,x=t.allowPinchZoom,C=t.as,k=C===void 0?"div":C,E=t.gapMode,T=F6(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,A=Qle([n,e]),N=Ns(Ns({},T),o);return w.createElement(w.Fragment,null,f&&w.createElement(R,{sideCar:G6,removeScrollBar:c,shards:h,noIsolation:y,inert:b,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:E}),s?w.cloneElement(w.Children.only(a),Ns(Ns({},N),{ref:A})):w.createElement(k,Ns({},N,{className:l,ref:A}),a))});Px.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Px.classNames={fullWidth:Yb,zeroRight:qb};var oce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ice(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=oce();return e&&t.setAttribute("nonce",e),t}function sce(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ace(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lce=function(){var t=0,e=null;return{add:function(n){t==0&&(e=ice())&&(sce(e,n),ace(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cce=function(){var t=lce();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},W6=function(){var t=cce(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},uce={left:0,top:0,right:0,gap:0},Vk=function(t){return parseInt(t||"",10)||0},dce=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Vk(n),Vk(r),Vk(o)]},fce=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return uce;var e=dce(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},hce=W6(),Hf="data-scroll-locked",pce=function(t,e,n,r){var o=t.left,i=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Kle,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qb,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yb,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qb," .").concat(qb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yb," .").concat(Yb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hf,`] {
    `).concat(Zle,": ").concat(a,`px;
  }
`)},FI=function(){var t=parseInt(document.body.getAttribute(Hf)||"0",10);return isFinite(t)?t:0},mce=function(){w.useEffect(function(){return document.body.setAttribute(Hf,(FI()+1).toString()),function(){var t=FI()-1;t<=0?document.body.removeAttribute(Hf):document.body.setAttribute(Hf,t.toString())}},[])},gce=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;mce();var i=w.useMemo(function(){return fce(o)},[o]);return w.createElement(hce,{styles:pce(i,!e,o,n?"":"!important")})},JE=!1;if(typeof window<"u")try{var nb=Object.defineProperty({},"passive",{get:function(){return JE=!0,!0}});window.addEventListener("test",nb,nb),window.removeEventListener("test",nb,nb)}catch{JE=!1}var of=JE?{passive:!1}:!1,yce=function(t){return t.tagName==="TEXTAREA"},q6=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!yce(t)&&n[e]==="visible")},vce=function(t){return q6(t,"overflowY")},bce=function(t){return q6(t,"overflowX")},UI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Y6(t,r);if(o){var i=K6(t,r),s=i[1],a=i[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xce=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},wce=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Y6=function(t,e){return t==="v"?vce(e):bce(e)},K6=function(t,e){return t==="v"?xce(e):wce(e)},Sce=function(t,e){return t==="h"&&e==="rtl"?-1:1},Cce=function(t,e,n,r,o){var i=Sce(t,window.getComputedStyle(e).direction),s=i*r,a=n.target,l=e.contains(a),c=!1,f=s>0,h=0,p=0;do{var y=K6(t,a),b=y[0],x=y[1],C=y[2],k=x-C-i*b;(b||k)&&Y6(t,a)&&(h+=k,p+=b),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&Math.abs(h)<1||!f&&Math.abs(p)<1)&&(c=!0),c},rb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},GI=function(t){return[t.deltaX,t.deltaY]},WI=function(t){return t&&"current"in t?t.current:t},kce=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_ce=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Ece=0,sf=[];function Tce(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),o=w.useState(Ece++)[0],i=w.useState(W6)[0],s=w.useRef(t);w.useEffect(function(){s.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var x=Yle([t.lockRef.current],(t.shards||[]).map(WI),!0).filter(Boolean);return x.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(x,C){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!s.current.allowPinchZoom;var k=rb(x),E=n.current,T="deltaX"in x?x.deltaX:E[0]-k[0],R="deltaY"in x?x.deltaY:E[1]-k[1],A,N=x.target,O=Math.abs(T)>Math.abs(R)?"h":"v";if("touches"in x&&O==="h"&&N.type==="range")return!1;var j=UI(O,N);if(!j)return!0;if(j?A=O:(A=O==="v"?"h":"v",j=UI(O,N)),!j)return!1;if(!r.current&&"changedTouches"in x&&(T||R)&&(r.current=A),!A)return!0;var P=r.current||A;return Cce(P,C,x,P==="h"?T:R)},[]),l=w.useCallback(function(x){var C=x;if(!(!sf.length||sf[sf.length-1]!==i)){var k="deltaY"in C?GI(C):rb(C),E=e.current.filter(function(A){return A.name===C.type&&(A.target===C.target||C.target===A.shadowParent)&&kce(A.delta,k)})[0];if(E&&E.should){C.cancelable&&C.preventDefault();return}if(!E){var T=(s.current.shards||[]).map(WI).filter(Boolean).filter(function(A){return A.contains(C.target)}),R=T.length>0?a(C,T[0]):!s.current.noIsolation;R&&C.cancelable&&C.preventDefault()}}},[]),c=w.useCallback(function(x,C,k,E){var T={name:x,delta:C,target:k,should:E,shadowParent:Mce(k)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(R){return R!==T})},1)},[]),f=w.useCallback(function(x){n.current=rb(x),r.current=void 0},[]),h=w.useCallback(function(x){c(x.type,GI(x),x.target,a(x,t.lockRef.current))},[]),p=w.useCallback(function(x){c(x.type,rb(x),x.target,a(x,t.lockRef.current))},[]);w.useEffect(function(){return sf.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,of),document.addEventListener("touchmove",l,of),document.addEventListener("touchstart",f,of),function(){sf=sf.filter(function(x){return x!==i}),document.removeEventListener("wheel",l,of),document.removeEventListener("touchmove",l,of),document.removeEventListener("touchstart",f,of)}},[]);var y=t.removeScrollBar,b=t.inert;return w.createElement(w.Fragment,null,b?w.createElement(i,{styles:_ce(o)}):null,y?w.createElement(gce,{gapMode:t.gapMode}):null)}function Mce(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ace=rce(G6,Tce);var UM=w.forwardRef(function(t,e){return w.createElement(Px,Ns({},t,{ref:e,sideCar:Ace}))});UM.classNames=Px.classNames;var Rce=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},af=new WeakMap,ob=new WeakMap,ib={},Bk=0,Z6=function(t){return t&&(t.host||Z6(t.parentNode))},Nce=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Z6(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Oce=function(t,e,n,r){var o=Nce(e,Array.isArray(t)?t:[t]);ib[n]||(ib[n]=new WeakMap);var i=ib[n],s=[],a=new Set,l=new Set(o),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};o.forEach(c);var f=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))f(p);else try{var y=p.getAttribute(r),b=y!==null&&y!=="false",x=(af.get(p)||0)+1,C=(i.get(p)||0)+1;af.set(p,x),i.set(p,C),s.push(p),x===1&&b&&ob.set(p,!0),C===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",p,k)}})};return f(e),a.clear(),Bk++,function(){s.forEach(function(h){var p=af.get(h)-1,y=i.get(h)-1;af.set(h,p),i.set(h,y),p||(ob.has(h)||h.removeAttribute(r),ob.delete(h)),y||h.removeAttribute(n)}),Bk--,Bk||(af=new WeakMap,af=new WeakMap,ob=new WeakMap,ib={})}},X6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=Rce(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Oce(r,o,n,"aria-hidden")):function(){return null}},GM="Dialog",[J6,tVe]=ds(GM),[Dce,fs]=J6(GM),Q6=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!0}=t,a=w.useRef(null),l=w.useRef(null),[c=!1,f]=ey({prop:r,defaultProp:o,onChange:i});return g.jsx(Dce,{scope:e,triggerRef:a,contentRef:l,contentId:sc(),titleId:sc(),descriptionId:sc(),open:c,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),modal:s,children:n})};Q6.displayName=GM;var e9="DialogTrigger",Pce=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=fs(e9,n),i=un(e,o.triggerRef);return g.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":YM(o.open),...r,ref:i,onClick:Ye(t.onClick,o.onOpenToggle)})});Pce.displayName=e9;var WM="DialogPortal",[Lce,t9]=J6(WM,{forceMount:void 0}),n9=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,i=fs(WM,e);return g.jsx(Lce,{scope:e,forceMount:n,children:w.Children.map(r,s=>g.jsx(uo,{present:n||i.open,children:g.jsx(Dx,{asChild:!0,container:o,children:s})}))})};n9.displayName=WM;var P0="DialogOverlay",r9=w.forwardRef((t,e)=>{const n=t9(P0,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,i=fs(P0,t.__scopeDialog);return i.modal?g.jsx(uo,{present:r||i.open,children:g.jsx(jce,{...o,ref:e})}):null});r9.displayName=P0;var jce=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=fs(P0,n);return g.jsx(UM,{as:Ko,allowPinchZoom:!0,shards:[o.contentRef],children:g.jsx(_t.div,{"data-state":YM(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Fu="DialogContent",o9=w.forwardRef((t,e)=>{const n=t9(Fu,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,i=fs(Fu,t.__scopeDialog);return g.jsx(uo,{present:r||i.open,children:i.modal?g.jsx(Ice,{...o,ref:e}):g.jsx(Vce,{...o,ref:e})})});o9.displayName=Fu;var Ice=w.forwardRef((t,e)=>{const n=fs(Fu,t.__scopeDialog),r=w.useRef(null),o=un(e,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return X6(i)},[]),g.jsx(i9,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(t.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ye(t.onPointerDownOutside,i=>{const s=i.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&i.preventDefault()}),onFocusOutside:Ye(t.onFocusOutside,i=>i.preventDefault())})}),Vce=w.forwardRef((t,e)=>{const n=fs(Fu,t.__scopeDialog),r=w.useRef(!1),o=w.useRef(!1);return g.jsx(i9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),i9=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=t,a=fs(Fu,n),l=w.useRef(null),c=un(e,l);return z6(),g.jsxs(g.Fragment,{children:[g.jsx(FM,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:g.jsx(Ox,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":YM(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(Bce,{titleId:a.titleId}),g.jsx(Hce,{contentRef:l,descriptionId:a.descriptionId})]})]})}),qM="DialogTitle",s9=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=fs(qM,n);return g.jsx(_t.h2,{id:o.titleId,...r,ref:e})});s9.displayName=qM;var a9="DialogDescription",l9=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=fs(a9,n);return g.jsx(_t.p,{id:o.descriptionId,...r,ref:e})});l9.displayName=a9;var c9="DialogClose",u9=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=fs(c9,n);return g.jsx(_t.button,{type:"button",...r,ref:e,onClick:Ye(t.onClick,()=>o.onOpenChange(!1))})});u9.displayName=c9;function YM(t){return t?"open":"closed"}var d9="DialogTitleWarning",[nVe,f9]=kle(d9,{contentName:Fu,titleName:qM,docsSlug:"dialog"}),Bce=({titleId:t})=>{const e=f9(d9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},$ce="DialogDescriptionWarning",Hce=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${f9($ce).contentName}}.`;return w.useEffect(()=>{var i;const o=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},h9=Q6,p9=n9,m9=r9,g9=o9,y9=s9,v9=l9,b9=u9;function zce({...t}){return g.jsx(h9,{"data-slot":"sheet",...t})}function Fce({...t}){return g.jsx(p9,{"data-slot":"sheet-portal",...t})}function Uce({className:t,...e}){return g.jsx(m9,{"data-slot":"sheet-overlay",className:ke("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t),...e})}function Gce({className:t,children:e,side:n="right",...r}){return g.jsxs(Fce,{children:[g.jsx(Uce,{}),g.jsxs(g9,{"data-slot":"sheet-content",className:ke("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[e,g.jsxs(b9,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[g.jsx(Lse,{className:"size-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Wce({className:t,...e}){return g.jsx("div",{"data-slot":"sheet-header",className:ke("flex flex-col gap-1.5 p-4",t),...e})}function qce({className:t,...e}){return g.jsx(y9,{"data-slot":"sheet-title",className:ke("text-foreground font-semibold",t),...e})}function Yce({className:t,...e}){return g.jsx(v9,{"data-slot":"sheet-description",className:ke("text-muted-foreground text-sm",t),...e})}const Kce=["top","right","bottom","left"],es=Math.min,zr=Math.max,L0=Math.round,sb=Math.floor,Ys=t=>({x:t,y:t}),Zce={left:"right",right:"left",bottom:"top",top:"bottom"},Xce={start:"end",end:"start"};function QE(t,e,n){return zr(t,es(e,n))}function Js(t,e){return typeof t=="function"?t(e):t}function ts(t){return t.split("-")[0]}function Eh(t){return t.split("-")[1]}function KM(t){return t==="x"?"y":"x"}function ZM(t){return t==="y"?"height":"width"}function al(t){return["top","bottom"].includes(ts(t))?"y":"x"}function XM(t){return KM(al(t))}function Jce(t,e,n){n===void 0&&(n=!1);const r=Eh(t),o=XM(t),i=ZM(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=j0(s)),[s,j0(s)]}function Qce(t){const e=j0(t);return[eT(t),e,eT(e)]}function eT(t){return t.replace(/start|end/g,e=>Xce[e])}function eue(t,e,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?i:s;default:return[]}}function tue(t,e,n,r){const o=Eh(t);let i=eue(ts(t),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),e&&(i=i.concat(i.map(eT)))),i}function j0(t){return t.replace(/left|right|bottom|top/g,e=>Zce[e])}function nue(t){return{top:0,right:0,bottom:0,left:0,...t}}function JM(t){return typeof t!="number"?nue(t):{top:t,right:t,bottom:t,left:t}}function oh(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function qI(t,e,n){let{reference:r,floating:o}=t;const i=al(e),s=XM(e),a=ZM(s),l=ts(e),c=i==="y",f=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let y;switch(l){case"top":y={x:f,y:r.y-o.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-o.width,y:h};break;default:y={x:r.x,y:r.y}}switch(Eh(e)){case"start":y[s]-=p*(n&&c?-1:1);break;case"end":y[s]+=p*(n&&c?-1:1);break}return y}const rue=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:f,y:h}=qI(c,r,l),p=r,y={},b=0;for(let x=0;x<a.length;x++){const{name:C,fn:k}=a[x],{x:E,y:T,data:R,reset:A}=await k({x:f,y:h,initialPlacement:r,placement:p,strategy:o,middlewareData:y,rects:c,platform:s,elements:{reference:t,floating:e}});f=E??f,h=T??h,y={...y,[C]:{...y[C],...R}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(c=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:o}):A.rects),{x:f,y:h}=qI(c,p,l)),x=-1)}return{x:f,y:h,placement:p,strategy:o,middlewareData:y}};async function sg(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:y=0}=Js(e,t),b=JM(y),C=a[p?h==="floating"?"reference":"floating":h],k=oh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(C)))==null||n?C:C.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),E=h==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},A=oh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:T,strategy:l}):E);return{top:(k.top-A.top+b.top)/R.y,bottom:(A.bottom-k.bottom+b.bottom)/R.y,left:(k.left-A.left+b.left)/R.x,right:(A.right-k.right+b.right)/R.x}}const oue=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=Js(t,e)||{};if(c==null)return{};const h=JM(f),p={x:n,y:r},y=XM(o),b=ZM(y),x=await s.getDimensions(c),C=y==="y",k=C?"top":"left",E=C?"bottom":"right",T=C?"clientHeight":"clientWidth",R=i.reference[b]+i.reference[y]-p[y]-i.floating[b],A=p[y]-i.reference[y],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let O=N?N[T]:0;(!O||!await(s.isElement==null?void 0:s.isElement(N)))&&(O=a.floating[T]||i.floating[b]);const j=R/2-A/2,P=O/2-x[b]/2-1,z=es(h[k],P),X=es(h[E],P),Z=z,q=O-x[b]-X,re=O/2-x[b]/2+j,ee=QE(Z,re,q),B=!l.arrow&&Eh(o)!=null&&re!==ee&&i.reference[b]/2-(re<Z?z:X)-x[b]/2<0,$=B?re<Z?re-Z:re-q:0;return{[y]:p[y]+$,data:{[y]:ee,centerOffset:re-ee-$,...B&&{alignmentOffset:$}},reset:B}}}),iue=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...C}=Js(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const k=ts(o),E=al(a),T=ts(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=p||(T||!x?[j0(a)]:Qce(a)),N=b!=="none";!p&&N&&A.push(...tue(a,x,b,R));const O=[a,...A],j=await sg(e,C),P=[];let z=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&P.push(j[k]),h){const re=Jce(o,s,R);P.push(j[re[0]],j[re[1]])}if(z=[...z,{placement:o,overflows:P}],!P.every(re=>re<=0)){var X,Z;const re=(((X=i.flip)==null?void 0:X.index)||0)+1,ee=O[re];if(ee)return{data:{index:re,overflows:z},reset:{placement:ee}};let B=(Z=z.filter($=>$.overflows[0]<=0).sort(($,V)=>$.overflows[1]-V.overflows[1])[0])==null?void 0:Z.placement;if(!B)switch(y){case"bestFit":{var q;const $=(q=z.filter(V=>{if(N){const G=al(V.placement);return G===E||G==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(G=>G>0).reduce((G,L)=>G+L,0)]).sort((V,G)=>V[1]-G[1])[0])==null?void 0:q[0];$&&(B=$);break}case"initialPlacement":B=a;break}if(o!==B)return{reset:{placement:B}}}return{}}}};function YI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function KI(t){return Kce.some(e=>t[e]>=0)}const sue=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=Js(t,e);switch(r){case"referenceHidden":{const i=await sg(e,{...o,elementContext:"reference"}),s=YI(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:KI(s)}}}case"escaped":{const i=await sg(e,{...o,altBoundary:!0}),s=YI(i,n.floating);return{data:{escapedOffsets:s,escaped:KI(s)}}}default:return{}}}}};function x9(t){const e=es(...t.map(i=>i.left)),n=es(...t.map(i=>i.top)),r=zr(...t.map(i=>i.right)),o=zr(...t.map(i=>i.bottom));return{x:e,y:n,width:r-e,height:o-n}}function aue(t){const e=t.slice().sort((o,i)=>o.y-i.y),n=[];let r=null;for(let o=0;o<e.length;o++){const i=e[o];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(o=>oh(x9(o)))}const lue=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:o,platform:i,strategy:s}=e,{padding:a=2,x:l,y:c}=Js(t,e),f=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),h=aue(f),p=oh(x9(f)),y=JM(a);function b(){if(h.length===2&&h[0].left>h[1].right&&l!=null&&c!=null)return h.find(C=>l>C.left-y.left&&l<C.right+y.right&&c>C.top-y.top&&c<C.bottom+y.bottom)||p;if(h.length>=2){if(al(n)==="y"){const z=h[0],X=h[h.length-1],Z=ts(n)==="top",q=z.top,re=X.bottom,ee=Z?z.left:X.left,B=Z?z.right:X.right,$=B-ee,V=re-q;return{top:q,bottom:re,left:ee,right:B,width:$,height:V,x:ee,y:q}}const C=ts(n)==="left",k=zr(...h.map(z=>z.right)),E=es(...h.map(z=>z.left)),T=h.filter(z=>C?z.left===E:z.right===k),R=T[0].top,A=T[T.length-1].bottom,N=E,O=k,j=O-N,P=A-R;return{top:R,bottom:A,left:N,right:O,width:j,height:P,x:N,y:R}}return p}const x=await i.getElementRects({reference:{getBoundingClientRect:b},floating:r.floating,strategy:s});return o.reference.x!==x.reference.x||o.reference.y!==x.reference.y||o.reference.width!==x.reference.width||o.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}};async function cue(t,e){const{placement:n,platform:r,elements:o}=t,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=ts(n),a=Eh(n),l=al(n)==="y",c=["left","top"].includes(s)?-1:1,f=i&&l?-1:1,h=Js(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(y=a==="end"?b*-1:b),l?{x:y*f,y:p*c}:{x:p*c,y:y*f}}const uue=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=e,l=await cue(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},due=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:C=>{let{x:k,y:E}=C;return{x:k,y:E}}},...l}=Js(t,e),c={x:n,y:r},f=await sg(e,l),h=al(ts(o)),p=KM(h);let y=c[p],b=c[h];if(i){const C=p==="y"?"top":"left",k=p==="y"?"bottom":"right",E=y+f[C],T=y-f[k];y=QE(E,y,T)}if(s){const C=h==="y"?"top":"left",k=h==="y"?"bottom":"right",E=b+f[C],T=b-f[k];b=QE(E,b,T)}const x=a.fn({...e,[p]:y,[h]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:i,[h]:s}}}}}},fue=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Js(t,e),f={x:n,y:r},h=al(o),p=KM(h);let y=f[p],b=f[h];const x=Js(a,e),C=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const T=p==="y"?"height":"width",R=i.reference[p]-i.floating[T]+C.mainAxis,A=i.reference[p]+i.reference[T]-C.mainAxis;y<R?y=R:y>A&&(y=A)}if(c){var k,E;const T=p==="y"?"width":"height",R=["top","left"].includes(ts(o)),A=i.reference[h]-i.floating[T]+(R&&((k=s.offset)==null?void 0:k[h])||0)+(R?0:C.crossAxis),N=i.reference[h]+i.reference[T]+(R?0:((E=s.offset)==null?void 0:E[h])||0)-(R?C.crossAxis:0);b<A?b=A:b>N&&(b=N)}return{[p]:y,[h]:b}}}},hue=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:i,platform:s,elements:a}=e,{apply:l=()=>{},...c}=Js(t,e),f=await sg(e,c),h=ts(o),p=Eh(o),y=al(o)==="y",{width:b,height:x}=i.floating;let C,k;h==="top"||h==="bottom"?(C=h,k=p===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(k=h,C=p==="end"?"top":"bottom");const E=x-f.top-f.bottom,T=b-f.left-f.right,R=es(x-f[C],E),A=es(b-f[k],T),N=!e.middlewareData.shift;let O=R,j=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=E),N&&!p){const z=zr(f.left,0),X=zr(f.right,0),Z=zr(f.top,0),q=zr(f.bottom,0);y?j=b-2*(z!==0||X!==0?z+X:zr(f.left,f.right)):O=x-2*(Z!==0||q!==0?Z+q:zr(f.top,f.bottom))}await l({...e,availableWidth:j,availableHeight:O});const P=await s.getDimensions(a.floating);return b!==P.width||x!==P.height?{reset:{rects:!0}}:{}}}};function Lx(){return typeof window<"u"}function Th(t){return w9(t)?(t.nodeName||"").toLowerCase():"#document"}function _o(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sa(t){var e;return(e=(w9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function w9(t){return Lx()?t instanceof Node||t instanceof _o(t).Node:!1}function ln(t){return Lx()?t instanceof Element||t instanceof _o(t).Element:!1}function Zo(t){return Lx()?t instanceof HTMLElement||t instanceof _o(t).HTMLElement:!1}function tT(t){return!Lx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _o(t).ShadowRoot}function ty(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Pi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function pue(t){return["table","td","th"].includes(Th(t))}function jx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function QM(t){const e=Ix(),n=ln(t)?Pi(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function mue(t){let e=ll(t);for(;Zo(e)&&!yc(e);){if(QM(e))return e;if(jx(e))return null;e=ll(e)}return null}function Ix(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yc(t){return["html","body","#document"].includes(Th(t))}function Pi(t){return _o(t).getComputedStyle(t)}function Vx(t){return ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ll(t){if(Th(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tT(t)&&t.host||sa(t);return tT(e)?e.host:e}function S9(t){const e=ll(t);return yc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zo(e)&&ty(e)?e:S9(e)}function Xa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=S9(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),s=_o(o);if(i){const a=nT(s);return e.concat(s,s.visualViewport||[],ty(o)?o:[],a&&n?Xa(a):[])}return e.concat(o,Xa(o,[],n))}function nT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function C9(t){const e=Pi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Zo(t),i=o?t.offsetWidth:n,s=o?t.offsetHeight:r,a=L0(n)!==i||L0(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function eA(t){return ln(t)?t:t.contextElement}function zf(t){const e=eA(t);if(!Zo(e))return Ys(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:i}=C9(e);let s=(i?L0(n.width):n.width)/r,a=(i?L0(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const gue=Ys(0);function k9(t){const e=_o(t);return!Ix()||!e.visualViewport?gue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yue(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_o(t)?!1:e}function Uu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=eA(t);let s=Ys(1);e&&(r?ln(r)&&(s=zf(r)):s=zf(t));const a=yue(i,n,r)?k9(i):Ys(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,f=o.width/s.x,h=o.height/s.y;if(i){const p=_o(i),y=r&&ln(r)?_o(r):r;let b=p,x=nT(b);for(;x&&r&&y!==b;){const C=zf(x),k=x.getBoundingClientRect(),E=Pi(x),T=k.left+(x.clientLeft+parseFloat(E.paddingLeft))*C.x,R=k.top+(x.clientTop+parseFloat(E.paddingTop))*C.y;l*=C.x,c*=C.y,f*=C.x,h*=C.y,l+=T,c+=R,b=_o(x),x=nT(b)}}return oh({width:f,height:h,x:l,y:c})}function tA(t,e){const n=Vx(t).scrollLeft;return e?e.left+n:Uu(sa(t)).left+n}function _9(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:tA(t,r)),i=r.top+e.scrollTop;return{x:o,y:i}}function vue(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const i=o==="fixed",s=sa(r),a=e?jx(e.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Ys(1);const f=Ys(0),h=Zo(r);if((h||!h&&!i)&&((Th(r)!=="body"||ty(s))&&(l=Vx(r)),Zo(r))){const y=Uu(r);c=zf(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const p=s&&!h&&!i?_9(s,l,!0):Ys(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x+p.x,y:n.y*c.y-l.scrollTop*c.y+f.y+p.y}}function bue(t){return Array.from(t.getClientRects())}function xue(t){const e=sa(t),n=Vx(t),r=t.ownerDocument.body,o=zr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=zr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+tA(t);const a=-n.scrollTop;return Pi(r).direction==="rtl"&&(s+=zr(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function wue(t,e){const n=_o(t),r=sa(t),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const c=Ix();(!c||c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function Sue(t,e){const n=Uu(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=Zo(t)?zf(t):Ys(1),s=t.clientWidth*i.x,a=t.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function ZI(t,e,n){let r;if(e==="viewport")r=wue(t,n);else if(e==="document")r=xue(sa(t));else if(ln(e))r=Sue(e,n);else{const o=k9(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return oh(r)}function E9(t,e){const n=ll(t);return n===e||!ln(n)||yc(n)?!1:Pi(n).position==="fixed"||E9(n,e)}function Cue(t,e){const n=e.get(t);if(n)return n;let r=Xa(t,[],!1).filter(a=>ln(a)&&Th(a)!=="body"),o=null;const i=Pi(t).position==="fixed";let s=i?ll(t):t;for(;ln(s)&&!yc(s);){const a=Pi(s),l=QM(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ty(s)&&!l&&E9(t,s))?r=r.filter(f=>f!==s):o=a,s=ll(s)}return e.set(t,r),r}function kue(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const s=[...n==="clippingAncestors"?jx(e)?[]:Cue(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,f)=>{const h=ZI(e,f,o);return c.top=zr(h.top,c.top),c.right=es(h.right,c.right),c.bottom=es(h.bottom,c.bottom),c.left=zr(h.left,c.left),c},ZI(e,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _ue(t){const{width:e,height:n}=C9(t);return{width:e,height:n}}function Eue(t,e,n){const r=Zo(e),o=sa(e),i=n==="fixed",s=Uu(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ys(0);if(r||!r&&!i)if((Th(e)!=="body"||ty(o))&&(a=Vx(e)),r){const p=Uu(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else o&&(l.x=tA(o));const c=o&&!r&&!i?_9(o,a):Ys(0),f=s.left+a.scrollLeft-l.x-c.x,h=s.top+a.scrollTop-l.y-c.y;return{x:f,y:h,width:s.width,height:s.height}}function $k(t){return Pi(t).position==="static"}function XI(t,e){if(!Zo(t)||Pi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return sa(t)===n&&(n=n.ownerDocument.body),n}function T9(t,e){const n=_o(t);if(jx(t))return n;if(!Zo(t)){let o=ll(t);for(;o&&!yc(o);){if(ln(o)&&!$k(o))return o;o=ll(o)}return n}let r=XI(t,e);for(;r&&pue(r)&&$k(r);)r=XI(r,e);return r&&yc(r)&&$k(r)&&!QM(r)?n:r||mue(t)||n}const Tue=async function(t){const e=this.getOffsetParent||T9,n=this.getDimensions,r=await n(t.floating);return{reference:Eue(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Mue(t){return Pi(t).direction==="rtl"}const Aue={convertOffsetParentRelativeRectToViewportRelativeRect:vue,getDocumentElement:sa,getClippingRect:kue,getOffsetParent:T9,getElementRects:Tue,getClientRects:bue,getDimensions:_ue,getScale:zf,isElement:ln,isRTL:Mue};function M9(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Rue(t,e){let n=null,r;const o=sa(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:f,top:h,width:p,height:y}=c;if(a||e(),!p||!y)return;const b=sb(h),x=sb(o.clientWidth-(f+p)),C=sb(o.clientHeight-(h+y)),k=sb(f),T={rootMargin:-b+"px "+-x+"px "+-C+"px "+-k+"px",threshold:zr(0,es(1,l))||1};let R=!0;function A(N){const O=N[0].intersectionRatio;if(O!==l){if(!R)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!M9(c,t.getBoundingClientRect())&&s(),R=!1}try{n=new IntersectionObserver(A,{...T,root:o.ownerDocument})}catch{n=new IntersectionObserver(A,T)}n.observe(t)}return s(!0),i}function A9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=eA(t),f=o||i?[...c?Xa(c):[],...Xa(e)]:[];f.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),i&&k.addEventListener("resize",n)});const h=c&&a?Rue(c,n):null;let p=-1,y=null;s&&(y=new ResizeObserver(k=>{let[E]=k;E&&E.target===c&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),c&&!l&&y.observe(c),y.observe(e));let b,x=l?Uu(t):null;l&&C();function C(){const k=Uu(t);x&&!M9(x,k)&&n(),x=k,b=requestAnimationFrame(C)}return n(),()=>{var k;f.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),h==null||h(),(k=y)==null||k.disconnect(),y=null,l&&cancelAnimationFrame(b)}}const Nue=uue,Oue=due,Due=iue,Pue=hue,Lue=sue,JI=oue,jue=lue,Iue=fue,Vue=(t,e,n)=>{const r=new Map,o={platform:Aue,...n},i={...o.platform,_c:r};return rue(t,e,{...o,platform:i})};var Kb=typeof document<"u"?w.useLayoutEffect:w.useEffect;function I0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!I0(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&t.$$typeof)&&!I0(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function R9(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function QI(t,e){const n=R9(t);return Math.round(e*n)/n}function Hk(t){const e=w.useRef(t);return Kb(()=>{e.current=t}),e}function N9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,h]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=w.useState(r);I0(p,r)||y(r);const[b,x]=w.useState(null),[C,k]=w.useState(null),E=w.useCallback(V=>{V!==N.current&&(N.current=V,x(V))},[]),T=w.useCallback(V=>{V!==O.current&&(O.current=V,k(V))},[]),R=i||b,A=s||C,N=w.useRef(null),O=w.useRef(null),j=w.useRef(f),P=l!=null,z=Hk(l),X=Hk(o),Z=Hk(c),q=w.useCallback(()=>{if(!N.current||!O.current)return;const V={placement:e,strategy:n,middleware:p};X.current&&(V.platform=X.current),Vue(N.current,O.current,V).then(G=>{const L={...G,isPositioned:Z.current!==!1};re.current&&!I0(j.current,L)&&(j.current=L,Di.flushSync(()=>{h(L)}))})},[p,e,n,X,Z]);Kb(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[c]);const re=w.useRef(!1);Kb(()=>(re.current=!0,()=>{re.current=!1}),[]),Kb(()=>{if(R&&(N.current=R),A&&(O.current=A),R&&A){if(z.current)return z.current(R,A,q);q()}},[R,A,q,z,P]);const ee=w.useMemo(()=>({reference:N,floating:O,setReference:E,setFloating:T}),[E,T]),B=w.useMemo(()=>({reference:R,floating:A}),[R,A]),$=w.useMemo(()=>{const V={position:n,left:0,top:0};if(!B.floating)return V;const G=QI(B.floating,f.x),L=QI(B.floating,f.y);return a?{...V,transform:"translate("+G+"px, "+L+"px)",...R9(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:L}},[n,a,B.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:q,refs:ee,elements:B,floatingStyles:$}),[f,q,ee,B,$])}const Bue=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?JI({element:r.current,padding:o}).fn(n):{}:r?JI({element:r,padding:o}).fn(n):{}}}},hs=(t,e)=>({...Nue(t),options:[t,e]}),Nc=(t,e)=>({...Oue(t),options:[t,e]}),rT=(t,e)=>({...Iue(t),options:[t,e]}),Li=(t,e)=>({...Due(t),options:[t,e]}),ny=(t,e)=>({...Pue(t),options:[t,e]}),$ue=(t,e)=>({...Lue(t),options:[t,e]}),Sm=(t,e)=>({...jue(t),options:[t,e]}),nA=(t,e)=>({...Bue(t),options:[t,e]});var Hue="Arrow",O9=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...i}=t;return g.jsx(_t.svg,{...i,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});O9.displayName=Hue;var zue=O9;function Fue(t){const[e,n]=w.useState(void 0);return Qi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var rA="Popper",[D9,Bx]=ds(rA),[Uue,P9]=D9(rA),L9=t=>{const{__scopePopper:e,children:n}=t,[r,o]=w.useState(null);return g.jsx(Uue,{scope:e,anchor:r,onAnchorChange:o,children:n})};L9.displayName=rA;var j9="PopperAnchor",I9=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,i=P9(j9,n),s=w.useRef(null),a=un(e,s);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:g.jsx(_t.div,{...o,ref:a})});I9.displayName=j9;var oA="PopperContent",[Gue,Wue]=D9(oA),V9=w.forwardRef((t,e)=>{var Ne,Oe,Ie,Ue,At,Tn;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:b,...x}=t,C=P9(oA,n),[k,E]=w.useState(null),T=un(e,zt=>E(zt)),[R,A]=w.useState(null),N=Fue(R),O=(N==null?void 0:N.width)??0,j=(N==null?void 0:N.height)??0,P=r+(i!=="center"?"-"+i:""),z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},X=Array.isArray(c)?c:[c],Z=X.length>0,q={padding:z,boundary:X.filter(Yue),altBoundary:Z},{refs:re,floatingStyles:ee,placement:B,isPositioned:$,middlewareData:V}=N9({strategy:"fixed",placement:P,whileElementsMounted:(...zt)=>A9(...zt,{animationFrame:y==="always"}),elements:{reference:C.anchor},middleware:[hs({mainAxis:o+j,alignmentAxis:s}),l&&Nc({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?rT():void 0,...q}),l&&Li({...q}),ny({...q,apply:({elements:zt,rects:Ve,availableWidth:dr,availableHeight:Jn})=>{const{width:Fn,height:F}=Ve.reference,Q=zt.floating.style;Q.setProperty("--radix-popper-available-width",`${dr}px`),Q.setProperty("--radix-popper-available-height",`${Jn}px`),Q.setProperty("--radix-popper-anchor-width",`${Fn}px`),Q.setProperty("--radix-popper-anchor-height",`${F}px`)}}),R&&nA({element:R,padding:a}),Kue({arrowWidth:O,arrowHeight:j}),p&&$ue({strategy:"referenceHidden",...q})]}),[G,L]=H9(B),W=lr(b);Qi(()=>{$&&(W==null||W())},[$,W]);const se=(Ne=V.arrow)==null?void 0:Ne.x,ae=(Oe=V.arrow)==null?void 0:Oe.y,fe=((Ie=V.arrow)==null?void 0:Ie.centerOffset)!==0,[Ee,pe]=w.useState();return Qi(()=>{k&&pe(window.getComputedStyle(k).zIndex)},[k]),g.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:$?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(Ue=V.transformOrigin)==null?void 0:Ue.x,(At=V.transformOrigin)==null?void 0:At.y].join(" "),...((Tn=V.hide)==null?void 0:Tn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(Gue,{scope:n,placedSide:G,onArrowChange:A,arrowX:se,arrowY:ae,shouldHideArrow:fe,children:g.jsx(_t.div,{"data-side":G,"data-align":L,...x,ref:T,style:{...x.style,animation:$?void 0:"none"}})})})});V9.displayName=oA;var B9="PopperArrow",que={top:"bottom",right:"left",bottom:"top",left:"right"},$9=w.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,i=Wue(B9,r),s=que[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(zue,{...o,ref:n,style:{...o.style,display:"block"}})})});$9.displayName=B9;function Yue(t){return t!==null}var Kue=t=>({name:"transformOrigin",options:t,fn(e){var C,k,E;const{placement:n,rects:r,middlewareData:o}=e,s=((C=o.arrow)==null?void 0:C.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,f]=H9(n),h={start:"0%",center:"50%",end:"100%"}[f],p=(((k=o.arrow)==null?void 0:k.x)??0)+a/2,y=(((E=o.arrow)==null?void 0:E.y)??0)+l/2;let b="",x="";return c==="bottom"?(b=s?h:`${p}px`,x=`${-l}px`):c==="top"?(b=s?h:`${p}px`,x=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,x=s?h:`${y}px`):c==="left"&&(b=`${r.floating.width+l}px`,x=s?h:`${y}px`),{data:{x:b,y:x}}}});function H9(t){const[e,n="center"]=t.split("-");return[e,n]}var z9=L9,F9=I9,U9=V9,G9=$9,Zue="VisuallyHidden",W9=w.forwardRef((t,e)=>g.jsx(_t.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));W9.displayName=Zue;var Xue=W9,[$x,rVe]=ds("Tooltip",[Bx]),Hx=Bx(),q9="TooltipProvider",Jue=700,oT="tooltip.open",[Que,iA]=$x(q9),Y9=t=>{const{__scopeTooltip:e,delayDuration:n=Jue,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=t,[s,a]=w.useState(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),g.jsx(Que,{scope:e,isOpenDelayed:s,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(f=>{l.current=f},[]),disableHoverableContent:o,children:i})};Y9.displayName=q9;var zx="Tooltip",[ede,ry]=$x(zx),K9=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:o=!1,onOpenChange:i,disableHoverableContent:s,delayDuration:a}=t,l=iA(zx,t.__scopeTooltip),c=Hx(e),[f,h]=w.useState(null),p=sc(),y=w.useRef(0),b=s??l.disableHoverableContent,x=a??l.delayDuration,C=w.useRef(!1),[k=!1,E]=ey({prop:r,defaultProp:o,onChange:O=>{O?(l.onOpen(),document.dispatchEvent(new CustomEvent(oT))):l.onClose(),i==null||i(O)}}),T=w.useMemo(()=>k?C.current?"delayed-open":"instant-open":"closed",[k]),R=w.useCallback(()=>{window.clearTimeout(y.current),y.current=0,C.current=!1,E(!0)},[E]),A=w.useCallback(()=>{window.clearTimeout(y.current),y.current=0,E(!1)},[E]),N=w.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{C.current=!0,E(!0),y.current=0},x)},[x,E]);return w.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),g.jsx(z9,{...c,children:g.jsx(ede,{scope:e,contentId:p,open:k,stateAttribute:T,trigger:f,onTriggerChange:h,onTriggerEnter:w.useCallback(()=>{l.isOpenDelayed?N():R()},[l.isOpenDelayed,N,R]),onTriggerLeave:w.useCallback(()=>{b?A():(window.clearTimeout(y.current),y.current=0)},[A,b]),onOpen:R,onClose:A,disableHoverableContent:b,children:n})})};K9.displayName=zx;var iT="TooltipTrigger",Z9=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=ry(iT,n),i=iA(iT,n),s=Hx(n),a=w.useRef(null),l=un(e,a,o.onTriggerChange),c=w.useRef(!1),f=w.useRef(!1),h=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),g.jsx(F9,{asChild:!0,...s,children:g.jsx(_t.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:Ye(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ye(t.onPointerLeave,()=>{o.onTriggerLeave(),f.current=!1}),onPointerDown:Ye(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ye(t.onFocus,()=>{c.current||o.onOpen()}),onBlur:Ye(t.onBlur,o.onClose),onClick:Ye(t.onClick,o.onClose)})})});Z9.displayName=iT;var sA="TooltipPortal",[tde,nde]=$x(sA,{forceMount:void 0}),X9=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:o}=t,i=ry(sA,e);return g.jsx(tde,{scope:e,forceMount:n,children:g.jsx(uo,{present:n||i.open,children:g.jsx(Dx,{asChild:!0,container:o,children:r})})})};X9.displayName=sA;var ih="TooltipContent",J9=w.forwardRef((t,e)=>{const n=nde(ih,t.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=t,s=ry(ih,t.__scopeTooltip);return g.jsx(uo,{present:r||s.open,children:s.disableHoverableContent?g.jsx(Q9,{side:o,...i,ref:e}):g.jsx(rde,{side:o,...i,ref:e})})}),rde=w.forwardRef((t,e)=>{const n=ry(ih,t.__scopeTooltip),r=iA(ih,t.__scopeTooltip),o=w.useRef(null),i=un(e,o),[s,a]=w.useState(null),{trigger:l,onClose:c}=n,f=o.current,{onPointerInTransitChange:h}=r,p=w.useCallback(()=>{a(null),h(!1)},[h]),y=w.useCallback((b,x)=>{const C=b.currentTarget,k={x:b.clientX,y:b.clientY},E=sde(k,C.getBoundingClientRect()),T=ade(k,E),R=lde(x.getBoundingClientRect()),A=ude([...T,...R]);a(A),h(!0)},[h]);return w.useEffect(()=>()=>p(),[p]),w.useEffect(()=>{if(l&&f){const b=C=>y(C,f),x=C=>y(C,l);return l.addEventListener("pointerleave",b),f.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",x)}}},[l,f,y,p]),w.useEffect(()=>{if(s){const b=x=>{const C=x.target,k={x:x.clientX,y:x.clientY},E=(l==null?void 0:l.contains(C))||(f==null?void 0:f.contains(C)),T=!cde(k,s);E?p():T&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,f,s,c,p]),g.jsx(Q9,{...t,ref:i})}),[ode,ide]=$x(zx,{isInside:!1}),Q9=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:s,...a}=t,l=ry(ih,n),c=Hx(n),{onClose:f}=l;return w.useEffect(()=>(document.addEventListener(oT,f),()=>document.removeEventListener(oT,f)),[f]),w.useEffect(()=>{if(l.trigger){const h=p=>{const y=p.target;y!=null&&y.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),g.jsx(Ox,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:g.jsxs(U9,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(V7,{children:r}),g.jsx(ode,{scope:n,isInside:!0,children:g.jsx(Xue,{id:l.contentId,role:"tooltip",children:o||r})})]})})});J9.displayName=ih;var e$="TooltipArrow",t$=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=Hx(n);return ide(e$,n).isInside?null:g.jsx(G9,{...o,...r,ref:e})});t$.displayName=e$;function sde(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ade(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function lde(t){const{top:e,right:n,bottom:r,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:r},{x:o,y:r}]}function cde(t,e){const{x:n,y:r}=t;let o=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const a=e[i].x,l=e[i].y,c=e[s].x,f=e[s].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(o=!o)}return o}function ude(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),dde(e)}function dde(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const o=t[r];for(;e.length>=2;){const i=e[e.length-1],s=e[e.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const o=t[r];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var fde=Y9,hde=K9,pde=Z9,mde=X9,gde=J9,yde=t$;function Ps({delayDuration:t=0,...e}){return g.jsx(fde,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function Ls({...t}){return g.jsx(Ps,{children:g.jsx(hde,{"data-slot":"tooltip",...t})})}function js({...t}){return g.jsx(pde,{"data-slot":"tooltip-trigger",...t})}function Is({className:t,sideOffset:e=0,children:n,...r}){return g.jsx(mde,{children:g.jsxs(gde,{"data-slot":"tooltip-content",sideOffset:e,className:ke("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance",t),...r,children:[n,g.jsx(yde,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const vde="sidebar_state",bde=60*60*24*7,xde="16rem",wde="18rem",Sde="3rem",Cde="b",n$=w.createContext(null);function ld(){const t=w.useContext(n$);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function r$({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:o,children:i,...s}){const a=I6(),[l,c]=w.useState(!1),[f,h]=w.useState(t),p=e??f,y=w.useCallback(k=>{const E=typeof k=="function"?k(p):k;n?n(E):h(E),document.cookie=`${vde}=${E}; path=/; max-age=${bde}`},[n,p]),b=w.useCallback(()=>a?c(k=>!k):y(k=>!k),[a,y,c]);w.useEffect(()=>{const k=E=>{E.key===Cde&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),b())};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[b]);const x=p?"expanded":"collapsed",C=w.useMemo(()=>({state:x,open:p,setOpen:y,isMobile:a,openMobile:l,setOpenMobile:c,toggleSidebar:b}),[x,p,y,a,l,c,b]);return g.jsx(n$.Provider,{value:C,children:g.jsx(Ps,{delayDuration:0,children:g.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":xde,"--sidebar-width-icon":Sde,...o},className:ke("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...s,children:i})})})}function o$({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:o,...i}){const{isMobile:s,state:a,openMobile:l,setOpenMobile:c}=ld();return n==="none"?g.jsx("div",{"data-slot":"sidebar",className:ke("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...i,children:o}):s?g.jsx(zce,{open:l,onOpenChange:c,...i,children:g.jsxs(Gce,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":wde},side:t,children:[g.jsxs(Wce,{className:"sr-only",children:[g.jsx(qce,{children:"Sidebar"}),g.jsx(Yce,{children:"Displays the mobile sidebar."})]}),g.jsx("div",{className:"flex h-full w-full flex-col",children:o})]})}):g.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":a,"data-collapsible":a==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[g.jsx("div",{className:ke("relative h-svh w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),g.jsx("div",{className:ke("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:g.jsx("div",{"data-sidebar":"sidebar",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:o})})]})}function i$({className:t,onClick:e,...n}){const{toggleSidebar:r}=ld();return g.jsxs(Tt,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:ke("h-7 w-7",t),onClick:o=>{e==null||e(o),r()},...n,children:[g.jsx(ose,{}),g.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function kde({className:t,...e}){const{toggleSidebar:n}=ld();return g.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:ke("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})}function s$({className:t,...e}){return g.jsx("main",{"data-slot":"sidebar-inset",className:ke("bg-background relative flex min-h-svh w-full flex-1 flex-col","peer-data-[variant=inset]:min-h-[calc(100svh-(--spacing(4)))] md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...e})}function a$({className:t,...e}){return g.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:ke("flex flex-col gap-2 p-2",t),...e})}function _de({className:t,...e}){return g.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:ke("flex flex-col gap-2 p-2",t),...e})}function Ede({className:t,...e}){return g.jsx(ig,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:ke("bg-sidebar-border mx-2 w-auto",t),...e})}function l$({className:t,...e}){return g.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:ke("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function aA({className:t,...e}){return g.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:ke("relative flex w-full min-w-0 flex-col p-2",t),...e})}function c$({className:t,asChild:e=!1,...n}){const r=e?Ko:"div";return g.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:ke("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function u$({className:t,...e}){return g.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:ke("w-full text-sm",t),...e})}function oy({className:t,...e}){return g.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:ke("flex w-full min-w-0 flex-col gap-1",t),...e})}function vc({className:t,...e}){return g.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:ke("group/menu-item relative",t),...e})}const Tde=OM("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function bc({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:o,className:i,...s}){const a=t?Ko:"button",{isMobile:l,state:c}=ld(),f=g.jsx(a,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:ke(Tde({variant:n,size:r}),i),...s});return o?(typeof o=="string"&&(o={children:o}),g.jsxs(Ls,{children:[g.jsx(js,{asChild:!0,children:f}),g.jsx(Is,{side:"right",align:"center",hidden:c!=="collapsed"||l,...o})]})):f}function sT({className:t,asChild:e=!1,showOnHover:n=!1,...r}){const o=e?Ko:"button";return g.jsx(o,{"data-slot":"sidebar-menu-action","data-sidebar":"menu-action",className:ke("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 md:after:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",t),...r})}function Mde({className:t,...e}){return g.jsx("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:ke("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e})}function Ade({className:t,...e}){return g.jsx("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:ke("group/menu-sub-item relative",t),...e})}function Rde({asChild:t=!1,size:e="md",isActive:n=!1,className:r,...o}){const i=t?Ko:"a";return g.jsx(i,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:ke("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...o})}const Nde=w.lazy(()=>I(()=>import("./search-bar-dialog-C3iAi-X6.js"),[]));function Ode({items:t}){const e=Rc(),n=ia(),[r,o]=w.useState(!1),i=(s,a)=>{e(a),s.preventDefault()};return g.jsxs(g.Fragment,{children:[g.jsx(w.Suspense,{children:g.jsx(Nde,{open:r,setOpen:o})}),g.jsxs(oy,{children:[g.jsx(vc,{children:g.jsx(bc,{asChild:!0,children:g.jsxs("a",{onClick:s=>{s.preventDefault(),o(!0)},children:[g.jsx(e6,{}),g.jsx("span",{children:"Search"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:g.jsxs("kbd",{className:"pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[g.jsx("span",{className:"text-xs",children:"⌘"}),"J"]})})]})})}),t.map(s=>g.jsx(vc,{children:g.jsx(bc,{asChild:!0,isActive:n.pathname===s.url,children:g.jsxs("a",{href:s.url,onClick:a=>i(a,s.url),children:[g.jsx(s.icon,{}),g.jsx("span",{children:s.title})]})})},s.title))]})]})}var lA="Collapsible",[Dde,oVe]=ds(lA),[Pde,cA]=Dde(lA),d$=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:i,onOpenChange:s,...a}=t,[l=!1,c]=ey({prop:r,defaultProp:o,onChange:s});return g.jsx(Pde,{scope:n,disabled:i,contentId:sc(),open:l,onOpenToggle:w.useCallback(()=>c(f=>!f),[c]),children:g.jsx(_t.div,{"data-state":dA(l),"data-disabled":i?"":void 0,...a,ref:e})})});d$.displayName=lA;var f$="CollapsibleTrigger",h$=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,o=cA(f$,n);return g.jsx(_t.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":dA(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:e,onClick:Ye(t.onClick,o.onOpenToggle)})});h$.displayName=f$;var uA="CollapsibleContent",p$=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=cA(uA,t.__scopeCollapsible);return g.jsx(uo,{present:n||o.open,children:({present:i})=>g.jsx(Lde,{...r,ref:e,present:i})})});p$.displayName=uA;var Lde=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:o,...i}=t,s=cA(uA,n),[a,l]=w.useState(r),c=w.useRef(null),f=un(e,c),h=w.useRef(0),p=h.current,y=w.useRef(0),b=y.current,x=s.open||a,C=w.useRef(x),k=w.useRef(void 0);return w.useEffect(()=>{const E=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(E)},[]),Qi(()=>{const E=c.current;if(E){k.current=k.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const T=E.getBoundingClientRect();h.current=T.height,y.current=T.width,C.current||(E.style.transitionDuration=k.current.transitionDuration,E.style.animationName=k.current.animationName),l(r)}},[s.open,r]),g.jsx(_t.div,{"data-state":dA(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!x,...i,ref:f,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:x&&o})});function dA(t){return t?"open":"closed"}var jde=d$;function Ide({...t}){return g.jsx(jde,{"data-slot":"collapsible",...t})}function Vde({...t}){return g.jsx(h$,{"data-slot":"collapsible-trigger",...t})}function Bde({...t}){return g.jsx(p$,{"data-slot":"collapsible-content",...t})}function $de({conversations:t}){return g.jsxs(aA,{children:[g.jsx(c$,{children:"Recent conversations"}),g.jsx(u$,{children:g.jsxs(oy,{children:[t.map(e=>g.jsx(Ide,{children:g.jsxs(vc,{children:[g.jsx(bc,{asChild:!0,children:g.jsxs("a",{href:"#",children:[g.jsx("span",{children:e.emoji}),g.jsx("span",{children:e.name})]})}),g.jsx(Vde,{asChild:!0,children:g.jsx(sT,{className:"left-2 bg-sidebar-accent text-sidebar-accent-foreground data-[state=open]:rotate-90",showOnHover:!0,children:g.jsx(Ex,{})})}),g.jsx(sT,{showOnHover:!0,children:g.jsx(LM,{})}),g.jsx(Bde,{children:g.jsx(Mde,{children:e.pages.map(n=>g.jsx(Ade,{children:g.jsx(Rde,{asChild:!0,children:g.jsxs("a",{href:"#",children:[g.jsx("span",{children:n.emoji}),g.jsx("span",{children:n.name})]})})},n.name))})})]})},e.name)),g.jsx(vc,{children:g.jsxs(bc,{className:"text-sidebar-foreground/70",children:[g.jsx(S0,{}),g.jsx("span",{children:"More"})]})})]})})]})}var fA="Avatar",[Hde,iVe]=ds(fA),[zde,m$]=Hde(fA),g$=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[o,i]=w.useState("idle");return g.jsx(zde,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:i,children:g.jsx(_t.span,{...r,ref:e})})});g$.displayName=fA;var y$="AvatarImage",v$=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...i}=t,s=m$(y$,n),a=Fde(r,i.referrerPolicy),l=lr(c=>{o(c),s.onImageLoadingStatusChange(c)});return Qi(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?g.jsx(_t.img,{...i,ref:e,src:r}):null});v$.displayName=y$;var b$="AvatarFallback",x$=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...o}=t,i=m$(b$,n),[s,a]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),s&&i.imageLoadingStatus!=="loaded"?g.jsx(_t.span,{...o,ref:e}):null});x$.displayName=b$;function Fde(t,e){const[n,r]=w.useState("idle");return Qi(()=>{if(!t){r("error");return}let o=!0;const i=new window.Image,s=a=>()=>{o&&r(a)};return r("loading"),i.onload=s("loaded"),i.onerror=s("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{o=!1}},[t,e]),n}var Ude=g$,Gde=v$,Wde=x$;function e4({className:t,...e}){return g.jsx(Ude,{"data-slot":"avatar",className:ke("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function t4({className:t,...e}){return g.jsx(Gde,{"data-slot":"avatar-image",className:ke("aspect-square size-full",t),...e})}function n4({className:t,...e}){return g.jsx(Wde,{"data-slot":"avatar-fallback",className:ke("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function w$(t){const e=t+"CollectionProvider",[n,r]=ds(e),[o,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=y=>{const{scope:b,children:x}=y,C=U.useRef(null),k=U.useRef(new Map).current;return g.jsx(o,{scope:b,itemMap:k,collectionRef:C,children:x})};s.displayName=e;const a=t+"CollectionSlot",l=U.forwardRef((y,b)=>{const{scope:x,children:C}=y,k=i(a,x),E=un(b,k.collectionRef);return g.jsx(Ko,{ref:E,children:C})});l.displayName=a;const c=t+"CollectionItemSlot",f="data-radix-collection-item",h=U.forwardRef((y,b)=>{const{scope:x,children:C,...k}=y,E=U.useRef(null),T=un(b,E),R=i(c,x);return U.useEffect(()=>(R.itemMap.set(E,{ref:E,...k}),()=>void R.itemMap.delete(E))),g.jsx(Ko,{[f]:"",ref:T,children:C})});h.displayName=c;function p(y){const b=i(t+"CollectionConsumer",y);return U.useCallback(()=>{const C=b.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((R,A)=>k.indexOf(R.ref.current)-k.indexOf(A.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:s,Slot:l,ItemSlot:h},p,r]}var qde=w.createContext(void 0);function hA(t){const e=w.useContext(qde);return t||e||"ltr"}var zk="rovingFocusGroup.onEntryFocus",Yde={bubbles:!1,cancelable:!0},Fx="RovingFocusGroup",[aT,S$,Kde]=w$(Fx),[Zde,C$]=ds(Fx,[Kde]),[Xde,Jde]=Zde(Fx),k$=w.forwardRef((t,e)=>g.jsx(aT.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(aT.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(Qde,{...t,ref:e})})}));k$.displayName=Fx;var Qde=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...h}=t,p=w.useRef(null),y=un(e,p),b=hA(i),[x=null,C]=ey({prop:s,defaultProp:a,onChange:l}),[k,E]=w.useState(!1),T=lr(c),R=S$(n),A=w.useRef(!1),[N,O]=w.useState(0);return w.useEffect(()=>{const j=p.current;if(j)return j.addEventListener(zk,T),()=>j.removeEventListener(zk,T)},[T]),g.jsx(Xde,{scope:n,orientation:r,dir:b,loop:o,currentTabStopId:x,onItemFocus:w.useCallback(j=>C(j),[C]),onItemShiftTab:w.useCallback(()=>E(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(j=>j+1),[]),onFocusableItemRemove:w.useCallback(()=>O(j=>j-1),[]),children:g.jsx(_t.div,{tabIndex:k||N===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...t.style},onMouseDown:Ye(t.onMouseDown,()=>{A.current=!0}),onFocus:Ye(t.onFocus,j=>{const P=!A.current;if(j.target===j.currentTarget&&P&&!k){const z=new CustomEvent(zk,Yde);if(j.currentTarget.dispatchEvent(z),!z.defaultPrevented){const X=R().filter(B=>B.focusable),Z=X.find(B=>B.active),q=X.find(B=>B.id===x),ee=[Z,q,...X].filter(Boolean).map(B=>B.ref.current);T$(ee,f)}}A.current=!1}),onBlur:Ye(t.onBlur,()=>E(!1))})})}),_$="RovingFocusGroupItem",E$=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,...s}=t,a=sc(),l=i||a,c=Jde(_$,n),f=c.currentTabStopId===l,h=S$(n),{onFocusableItemAdd:p,onFocusableItemRemove:y}=c;return w.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),g.jsx(aT.ItemSlot,{scope:n,id:l,focusable:r,active:o,children:g.jsx(_t.span,{tabIndex:f?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:Ye(t.onMouseDown,b=>{r?c.onItemFocus(l):b.preventDefault()}),onFocus:Ye(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ye(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){c.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=nfe(b,c.orientation,c.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let k=h().filter(E=>E.focusable).map(E=>E.ref.current);if(x==="last")k.reverse();else if(x==="prev"||x==="next"){x==="prev"&&k.reverse();const E=k.indexOf(b.currentTarget);k=c.loop?rfe(k,E+1):k.slice(E+1)}setTimeout(()=>T$(k))}})})})});E$.displayName=_$;var efe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tfe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function nfe(t,e,n){const r=tfe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return efe[r]}function T$(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function rfe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ofe=k$,ife=E$,lT=["Enter"," "],sfe=["ArrowDown","PageUp","Home"],M$=["ArrowUp","PageDown","End"],afe=[...sfe,...M$],lfe={ltr:[...lT,"ArrowRight"],rtl:[...lT,"ArrowLeft"]},cfe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},iy="Menu",[ag,ufe,dfe]=w$(iy),[cd,A$]=ds(iy,[dfe,Bx,C$]),Ux=Bx(),R$=C$(),[ffe,ud]=cd(iy),[hfe,sy]=cd(iy),N$=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:o,onOpenChange:i,modal:s=!0}=t,a=Ux(e),[l,c]=w.useState(null),f=w.useRef(!1),h=lr(i),p=hA(o);return w.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),g.jsx(z9,{...a,children:g.jsx(ffe,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:g.jsx(hfe,{scope:e,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:p,modal:s,children:r})})})};N$.displayName=iy;var pfe="MenuAnchor",pA=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=Ux(n);return g.jsx(F9,{...o,...r,ref:e})});pA.displayName=pfe;var mA="MenuPortal",[mfe,O$]=cd(mA,{forceMount:void 0}),D$=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:o}=t,i=ud(mA,e);return g.jsx(mfe,{scope:e,forceMount:n,children:g.jsx(uo,{present:n||i.open,children:g.jsx(Dx,{asChild:!0,container:o,children:r})})})};D$.displayName=mA;var Ri="MenuContent",[gfe,gA]=cd(Ri),P$=w.forwardRef((t,e)=>{const n=O$(Ri,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,i=ud(Ri,t.__scopeMenu),s=sy(Ri,t.__scopeMenu);return g.jsx(ag.Provider,{scope:t.__scopeMenu,children:g.jsx(uo,{present:r||i.open,children:g.jsx(ag.Slot,{scope:t.__scopeMenu,children:s.modal?g.jsx(yfe,{...o,ref:e}):g.jsx(vfe,{...o,ref:e})})})})}),yfe=w.forwardRef((t,e)=>{const n=ud(Ri,t.__scopeMenu),r=w.useRef(null),o=un(e,r);return w.useEffect(()=>{const i=r.current;if(i)return X6(i)},[]),g.jsx(yA,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ye(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),vfe=w.forwardRef((t,e)=>{const n=ud(Ri,t.__scopeMenu);return g.jsx(yA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yA=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:y,disableOutsideScroll:b,...x}=t,C=ud(Ri,n),k=sy(Ri,n),E=Ux(n),T=R$(n),R=ufe(n),[A,N]=w.useState(null),O=w.useRef(null),j=un(e,O,C.onContentChange),P=w.useRef(0),z=w.useRef(""),X=w.useRef(0),Z=w.useRef(null),q=w.useRef("right"),re=w.useRef(0),ee=b?UM:w.Fragment,B=b?{as:Ko,allowPinchZoom:!0}:void 0,$=G=>{var Ne,Oe;const L=z.current+G,W=R().filter(Ie=>!Ie.disabled),se=document.activeElement,ae=(Ne=W.find(Ie=>Ie.ref.current===se))==null?void 0:Ne.textValue,fe=W.map(Ie=>Ie.textValue),Ee=Rfe(fe,L,ae),pe=(Oe=W.find(Ie=>Ie.textValue===Ee))==null?void 0:Oe.ref.current;(function Ie(Ue){z.current=Ue,window.clearTimeout(P.current),Ue!==""&&(P.current=window.setTimeout(()=>Ie(""),1e3))})(L),pe&&setTimeout(()=>pe.focus())};w.useEffect(()=>()=>window.clearTimeout(P.current),[]),z6();const V=w.useCallback(G=>{var W,se;return q.current===((W=Z.current)==null?void 0:W.side)&&Ofe(G,(se=Z.current)==null?void 0:se.area)},[]);return g.jsx(gfe,{scope:n,searchRef:z,onItemEnter:w.useCallback(G=>{V(G)&&G.preventDefault()},[V]),onItemLeave:w.useCallback(G=>{var L;V(G)||((L=O.current)==null||L.focus(),N(null))},[V]),onTriggerLeave:w.useCallback(G=>{V(G)&&G.preventDefault()},[V]),pointerGraceTimerRef:X,onPointerGraceIntentChange:w.useCallback(G=>{Z.current=G},[]),children:g.jsx(ee,{...B,children:g.jsx(FM,{asChild:!0,trapped:o,onMountAutoFocus:Ye(i,G=>{var L;G.preventDefault(),(L=O.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:g.jsx(Ox,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:y,children:g.jsx(ofe,{asChild:!0,...T,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:N,onEntryFocus:Ye(l,G=>{k.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(U9,{role:"menu","aria-orientation":"vertical","data-state":Z$(C.open),"data-radix-menu-content":"",dir:k.dir,...E,...x,ref:j,style:{outline:"none",...x.style},onKeyDown:Ye(x.onKeyDown,G=>{const W=G.target.closest("[data-radix-menu-content]")===G.currentTarget,se=G.ctrlKey||G.altKey||G.metaKey,ae=G.key.length===1;W&&(G.key==="Tab"&&G.preventDefault(),!se&&ae&&$(G.key));const fe=O.current;if(G.target!==fe||!afe.includes(G.key))return;G.preventDefault();const pe=R().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);M$.includes(G.key)&&pe.reverse(),Mfe(pe)}),onBlur:Ye(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(P.current),z.current="")}),onPointerMove:Ye(t.onPointerMove,lg(G=>{const L=G.target,W=re.current!==G.clientX;if(G.currentTarget.contains(L)&&W){const se=G.clientX>re.current?"right":"left";q.current=se,re.current=G.clientX}}))})})})})})})});P$.displayName=Ri;var bfe="MenuGroup",vA=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(_t.div,{role:"group",...r,ref:e})});vA.displayName=bfe;var xfe="MenuLabel",L$=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(_t.div,{...r,ref:e})});L$.displayName=xfe;var V0="MenuItem",r4="menu.itemSelect",Gx=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...o}=t,i=w.useRef(null),s=sy(V0,t.__scopeMenu),a=gA(V0,t.__scopeMenu),l=un(e,i),c=w.useRef(!1),f=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(r4,{bubbles:!0,cancelable:!0});h.addEventListener(r4,y=>r==null?void 0:r(y),{once:!0}),b6(h,p),p.defaultPrevented?c.current=!1:s.onClose()}};return g.jsx(j$,{...o,ref:l,disabled:n,onClick:Ye(t.onClick,f),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:Ye(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Ye(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||lT.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Gx.displayName=V0;var j$=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...i}=t,s=gA(V0,n),a=R$(n),l=w.useRef(null),c=un(e,l),[f,h]=w.useState(!1),[p,y]=w.useState("");return w.useEffect(()=>{const b=l.current;b&&y((b.textContent??"").trim())},[i.children]),g.jsx(ag.ItemSlot,{scope:n,disabled:r,textValue:o??p,children:g.jsx(ife,{asChild:!0,...a,focusable:!r,children:g.jsx(_t.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:Ye(t.onPointerMove,lg(b=>{r?s.onItemLeave(b):(s.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ye(t.onPointerLeave,lg(b=>s.onItemLeave(b))),onFocus:Ye(t.onFocus,()=>h(!0)),onBlur:Ye(t.onBlur,()=>h(!1))})})})}),wfe="MenuCheckboxItem",I$=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...o}=t;return g.jsx(z$,{scope:t.__scopeMenu,checked:n,children:g.jsx(Gx,{role:"menuitemcheckbox","aria-checked":B0(n)?"mixed":n,...o,ref:e,"data-state":xA(n),onSelect:Ye(o.onSelect,()=>r==null?void 0:r(B0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});I$.displayName=wfe;var V$="MenuRadioGroup",[Sfe,Cfe]=cd(V$,{value:void 0,onValueChange:()=>{}}),B$=w.forwardRef((t,e)=>{const{value:n,onValueChange:r,...o}=t,i=lr(r);return g.jsx(Sfe,{scope:t.__scopeMenu,value:n,onValueChange:i,children:g.jsx(vA,{...o,ref:e})})});B$.displayName=V$;var $$="MenuRadioItem",H$=w.forwardRef((t,e)=>{const{value:n,...r}=t,o=Cfe($$,t.__scopeMenu),i=n===o.value;return g.jsx(z$,{scope:t.__scopeMenu,checked:i,children:g.jsx(Gx,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":xA(i),onSelect:Ye(r.onSelect,()=>{var s;return(s=o.onValueChange)==null?void 0:s.call(o,n)},{checkForDefaultPrevented:!1})})})});H$.displayName=$$;var bA="MenuItemIndicator",[z$,kfe]=cd(bA,{checked:!1}),F$=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...o}=t,i=kfe(bA,n);return g.jsx(uo,{present:r||B0(i.checked)||i.checked===!0,children:g.jsx(_t.span,{...o,ref:e,"data-state":xA(i.checked)})})});F$.displayName=bA;var _fe="MenuSeparator",U$=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(_t.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});U$.displayName=_fe;var Efe="MenuArrow",G$=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=Ux(n);return g.jsx(G9,{...o,...r,ref:e})});G$.displayName=Efe;var Tfe="MenuSub",[sVe,W$]=cd(Tfe),cm="MenuSubTrigger",q$=w.forwardRef((t,e)=>{const n=ud(cm,t.__scopeMenu),r=sy(cm,t.__scopeMenu),o=W$(cm,t.__scopeMenu),i=gA(cm,t.__scopeMenu),s=w.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},f=w.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return w.useEffect(()=>f,[f]),w.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),g.jsx(pA,{asChild:!0,...c,children:g.jsx(j$,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":Z$(n.open),...t,ref:_x(e,o.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ye(t.onPointerMove,lg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Ye(t.onPointerLeave,lg(h=>{var y,b;f();const p=(y=n.content)==null?void 0:y.getBoundingClientRect();if(p){const x=(b=n.content)==null?void 0:b.dataset.side,C=x==="right",k=C?-5:5,E=p[C?"left":"right"],T=p[C?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+k,y:h.clientY},{x:E,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:E,y:p.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ye(t.onKeyDown,h=>{var y;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||lfe[r.dir].includes(h.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),h.preventDefault())})})})});q$.displayName=cm;var Y$="MenuSubContent",K$=w.forwardRef((t,e)=>{const n=O$(Ri,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,i=ud(Ri,t.__scopeMenu),s=sy(Ri,t.__scopeMenu),a=W$(Y$,t.__scopeMenu),l=w.useRef(null),c=un(e,l);return g.jsx(ag.Provider,{scope:t.__scopeMenu,children:g.jsx(uo,{present:r||i.open,children:g.jsx(ag.Slot,{scope:t.__scopeMenu,children:g.jsx(yA,{id:a.contentId,"aria-labelledby":a.triggerId,...o,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;s.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ye(t.onFocusOutside,f=>{f.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ye(t.onEscapeKeyDown,f=>{s.onClose(),f.preventDefault()}),onKeyDown:Ye(t.onKeyDown,f=>{var y;const h=f.currentTarget.contains(f.target),p=cfe[s.dir].includes(f.key);h&&p&&(i.onOpenChange(!1),(y=a.trigger)==null||y.focus(),f.preventDefault())})})})})})});K$.displayName=Y$;function Z$(t){return t?"open":"closed"}function B0(t){return t==="indeterminate"}function xA(t){return B0(t)?"indeterminate":t?"checked":"unchecked"}function Mfe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Afe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Rfe(t,e,n){const o=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let s=Afe(t,Math.max(i,0));o.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function Nfe(t,e){const{x:n,y:r}=t;let o=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const a=e[i].x,l=e[i].y,c=e[s].x,f=e[s].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(o=!o)}return o}function Ofe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Nfe(n,e)}function lg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Dfe=N$,Pfe=pA,Lfe=D$,jfe=P$,Ife=vA,Vfe=L$,Bfe=Gx,$fe=I$,Hfe=B$,zfe=H$,Ffe=F$,Ufe=U$,Gfe=G$,Wfe=q$,qfe=K$,wA="DropdownMenu",[Yfe,aVe]=ds(wA,[A$]),fo=A$(),[Kfe,X$]=Yfe(wA),J$=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:o,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=fo(e),c=w.useRef(null),[f=!1,h]=ey({prop:o,defaultProp:i,onChange:s});return g.jsx(Kfe,{scope:e,triggerId:sc(),triggerRef:c,contentId:sc(),open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(p=>!p),[h]),modal:a,children:g.jsx(Dfe,{...l,open:f,onOpenChange:h,dir:r,modal:a,children:n})})};J$.displayName=wA;var Q$="DropdownMenuTrigger",eH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=t,i=X$(Q$,n),s=fo(n);return g.jsx(Pfe,{asChild:!0,...s,children:g.jsx(_t.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:_x(e,i.triggerRef),onPointerDown:Ye(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Ye(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});eH.displayName=Q$;var Zfe="DropdownMenuPortal",tH=t=>{const{__scopeDropdownMenu:e,...n}=t,r=fo(e);return g.jsx(Lfe,{...r,...n})};tH.displayName=Zfe;var nH="DropdownMenuContent",rH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=X$(nH,n),i=fo(n),s=w.useRef(!1);return g.jsx(jfe,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...r,ref:e,onCloseAutoFocus:Ye(t.onCloseAutoFocus,a=>{var l;s.current||(l=o.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:Ye(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,f=l.button===2||c;(!o.modal||f)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rH.displayName=nH;var Xfe="DropdownMenuGroup",oH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=fo(n);return g.jsx(Ife,{...o,...r,ref:e})});oH.displayName=Xfe;var Jfe="DropdownMenuLabel",iH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=fo(n);return g.jsx(Vfe,{...o,...r,ref:e})});iH.displayName=Jfe;var Qfe="DropdownMenuItem",sH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=fo(n);return g.jsx(Bfe,{...o,...r,ref:e})});sH.displayName=Qfe;var ehe="DropdownMenuCheckboxItem",the=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=fo(n);return g.jsx($fe,{...o,...r,ref:e})});the.displayName=ehe;var nhe="DropdownMenuRadioGroup",aH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=fo(n);return g.jsx(Hfe,{...o,...r,ref:e})});aH.displayName=nhe;var rhe="DropdownMenuRadioItem",lH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=fo(n);return g.jsx(zfe,{...o,...r,ref:e})});lH.displayName=rhe;var ohe="DropdownMenuItemIndicator",cH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=fo(n);return g.jsx(Ffe,{...o,...r,ref:e})});cH.displayName=ohe;var ihe="DropdownMenuSeparator",uH=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=fo(n);return g.jsx(Ufe,{...o,...r,ref:e})});uH.displayName=ihe;var she="DropdownMenuArrow",ahe=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=fo(n);return g.jsx(Gfe,{...o,...r,ref:e})});ahe.displayName=she;var lhe="DropdownMenuSubTrigger",che=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=fo(n);return g.jsx(Wfe,{...o,...r,ref:e})});che.displayName=lhe;var uhe="DropdownMenuSubContent",dhe=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=fo(n);return g.jsx(qfe,{...o,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dhe.displayName=uhe;var fhe=J$,hhe=eH,phe=tH,mhe=rH,ghe=oH,yhe=iH,vhe=sH,bhe=aH,xhe=lH,whe=cH,She=uH;function ay({...t}){return g.jsx(fhe,{"data-slot":"dropdown-menu",...t})}function ly({...t}){return g.jsx(hhe,{"data-slot":"dropdown-menu-trigger",...t})}function cy({className:t,sideOffset:e=4,...n}){return g.jsx(phe,{children:g.jsx(mhe,{"data-slot":"dropdown-menu-content",sideOffset:e,className:ke("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",t),...n})})}function Che({...t}){return g.jsx(ghe,{"data-slot":"dropdown-menu-group",...t})}function qi({className:t,inset:e,variant:n="default",...r}){return g.jsx(vhe,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:ke("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function khe({...t}){return g.jsx(bhe,{"data-slot":"dropdown-menu-radio-group",...t})}function o4({className:t,children:e,...n}){return g.jsxs(xhe,{"data-slot":"dropdown-menu-radio-item",className:ke("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[g.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:g.jsx(whe,{children:g.jsx(Aie,{className:"size-2 fill-current"})})}),e]})}function Wx({className:t,inset:e,...n}){return g.jsx(yhe,{"data-slot":"dropdown-menu-label","data-inset":e,className:ke("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function Gu({className:t,...e}){return g.jsx(She,{"data-slot":"dropdown-menu-separator",className:ke("bg-border -mx-1 my-1 h-px",t),...e})}function i4({className:t,...e}){return g.jsx("span",{"data-slot":"dropdown-menu-shortcut",className:ke("text-muted-foreground ml-auto text-xs tracking-widest",t),...e})}const _he=()=>{const{i18n:t,t:e}=Gg(),[n,r]=w.useState(t.language),o=i=>{r(i),t.changeLanguage(i),localStorage.setItem("language",i)};return g.jsx(Ps,{children:g.jsxs(ay,{children:[g.jsxs(Ls,{children:[g.jsx(js,{asChild:!0,children:g.jsx(ly,{asChild:!0,children:g.jsx(Tt,{size:"icon",children:g.jsx(Hie,{className:"text-secondary"})})})}),g.jsx(Is,{side:"top",children:"Change language"})]}),g.jsxs(cy,{side:"right",className:"w-56",children:[g.jsx(Wx,{children:"Languages"}),g.jsx(Gu,{}),g.jsxs(khe,{value:n,onValueChange:i=>o(i),children:[g.jsx(o4,{value:"en",children:e("english")}),g.jsx(o4,{value:"vi",children:e("vietnamese")})]})]})]})})};function Ehe(){const[t,e]=w.useState(g.jsx(bI,{})),{theme:n,setTheme:r}=YB();w.useEffect(()=>{e(n==="light"?g.jsx(bI,{className:"text-secondary"}):n==="dark"?g.jsx(ese,{className:"text-secondary"}):g.jsx(_se,{className:"text-secondary"}))},[n]);const o=()=>{r(n==="light"?"dark":n==="dark"?"system":"light")};return g.jsx(Ps,{children:g.jsxs(Ls,{children:[g.jsx(js,{asChild:!0,children:g.jsx(Tt,{onClick:o,size:"icon",children:t})}),g.jsx(Is,{children:g.jsx("p",{children:"Change appearance"})})]})})}function dH(){return g.jsxs("div",{className:"w-full h-full flex gap-2 items-center",children:[g.jsx(Ehe,{}),g.jsx(_he,{})]})}function The({user:t}){const{isMobile:e}=ld(),n=Rc();return g.jsx(oy,{children:g.jsx(vc,{children:g.jsxs(ay,{children:[g.jsx(ly,{asChild:!0,children:g.jsxs(bc,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[g.jsxs(e4,{className:"h-8 w-8 rounded-lg",children:[g.jsx(t4,{src:t.avatar,alt:t.name}),g.jsx(n4,{className:"rounded-lg",children:"CN"})]}),g.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[g.jsx("span",{className:"truncate font-semibold",children:t.name}),g.jsx("span",{className:"truncate text-xs",children:t.email})]}),g.jsx(Eie,{className:"ml-auto size-4"})]})}),g.jsxs(cy,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:e?"bottom":"right",align:"start",sideOffset:4,children:[g.jsxs(Wx,{className:"p-0 font-normal",children:[g.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[g.jsxs(e4,{className:"h-8 w-8 rounded-lg",children:[g.jsx(t4,{src:t.avatar,alt:t.name}),g.jsx(n4,{className:"rounded-lg",children:"CN"})]}),g.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[g.jsx("span",{className:"truncate font-semibold",children:t.name}),g.jsx("span",{className:"truncate text-xs",children:t.email})]})]}),e&&g.jsx("div",{className:"flex items-center gap-2 p-2",children:g.jsx(dH,{})})]}),g.jsx(Gu,{}),g.jsxs(Che,{children:[g.jsxs(qi,{onClick:()=>n("/account"),children:[g.jsx(Dse,{}),"Account"]}),g.jsxs(qi,{onClick:()=>n("/settings"),children:[g.jsx(pse,{}),"Settings"]}),g.jsxs(qi,{onClick:()=>n("/inbox"),children:[g.jsx(Bie,{}),"Inbox"]})]}),g.jsx(Gu,{}),g.jsxs(qi,{children:[g.jsx(Jie,{}),"Log out"]})]})]})})})}function Mhe({courses:t}){const{isMobile:e}=ld();return g.jsxs(aA,{className:"group-data-[collapsible=icon]:hidden",children:[g.jsx(c$,{children:"Recent courses"}),g.jsxs(oy,{children:[t.map(n=>g.jsxs(vc,{children:[g.jsx(bc,{asChild:!0,children:g.jsxs("a",{href:n.url,title:n.name,children:[g.jsx("span",{children:n.emoji}),g.jsx("span",{children:n.name})]})}),g.jsxs(ay,{children:[g.jsx(ly,{asChild:!0,children:g.jsxs(sT,{showOnHover:!0,children:[g.jsx(S0,{}),g.jsx("span",{className:"sr-only",children:"More"})]})}),g.jsxs(cy,{className:"w-56 rounded-lg",side:e?"bottom":"right",align:e?"end":"start",children:[g.jsxs(qi,{children:[g.jsx(Cse,{className:"text-muted-foreground"}),g.jsx("span",{children:"Remove from Favorites"})]}),g.jsx(Gu,{}),g.jsxs(qi,{children:[g.jsx(Yie,{className:"text-muted-foreground"}),g.jsx("span",{children:"Copy Link"})]}),g.jsxs(qi,{children:[g.jsx(fie,{className:"text-muted-foreground"}),g.jsx("span",{children:"Open in New Tab"})]}),g.jsx(Gu,{}),g.jsxs(qi,{children:[g.jsx(Rse,{className:"text-muted-foreground"}),g.jsx("span",{children:"Delete"})]})]})]})]},n.name)),g.jsx(vc,{children:g.jsxs(bc,{className:"text-sidebar-foreground/70",children:[g.jsx(S0,{}),g.jsx("span",{children:"More"})]})})]})]})}const ab={user:{name:"shadcn",email:"m@example.com",avatar:"/avatars/shadcn.jpg"},navMain:[{title:"Home",url:"/home",icon:Iie},{title:"Courses",url:"/courses",icon:Z7},{title:"Pages",url:"/pages",icon:K7},{title:"Chat",url:"/chat",icon:GE},{title:"Dashboard",url:"/dashboard",icon:Fie},{title:"Library",url:"/library",icon:Q7}],courses:[{name:"Project Management & Task Tracking",url:"#",emoji:"📊"},{name:"Family Recipe Collection & Meal Planning",url:"#",emoji:"🍳"},{name:"Fitness Tracker & Workout Routines",url:"#",emoji:"💪"},{name:"Book Notes & Reading List",url:"#",emoji:"📚"},{name:"Sustainable Gardening Tips & Plant Care",url:"#",emoji:"🌱"},{name:"Language Learning Progress & Resources",url:"#",emoji:"🗣️"},{name:"Home Renovation Ideas & Budget Tracker",url:"#",emoji:"🏠"},{name:"Personal Finance & Investment Portfolio",url:"#",emoji:"💰"},{name:"Movie & TV Show Watchlist with Reviews",url:"#",emoji:"🎬"},{name:"Daily Habit Tracker & Goal Setting",url:"#",emoji:"✅"}],conversations:[{name:"Personal Life Management",emoji:"🏠",pages:[{name:"Daily Journal & Reflection",url:"#",emoji:"📔"},{name:"Health & Wellness Tracker",url:"#",emoji:"🍏"},{name:"Personal Growth & Learning Goals",url:"#",emoji:"🌟"}]},{name:"Professional Development",emoji:"💼",pages:[{name:"Career Objectives & Milestones",url:"#",emoji:"🎯"},{name:"Skill Acquisition & Training Log",url:"#",emoji:"🧠"},{name:"Networking Contacts & Events",url:"#",emoji:"🤝"}]},{name:"Creative Projects",emoji:"🎨",pages:[{name:"Writing Ideas & Story Outlines",url:"#",emoji:"✍️"},{name:"Art & Design Portfolio",url:"#",emoji:"🖼️"},{name:"Music Composition & Practice Log",url:"#",emoji:"🎵"}]},{name:"Home Management",emoji:"🏡",pages:[{name:"Household Budget & Expense Tracking",url:"#",emoji:"💰"},{name:"Home Maintenance Schedule & Tasks",url:"#",emoji:"🔧"},{name:"Family Calendar & Event Planning",url:"#",emoji:"📅"}]},{name:"Travel & Adventure",emoji:"🧳",pages:[{name:"Trip Planning & Itineraries",url:"#",emoji:"🗺️"},{name:"Travel Bucket List & Inspiration",url:"#",emoji:"🌎"},{name:"Travel Journal & Photo Gallery",url:"#",emoji:"📸"}]}]};function fH({...t}){const{isMobile:e}=ld();return g.jsxs(o$,{className:"border-r-0",...t,children:[g.jsxs(a$,{children:[g.jsx(The,{user:ab.user}),!e&&g.jsx(dH,{}),g.jsx(Ode,{items:ab.navMain})]}),g.jsxs(l$,{className:"scrollbar",children:[g.jsx(Mhe,{courses:ab.courses}),g.jsx($de,{conversations:ab.conversations})]}),g.jsx(kde,{})]})}function It(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Xo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function no(t,e){const n=It(t);return isNaN(e)?Xo(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ns(t,e){const n=It(t);if(isNaN(e))return Xo(t,NaN);if(!e)return n;const r=n.getDate(),o=Xo(t,n.getTime());o.setMonth(n.getMonth()+e+1,0);const i=o.getDate();return r>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}const SA=6048e5,Ahe=864e5;let Rhe={};function uy(){return Rhe}function Qs(t,e){var a,l,c,f;const n=uy(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,o=It(t),i=o.getDay(),s=(i<r?7:0)+i-r;return o.setDate(o.getDate()-s),o.setHours(0,0,0,0),o}function Wu(t){return Qs(t,{weekStartsOn:1})}function hH(t){const e=It(t),n=e.getFullYear(),r=Xo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=Wu(r),i=Xo(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const s=Wu(i);return e.getTime()>=o.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function sh(t){const e=It(t);return e.setHours(0,0,0,0),e}function $0(t){const e=It(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Vs(t,e){const n=sh(t),r=sh(e),o=+n-$0(n),i=+r-$0(r);return Math.round((o-i)/Ahe)}function Nhe(t){const e=hH(t),n=Xo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Wu(n)}function cT(t,e){const n=e*7;return no(t,n)}function Ohe(t,e){return ns(t,e*12)}function Dhe(t){let e;return t.forEach(function(n){const r=It(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Phe(t){let e;return t.forEach(n=>{const r=It(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function ko(t,e){const n=sh(t),r=sh(e);return+n==+r}function CA(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lhe(t){if(!CA(t)&&typeof t!="number")return!1;const e=It(t);return!isNaN(Number(e))}function cg(t,e){const n=It(t),r=It(e),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function jhe(t,e,n){const r=Qs(t,n),o=Qs(e,n),i=+r-$0(r),s=+o-$0(o);return Math.round((i-s)/SA)}function kA(t){const e=It(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Eo(t){const e=It(t);return e.setDate(1),e.setHours(0,0,0,0),e}function pH(t){const e=It(t),n=Xo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _A(t,e){var a,l,c,f;const n=uy(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,o=It(t),i=o.getDay(),s=(i<r?-7:0)+6-(i-r);return o.setDate(o.getDate()+s),o.setHours(23,59,59,999),o}function mH(t){return _A(t,{weekStartsOn:1})}const Ihe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vhe=(t,e,n)=>{let r;const o=Ihe[t];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Fk(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Bhe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$he={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Hhe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zhe={date:Fk({formats:Bhe,defaultWidth:"full"}),time:Fk({formats:$he,defaultWidth:"full"}),dateTime:Fk({formats:Hhe,defaultWidth:"full"})},Fhe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Uhe=(t,e,n,r)=>Fhe[t];function Gp(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;o=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[a]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return o[i]}}const Ghe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Whe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qhe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yhe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Khe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xhe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Jhe={ordinalNumber:Xhe,era:Gp({values:Ghe,defaultWidth:"wide"}),quarter:Gp({values:Whe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gp({values:qhe,defaultWidth:"wide"}),day:Gp({values:Yhe,defaultWidth:"wide"}),dayPeriod:Gp({values:Khe,defaultWidth:"wide",formattingValues:Zhe,defaultFormattingWidth:"wide"})};function Wp(t){return(e,n={})=>{const r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;const s=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?epe(a,h=>h.test(s)):Qhe(a,h=>h.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(s.length);return{value:c,rest:f}}}function Qhe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function epe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function tpe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const o=r[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(o.length);return{value:s,rest:a}}}const npe=/^(\d+)(th|st|nd|rd)?/i,rpe=/\d+/i,ope={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ipe={any:[/^b/i,/^(a|c)/i]},spe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ape={any:[/1/i,/2/i,/3/i,/4/i]},lpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},upe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ppe={ordinalNumber:tpe({matchPattern:npe,parsePattern:rpe,valueCallback:t=>parseInt(t,10)}),era:Wp({matchPatterns:ope,defaultMatchWidth:"wide",parsePatterns:ipe,defaultParseWidth:"any"}),quarter:Wp({matchPatterns:spe,defaultMatchWidth:"wide",parsePatterns:ape,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Wp({matchPatterns:lpe,defaultMatchWidth:"wide",parsePatterns:cpe,defaultParseWidth:"any"}),day:Wp({matchPatterns:upe,defaultMatchWidth:"wide",parsePatterns:dpe,defaultParseWidth:"any"}),dayPeriod:Wp({matchPatterns:fpe,defaultMatchWidth:"any",parsePatterns:hpe,defaultParseWidth:"any"})},gH={code:"en-US",formatDistance:Vhe,formatLong:zhe,formatRelative:Uhe,localize:Jhe,match:ppe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mpe(t){const e=It(t);return Vs(e,pH(e))+1}function yH(t){const e=It(t),n=+Wu(e)-+Nhe(e);return Math.round(n/SA)+1}function vH(t,e){var f,h,p,y;const n=It(t),r=n.getFullYear(),o=uy(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(p=o.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,s=Xo(t,0);s.setFullYear(r+1,0,i),s.setHours(0,0,0,0);const a=Qs(s,e),l=Xo(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Qs(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function gpe(t,e){var a,l,c,f;const n=uy(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,o=vH(t,e),i=Xo(t,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),Qs(i,e)}function bH(t,e){const n=It(t),r=+Qs(n,e)-+gpe(n,e);return Math.round(r/SA)+1}function Gt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Hl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Gt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Gt(n+1,2)},d(t,e){return Gt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Gt(t.getHours()%12||12,e.length)},H(t,e){return Gt(t.getHours(),e.length)},m(t,e){return Gt(t.getMinutes(),e.length)},s(t,e){return Gt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return Gt(o,e.length)}},lf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},s4={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Hl.y(t,e)},Y:function(t,e,n,r){const o=vH(t,r),i=o>0?o:1-o;if(e==="YY"){const s=i%100;return Gt(s,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Gt(i,e.length)},R:function(t,e){const n=hH(t);return Gt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Gt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Gt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Gt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Hl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Gt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const o=bH(t,r);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Gt(o,e.length)},I:function(t,e,n){const r=yH(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Gt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Hl.d(t,e)},D:function(t,e,n){const r=mpe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Gt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Gt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Gt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return Gt(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let o;switch(r===12?o=lf.noon:r===0?o=lf.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let o;switch(r>=17?o=lf.evening:r>=12?o=lf.afternoon:r>=4?o=lf.morning:o=lf.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Hl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Hl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Gt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Gt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Hl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Hl.s(t,e)},S:function(t,e){return Hl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return l4(r);case"XXXX":case"XX":return pu(r);case"XXXXX":case"XXX":default:return pu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return l4(r);case"xxxx":case"xx":return pu(r);case"xxxxx":case"xxx":default:return pu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+a4(r,":");case"OOOO":default:return"GMT"+pu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+a4(r,":");case"zzzz":default:return"GMT"+pu(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Gt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Gt(r,e.length)}};function a4(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Math.trunc(r/60),i=r%60;return i===0?n+String(o):n+String(o)+e+Gt(i,2)}function l4(t,e){return t%60===0?(t>0?"-":"+")+Gt(Math.abs(t)/60,2):pu(t,e)}function pu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Gt(Math.trunc(r/60),2),i=Gt(r%60,2);return n+o+e+i}const c4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ype=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return c4(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",c4(r,e)).replace("{{time}}",xH(o,e))},vpe={p:xH,P:ype},bpe=/^D+$/,xpe=/^Y+$/,wpe=["D","DD","YY","YYYY"];function Spe(t){return bpe.test(t)}function Cpe(t){return xpe.test(t)}function kpe(t,e,n){const r=_pe(t,e,n);if(console.warn(r),wpe.includes(t))throw new RangeError(r)}function _pe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Epe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mpe=/^'([^]*?)'?$/,Ape=/''/g,Rpe=/[a-zA-Z]/;function dd(t,e,n){var f,h,p,y,b,x,C,k;const r=uy(),o=(n==null?void 0:n.locale)??r.locale??gH,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(p=r.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((x=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((k=(C=r.locale)==null?void 0:C.options)==null?void 0:k.weekStartsOn)??0,a=It(t);if(!Lhe(a))throw new RangeError("Invalid time value");let l=e.match(Tpe).map(E=>{const T=E[0];if(T==="p"||T==="P"){const R=vpe[T];return R(E,o.formatLong)}return E}).join("").match(Epe).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const T=E[0];if(T==="'")return{isToken:!1,value:Npe(E)};if(s4[T])return{isToken:!0,value:E};if(T.match(Rpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:E}});o.localize.preprocessor&&(l=o.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:o};return l.map(E=>{if(!E.isToken)return E.value;const T=E.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Cpe(T)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Spe(T))&&kpe(T,e,String(t));const R=s4[T[0]];return R(a,T,o.localize,c)}).join("")}function Npe(t){const e=t.match(Mpe);return e?e[1].replace(Ape,"'"):t}function Ope(t){const e=It(t),n=e.getFullYear(),r=e.getMonth(),o=Xo(t,0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function Dpe(t){return Math.trunc(+It(t)/1e3)}function Ppe(t){const e=It(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Lpe(t,e){return jhe(Ppe(t),Eo(t),e)+1}function uT(t,e){const n=It(t),r=It(e);return n.getTime()>r.getTime()}function wH(t,e){const n=It(t),r=It(e);return+n<+r}function EA(t,e){const n=It(t),r=It(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function jpe(t,e){const n=It(t),r=It(e);return n.getFullYear()===r.getFullYear()}function Uk(t,e){return no(t,-e)}function Gk(t,e){const n=It(t),r=n.getFullYear(),o=n.getDate(),i=Xo(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const s=Ope(i);return n.setMonth(e,Math.min(o,s)),n}function u4(t,e){const n=It(t);return isNaN(+n)?Xo(t,NaN):(n.setFullYear(e),n)}var tt=function(){return tt=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tt.apply(this,arguments)};function Ipe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function SH(t,e,n){for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function dy(t){return t.mode==="multiple"}function fy(t){return t.mode==="range"}function qx(t){return t.mode==="single"}var Vpe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Bpe(t,e){return dd(t,"LLLL y",e)}function $pe(t,e){return dd(t,"d",e)}function Hpe(t,e){return dd(t,"LLLL",e)}function zpe(t){return"".concat(t)}function Fpe(t,e){return dd(t,"cccccc",e)}function Upe(t,e){return dd(t,"yyyy",e)}var Gpe=Object.freeze({__proto__:null,formatCaption:Bpe,formatDay:$pe,formatMonthCaption:Hpe,formatWeekNumber:zpe,formatWeekdayName:Fpe,formatYearCaption:Upe}),Wpe=function(t,e,n){return dd(t,"do MMMM (EEEE)",n)},qpe=function(){return"Month: "},Ype=function(){return"Go to next month"},Kpe=function(){return"Go to previous month"},Zpe=function(t,e){return dd(t,"cccc",e)},Xpe=function(t){return"Week n. ".concat(t)},Jpe=function(){return"Year: "},Qpe=Object.freeze({__proto__:null,labelDay:Wpe,labelMonthDropdown:qpe,labelNext:Ype,labelPrevious:Kpe,labelWeekNumber:Xpe,labelWeekday:Zpe,labelYearDropdown:Jpe});function eme(){var t="buttons",e=Vpe,n=gH,r={},o={},i=1,s={},a=new Date;return{captionLayout:t,classNames:e,formatters:Gpe,labels:Qpe,locale:n,modifiersClassNames:r,modifiers:o,numberOfMonths:i,styles:s,today:a,mode:"default"}}function tme(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,o=t.toMonth,i=t.fromDate,s=t.toDate;return r?i=Eo(r):e&&(i=new Date(e,0,1)),o?s=kA(o):n&&(s=new Date(n,11,31)),{fromDate:i?sh(i):void 0,toDate:s?sh(s):void 0}}var CH=w.createContext(void 0);function nme(t){var e,n=t.initialProps,r=eme(),o=tme(n),i=o.fromDate,s=o.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!i||!s)&&(a="buttons");var l;(qx(n)||dy(n)||fy(n))&&(l=n.onSelect);var c=tt(tt(tt({},r),n),{captionLayout:a,classNames:tt(tt({},r.classNames),n.classNames),components:tt({},n.components),formatters:tt(tt({},r.formatters),n.formatters),fromDate:i,labels:tt(tt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:tt(tt({},r.modifiers),n.modifiers),modifiersClassNames:tt(tt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:tt(tt({},r.styles),n.styles),toDate:s});return g.jsx(CH.Provider,{value:c,children:t.children})}function dn(){var t=w.useContext(CH);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function kH(t){var e=dn(),n=e.locale,r=e.classNames,o=e.styles,i=e.formatters.formatCaption;return g.jsx("div",{className:r.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function rme(t){return g.jsx("svg",tt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:g.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _H(t){var e,n,r=t.onChange,o=t.value,i=t.children,s=t.caption,a=t.className,l=t.style,c=dn(),f=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:rme;return g.jsxs("div",{className:a,style:l,children:[g.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),g.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:o,onChange:r,children:i}),g.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[s,g.jsx(f,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function ome(t){var e,n=dn(),r=n.fromDate,o=n.toDate,i=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,f=n.labels.labelMonthDropdown;if(!r)return g.jsx(g.Fragment,{});if(!o)return g.jsx(g.Fragment,{});var h=[];if(jpe(r,o))for(var p=Eo(r),y=r.getMonth();y<=o.getMonth();y++)h.push(Gk(p,y));else for(var p=Eo(new Date),y=0;y<=11;y++)h.push(Gk(p,y));var b=function(C){var k=Number(C.target.value),E=Gk(Eo(t.displayMonth),k);t.onChange(E)},x=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:_H;return g.jsx(x,{name:"months","aria-label":f(),className:l.dropdown_month,style:i.dropdown_month,onChange:b,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:s}),children:h.map(function(C){return g.jsx("option",{value:C.getMonth(),children:a(C,{locale:s})},C.getMonth())})})}function ime(t){var e,n=t.displayMonth,r=dn(),o=r.fromDate,i=r.toDate,s=r.locale,a=r.styles,l=r.classNames,c=r.components,f=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,p=[];if(!o)return g.jsx(g.Fragment,{});if(!i)return g.jsx(g.Fragment,{});for(var y=o.getFullYear(),b=i.getFullYear(),x=y;x<=b;x++)p.push(u4(pH(new Date),x));var C=function(E){var T=u4(Eo(n),Number(E.target.value));t.onChange(T)},k=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:_H;return g.jsx(k,{name:"years","aria-label":h(),className:l.dropdown_year,style:a.dropdown_year,onChange:C,value:n.getFullYear(),caption:f(n,{locale:s}),children:p.map(function(E){return g.jsx("option",{value:E.getFullYear(),children:f(E,{locale:s})},E.getFullYear())})})}function sme(t,e){var n=w.useState(t),r=n[0],o=n[1],i=e===void 0?r:e;return[i,o]}function ame(t){var e=t.month,n=t.defaultMonth,r=t.today,o=e||n||r||new Date,i=t.toDate,s=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(i&&cg(i,o)<0){var c=-1*(l-1);o=ns(i,c)}return s&&cg(o,s)<0&&(o=s),Eo(o)}function lme(){var t=dn(),e=ame(t),n=sme(e,t.month),r=n[0],o=n[1],i=function(s){var a;if(!t.disableNavigation){var l=Eo(s);o(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,i]}function cme(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,o=Eo(t),i=Eo(ns(o,r)),s=cg(i,o),a=[],l=0;l<s;l++){var c=ns(o,l);a.push(c)}return n&&(a=a.reverse()),a}function ume(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,o=e.numberOfMonths,i=o===void 0?1:o,s=r?i:1,a=Eo(t);if(!n)return ns(a,s);var l=cg(n,t);if(!(l<i))return ns(a,s)}}function dme(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,o=e.numberOfMonths,i=o===void 0?1:o,s=r?i:1,a=Eo(t);if(!n)return ns(a,-s);var l=cg(a,n);if(!(l<=0))return ns(a,-s)}}var EH=w.createContext(void 0);function fme(t){var e=dn(),n=lme(),r=n[0],o=n[1],i=cme(r,e),s=ume(r,e),a=dme(r,e),l=function(h){return i.some(function(p){return EA(h,p)})},c=function(h,p){l(h)||(p&&wH(h,p)?o(ns(h,1+e.numberOfMonths*-1)):o(h))},f={currentMonth:r,displayMonths:i,goToMonth:o,goToDate:c,previousMonth:a,nextMonth:s,isDateDisplayed:l};return g.jsx(EH.Provider,{value:f,children:t.children})}function hy(){var t=w.useContext(EH);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function d4(t){var e,n=dn(),r=n.classNames,o=n.styles,i=n.components,s=hy().goToMonth,a=function(f){s(ns(f,t.displayIndex?-t.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:kH,c=g.jsx(l,{id:t.id,displayMonth:t.displayMonth});return g.jsxs("div",{className:r.caption_dropdowns,style:o.caption_dropdowns,children:[g.jsx("div",{className:r.vhidden,children:c}),g.jsx(ome,{onChange:a,displayMonth:t.displayMonth}),g.jsx(ime,{onChange:a,displayMonth:t.displayMonth})]})}function hme(t){return g.jsx("svg",tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:g.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function pme(t){return g.jsx("svg",tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:g.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var H0=w.forwardRef(function(t,e){var n=dn(),r=n.classNames,o=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var s=i.join(" "),a=tt(tt({},o.button_reset),o.button);return t.style&&Object.assign(a,t.style),g.jsx("button",tt({},t,{ref:e,type:"button",className:s,style:a}))});function mme(t){var e,n,r=dn(),o=r.dir,i=r.locale,s=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,f=l.labelNext,h=r.components;if(!t.nextMonth&&!t.previousMonth)return g.jsx(g.Fragment,{});var p=c(t.previousMonth,{locale:i}),y=[s.nav_button,s.nav_button_previous].join(" "),b=f(t.nextMonth,{locale:i}),x=[s.nav_button,s.nav_button_next].join(" "),C=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:pme,k=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:hme;return g.jsxs("div",{className:s.nav,style:a.nav,children:[!t.hidePrevious&&g.jsx(H0,{name:"previous-month","aria-label":p,className:y,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:o==="rtl"?g.jsx(C,{className:s.nav_icon,style:a.nav_icon}):g.jsx(k,{className:s.nav_icon,style:a.nav_icon})}),!t.hideNext&&g.jsx(H0,{name:"next-month","aria-label":b,className:x,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:o==="rtl"?g.jsx(k,{className:s.nav_icon,style:a.nav_icon}):g.jsx(C,{className:s.nav_icon,style:a.nav_icon})})]})}function f4(t){var e=dn().numberOfMonths,n=hy(),r=n.previousMonth,o=n.nextMonth,i=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(b){return EA(t.displayMonth,b)}),l=a===0,c=a===s.length-1,f=e>1&&(l||!c),h=e>1&&(c||!l),p=function(){r&&i(r)},y=function(){o&&i(o)};return g.jsx(mme,{displayMonth:t.displayMonth,hideNext:f,hidePrevious:h,nextMonth:o,previousMonth:r,onPreviousClick:p,onNextClick:y})}function gme(t){var e,n=dn(),r=n.classNames,o=n.disableNavigation,i=n.styles,s=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:kH,c;return o?c=g.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?c=g.jsx(d4,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?c=g.jsxs(g.Fragment,{children:[g.jsx(d4,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),g.jsx(f4,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=g.jsxs(g.Fragment,{children:[g.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),g.jsx(f4,{displayMonth:t.displayMonth,id:t.id})]}),g.jsx("div",{className:r.caption,style:i.caption,children:c})}function yme(t){var e=dn(),n=e.footer,r=e.styles,o=e.classNames.tfoot;return n?g.jsx("tfoot",{className:o,style:r.tfoot,children:g.jsx("tr",{children:g.jsx("td",{colSpan:8,children:n})})}):g.jsx(g.Fragment,{})}function vme(t,e,n){for(var r=n?Wu(new Date):Qs(new Date,{locale:t,weekStartsOn:e}),o=[],i=0;i<7;i++){var s=no(r,i);o.push(s)}return o}function bme(){var t=dn(),e=t.classNames,n=t.styles,r=t.showWeekNumber,o=t.locale,i=t.weekStartsOn,s=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=vme(o,i,s);return g.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&g.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(f,h){return g.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(f,{locale:o}),children:a(f,{locale:o})},h)})]})}function xme(){var t,e=dn(),n=e.classNames,r=e.styles,o=e.components,i=(t=o==null?void 0:o.HeadRow)!==null&&t!==void 0?t:bme;return g.jsx("thead",{style:r.head,className:n.head,children:g.jsx(i,{})})}function wme(t){var e=dn(),n=e.locale,r=e.formatters.formatDay;return g.jsx(g.Fragment,{children:r(t.date,{locale:n})})}var TA=w.createContext(void 0);function Sme(t){if(!dy(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return g.jsx(TA.Provider,{value:e,children:t.children})}return g.jsx(Cme,{initialProps:t.initialProps,children:t.children})}function Cme(t){var e=t.initialProps,n=t.children,r=e.selected,o=e.min,i=e.max,s=function(c,f,h){var p,y;(p=e.onDayClick)===null||p===void 0||p.call(e,c,f,h);var b=!!(f.selected&&o&&(r==null?void 0:r.length)===o);if(!b){var x=!!(!f.selected&&i&&(r==null?void 0:r.length)===i);if(!x){var C=r?SH([],r):[];if(f.selected){var k=C.findIndex(function(E){return ko(c,E)});C.splice(k,1)}else C.push(c);(y=e.onSelect)===null||y===void 0||y.call(e,C,c,f,h)}}},a={disabled:[]};r&&a.disabled.push(function(c){var f=i&&r.length>i-1,h=r.some(function(p){return ko(p,c)});return!!(f&&!h)});var l={selected:r,onDayClick:s,modifiers:a};return g.jsx(TA.Provider,{value:l,children:n})}function MA(){var t=w.useContext(TA);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function kme(t,e){var n=e||{},r=n.from,o=n.to;return r&&o?ko(o,t)&&ko(r,t)?void 0:ko(o,t)?{from:o,to:void 0}:ko(r,t)?void 0:uT(r,t)?{from:t,to:o}:{from:r,to:t}:o?uT(t,o)?{from:o,to:t}:{from:t,to:o}:r?wH(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var AA=w.createContext(void 0);function _me(t){if(!fy(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return g.jsx(AA.Provider,{value:e,children:t.children})}return g.jsx(Eme,{initialProps:t.initialProps,children:t.children})}function Eme(t){var e=t.initialProps,n=t.children,r=e.selected,o=r||{},i=o.from,s=o.to,a=e.min,l=e.max,c=function(y,b,x){var C,k;(C=e.onDayClick)===null||C===void 0||C.call(e,y,b,x);var E=kme(y,r);(k=e.onSelect)===null||k===void 0||k.call(e,E,y,b,x)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],s?(f.range_end=[s],ko(i,s)||(f.range_middle=[{after:i,before:s}])):f.range_end=[i]):s&&(f.range_start=[s],f.range_end=[s]),a&&(i&&!s&&f.disabled.push({after:Uk(i,a-1),before:no(i,a-1)}),i&&s&&f.disabled.push({after:i,before:no(i,a-1)}),!i&&s&&f.disabled.push({after:Uk(s,a-1),before:no(s,a-1)})),l){if(i&&!s&&(f.disabled.push({before:no(i,-l+1)}),f.disabled.push({after:no(i,l-1)})),i&&s){var h=Vs(s,i)+1,p=l-h;f.disabled.push({before:Uk(i,p)}),f.disabled.push({after:no(s,p)})}!i&&s&&(f.disabled.push({before:no(s,-l+1)}),f.disabled.push({after:no(s,l-1)}))}return g.jsx(AA.Provider,{value:{selected:r,onDayClick:c,modifiers:f},children:n})}function RA(){var t=w.useContext(AA);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Zb(t){return Array.isArray(t)?SH([],t):t!==void 0?[t]:[]}function Tme(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],o=n[1];e[r]=Zb(o)}),e}var rs;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(rs||(rs={}));var Mme=rs.Selected,Na=rs.Disabled,Ame=rs.Hidden,Rme=rs.Today,Wk=rs.RangeEnd,qk=rs.RangeMiddle,Yk=rs.RangeStart,Nme=rs.Outside;function Ome(t,e,n){var r,o=(r={},r[Mme]=Zb(t.selected),r[Na]=Zb(t.disabled),r[Ame]=Zb(t.hidden),r[Rme]=[t.today],r[Wk]=[],r[qk]=[],r[Yk]=[],r[Nme]=[],r);return t.fromDate&&o[Na].push({before:t.fromDate}),t.toDate&&o[Na].push({after:t.toDate}),dy(t)?o[Na]=o[Na].concat(e.modifiers[Na]):fy(t)&&(o[Na]=o[Na].concat(n.modifiers[Na]),o[Yk]=n.modifiers[Yk],o[qk]=n.modifiers[qk],o[Wk]=n.modifiers[Wk]),o}var TH=w.createContext(void 0);function Dme(t){var e=dn(),n=MA(),r=RA(),o=Ome(e,n,r),i=Tme(e.modifiers),s=tt(tt({},o),i);return g.jsx(TH.Provider,{value:s,children:t.children})}function MH(){var t=w.useContext(TH);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Pme(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Lme(t){return!!(t&&typeof t=="object"&&"from"in t)}function jme(t){return!!(t&&typeof t=="object"&&"after"in t)}function Ime(t){return!!(t&&typeof t=="object"&&"before"in t)}function Vme(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Bme(t,e){var n,r=e.from,o=e.to;if(r&&o){var i=Vs(o,r)<0;i&&(n=[o,r],r=n[0],o=n[1]);var s=Vs(t,r)>=0&&Vs(o,t)>=0;return s}return o?ko(o,t):r?ko(r,t):!1}function $me(t){return CA(t)}function Hme(t){return Array.isArray(t)&&t.every(CA)}function zme(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if($me(n))return ko(t,n);if(Hme(n))return n.includes(t);if(Lme(n))return Bme(t,n);if(Vme(n))return n.dayOfWeek.includes(t.getDay());if(Pme(n)){var r=Vs(n.before,t),o=Vs(n.after,t),i=r>0,s=o<0,a=uT(n.before,n.after);return a?s&&i:i||s}return jme(n)?Vs(t,n.after)>0:Ime(n)?Vs(n.before,t)>0:typeof n=="function"?n(t):!1})}function NA(t,e,n){var r=Object.keys(e).reduce(function(i,s){var a=e[s];return zme(t,a)&&i.push(s),i},[]),o={};return r.forEach(function(i){return o[i]=!0}),n&&!EA(t,n)&&(o.outside=!0),o}function Fme(t,e){for(var n=Eo(t[0]),r=kA(t[t.length-1]),o,i,s=n;s<=r;){var a=NA(s,e),l=!a.disabled&&!a.hidden;if(!l){s=no(s,1);continue}if(a.selected)return s;a.today&&!i&&(i=s),o||(o=s),s=no(s,1)}return i||o}var Ume=365;function AH(t,e){var n=e.moveBy,r=e.direction,o=e.context,i=e.modifiers,s=e.retry,a=s===void 0?{count:0,lastFocused:t}:s,l=o.weekStartsOn,c=o.fromDate,f=o.toDate,h=o.locale,p={day:no,week:cT,month:ns,year:Ohe,startOfWeek:function(C){return o.ISOWeek?Wu(C):Qs(C,{locale:h,weekStartsOn:l})},endOfWeek:function(C){return o.ISOWeek?mH(C):_A(C,{locale:h,weekStartsOn:l})}},y=p[n](t,r==="after"?1:-1);r==="before"&&c?y=Dhe([c,y]):r==="after"&&f&&(y=Phe([f,y]));var b=!0;if(i){var x=NA(y,i);b=!x.disabled&&!x.hidden}return b?y:a.count>Ume?a.lastFocused:AH(y,{moveBy:n,direction:r,context:o,modifiers:i,retry:tt(tt({},a),{count:a.count+1})})}var RH=w.createContext(void 0);function Gme(t){var e=hy(),n=MH(),r=w.useState(),o=r[0],i=r[1],s=w.useState(),a=s[0],l=s[1],c=Fme(e.displayMonths,n),f=o??(a&&e.isDateDisplayed(a))?a:c,h=function(){l(o),i(void 0)},p=function(C){i(C)},y=dn(),b=function(C,k){if(o){var E=AH(o,{moveBy:C,direction:k,context:y,modifiers:n});ko(o,E)||(e.goToDate(E,o),p(E))}},x={focusedDay:o,focusTarget:f,blur:h,focus:p,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return g.jsx(RH.Provider,{value:x,children:t.children})}function OA(){var t=w.useContext(RH);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Wme(t,e){var n=MH(),r=NA(t,n,e);return r}var DA=w.createContext(void 0);function qme(t){if(!qx(t.initialProps)){var e={selected:void 0};return g.jsx(DA.Provider,{value:e,children:t.children})}return g.jsx(Yme,{initialProps:t.initialProps,children:t.children})}function Yme(t){var e=t.initialProps,n=t.children,r=function(i,s,a){var l,c,f;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,s,a),s.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,i,s,a);return}(f=e.onSelect)===null||f===void 0||f.call(e,i,i,s,a)},o={selected:e.selected,onDayClick:r};return g.jsx(DA.Provider,{value:o,children:n})}function NH(){var t=w.useContext(DA);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Kme(t,e){var n=dn(),r=NH(),o=MA(),i=RA(),s=OA(),a=s.focusDayAfter,l=s.focusDayBefore,c=s.focusWeekAfter,f=s.focusWeekBefore,h=s.blur,p=s.focus,y=s.focusMonthBefore,b=s.focusMonthAfter,x=s.focusYearBefore,C=s.focusYearAfter,k=s.focusStartOfWeek,E=s.focusEndOfWeek,T=function($){var V,G,L,W;qx(n)?(V=r.onDayClick)===null||V===void 0||V.call(r,t,e,$):dy(n)?(G=o.onDayClick)===null||G===void 0||G.call(o,t,e,$):fy(n)?(L=i.onDayClick)===null||L===void 0||L.call(i,t,e,$):(W=n.onDayClick)===null||W===void 0||W.call(n,t,e,$)},R=function($){var V;p(t),(V=n.onDayFocus)===null||V===void 0||V.call(n,t,e,$)},A=function($){var V;h(),(V=n.onDayBlur)===null||V===void 0||V.call(n,t,e,$)},N=function($){var V;(V=n.onDayMouseEnter)===null||V===void 0||V.call(n,t,e,$)},O=function($){var V;(V=n.onDayMouseLeave)===null||V===void 0||V.call(n,t,e,$)},j=function($){var V;(V=n.onDayPointerEnter)===null||V===void 0||V.call(n,t,e,$)},P=function($){var V;(V=n.onDayPointerLeave)===null||V===void 0||V.call(n,t,e,$)},z=function($){var V;(V=n.onDayTouchCancel)===null||V===void 0||V.call(n,t,e,$)},X=function($){var V;(V=n.onDayTouchEnd)===null||V===void 0||V.call(n,t,e,$)},Z=function($){var V;(V=n.onDayTouchMove)===null||V===void 0||V.call(n,t,e,$)},q=function($){var V;(V=n.onDayTouchStart)===null||V===void 0||V.call(n,t,e,$)},re=function($){var V;(V=n.onDayKeyUp)===null||V===void 0||V.call(n,t,e,$)},ee=function($){var V;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),c();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),f();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?x():y();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?C():b();break;case"Home":$.preventDefault(),$.stopPropagation(),k();break;case"End":$.preventDefault(),$.stopPropagation(),E();break}(V=n.onDayKeyDown)===null||V===void 0||V.call(n,t,e,$)},B={onClick:T,onFocus:R,onBlur:A,onKeyDown:ee,onKeyUp:re,onMouseEnter:N,onMouseLeave:O,onPointerEnter:j,onPointerLeave:P,onTouchCancel:z,onTouchEnd:X,onTouchMove:Z,onTouchStart:q};return B}function Zme(){var t=dn(),e=NH(),n=MA(),r=RA(),o=qx(t)?e.selected:dy(t)?n.selected:fy(t)?r.selected:void 0;return o}function Xme(t){return Object.values(rs).includes(t)}function Jme(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var o=t.modifiersClassNames[r];if(o)n.push(o);else if(Xme(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function Qme(t,e){var n=tt({},t.styles.day);return Object.keys(e).forEach(function(r){var o;n=tt(tt({},n),(o=t.modifiersStyles)===null||o===void 0?void 0:o[r])}),n}function ege(t,e,n){var r,o,i,s=dn(),a=OA(),l=Wme(t,e),c=Kme(t,l),f=Zme(),h=!!(s.onDayClick||s.mode!=="default");w.useEffect(function(){var N;l.outside||a.focusedDay&&h&&ko(a.focusedDay,t)&&((N=n.current)===null||N===void 0||N.focus())},[a.focusedDay,t,n,h,l.outside]);var p=Jme(s,l).join(" "),y=Qme(s,l),b=!!(l.outside&&!s.showOutsideDays||l.hidden),x=(i=(o=s.components)===null||o===void 0?void 0:o.DayContent)!==null&&i!==void 0?i:wme,C=g.jsx(x,{date:t,displayMonth:e,activeModifiers:l}),k={style:y,className:p,children:C,role:"gridcell"},E=a.focusTarget&&ko(a.focusTarget,t)&&!l.outside,T=a.focusedDay&&ko(a.focusedDay,t),R=tt(tt(tt({},k),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=T||E?0:-1,r)),c),A={isButton:h,isHidden:b,activeModifiers:l,selectedDays:f,buttonProps:R,divProps:k};return A}function tge(t){var e=w.useRef(null),n=ege(t.date,t.displayMonth,e);return n.isHidden?g.jsx("div",{role:"gridcell"}):n.isButton?g.jsx(H0,tt({name:"day",ref:e},n.buttonProps)):g.jsx("div",tt({},n.divProps))}function nge(t){var e=t.number,n=t.dates,r=dn(),o=r.onWeekNumberClick,i=r.styles,s=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,f=c(Number(e),{locale:a});if(!o)return g.jsx("span",{className:s.weeknumber,style:i.weeknumber,children:f});var h=l(Number(e),{locale:a}),p=function(y){o(e,n,y)};return g.jsx(H0,{name:"week-number","aria-label":h,className:s.weeknumber,style:i.weeknumber,onClick:p,children:f})}function rge(t){var e,n,r=dn(),o=r.styles,i=r.classNames,s=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:tge,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:nge,f;return s&&(f=g.jsx("td",{className:i.cell,style:o.cell,children:g.jsx(c,{number:t.weekNumber,dates:t.dates})})),g.jsxs("tr",{className:i.row,style:o.row,children:[f,t.dates.map(function(h){return g.jsx("td",{className:i.cell,style:o.cell,role:"presentation",children:g.jsx(l,{displayMonth:t.displayMonth,date:h})},Dpe(h))})]})}function h4(t,e,n){for(var r=n!=null&&n.ISOWeek?mH(e):_A(e,n),o=n!=null&&n.ISOWeek?Wu(t):Qs(t,n),i=Vs(r,o),s=[],a=0;a<=i;a++)s.push(no(o,a));var l=s.reduce(function(c,f){var h=n!=null&&n.ISOWeek?yH(f):bH(f,n),p=c.find(function(y){return y.weekNumber===h});return p?(p.dates.push(f),c):(c.push({weekNumber:h,dates:[f]}),c)},[]);return l}function oge(t,e){var n=h4(Eo(t),kA(t),e);if(e!=null&&e.useFixedWeeks){var r=Lpe(t,e);if(r<6){var o=n[n.length-1],i=o.dates[o.dates.length-1],s=cT(i,6-r),a=h4(cT(i,1),s,e);n.push.apply(n,a)}}return n}function ige(t){var e,n,r,o=dn(),i=o.locale,s=o.classNames,a=o.styles,l=o.hideHead,c=o.fixedWeeks,f=o.components,h=o.weekStartsOn,p=o.firstWeekContainsDate,y=o.ISOWeek,b=oge(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:y,locale:i,weekStartsOn:h,firstWeekContainsDate:p}),x=(e=f==null?void 0:f.Head)!==null&&e!==void 0?e:xme,C=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:rge,k=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:yme;return g.jsxs("table",{id:t.id,className:s.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&g.jsx(x,{}),g.jsx("tbody",{className:s.tbody,style:a.tbody,children:b.map(function(E){return g.jsx(C,{displayMonth:t.displayMonth,dates:E.dates,weekNumber:E.weekNumber},E.weekNumber)})}),g.jsx(k,{displayMonth:t.displayMonth})]})}function sge(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var age=sge()?w.useLayoutEffect:w.useEffect,Kk=!1,lge=0;function p4(){return"react-day-picker-".concat(++lge)}function cge(t){var e,n=t??(Kk?p4():null),r=w.useState(n),o=r[0],i=r[1];return age(function(){o===null&&i(p4())},[]),w.useEffect(function(){Kk===!1&&(Kk=!0)},[]),(e=t??o)!==null&&e!==void 0?e:void 0}function uge(t){var e,n,r=dn(),o=r.dir,i=r.classNames,s=r.styles,a=r.components,l=hy().displayMonths,c=cge(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,h=[i.month],p=s.month,y=t.displayIndex===0,b=t.displayIndex===l.length-1,x=!y&&!b;o==="rtl"&&(e=[y,b],b=e[0],y=e[1]),y&&(h.push(i.caption_start),p=tt(tt({},p),s.caption_start)),b&&(h.push(i.caption_end),p=tt(tt({},p),s.caption_end)),x&&(h.push(i.caption_between),p=tt(tt({},p),s.caption_between));var C=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:gme;return g.jsxs("div",{className:h.join(" "),style:p,children:[g.jsx(C,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),g.jsx(ige,{id:f,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function dge(t){var e=dn(),n=e.classNames,r=e.styles;return g.jsx("div",{className:n.months,style:r.months,children:t.children})}function fge(t){var e,n,r=t.initialProps,o=dn(),i=OA(),s=hy(),a=w.useState(!1),l=a[0],c=a[1];w.useEffect(function(){o.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),c(!0)))},[o.initialFocus,l,i.focus,i.focusTarget,i]);var f=[o.classNames.root,o.className];o.numberOfMonths>1&&f.push(o.classNames.multiple_months),o.showWeekNumber&&f.push(o.classNames.with_weeknumber);var h=tt(tt({},o.styles.root),o.style),p=Object.keys(r).filter(function(b){return b.startsWith("data-")}).reduce(function(b,x){var C;return tt(tt({},b),(C={},C[x]=r[x],C))},{}),y=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:dge;return g.jsx("div",tt({className:f.join(" "),style:h,dir:o.dir,id:o.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:g.jsx(y,{children:s.displayMonths.map(function(b,x){return g.jsx(uge,{displayIndex:x,displayMonth:b},x)})})}))}function hge(t){var e=t.children,n=Ipe(t,["children"]);return g.jsx(nme,{initialProps:n,children:g.jsx(fme,{children:g.jsx(qme,{initialProps:n,children:g.jsx(Sme,{initialProps:n,children:g.jsx(_me,{initialProps:n,children:g.jsx(Dme,{children:g.jsx(Gme,{children:e})})})})})})})}function pge(t){return g.jsx(hge,tt({},t,{children:g.jsx(fge,{initialProps:t})}))}function mge({className:t,classNames:e,showOutsideDays:n=!0,...r}){return g.jsx(pge,{showOutsideDays:n,className:ke("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:ke(Gm({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:ke("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:ke(Gm({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:o,...i})=>g.jsx(X7,{className:ke("size-4",o),...i}),IconRight:({className:o,...i})=>g.jsx(Ex,{className:ke("size-4",o),...i})},...r})}function gge(){return g.jsx(aA,{className:"px-0",children:g.jsx(u$,{children:g.jsx(mge,{modifiers:{eventDay:new Date(2025,2,3)},modifiersClassNames:{eventDay:"relative after:content-['•'] after:absolute after:-bottom-1 after:left-1/2 after:-translate-x-1/2 after:text-red-500"},className:"[&_[role=gridcell].bg-accent]:bg-sidebar-primary [&_[role=gridcell].bg-accent]:text-sidebar-primary-foreground [&_[role=gridcell]]:w-[33px]"})})})}function yge(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const vge=t=>{switch(t){case"success":return wge;case"info":return Cge;case"warning":return Sge;case"error":return kge;default:return null}},bge=Array(12).fill(0),xge=({visible:t,className:e})=>U.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},U.createElement("div",{className:"sonner-spinner"},bge.map((n,r)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),wge=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Sge=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Cge=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kge=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_ge=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ege=()=>{const[t,e]=U.useState(document.hidden);return U.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let dT=1;class Tge{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...o}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:dT++,s=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...o,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0}))),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,s;const a=o.then(async c=>{if(s=["resolve",c],U.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(Age(c)&&!c.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,y=typeof h=="object"?h:{message:h};this.create({id:r,type:"error",description:p,...y})}else if(c instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(c):n.error,p=typeof n.description=="function"?await n.description(c):n.description,y=typeof h=="object"?h:{message:h};this.create({id:r,type:"error",description:p,...y})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(c):n.success,p=typeof n.description=="function"?await n.description(c):n.description,y=typeof h=="object"?h:{message:h};this.create({id:r,type:"success",description:p,...y})}}).catch(async c=>{if(s=["reject",c],n.error!==void 0){i=!1;const f=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description,p=typeof f=="object"?f:{message:f};this.create({id:r,type:"error",description:h,...p})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,f)=>a.then(()=>s[0]==="reject"?f(s[1]):c(s[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||dT++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xo=new Tge,Mge=(t,e)=>{const n=(e==null?void 0:e.id)||dT++;return xo.addToast({title:t,...e,id:n}),n},Age=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Rge=Mge,Nge=()=>xo.toasts,Oge=()=>xo.getActiveToasts(),Dge=Object.assign(Rge,{success:xo.success,info:xo.info,warning:xo.warning,error:xo.error,custom:xo.custom,message:xo.message,promise:xo.promise,dismiss:xo.dismiss,loading:xo.loading},{getHistory:Nge,getToasts:Oge});yge("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function lb(t){return t.label!==void 0}const Pge=3,Lge="24px",jge="16px",m4=4e3,Ige=356,Vge=14,Bge=45,$ge=200;function Cs(...t){return t.filter(Boolean).join(" ")}function Hge(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const zge=t=>{var e,n,r,o,i,s,a,l,c;const{invert:f,toast:h,unstyled:p,interacting:y,setHeights:b,visibleToasts:x,heights:C,index:k,toasts:E,expanded:T,removeToast:R,defaultRichColors:A,closeButton:N,style:O,cancelButtonStyle:j,actionButtonStyle:P,className:z="",descriptionClassName:X="",duration:Z,position:q,gap:re,expandByDefault:ee,classNames:B,icons:$,closeButtonAriaLabel:V="Close toast"}=t,[G,L]=U.useState(null),[W,se]=U.useState(null),[ae,fe]=U.useState(!1),[Ee,pe]=U.useState(!1),[Ne,Oe]=U.useState(!1),[Ie,Ue]=U.useState(!1),[At,Tn]=U.useState(!1),[zt,Ve]=U.useState(0),[dr,Jn]=U.useState(0),Fn=U.useRef(h.duration||Z||m4),F=U.useRef(null),Q=U.useRef(null),oe=k===0,Ce=k+1<=x,ve=h.type,ye=h.dismissible!==!1,Re=h.className||"",et=h.descriptionClassName||"",Ht=U.useMemo(()=>C.findIndex(Me=>Me.toastId===h.id)||0,[C,h.id]),qt=U.useMemo(()=>{var Me;return(Me=h.closeButton)!=null?Me:N},[h.closeButton,N]),yn=U.useMemo(()=>h.duration||Z||m4,[h.duration,Z]),ri=U.useRef(0),Qn=U.useRef(0),vn=U.useRef(0),Lr=U.useRef(null),[Do,er]=q.split("-"),fa=U.useMemo(()=>C.reduce((Me,bt,xt)=>xt>=Ht?Me:Me+bt.height,0),[C,Ht]),Po=Ege(),kr=h.invert||f,Hc=ve==="loading";Qn.current=U.useMemo(()=>Ht*re+fa,[Ht,fa]),U.useEffect(()=>{Fn.current=yn},[yn]),U.useEffect(()=>{fe(!0)},[]),U.useEffect(()=>{const Me=Q.current;if(Me){const bt=Me.getBoundingClientRect().height;return Jn(bt),b(xt=>[{toastId:h.id,height:bt,position:h.position},...xt]),()=>b(xt=>xt.filter(bn=>bn.toastId!==h.id))}},[b,h.id]),U.useLayoutEffect(()=>{if(!ae)return;const Me=Q.current,bt=Me.style.height;Me.style.height="auto";const xt=Me.getBoundingClientRect().height;Me.style.height=bt,Jn(xt),b(bn=>bn.find(Yt=>Yt.toastId===h.id)?bn.map(Yt=>Yt.toastId===h.id?{...Yt,height:xt}:Yt):[{toastId:h.id,height:xt,position:h.position},...bn])},[ae,h.title,h.description,b,h.id]);const Ge=U.useCallback(()=>{pe(!0),Ve(Qn.current),b(Me=>Me.filter(bt=>bt.toastId!==h.id)),setTimeout(()=>{R(h)},$ge)},[h,R,b,Qn]);U.useEffect(()=>{if(h.promise&&ve==="loading"||h.duration===1/0||h.type==="loading")return;let Me;return T||y||Po?(()=>{if(vn.current<ri.current){const bn=new Date().getTime()-ri.current;Fn.current=Fn.current-bn}vn.current=new Date().getTime()})():(()=>{Fn.current!==1/0&&(ri.current=new Date().getTime(),Me=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Ge()},Fn.current))})(),()=>clearTimeout(Me)},[T,y,h,ve,Po,Ge]),U.useEffect(()=>{h.delete&&Ge()},[Ge,h.delete]);function Lt(){var Me;if($!=null&&$.loading){var bt;return U.createElement("div",{className:Cs(B==null?void 0:B.loader,h==null||(bt=h.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":ve==="loading"},$.loading)}return U.createElement(xge,{className:Cs(B==null?void 0:B.loader,h==null||(Me=h.classNames)==null?void 0:Me.loader),visible:ve==="loading"})}var Rt,ht;return U.createElement("li",{tabIndex:0,ref:Q,className:Cs(z,Re,B==null?void 0:B.toast,h==null||(e=h.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[ve],h==null||(n=h.classNames)==null?void 0:n[ve]),"data-sonner-toast":"","data-rich-colors":(Rt=h.richColors)!=null?Rt:A,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":ae,"data-promise":!!h.promise,"data-swiped":At,"data-removed":Ee,"data-visible":Ce,"data-y-position":Do,"data-x-position":er,"data-index":k,"data-front":oe,"data-swiping":Ne,"data-dismissible":ye,"data-type":ve,"data-invert":kr,"data-swipe-out":Ie,"data-swipe-direction":W,"data-expanded":!!(T||ee&&ae),style:{"--index":k,"--toasts-before":k,"--z-index":E.length-k,"--offset":`${Ee?zt:Qn.current}px`,"--initial-height":ee?"auto":`${dr}px`,...O,...h.style},onDragEnd:()=>{Oe(!1),L(null),Lr.current=null},onPointerDown:Me=>{Hc||!ye||(F.current=new Date,Ve(Qn.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(Oe(!0),Lr.current={x:Me.clientX,y:Me.clientY}))},onPointerUp:()=>{var Me,bt,xt;if(Ie||!ye)return;Lr.current=null;const bn=Number(((Me=Q.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),tr=Number(((bt=Q.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Yt=new Date().getTime()-((xt=F.current)==null?void 0:xt.getTime()),fn=G==="x"?bn:tr,Pn=Math.abs(fn)/Yt;if(Math.abs(fn)>=Bge||Pn>.11){Ve(Qn.current),h.onDismiss==null||h.onDismiss.call(h,h),se(G==="x"?bn>0?"right":"left":tr>0?"down":"up"),Ge(),Ue(!0);return}else{var fr,_r;(fr=Q.current)==null||fr.style.setProperty("--swipe-amount-x","0px"),(_r=Q.current)==null||_r.style.setProperty("--swipe-amount-y","0px")}Tn(!1),Oe(!1),L(null)},onPointerMove:Me=>{var bt,xt,bn;if(!Lr.current||!ye||((bt=window.getSelection())==null?void 0:bt.toString().length)>0)return;const Yt=Me.clientY-Lr.current.y,fn=Me.clientX-Lr.current.x;var Pn;const fr=(Pn=t.swipeDirections)!=null?Pn:Hge(q);!G&&(Math.abs(fn)>1||Math.abs(Yt)>1)&&L(Math.abs(fn)>Math.abs(Yt)?"x":"y");let _r={x:0,y:0};const Uh=ys=>1/(1.5+Math.abs(ys)/20);if(G==="y"){if(fr.includes("top")||fr.includes("bottom"))if(fr.includes("top")&&Yt<0||fr.includes("bottom")&&Yt>0)_r.y=Yt;else{const ys=Yt*Uh(Yt);_r.y=Math.abs(ys)<Math.abs(Yt)?ys:Yt}}else if(G==="x"&&(fr.includes("left")||fr.includes("right")))if(fr.includes("left")&&fn<0||fr.includes("right")&&fn>0)_r.x=fn;else{const ys=fn*Uh(fn);_r.x=Math.abs(ys)<Math.abs(fn)?ys:fn}(Math.abs(_r.x)>0||Math.abs(_r.y)>0)&&Tn(!0),(xt=Q.current)==null||xt.style.setProperty("--swipe-amount-x",`${_r.x}px`),(bn=Q.current)==null||bn.style.setProperty("--swipe-amount-y",`${_r.y}px`)}},qt&&!h.jsx&&ve!=="loading"?U.createElement("button",{"aria-label":V,"data-disabled":Hc,"data-close-button":!0,onClick:Hc||!ye?()=>{}:()=>{Ge(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Cs(B==null?void 0:B.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(ht=$==null?void 0:$.close)!=null?ht:_ge):null,ve||h.icon||h.promise?U.createElement("div",{"data-icon":"",className:Cs(B==null?void 0:B.icon,h==null||(o=h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Lt():null,h.type!=="loading"?h.icon||($==null?void 0:$[ve])||vge(ve):null):null,U.createElement("div",{"data-content":"",className:Cs(B==null?void 0:B.content,h==null||(i=h.classNames)==null?void 0:i.content)},U.createElement("div",{"data-title":"",className:Cs(B==null?void 0:B.title,h==null||(s=h.classNames)==null?void 0:s.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?U.createElement("div",{"data-description":"",className:Cs(X,et,B==null?void 0:B.description,h==null||(a=h.classNames)==null?void 0:a.description)},typeof h.description=="function"?h.description():h.description):null),U.isValidElement(h.cancel)?h.cancel:h.cancel&&lb(h.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||j,onClick:Me=>{lb(h.cancel)&&ye&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Me),Ge())},className:Cs(B==null?void 0:B.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,U.isValidElement(h.action)?h.action:h.action&&lb(h.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:Me=>{lb(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Me),!Me.defaultPrevented&&Ge())},className:Cs(B==null?void 0:B.actionButton,h==null||(c=h.classNames)==null?void 0:c.actionButton)},h.action.label):null)};function g4(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Fge(t,e){const n={};return[t,e].forEach((r,o)=>{const i=o===1,s=i?"--mobile-offset":"--offset",a=i?jge:Lge;function l(c){["top","right","bottom","left"].forEach(f=>{n[`${s}-${f}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${s}-${c}`]=a:n[`${s}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}const Uge=U.forwardRef(function(e,n){const{invert:r,position:o="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:c,mobileOffset:f,theme:h="light",richColors:p,duration:y,style:b,visibleToasts:x=Pge,toastOptions:C,dir:k=g4(),gap:E=Vge,icons:T,containerAriaLabel:R="Notifications"}=e,[A,N]=U.useState([]),O=U.useMemo(()=>Array.from(new Set([o].concat(A.filter(W=>W.position).map(W=>W.position)))),[A,o]),[j,P]=U.useState([]),[z,X]=U.useState(!1),[Z,q]=U.useState(!1),[re,ee]=U.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=U.useRef(null),$=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=U.useRef(null),G=U.useRef(!1),L=U.useCallback(W=>{N(se=>{var ae;return(ae=se.find(fe=>fe.id===W.id))!=null&&ae.delete||xo.dismiss(W.id),se.filter(({id:fe})=>fe!==W.id)})},[]);return U.useEffect(()=>xo.subscribe(W=>{if(W.dismiss){const se=A.map(ae=>ae.id===W.id?{...ae,delete:!0}:ae);requestAnimationFrame(()=>{N(se)});return}setTimeout(()=>{kx.flushSync(()=>{N(se=>{const ae=se.findIndex(fe=>fe.id===W.id);return ae!==-1?[...se.slice(0,ae),{...se[ae],...W},...se.slice(ae+1)]:[W,...se]})})})}),[A]),U.useEffect(()=>{if(h!=="system"){ee(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;const W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:se})=>{ee(se?"dark":"light")})}catch{W.addListener(({matches:ae})=>{try{ee(ae?"dark":"light")}catch(fe){console.error(fe)}})}},[h]),U.useEffect(()=>{A.length<=1&&X(!1)},[A]),U.useEffect(()=>{const W=se=>{var ae;if(i.every(pe=>se[pe]||se.code===pe)){var Ee;X(!0),(Ee=B.current)==null||Ee.focus()}se.code==="Escape"&&(document.activeElement===B.current||(ae=B.current)!=null&&ae.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[i]),U.useEffect(()=>{if(B.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,G.current=!1)}},[B.current]),U.createElement("section",{ref:n,"aria-label":`${R} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((W,se)=>{var ae;const[fe,Ee]=W.split("-");return A.length?U.createElement("ol",{key:W,dir:k==="auto"?g4():k,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-sonner-theme":re,"data-y-position":fe,"data-lifted":z&&A.length>1&&!s,"data-x-position":Ee,style:{"--front-toast-height":`${((ae=j[0])==null?void 0:ae.height)||0}px`,"--width":`${Ige}px`,"--gap":`${E}px`,...b,...Fge(c,f)},onBlur:pe=>{G.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(G.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||G.current||(G.current=!0,V.current=pe.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{Z||X(!1)},onDragEnd:()=>X(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},A.filter(pe=>!pe.position&&se===0||pe.position===W).map((pe,Ne)=>{var Oe,Ie;return U.createElement(zge,{key:pe.id,icons:T,index:Ne,toast:pe,defaultRichColors:p,duration:(Oe=C==null?void 0:C.duration)!=null?Oe:y,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:x,closeButton:(Ie=C==null?void 0:C.closeButton)!=null?Ie:a,interacting:Z,position:W,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:L,toasts:A.filter(Ue=>Ue.position==pe.position),heights:j.filter(Ue=>Ue.position==pe.position),setHeights:P,expandByDefault:s,gap:E,expanded:z,swipeDirections:e.swipeDirections})})):null}))});function Gge(){const[t,e]=w.useState(10),[n,r]=w.useState(0),[o,i]=w.useState(t*60+n),[s,a]=w.useState(!1);return w.useEffect(()=>{if(!s||o<=0)return;const l=setInterval(()=>{i(c=>(c===1&&Dge.error("Out of time",{icon:g.jsx(Lie,{size:15}),description:"The countdown has ended."}),c-1))},1e3);return()=>clearInterval(l)},[s,o]),w.useEffect(()=>{i(t*60+n),a(!1)},[t,n]),g.jsxs("div",{className:"flex flex-col items-center p-4",children:[g.jsxs("p",{className:"text-4xl font-bold mt-4",children:[String(Math.floor(o/60)).padStart(2,"0"),":",String(o%60).padStart(2,"0")]}),g.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[g.jsx(Tt,{disabled:o===0,onClick:()=>a(!s),size:"icon",children:s?g.jsx(sse,{}):g.jsx(lse,{})}),g.jsx(Tt,{onClick:()=>{i(t*60+n),a(!1)},variant:"secondary",size:"icon",children:g.jsx(dse,{})})]}),g.jsxs("div",{className:"flex flex-row items-center justify-center gap-2 mt-4",children:[g.jsx(Tt,{onClick:()=>{a(!1),r(0),e(5),i(5*60)},variant:"outline",children:'5"'}),g.jsx(Tt,{onClick:()=>{a(!1),r(0),e(25),i(25*60)},variant:"outline",children:'25"'}),g.jsx(Tt,{onClick:()=>{a(!1),r(0),e(60),i(60*60)},variant:"outline",children:'60"'})]}),g.jsxs("div",{className:"flex flex-row items-center justify-center gap-2 mt-4",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx(Tt,{variant:"ghost",size:"icon",onClick:()=>e(t===99?t:t+1),children:"▲"}),g.jsx(Fa,{type:"number",min:"0",max:"99",value:t.toString(),onChange:l=>{if(parseInt(l.target.value,10)>=99)return;const c=l.target.value.replace(/^0+/,"")||"0";e(parseInt(c,10))},className:"custom-number-input w-16 text-center text-lg"}),g.jsx(Tt,{variant:"ghost",size:"icon",onClick:()=>e(t===0?t:t-1),children:"▼"})]}),g.jsx("span",{className:"text-xl font-semibold",children:'"'}),g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx(Tt,{variant:"ghost",size:"icon",onClick:()=>r(n===59?n:n+1),children:"▲"}),g.jsx(Fa,{type:"number",min:"0",max:"59",value:n.toString(),onChange:l=>{if(parseInt(l.target.value,10)>=60)return;const c=l.target.value.replace(/^0+/,"")||"0";r(parseInt(c,10))},className:"custom-number-input w-16 text-center text-lg"}),g.jsx(Tt,{variant:"ghost",size:"icon",onClick:()=>r(n===0?n:n-1),children:"▼"})]}),g.jsx("span",{className:"text-xl font-semibold",children:"'"})]})]})}function OH({...t}){return g.jsxs(o$,{collapsible:"none",className:"sticky hidden xl:flex top-0 h-svh border-l",...t,children:[g.jsx(a$,{className:"h-16 border-sidebar-border",children:g.jsxs("div",{className:"flex items-center gap-2 h-full w-full",children:[g.jsx("div",{className:"flex items-center justify-center h-full px-4",children:g.jsx(w6,{children:"Good morning"})}),g.jsx(Tt,{size:"icon",variant:"ghost",children:g.jsx(Ex,{})})]})}),g.jsxs(l$,{className:"scrollbar",children:[g.jsx(Gge,{}),g.jsx(Ede,{className:"mx-0"}),g.jsx(gge,{})]}),g.jsx(_de,{children:g.jsx(oy,{children:g.jsx(vc,{children:g.jsxs(bc,{children:[g.jsx(LM,{}),g.jsx("span",{children:"New Calendar"})]})})})})]})}function DH({...t}){return g.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function PH({className:t,...e}){return g.jsx("ol",{"data-slot":"breadcrumb-list",className:ke("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...e})}function LH({className:t,...e}){return g.jsx("li",{"data-slot":"breadcrumb-item",className:ke("inline-flex items-center gap-1.5",t),...e})}function jH({className:t,...e}){return g.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:ke("text-foreground font-normal",t),...e})}const Wge=[{title:"Course",url:"/course",icon:g.jsx(Z7,{})},{title:"Page",url:"/page",icon:g.jsx(K7,{})},{title:"Document",url:"/document",icon:g.jsx(Q7,{})}];function y4(){return g.jsxs(r$,{children:[g.jsx(fH,{}),g.jsxs(s$,{children:[g.jsxs("header",{className:"z-50 sticky top-0 flex h-14 shrink-0 items-center gap-2 border-b border-dashed bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[g.jsxs("div",{className:"flex flex-1 items-center gap-2 px-3",children:[g.jsx(i$,{}),g.jsx(ig,{orientation:"vertical",className:"mr-2 h-4"}),g.jsx(DH,{children:g.jsx(PH,{children:g.jsx(LH,{children:g.jsx(jH,{className:"line-clamp-1",children:"Project Management & Task Tracking"})})})}),g.jsx(ig,{orientation:"vertical",className:"mr-2 h-4"})]}),g.jsx("div",{className:"flex items-center gap-2 px-3",children:g.jsx(Ps,{children:g.jsxs(ay,{children:[g.jsxs(Ls,{children:[g.jsx(js,{asChild:!0,children:g.jsx(ly,{asChild:!0,children:g.jsx(Tt,{size:"icon",variant:"secondary",children:g.jsx(LM,{})})})}),g.jsx(Is,{children:"Create"})]}),g.jsxs(cy,{children:[g.jsx(Wx,{children:"Create new"}),g.jsx(Gu,{}),Wge.map(t=>g.jsxs(qi,{children:[t.icon,t.title]},t.url))]})]})})})]}),g.jsx("div",{className:"flex flex-1 flex-col gap-4 p-4 max-w-full",children:g.jsx(AM,{})})]}),g.jsx(OH,{})]})}function qge(){const t=Rc();return g.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen py-2",children:g.jsx(Tt,{onClick:()=>t("/home"),children:"Go to home"})})}const Yge=OM("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Si({className:t,variant:e,asChild:n=!1,...r}){const o=n?Ko:"span";return g.jsx(o,{"data-slot":"badge",className:ke(Yge({variant:e}),t),...r})}var PA="Progress",LA=100,[Kge,lVe]=ds(PA),[Zge,Xge]=Kge(PA),IH=w.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:i=Jge,...s}=t;(o||o===0)&&!v4(o)&&console.error(Qge(`${o}`,"Progress"));const a=v4(o)?o:LA;r!==null&&!b4(r,a)&&console.error(eye(`${r}`,"Progress"));const l=b4(r,a)?r:null,c=z0(l)?i(l,a):void 0;return g.jsx(Zge,{scope:n,value:l,max:a,children:g.jsx(_t.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":z0(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":$H(l,a),"data-value":l??void 0,"data-max":a,...s,ref:e})})});IH.displayName=PA;var VH="ProgressIndicator",BH=w.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,o=Xge(VH,n);return g.jsx(_t.div,{"data-state":$H(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:e})});BH.displayName=VH;function Jge(t,e){return`${Math.round(t/e*100)}%`}function $H(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function z0(t){return typeof t=="number"}function v4(t){return z0(t)&&!isNaN(t)&&t>0}function b4(t,e){return z0(t)&&!isNaN(t)&&t<=e&&t>=0}function Qge(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${LA}\`.`}function eye(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${LA} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tye=IH,nye=BH;function rye({className:t,value:e,...n}){return g.jsx(tye,{"data-slot":"progress",className:ke("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:g.jsx(nye,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function x4({course:t,className:e}){return g.jsxs(Gs,{onClick:()=>console.log("Clicked"),className:ke("pt-0 duration-200 dark:border-dashed hover:shadow-lg dark:hover:border-solid cursor-pointer ",e),children:[g.jsx("img",{src:"/placeholder.svg",className:"object-cover h-50 w-full rounded-xl rounded-b-none dark:brightness-[0.2] dark:grayscale"}),g.jsxs(Vf,{children:[g.jsxs(Bf,{className:"line-clamp-1",children:[t.emoji," ",t.title]}),g.jsx(Ei,{children:t.date}),g.jsx(Ei,{className:"line-clamp-3 min-h-[4rem]",children:t.summary})]}),g.jsxs(Ws,{className:"space-y-4",children:[g.jsx("div",{className:"flex w-full justify-start",children:g.jsxs("div",{className:"flex flex-wrap justify-between gap-2 w-full max-w-55",children:[g.jsxs(Ei,{className:"flex items-center gap-1",children:[g.jsx(nse,{size:20}),"222"]}),g.jsxs(Ei,{className:"flex items-center gap-1",children:[g.jsx(gie,{size:20}),"322"]}),g.jsxs(Ei,{className:"flex items-center gap-1",children:[g.jsx(Die,{size:20}),"122"]}),g.jsxs(Ei,{className:"flex items-center gap-1",children:[g.jsx(Wie,{size:20}),"122"]})]})}),g.jsx("div",{className:"flex flex-nowrap gap-2 overflow-hidden",children:t.tags.map((n,r)=>g.jsx(Si,{variant:"outline",children:n},r))})]}),g.jsxs(Nu,{className:"gap-2 min-h-[1.5rem]",children:[g.jsx(rye,{value:t.status?100:33}),t.status&&g.jsx(Tx,{})]})]})}function HH({className:t,placeholder:e}){return g.jsxs("div",{className:ke("w-full h-full sticky top-0 left-0 z-10 flex flex-wrap flex-col gap-2 items-center p-2 rounded-xl border border-dashed bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",t),children:[g.jsxs("div",{className:"flex flex-row flex-wrap gap-2 p-2 w-full",children:[g.jsx(Fa,{className:"flex-1",placeholder:e}),g.jsx(Ps,{children:g.jsxs(ay,{children:[g.jsxs(Ls,{children:[g.jsx(js,{asChild:!0,children:g.jsx(ly,{asChild:!0,children:g.jsx(Tt,{size:"icon",variant:"outline",children:g.jsx(uie,{})})})}),g.jsx(Is,{side:"top",children:"Sorting"})]}),g.jsxs(cy,{children:[g.jsx(Wx,{children:"Sort by"}),g.jsx(Gu,{}),g.jsxs(qi,{children:["Title",g.jsx(i4,{children:g.jsx(Mse,{})})]}),g.jsxs(qi,{children:["Date",g.jsx(i4,{children:g.jsx(Sie,{})})]})]})]})}),g.jsx(Tt,{size:"icon",children:g.jsx(e6,{})})]}),g.jsx("div",{className:"w-full overflow-x-auto whitespace-nowrap scrollbar",children:g.jsxs("div",{className:"inline-flex flex-wrap gap-2",children:[g.jsx(Si,{className:"cursor-pointer",children:"All"}),g.jsx(Si,{className:"cursor-pointer",variant:"secondary",children:"Programming"}),g.jsx(Si,{className:"cursor-pointer",variant:"secondary",children:"Math"}),g.jsx(Si,{className:"cursor-pointer",variant:"secondary",children:"English"}),g.jsx(Si,{className:"cursor-pointer",variant:"secondary",children:"React"}),g.jsx(Si,{className:"cursor-pointer",variant:"secondary",children:"Web development"}),g.jsx(Si,{className:"cursor-pointer",variant:"secondary",children:"Frontend"}),g.jsx(Si,{className:"cursor-pointer",variant:"secondary",children:"Node.js"})]})})]})}const w4=[{id:"course-001",title:"Lập trình JavaScript cơ bản",summary:"Khóa học giới thiệu các khái niệm cơ bản của JavaScript. Khóa học giới thiệu các khái niệm cơ bản của JavaScript. Khóa học giới thiệu các khái niệm cơ bản của JavaScript. Khóa học giới thiệu các khái niệm cơ bản của JavaScript. Khóa học giới thiệu các khái niệm cơ bản của JavaScript. Khóa học giới thiệu các khái niệm cơ bản của JavaScript. ",description:"Khóa học này giúp bạn làm quen với các khái niệm như biến, vòng lặp, điều kiện và hàm trong JavaScript.",tags:["JavaScript","Lập trình","Cơ bản","Sieu sieu sieu dai dai dai"],type:"online",status:!0,date:"2025-03-13",emoji:"💻"},{id:"course-002",title:"Phát triển Web với React",summary:"Hướng dẫn phát triển ứng dụng web với React.",description:"Học cách sử dụng React để xây dựng các ứng dụng web hiện đại, bao gồm quản lý state, component và hooks.",tags:["React","Front-end","JavaScript"],type:"online",status:!0,date:"2025-03-10",emoji:"⚛️"},{id:"course-003",title:"Cấu trúc dữ liệu và giải thuật",summary:"Nắm vững các cấu trúc dữ liệu quan trọng và thuật toán phổ biến.",description:"Khóa học này bao gồm danh sách liên kết, stack, queue, cây, đồ thị và các thuật toán tìm kiếm, sắp xếp.",tags:["Khoa học máy tính","Thuật toán","Dữ liệu"],type:"offline",status:!1,date:"2025-02-28",emoji:"📊"},{id:"course-004",title:"Phân tích dữ liệu với Python",summary:"Học cách sử dụng Python để phân tích và trực quan hóa dữ liệu.",description:"Giới thiệu về Pandas, NumPy, Matplotlib và các công cụ hỗ trợ phân tích dữ liệu.",tags:["Python","Data Science","Phân tích"],type:"online",status:!0,date:"2025-03-05",emoji:"🐍"},{id:"course-005",title:"Phát triển API với Node.js",summary:"Tạo API RESTful sử dụng Node.js và Express.",description:"Khóa học tập trung vào việc xây dựng API, bảo mật, xác thực người dùng và tối ưu hiệu suất.",tags:["Node.js","Backend","API"],type:"online",status:!1,date:"2025-03-01",emoji:"🌐"}];function oye(){return g.jsxs("div",{className:"flex flex-col items-center w-full space-y-6",children:[g.jsx(HH,{className:"max-w-3xl top-18",placeholder:"Search for courses or lessons"}),g.jsxs("div",{className:"grid grid-cols-12 space-y-8 w-full h-full max-w-6xl",children:[g.jsxs("div",{className:"col-span-12 grid grid-cols-12 gap-2",children:[g.jsx("div",{className:"col-span-12 flex justify-between items-center",children:g.jsx("h4",{className:"scroll-m-20 text-xl font-semibold tracking-tight",children:"Recent lessons"})}),g.jsxs(Gs,{className:"col-span-12 md:col-span-6 2xl:col-span-4",children:[g.jsxs(Vf,{children:[g.jsx(Bf,{children:"Title"}),g.jsx(Ei,{children:"Description"})]}),g.jsx(Ws,{children:"Content"}),g.jsx(Nu,{children:"Footer"})]}),g.jsxs(Gs,{className:"col-span-12 md:col-span-6 2xl:col-span-4",children:[g.jsxs(Vf,{children:[g.jsx(Bf,{children:"Title"}),g.jsx(Ei,{children:"Description"})]}),g.jsx(Ws,{children:"Content"}),g.jsx(Nu,{children:"Footer"})]}),g.jsxs(Gs,{className:"col-span-12 md:col-span-6 2xl:col-span-4",children:[g.jsxs(Vf,{children:[g.jsx(Bf,{children:"Title"}),g.jsx(Ei,{children:"Description"})]}),g.jsx(Ws,{children:"Content"}),g.jsx(Nu,{children:"Footer"})]})]}),g.jsxs("div",{className:"col-span-12 grid grid-cols-12 gap-2",children:[g.jsxs("div",{className:"col-span-12 flex justify-between items-center",children:[g.jsx("h4",{className:"scroll-m-20 text-xl font-semibold tracking-tight",children:"On progress courses"}),g.jsxs(Tt,{variant:"ghost",children:[g.jsxs("div",{className:"flex items-center gap-1",children:["View all",g.jsx("p",{className:"text-sm text-muted-foreground",children:"(10)"})]}),g.jsx(vI,{})]})]}),w4.map(t=>!t.status&&g.jsx(x4,{className:"col-span-12 md:col-span-6 2xl:col-span-4",course:t},t.id))]}),g.jsxs("div",{className:"col-span-12 grid grid-cols-12 gap-2",children:[g.jsxs("div",{className:"col-span-12 flex justify-between items-center",children:[g.jsx("h4",{className:"scroll-m-20 text-xl font-semibold tracking-tight",children:"Completed courses"}),g.jsxs(Tt,{variant:"ghost",children:[g.jsxs("div",{className:"flex items-center gap-1",children:["View all",g.jsx("p",{className:"text-sm text-muted-foreground",children:"(5)"})]}),g.jsx(vI,{})]})]}),w4.map(t=>t.status&&g.jsx(x4,{className:"col-span-12 md:col-span-6 2xl:col-span-4",course:t},t.id))]})]})]})}function iye(){return g.jsx("div",{className:"flex flex-col items-center mx-auto h-full w-full max-w-3xl rounded-xl bg-muted/50",children:"Pages page"})}function zH({className:t,isActive:e,size:n="icon",...r}){return g.jsx("a",{"aria-current":e?"page":void 0,"data-slot":"pagination-link","data-active":e,className:ke(Gm({variant:e?"outline":"ghost",size:n}),t),...r})}function sye({className:t,...e}){return g.jsx(zH,{"aria-label":"Go to previous page",size:"default",className:ke("gap-1 px-2.5 sm:pl-2.5",t),...e,children:g.jsx(X7,{})})}function aye({className:t,...e}){return g.jsx(zH,{"aria-label":"Go to next page",size:"default",className:ke("gap-1 px-2.5 sm:pr-2.5",t),...e,children:g.jsx(Ex,{})})}function lye({document:t,onClick:e}){return g.jsxs(Gs,{onClick:e,className:"duration-200 border-dashed hover:shadow-lg dark:hover:border-solid cursor-pointer",children:[g.jsxs(Vf,{children:[g.jsx(Bf,{children:g.jsxs("div",{className:"flex items-center gap-1 line=clamp-1",children:[t.title,t.status&&g.jsx(Tx,{size:"1rem"})]})}),g.jsx(Ei,{className:"line-clamp-3 min-h-[4rem]",children:t.summary}),g.jsx(Ei,{children:t.date})]}),g.jsx(Ws,{children:g.jsx("div",{className:"flex flex-nowrap gap-2 overflow-hidden",children:t.tags.map((n,r)=>g.jsx(Si,{variant:"outline",children:n},r))})}),g.jsx(Nu,{className:"flex lg:hidden",children:g.jsxs("div",{className:"flex gap-2 h-full w-full justify-end",children:[g.jsx(Tt,{size:"icon",variant:"destructive",onClick:n=>{n.stopPropagation()},children:g.jsx(jM,{})}),g.jsx(Tt,{size:"icon",onClick:n=>{n.stopPropagation()},children:g.jsx(J7,{})})]})})]})}function cye(t,[e,n]){return Math.min(n,Math.max(e,t))}function uye(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var jA="ScrollArea",[FH,cVe]=ds(jA),[dye,ji]=FH(jA),UH=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...s}=t,[a,l]=w.useState(null),[c,f]=w.useState(null),[h,p]=w.useState(null),[y,b]=w.useState(null),[x,C]=w.useState(null),[k,E]=w.useState(0),[T,R]=w.useState(0),[A,N]=w.useState(!1),[O,j]=w.useState(!1),P=un(e,X=>l(X)),z=hA(o);return g.jsx(dye,{scope:n,type:r,dir:z,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:f,content:h,onContentChange:p,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:A,onScrollbarXEnabledChange:N,scrollbarY:x,onScrollbarYChange:C,scrollbarYEnabled:O,onScrollbarYEnabledChange:j,onCornerWidthChange:E,onCornerHeightChange:R,children:g.jsx(_t.div,{dir:z,...s,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});UH.displayName=jA;var GH="ScrollAreaViewport",WH=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:o,...i}=t,s=ji(GH,n),a=w.useRef(null),l=un(e,a,s.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),g.jsx(_t.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});WH.displayName=GH;var aa="ScrollAreaScrollbar",qH=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=ji(aa,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=o,a=t.orientation==="horizontal";return w.useEffect(()=>(a?i(!0):s(!0),()=>{a?i(!1):s(!1)}),[a,i,s]),o.type==="hover"?g.jsx(fye,{...r,ref:e,forceMount:n}):o.type==="scroll"?g.jsx(hye,{...r,ref:e,forceMount:n}):o.type==="auto"?g.jsx(YH,{...r,ref:e,forceMount:n}):o.type==="always"?g.jsx(IA,{...r,ref:e}):null});qH.displayName=aa;var fye=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=ji(aa,t.__scopeScrollArea),[i,s]=w.useState(!1);return w.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},f=()=>{l=window.setTimeout(()=>s(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),g.jsx(uo,{present:n||i,children:g.jsx(YH,{"data-state":i?"visible":"hidden",...r,ref:e})})}),hye=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=ji(aa,t.__scopeScrollArea),i=t.orientation==="horizontal",s=Kx(()=>l("SCROLL_END"),100),[a,l]=uye("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,o.scrollHideDelay,l]),w.useEffect(()=>{const c=o.viewport,f=i?"scrollLeft":"scrollTop";if(c){let h=c[f];const p=()=>{const y=c[f];h!==y&&(l("SCROLL"),s()),h=y};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[o.viewport,i,l,s]),g.jsx(uo,{present:n||a!=="hidden",children:g.jsx(IA,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ye(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ye(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),YH=w.forwardRef((t,e)=>{const n=ji(aa,t.__scopeScrollArea),{forceMount:r,...o}=t,[i,s]=w.useState(!1),a=t.orientation==="horizontal",l=Kx(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:f)}},10);return ah(n.viewport,l),ah(n.content,l),g.jsx(uo,{present:r||i,children:g.jsx(IA,{"data-state":i?"visible":"hidden",...o,ref:e})})}),IA=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,o=ji(aa,t.__scopeScrollArea),i=w.useRef(null),s=w.useRef(0),[a,l]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=QH(a.viewport,a.content),f={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:p=>s.current=p};function h(p,y){return bye(p,s.current,a,y)}return n==="horizontal"?g.jsx(pye,{...f,ref:e,onThumbPositionChange:()=>{if(o.viewport&&i.current){const p=o.viewport.scrollLeft,y=S4(p,a,o.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollLeft=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollLeft=h(p,o.dir))}}):n==="vertical"?g.jsx(mye,{...f,ref:e,onThumbPositionChange:()=>{if(o.viewport&&i.current){const p=o.viewport.scrollTop,y=S4(p,a);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollTop=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollTop=h(p))}}):null}),pye=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,i=ji(aa,t.__scopeScrollArea),[s,a]=w.useState(),l=w.useRef(null),c=un(e,l,i.onScrollbarXChange);return w.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.jsx(ZH,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Yx(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+f.deltaX;t.onWheelScroll(p),tz(p,h)&&f.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:U0(s.paddingLeft),paddingEnd:U0(s.paddingRight)}})}})}),mye=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,i=ji(aa,t.__scopeScrollArea),[s,a]=w.useState(),l=w.useRef(null),c=un(e,l,i.onScrollbarYChange);return w.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.jsx(ZH,{"data-orientation":"vertical",...o,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Yx(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(i.viewport){const p=i.viewport.scrollTop+f.deltaY;t.onWheelScroll(p),tz(p,h)&&f.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:U0(s.paddingTop),paddingEnd:U0(s.paddingBottom)}})}})}),[gye,KH]=FH(aa),ZH=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:f,onResize:h,...p}=t,y=ji(aa,n),[b,x]=w.useState(null),C=un(e,P=>x(P)),k=w.useRef(null),E=w.useRef(""),T=y.viewport,R=r.content-r.viewport,A=lr(f),N=lr(l),O=Kx(h,10);function j(P){if(k.current){const z=P.clientX-k.current.left,X=P.clientY-k.current.top;c({x:z,y:X})}}return w.useEffect(()=>{const P=z=>{const X=z.target;(b==null?void 0:b.contains(X))&&A(z,R)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[T,b,R,A]),w.useEffect(N,[r,N]),ah(b,O),ah(y.content,O),g.jsx(gye,{scope:n,scrollbar:b,hasThumb:o,onThumbChange:lr(i),onThumbPointerUp:lr(s),onThumbPositionChange:N,onThumbPointerDown:lr(a),children:g.jsx(_t.div,{...p,ref:C,style:{position:"absolute",...p.style},onPointerDown:Ye(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),k.current=b.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),j(P))}),onPointerMove:Ye(t.onPointerMove,j),onPointerUp:Ye(t.onPointerUp,P=>{const z=P.target;z.hasPointerCapture(P.pointerId)&&z.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=E.current,y.viewport&&(y.viewport.style.scrollBehavior=""),k.current=null})})})}),F0="ScrollAreaThumb",XH=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=KH(F0,t.__scopeScrollArea);return g.jsx(uo,{present:n||o.hasThumb,children:g.jsx(yye,{ref:e,...r})})}),yye=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...o}=t,i=ji(F0,n),s=KH(F0,n),{onThumbPositionChange:a}=s,l=un(e,h=>s.onThumbChange(h)),c=w.useRef(void 0),f=Kx(()=>{c.current&&(c.current(),c.current=void 0)},100);return w.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(f(),!c.current){const y=xye(h,a);c.current=y,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,f,a]),g.jsx(_t.div,{"data-state":s.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ye(t.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),b=h.clientX-y.left,x=h.clientY-y.top;s.onThumbPointerDown({x:b,y:x})}),onPointerUp:Ye(t.onPointerUp,s.onThumbPointerUp)})});XH.displayName=F0;var VA="ScrollAreaCorner",JH=w.forwardRef((t,e)=>{const n=ji(VA,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(vye,{...t,ref:e}):null});JH.displayName=VA;var vye=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,o=ji(VA,n),[i,s]=w.useState(0),[a,l]=w.useState(0),c=!!(i&&a);return ah(o.scrollbarX,()=>{var h;const f=((h=o.scrollbarX)==null?void 0:h.offsetHeight)||0;o.onCornerHeightChange(f),l(f)}),ah(o.scrollbarY,()=>{var h;const f=((h=o.scrollbarY)==null?void 0:h.offsetWidth)||0;o.onCornerWidthChange(f),s(f)}),c?g.jsx(_t.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function U0(t){return t?parseInt(t,10):0}function QH(t,e){const n=t/e;return isNaN(n)?0:n}function Yx(t){const e=QH(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function bye(t,e,n,r="ltr"){const o=Yx(n),i=o/2,s=e||i,a=o-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return ez([l,c],h)(t)}function S4(t,e,n="ltr"){const r=Yx(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-o,s=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,s]:[s*-1,0],c=cye(t,l);return ez([0,s],[0,a])(c)}function ez(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function tz(t,e){return t>0&&t<e}var xye=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function o(){const i={left:t.scrollLeft,top:t.scrollTop},s=n.left!==i.left,a=n.top!==i.top;(s||a)&&e(),n=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Kx(t,e){const n=lr(t),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ah(t,e){const n=lr(e);Qi(()=>{let r=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(t),()=>{window.cancelAnimationFrame(r),o.unobserve(t)}}},[t,n])}var wye=UH,Sye=WH,Cye=JH;function BA({className:t,children:e,...n}){return g.jsxs(wye,{"data-slot":"scroll-area",className:ke("relative",t),...n,children:[g.jsx(Sye,{"data-slot":"scroll-area-viewport",className:"ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] focus-visible:ring-4 focus-visible:outline-1",children:e}),g.jsx(kye,{}),g.jsx(Cye,{})]})}function kye({className:t,orientation:e="vertical",...n}){return g.jsx(qH,{"data-slot":"scroll-area-scrollbar",orientation:e,className:ke("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:g.jsx(XH,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function nz({document:t}){return g.jsx("div",{className:"w-full h-full relative flex",children:t?g.jsxs(BA,{className:"h-full w-full rounded-xl",children:[g.jsxs(Gs,{className:"hidden lg:flex w-full sticky top-0 left-0 z-10 rounded-xl border border-dashed shadow-none bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[g.jsxs(Vf,{children:[g.jsx(Bf,{children:g.jsxs("div",{className:"flex items-center gap-1",children:[t==null?void 0:t.title,(t==null?void 0:t.status)&&g.jsx(Ps,{children:g.jsxs(Ls,{children:[g.jsx(js,{children:g.jsx(Tx,{size:"1rem"})}),g.jsx(Is,{side:"right",children:"This document? has been processed"})]})})]})}),g.jsx(Ei,{children:t==null?void 0:t.date})]}),g.jsx(Ws,{children:g.jsx("div",{className:"flex gap-2 flex-wrap ",children:t==null?void 0:t.tags.map(e=>g.jsx(Si,{variant:"secondary",children:e},e))})}),g.jsx(Nu,{children:g.jsxs("div",{className:"w-full flex gap-2 justify-end",children:[g.jsx(Ps,{children:g.jsxs(Ls,{children:[g.jsx(js,{asChild:!0,children:g.jsx(Tt,{disabled:!(t!=null&&t.status),size:"icon",variant:"outline",children:g.jsx(GE,{})})}),g.jsx(Is,{children:"Ask AI"})]})}),g.jsx(Ps,{children:g.jsxs(Ls,{children:[g.jsx(js,{asChild:!0,children:g.jsx(Tt,{size:"icon",variant:"destructive",children:g.jsx(jM,{})})}),g.jsx(Is,{children:"Delete"})]})}),g.jsx(Ps,{children:g.jsxs(Ls,{children:[g.jsx(js,{asChild:!0,children:g.jsx(Tt,{size:"icon",children:g.jsx(J7,{})})}),g.jsx(Is,{children:"Download"})]})})]})})]}),g.jsxs("div",{className:"flex flex-col py-2 gap-2 h-full w-full rounded-xl",children:[g.jsxs(Gs,{className:"w-full bg-background rounded-xl border border-dashed shadow-none",children:[g.jsx(Ws,{children:t==null?void 0:t.description}),g.jsx(Nu,{children:g.jsx("div",{className:"w-full flex justify-end",children:g.jsxs(Tt,{variant:"secondary",children:[g.jsx(GE,{}),g.jsx("span",{children:"Re-summerize"})]})})})]}),g.jsx(Gs,{className:"w-full h-150 bg-background rounded-xl border border-dashed shadow-none",children:g.jsx(Ws,{className:"h-full",children:g.jsx("img",{alt:"Document preview",src:"/placeholder.svg",className:"inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"})})})]})]}):g.jsxs("div",{className:"flex items-center justify-center w-full h-full gap-2",children:[g.jsx(vie,{}),g.jsx("h4",{className:"scroll-m-20 text-xl font-semibold tracking-tight",children:"Select a document to preview"})]})})}function _ye(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const rz=U.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),py=()=>{const t=U.useContext(rz);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};_ye(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Eye(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function Tye(){return $A(/^Mac/)}function Mye(){return $A(/^iPhone/)}function C4(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Aye(){return $A(/^iPad/)||Tye()&&navigator.maxTouchPoints>1}function oz(){return Mye()||Aye()}function $A(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Rye=24,Nye=typeof window<"u"?w.useLayoutEffect:w.useEffect;function k4(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const Zk=typeof document<"u"&&window.visualViewport;function _4(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function iz(t){for(_4(t)&&(t=t.parentElement);t&&!_4(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Oye=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let cb=0,Xk;function Dye(t={}){let{isDisabled:e}=t;Nye(()=>{if(!e)return cb++,cb===1&&oz()&&(Xk=Pye()),()=>{cb--,cb===0&&(Xk==null||Xk())}},[e])}function Pye(){let t,e=0,n=h=>{t=iz(h.target),!(t===document.documentElement&&t===document.body)&&(e=h.changedTouches[0].pageY)},r=h=>{if(!t||t===document.documentElement||t===document.body){h.preventDefault();return}let p=h.changedTouches[0].pageY,y=t.scrollTop,b=t.scrollHeight-t.clientHeight;b!==0&&((y<=0&&p>e||y>=b&&p<e)&&h.preventDefault(),e=p)},o=h=>{let p=h.target;fT(p)&&p!==document.activeElement&&(h.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},i=h=>{let p=h.target;fT(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",Zk&&(Zk.height<window.innerHeight?requestAnimationFrame(()=>{E4(p)}):Zk.addEventListener("resize",()=>E4(p),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},a=window.pageXOffset,l=window.pageYOffset,c=k4(Lye(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=k4(qp(document,"touchstart",n,{passive:!1,capture:!0}),qp(document,"touchmove",r,{passive:!1,capture:!0}),qp(document,"touchend",o,{passive:!1,capture:!0}),qp(document,"focus",i,!0),qp(window,"scroll",s));return()=>{c(),f(),window.scrollTo(a,l)}}function Lye(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function qp(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function E4(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=iz(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,o=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom;const s=n.getBoundingClientRect().bottom+Rye;i>s&&(n.scrollTop+=o-r)}t=n.parentElement}}function fT(t){return t instanceof HTMLInputElement&&!Oye.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function jye(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Iye(...t){return e=>t.forEach(n=>jye(n,e))}function sz(...t){return w.useCallback(Iye(...t),t)}const az=new WeakMap;function ir(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([o,i])=>{if(o.startsWith("--")){t.style.setProperty(o,i);return}r[o]=t.style[o],t.style[o]=i}),!n&&az.set(t,r)}function Vye(t,e){if(!t||!(t instanceof HTMLElement))return;let n=az.get(t);n&&(t.style[e]=n[e])}const Yn=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function ub(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let o=r.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[Yn(e)?13:12]):(o=r.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[Yn(e)?5:4]):null)}function Bye(t){return 8*(Math.log(t+1)-2)}function Jk(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function $ye(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const kn={DURATION:.5,EASE:[.32,.72,0,1]},lz=.4,Hye=.25,zye=100,cz=8,db=16,hT=26,Qk="vaul-dragging";function uz(t){const e=U.useRef(t);return U.useEffect(()=>{e.current=t}),U.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function Fye({defaultProp:t,onChange:e}){const n=U.useState(t),[r]=n,o=U.useRef(r),i=uz(e);return U.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}function dz({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=Fye({defaultProp:e,onChange:n}),i=t!==void 0,s=i?t:r,a=uz(n),l=U.useCallback(c=>{if(i){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else o(c)},[i,t,o,a]);return[s,l]}function Uye({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:o,fadeFromIndex:i,onSnapPointChange:s,direction:a="bottom",container:l,snapToSequentialPoint:c}){const[f,h]=dz({prop:t,defaultProp:n==null?void 0:n[0],onChange:e}),[p,y]=U.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);U.useEffect(()=>{function O(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const b=U.useMemo(()=>f===(n==null?void 0:n[n.length-1])||null,[n,f]),x=U.useMemo(()=>{var O;return(O=n==null?void 0:n.findIndex(j=>j===f))!=null?O:null},[n,f]),C=n&&n.length>0&&(i||i===0)&&!Number.isNaN(i)&&n[i]===f||!n,k=U.useMemo(()=>{const O=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var j;return(j=n==null?void 0:n.map(P=>{const z=typeof P=="string";let X=0;if(z&&(X=parseInt(P,10)),Yn(a)){const q=z?X:p?P*O.height:0;return p?a==="bottom"?O.height-q:-O.height+q:q}const Z=z?X:p?P*O.width:0;return p?a==="right"?O.width-Z:-O.width+Z:Z}))!=null?j:[]},[n,p,l]),E=U.useMemo(()=>x!==null?k==null?void 0:k[x]:null,[k,x]),T=U.useCallback(O=>{var j;const P=(j=k==null?void 0:k.findIndex(z=>z===O))!=null?j:null;s(P),ir(r.current,{transition:`transform ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,transform:Yn(a)?`translate3d(0, ${O}px, 0)`:`translate3d(${O}px, 0, 0)`}),k&&P!==k.length-1&&i!==void 0&&P!==i&&P<i?ir(o.current,{transition:`opacity ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,opacity:"0"}):ir(o.current,{transition:`opacity ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,opacity:"1"}),h(n==null?void 0:n[Math.max(P,0)])},[r.current,n,k,i,o,h]);U.useEffect(()=>{if(f||t){var O;const j=(O=n==null?void 0:n.findIndex(P=>P===t||P===f))!=null?O:-1;k&&j!==-1&&typeof k[j]=="number"&&T(k[j])}},[f,t,n,k,T]);function R({draggedDistance:O,closeDrawer:j,velocity:P,dismissible:z}){if(i===void 0)return;const X=a==="bottom"||a==="right"?(E??0)-O:(E??0)+O,Z=x===i-1,q=x===0,re=O>0;if(Z&&ir(o.current,{transition:`opacity ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`}),!c&&P>2&&!re){z?j():T(k[0]);return}if(!c&&P>2&&re&&k&&n){T(k[n.length-1]);return}const ee=k==null?void 0:k.reduce(($,V)=>typeof $!="number"||typeof V!="number"?$:Math.abs(V-X)<Math.abs($-X)?V:$),B=Yn(a)?window.innerHeight:window.innerWidth;if(P>lz&&Math.abs(O)<B*.4){const $=re?1:-1;if($>0&&b&&n){T(k[n.length-1]);return}if(q&&$<0&&z&&j(),x===null)return;T(k[x+$]);return}T(ee)}function A({draggedDistance:O}){if(E===null)return;const j=a==="bottom"||a==="right"?E-O:E+O;(a==="bottom"||a==="right")&&j<k[k.length-1]||(a==="top"||a==="left")&&j>k[k.length-1]||ir(r.current,{transform:Yn(a)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`})}function N(O,j){if(!n||typeof x!="number"||!k||i===void 0)return null;const P=x===i-1;if(x>=i&&j)return 0;if(P&&!j)return 1;if(!C&&!P)return null;const X=P?x+1:x-1,Z=P?k[X]-k[X-1]:k[X+1]-k[X],q=O/Math.abs(Z);return P?1-q:q}return{isLastSnapPoint:b,activeSnapPoint:f,shouldFade:C,getPercentageDragged:N,setActiveSnapPoint:h,activeSnapPointIndex:x,onRelease:R,onDrag:A,snapPointsOffset:k}}const Gye=()=>()=>{};function Wye(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:o}=py(),i=U.useRef(null),s=w.useMemo(()=>document.body.style.backgroundColor,[]);function a(){return(window.innerWidth-hT)/window.innerWidth}U.useEffect(()=>{if(e&&n){i.current&&clearTimeout(i.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;$ye(r&&!o?Jk(document.body,{background:"black"}):Gye,Jk(l,{transformOrigin:Yn(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${kn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${kn.EASE.join(",")})`}));const c=Jk(l,{borderRadius:`${cz}px`,overflow:"hidden",...Yn(t)?{transform:`scale(${a()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${a()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),i.current=window.setTimeout(()=>{s?document.body.style.background=s:document.body.style.removeProperty("background")},kn.DURATION*1e3)}}},[e,n,s])}let Yp=null;function qye({isOpen:t,modal:e,nested:n,hasBeenOpened:r,preventScrollRestoration:o,noBodyStyles:i}){const[s,a]=U.useState(()=>typeof window<"u"?window.location.href:""),l=U.useRef(0),c=U.useCallback(()=>{if(C4()&&Yp===null&&t&&!i){Yp={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:h,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-h}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=p-window.innerHeight;y&&l.current>=p&&(document.body.style.top=`${-(l.current+y)}px`)}),300)}},[t]),f=U.useCallback(()=>{if(C4()&&Yp!==null&&!i){const h=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Yp),window.requestAnimationFrame(()=>{if(o&&s!==window.location.href){a(window.location.href);return}window.scrollTo(p,h)}),Yp=null}},[s]);return U.useEffect(()=>{function h(){l.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),U.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||f()}},[e,f]),U.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&c(),e||window.setTimeout(()=>{f()},500)):f())},[t,r,s,e,n,c,f]),{restorePositionSetting:f}}function Yye({open:t,onOpenChange:e,children:n,onDrag:r,onRelease:o,snapPoints:i,shouldScaleBackground:s=!1,setBackgroundColorOnScale:a=!0,closeThreshold:l=Hye,scrollLockTimeout:c=zye,dismissible:f=!0,handleOnly:h=!1,fadeFromIndex:p=i&&i.length-1,activeSnapPoint:y,setActiveSnapPoint:b,fixed:x,modal:C=!0,onClose:k,nested:E,noBodyStyles:T=!1,direction:R="bottom",defaultOpen:A=!1,disablePreventScroll:N=!0,snapToSequentialPoint:O=!1,preventScrollRestoration:j=!1,repositionInputs:P=!0,onAnimationEnd:z,container:X,autoFocus:Z=!1}){var q,re;const[ee=!1,B]=dz({defaultProp:A,prop:t,onChange:Ge=>{e==null||e(Ge),!Ge&&!E&&qt(),setTimeout(()=>{z==null||z(Ge)},kn.DURATION*1e3),Ge&&!C&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ge||(document.body.style.pointerEvents="auto")}}),[$,V]=U.useState(!1),[G,L]=U.useState(!1),[W,se]=U.useState(!1),ae=U.useRef(null),fe=U.useRef(null),Ee=U.useRef(null),pe=U.useRef(null),Ne=U.useRef(null),Oe=U.useRef(!1),Ie=U.useRef(null),Ue=U.useRef(0),At=U.useRef(!1),Tn=U.useRef(!A),zt=U.useRef(0),Ve=U.useRef(null),dr=U.useRef(((q=Ve.current)==null?void 0:q.getBoundingClientRect().height)||0),Jn=U.useRef(((re=Ve.current)==null?void 0:re.getBoundingClientRect().width)||0),Fn=U.useRef(0),F=U.useCallback(Ge=>{i&&Ge===ye.length-1&&(fe.current=new Date)},[]),{activeSnapPoint:Q,activeSnapPointIndex:oe,setActiveSnapPoint:Ce,onRelease:ve,snapPointsOffset:ye,onDrag:Re,shouldFade:et,getPercentageDragged:Ht}=Uye({snapPoints:i,activeSnapPointProp:y,setActiveSnapPointProp:b,drawerRef:Ve,fadeFromIndex:p,overlayRef:ae,onSnapPointChange:F,direction:R,container:X,snapToSequentialPoint:O});Dye({isDisabled:!ee||G||!C||W||!$||!P||!N});const{restorePositionSetting:qt}=qye({isOpen:ee,modal:C,nested:E??!1,hasBeenOpened:$,preventScrollRestoration:j,noBodyStyles:T});function yn(){return(window.innerWidth-hT)/window.innerWidth}function ri(Ge){var Lt,Rt;!f&&!i||Ve.current&&!Ve.current.contains(Ge.target)||(dr.current=((Lt=Ve.current)==null?void 0:Lt.getBoundingClientRect().height)||0,Jn.current=((Rt=Ve.current)==null?void 0:Rt.getBoundingClientRect().width)||0,L(!0),Ee.current=new Date,oz()&&window.addEventListener("touchend",()=>Oe.current=!1,{once:!0}),Ge.target.setPointerCapture(Ge.pointerId),Ue.current=Yn(R)?Ge.pageY:Ge.pageX)}function Qn(Ge,Lt){var Rt;let ht=Ge;const Me=(Rt=window.getSelection())==null?void 0:Rt.toString(),bt=Ve.current?ub(Ve.current,R):null,xt=new Date;if(ht.tagName==="SELECT"||ht.hasAttribute("data-vaul-no-drag")||ht.closest("[data-vaul-no-drag]"))return!1;if(R==="right"||R==="left")return!0;if(fe.current&&xt.getTime()-fe.current.getTime()<500)return!1;if(bt!==null&&(R==="bottom"?bt>0:bt<0))return!0;if(Me&&Me.length>0)return!1;if(Ne.current&&xt.getTime()-Ne.current.getTime()<c&&bt===0||Lt)return Ne.current=xt,!1;for(;ht;){if(ht.scrollHeight>ht.clientHeight){if(ht.scrollTop!==0)return Ne.current=new Date,!1;if(ht.getAttribute("role")==="dialog")return!0}ht=ht.parentNode}return!0}function vn(Ge){if(Ve.current&&G){const Lt=R==="bottom"||R==="right"?1:-1,Rt=(Ue.current-(Yn(R)?Ge.pageY:Ge.pageX))*Lt,ht=Rt>0,Me=i&&!f&&!ht;if(Me&&oe===0)return;const bt=Math.abs(Rt),xt=document.querySelector("[data-vaul-drawer-wrapper]"),bn=R==="bottom"||R==="top"?dr.current:Jn.current;let tr=bt/bn;const Yt=Ht(bt,ht);if(Yt!==null&&(tr=Yt),Me&&tr>=1||!Oe.current&&!Qn(Ge.target,ht))return;if(Ve.current.classList.add(Qk),Oe.current=!0,ir(Ve.current,{transition:"none"}),ir(ae.current,{transition:"none"}),i&&Re({draggedDistance:Rt}),ht&&!i){const Pn=Bye(Rt),fr=Math.min(Pn*-1,0)*Lt;ir(Ve.current,{transform:Yn(R)?`translate3d(0, ${fr}px, 0)`:`translate3d(${fr}px, 0, 0)`});return}const fn=1-tr;if((et||p&&oe===p-1)&&(r==null||r(Ge,tr),ir(ae.current,{opacity:`${fn}`,transition:"none"},!0)),xt&&ae.current&&s){const Pn=Math.min(yn()+tr*(1-yn()),1),fr=8-tr*8,_r=Math.max(0,14-tr*14);ir(xt,{borderRadius:`${fr}px`,transform:Yn(R)?`scale(${Pn}) translate3d(0, ${_r}px, 0)`:`scale(${Pn}) translate3d(${_r}px, 0, 0)`,transition:"none"},!0)}if(!i){const Pn=bt*Lt;ir(Ve.current,{transform:Yn(R)?`translate3d(0, ${Pn}px, 0)`:`translate3d(${Pn}px, 0, 0)`})}}}U.useEffect(()=>{window.requestAnimationFrame(()=>{Tn.current=!0})},[]),U.useEffect(()=>{var Ge;function Lt(){if(!Ve.current||!P)return;const Rt=document.activeElement;if(fT(Rt)||At.current){var ht;const Me=((ht=window.visualViewport)==null?void 0:ht.height)||0,bt=window.innerHeight;let xt=bt-Me;const bn=Ve.current.getBoundingClientRect().height||0,tr=bn>bt*.8;Fn.current||(Fn.current=bn);const Yt=Ve.current.getBoundingClientRect().top;if(Math.abs(zt.current-xt)>60&&(At.current=!At.current),i&&i.length>0&&ye&&oe){const fn=ye[oe]||0;xt+=fn}if(zt.current=xt,bn>Me||At.current){const fn=Ve.current.getBoundingClientRect().height;let Pn=fn;fn>Me&&(Pn=Me-(tr?Yt:hT)),x?Ve.current.style.height=`${fn-Math.max(xt,0)}px`:Ve.current.style.height=`${Math.max(Pn,Me-Yt)}px`}else Eye()||(Ve.current.style.height=`${Fn.current}px`);i&&i.length>0&&!At.current?Ve.current.style.bottom="0px":Ve.current.style.bottom=`${Math.max(xt,0)}px`}}return(Ge=window.visualViewport)==null||Ge.addEventListener("resize",Lt),()=>{var Rt;return(Rt=window.visualViewport)==null?void 0:Rt.removeEventListener("resize",Lt)}},[oe,i,ye]);function Lr(Ge){er(),k==null||k(),Ge||B(!1),setTimeout(()=>{i&&Ce(i[0])},kn.DURATION*1e3)}function Do(){if(!Ve.current)return;const Ge=document.querySelector("[data-vaul-drawer-wrapper]"),Lt=ub(Ve.current,R);ir(Ve.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`}),ir(ae.current,{transition:`opacity ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,opacity:"1"}),s&&Lt&&Lt>0&&ee&&ir(Ge,{borderRadius:`${cz}px`,overflow:"hidden",...Yn(R)?{transform:`scale(${yn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${yn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${kn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${kn.EASE.join(",")})`},!0)}function er(){!G||!Ve.current||(Ve.current.classList.remove(Qk),Oe.current=!1,L(!1),pe.current=new Date)}function fa(Ge){if(!G||!Ve.current)return;Ve.current.classList.remove(Qk),Oe.current=!1,L(!1),pe.current=new Date;const Lt=ub(Ve.current,R);if(!Ge||!Qn(Ge.target,!1)||!Lt||Number.isNaN(Lt)||Ee.current===null)return;const Rt=pe.current.getTime()-Ee.current.getTime(),ht=Ue.current-(Yn(R)?Ge.pageY:Ge.pageX),Me=Math.abs(ht)/Rt;if(Me>.05&&(se(!0),setTimeout(()=>{se(!1)},200)),i){ve({draggedDistance:ht*(R==="bottom"||R==="right"?1:-1),closeDrawer:Lr,velocity:Me,dismissible:f}),o==null||o(Ge,!0);return}if(R==="bottom"||R==="right"?ht>0:ht<0){Do(),o==null||o(Ge,!0);return}if(Me>lz){Lr(),o==null||o(Ge,!1);return}var bt;const xt=Math.min((bt=Ve.current.getBoundingClientRect().height)!=null?bt:0,window.innerHeight);var bn;const tr=Math.min((bn=Ve.current.getBoundingClientRect().width)!=null?bn:0,window.innerWidth),Yt=R==="left"||R==="right";if(Math.abs(Lt)>=(Yt?tr:xt)*l){Lr(),o==null||o(Ge,!1);return}o==null||o(Ge,!0),Do()}U.useEffect(()=>(ee&&(ir(document.documentElement,{scrollBehavior:"auto"}),fe.current=new Date),()=>{Vye(document.documentElement,"scrollBehavior")}),[ee]);function Po(Ge){const Lt=Ge?(window.innerWidth-db)/window.innerWidth:1,Rt=Ge?-16:0;Ie.current&&window.clearTimeout(Ie.current),ir(Ve.current,{transition:`transform ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,transform:Yn(R)?`scale(${Lt}) translate3d(0, ${Rt}px, 0)`:`scale(${Lt}) translate3d(${Rt}px, 0, 0)`}),!Ge&&Ve.current&&(Ie.current=setTimeout(()=>{const ht=ub(Ve.current,R);ir(Ve.current,{transition:"none",transform:Yn(R)?`translate3d(0, ${ht}px, 0)`:`translate3d(${ht}px, 0, 0)`})},500))}function kr(Ge,Lt){if(Lt<0)return;const Rt=(window.innerWidth-db)/window.innerWidth,ht=Rt+Lt*(1-Rt),Me=-16+Lt*db;ir(Ve.current,{transform:Yn(R)?`scale(${ht}) translate3d(0, ${Me}px, 0)`:`scale(${ht}) translate3d(${Me}px, 0, 0)`,transition:"none"})}function Hc(Ge,Lt){const Rt=Yn(R)?window.innerHeight:window.innerWidth,ht=Lt?(Rt-db)/Rt:1,Me=Lt?-16:0;Lt&&ir(Ve.current,{transition:`transform ${kn.DURATION}s cubic-bezier(${kn.EASE.join(",")})`,transform:Yn(R)?`scale(${ht}) translate3d(0, ${Me}px, 0)`:`scale(${ht}) translate3d(${Me}px, 0, 0)`})}return U.useEffect(()=>{C||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[C]),U.createElement(h9,{defaultOpen:A,onOpenChange:Ge=>{!f&&!Ge||(Ge?V(!0):Lr(!0),B(Ge))},open:ee},U.createElement(rz.Provider,{value:{activeSnapPoint:Q,snapPoints:i,setActiveSnapPoint:Ce,drawerRef:Ve,overlayRef:ae,onOpenChange:e,onPress:ri,onRelease:fa,onDrag:vn,dismissible:f,shouldAnimate:Tn,handleOnly:h,isOpen:ee,isDragging:G,shouldFade:et,closeDrawer:Lr,onNestedDrag:kr,onNestedOpenChange:Po,onNestedRelease:Hc,keyboardIsOpen:At,modal:C,snapPointsOffset:ye,activeSnapPointIndex:oe,direction:R,shouldScaleBackground:s,setBackgroundColorOnScale:a,noBodyStyles:T,container:X,autoFocus:Z}},n))}const fz=U.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:r,onRelease:o,shouldFade:i,isOpen:s,modal:a,shouldAnimate:l}=py(),c=sz(e,n),f=r&&r.length>0;if(!a)return null;const h=U.useCallback(p=>o(p),[o]);return U.createElement(m9,{onMouseUp:h,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":s&&f?"true":"false","data-vaul-snap-points-overlay":s&&i?"true":"false","data-vaul-animate":l!=null&&l.current?"true":"false",...t})});fz.displayName="Drawer.Overlay";const hz=U.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...r},o){const{drawerRef:i,onPress:s,onRelease:a,onDrag:l,keyboardIsOpen:c,snapPointsOffset:f,activeSnapPointIndex:h,modal:p,isOpen:y,direction:b,snapPoints:x,container:C,handleOnly:k,shouldAnimate:E,autoFocus:T}=py(),[R,A]=U.useState(!1),N=sz(o,i),O=U.useRef(null),j=U.useRef(null),P=U.useRef(!1),z=x&&x.length>0;Wye();const X=(q,re,ee=0)=>{if(P.current)return!0;const B=Math.abs(q.y),$=Math.abs(q.x),V=$>B,G=["bottom","right"].includes(re)?1:-1;if(re==="left"||re==="right"){if(!(q.x*G<0)&&$>=0&&$<=ee)return V}else if(!(q.y*G<0)&&B>=0&&B<=ee)return!V;return P.current=!0,!0};U.useEffect(()=>{z&&window.requestAnimationFrame(()=>{A(!0)})},[]);function Z(q){O.current=null,P.current=!1,a(q)}return U.createElement(g9,{"data-vaul-drawer-direction":b,"data-vaul-drawer":"","data-vaul-delayed-snap-points":R?"true":"false","data-vaul-snap-points":y&&z?"true":"false","data-vaul-custom-container":C?"true":"false","data-vaul-animate":E!=null&&E.current?"true":"false",...r,ref:N,style:f&&f.length>0?{"--snap-point-height":`${f[h??0]}px`,...e}:e,onPointerDown:q=>{k||(r.onPointerDown==null||r.onPointerDown.call(r,q),O.current={x:q.pageX,y:q.pageY},s(q))},onOpenAutoFocus:q=>{n==null||n(q),T||q.preventDefault()},onPointerDownOutside:q=>{if(t==null||t(q),!p||q.defaultPrevented){q.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:q=>{if(!p){q.preventDefault();return}},onPointerMove:q=>{if(j.current=q,k||(r.onPointerMove==null||r.onPointerMove.call(r,q),!O.current))return;const re=q.pageY-O.current.y,ee=q.pageX-O.current.x,B=q.pointerType==="touch"?10:2;X({x:ee,y:re},b,B)?l(q):(Math.abs(ee)>B||Math.abs(re)>B)&&(O.current=null)},onPointerUp:q=>{r.onPointerUp==null||r.onPointerUp.call(r,q),O.current=null,P.current=!1,a(q)},onPointerOut:q=>{r.onPointerOut==null||r.onPointerOut.call(r,q),Z(j.current)},onContextMenu:q=>{r.onContextMenu==null||r.onContextMenu.call(r,q),j.current&&Z(j.current)}})});hz.displayName="Drawer.Content";const Kye=250,Zye=120,Xye=U.forwardRef(function({preventCycle:t=!1,children:e,...n},r){const{closeDrawer:o,isDragging:i,snapPoints:s,activeSnapPoint:a,setActiveSnapPoint:l,dismissible:c,handleOnly:f,isOpen:h,onPress:p,onDrag:y}=py(),b=U.useRef(null),x=U.useRef(!1);function C(){if(x.current){T();return}window.setTimeout(()=>{k()},Zye)}function k(){if(i||t||x.current){T();return}if(T(),!s||s.length===0){c||o();return}if(a===s[s.length-1]&&c){o();return}const A=s.findIndex(O=>O===a);if(A===-1)return;const N=s[A+1];l(N)}function E(){b.current=window.setTimeout(()=>{x.current=!0},Kye)}function T(){b.current&&window.clearTimeout(b.current),x.current=!1}return U.createElement("div",{onClick:C,onPointerCancel:T,onPointerDown:R=>{f&&p(R),E()},onPointerMove:R=>{f&&y(R)},ref:r,"data-vaul-drawer-visible":h?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},U.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});Xye.displayName="Drawer.Handle";function Jye(t){const e=py(),{container:n=e.container,...r}=t;return U.createElement(p9,{container:n,...r})}const fd={Root:Yye,Content:hz,Overlay:fz,Portal:Jye,Close:b9,Title:y9,Description:v9};function Qye({...t}){return g.jsx(fd.Root,{"data-slot":"drawer",...t})}function eve({...t}){return g.jsx(fd.Portal,{"data-slot":"drawer-portal",...t})}function tve({...t}){return g.jsx(fd.Close,{"data-slot":"drawer-close",...t})}function nve({className:t,...e}){return g.jsx(fd.Overlay,{"data-slot":"drawer-overlay",className:ke("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function rve({className:t,children:e,...n}){return g.jsxs(eve,{"data-slot":"drawer-portal",children:[g.jsx(nve,{}),g.jsxs(fd.Content,{"data-slot":"drawer-content",className:ke("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...n,children:[g.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),e]})]})}function ove({className:t,...e}){return g.jsx("div",{"data-slot":"drawer-header",className:ke("flex flex-col gap-1.5 p-4",t),...e})}function ive({className:t,...e}){return g.jsx("div",{"data-slot":"drawer-footer",className:ke("mt-auto flex flex-col gap-2 p-4",t),...e})}function sve({className:t,...e}){return g.jsx(fd.Title,{"data-slot":"drawer-title",className:ke("text-foreground font-semibold",t),...e})}function ave({className:t,...e}){return g.jsx(fd.Description,{"data-slot":"drawer-description",className:ke("text-muted-foreground text-sm",t),...e})}function lve({document:t,open:e,onOpenChange:n}){return g.jsx(Qye,{open:e,onOpenChange:n,children:g.jsxs(rve,{children:[g.jsxs("div",{className:"flex justify-between w-full",children:[g.jsxs(ove,{children:[g.jsx(sve,{children:g.jsxs("div",{className:"flex justify-between w-full",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[t==null?void 0:t.title," ",(t==null?void 0:t.status)&&g.jsx(Tx,{size:"1rem"})]}),g.jsx(Tt,{size:"sm",variant:"ghost"})]})}),g.jsx(ave,{children:t==null?void 0:t.date}),g.jsx("div",{className:"flex gap-2 flex-nowrap",children:t==null?void 0:t.tags.map(r=>g.jsx(Si,{variant:"secondary",children:r},r))})]}),g.jsx("div",{className:"p-4",children:g.jsx(Tt,{size:"icon",variant:"destructive",children:g.jsx(jM,{})})})]}),g.jsx("div",{className:"flex p-2 justify-center overflow-y-auto h-full w-full",children:g.jsx("div",{className:"max-w-xl",children:g.jsx(nz,{document:t})})}),g.jsx(ive,{className:"flex",children:g.jsxs("div",{className:"flex flex-col gap-2 w-full max-w-xl mx-auto",children:[g.jsx(Tt,{children:"Download"}),g.jsx(tve,{asChild:!0,children:g.jsx(Tt,{variant:"outline",children:"Cancel"})})]})})]})})}function cve({className:t,...e}){return g.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:ke("mx-auto flex w-full justify-center",t),...e})}function uve({className:t,...e}){return g.jsx("ul",{"data-slot":"pagination-content",className:ke("flex flex-row items-center gap-1",t),...e})}function cf({...t}){return g.jsx("li",{"data-slot":"pagination-item",...t})}function e_({className:t,isActive:e,size:n="icon",...r}){return g.jsx("a",{"aria-current":e?"page":void 0,"data-slot":"pagination-link","data-active":e,className:ke(Gm({variant:e?"outline":"ghost",size:n}),t),...r})}function dve({className:t,...e}){return g.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:ke("flex size-9 items-center justify-center",t),...e,children:[g.jsx(S0,{className:"size-4"}),g.jsx("span",{className:"sr-only",children:"More pages"})]})}const t_=1024;function fve(){const[t,e]=w.useState(void 0);return w.useEffect(()=>{const n=window.matchMedia(`(max-width: ${t_-1}px)`),r=()=>{e(window.innerWidth<t_)};return n.addEventListener("change",r),e(window.innerWidth<t_),()=>n.removeEventListener("change",r)},[]),!!t}const hve=[{id:"1",title:"JavaScript Basics",description:"This document provides a fundamental introduction to JavaScript, covering basic syntax, data types, loops, functions, and event handling. It is designed for beginners who want to understand how JavaScript works in the web development ecosystem.",summary:"Introduction to JavaScript covering syntax, data types, loops, and event handling. Introduction to JavaScript covering syntax, data types, loops, and event handling. Introduction to JavaScript covering syntax, data types, loops, and event handling. Introduction to JavaScript covering syntax, data types, loops, and event handling.",tags:["JavaScript","Programming","Beginner"],date:"2023-06-10",status:!0},{id:"2",title:"React Guide",description:"A comprehensive guide to React framework, explaining core concepts such as components, props, state management, hooks, and best practices. This document is suitable for both beginners and experienced developers looking to build modern web applications with React.",summary:"Comprehensive guide to React, covering components, state, and best practices.",tags:["React","Frontend","Web Development"],date:"2023-07-15",status:!0},{id:"3",title:"Node.js for Backend",description:"An in-depth resource on Node.js for backend development, including server-side programming, asynchronous operations, Express.js, database interactions, and REST API development. Ideal for developers seeking to build scalable web applications.",summary:"Guide to Node.js for backend development, covering Express.js and REST APIs.",tags:["Node.js","Backend","API"],date:"2023-08-20",status:!1},{id:"4",title:"MongoDB Essentials",description:"This document provides an essential overview of MongoDB, a NoSQL database. It covers data modeling, CRUD operations, indexing, and best practices for handling large-scale data efficiently.",summary:"Essential guide to MongoDB, including data modeling and CRUD operations.",tags:["MongoDB","Database","NoSQL"],date:"2023-09-05",status:!0},{id:"5",title:"CSS Grid & Flexbox",description:"A complete reference to CSS layout techniques, focusing on Grid and Flexbox. It explains how to create responsive designs, align elements efficiently, and implement modern UI structures.",summary:"Mastering CSS Grid and Flexbox for responsive layouts and modern UI design.",tags:["CSS","Web Design","Frontend"],date:"2023-10-01",status:!0},{id:"6",title:"Software Engineering Principles",description:"An extensive discussion on software engineering principles, covering software design patterns, clean coding practices, testing methodologies, and agile development workflows.",summary:"Discussion on software engineering principles, design patterns, and best practices.",tags:["Software Engineering","Development","Best Practices"],date:"2023-11-12",status:!1},{id:"7",title:"Machine Learning Basics",description:"An introductory guide to machine learning concepts, including supervised and unsupervised learning, neural networks, feature engineering, and model evaluation techniques.",summary:"Introduction to machine learning concepts, including supervised learning and neural networks.",tags:["Machine Learning","AI","Data Science"],date:"2023-12-08",status:!1},{id:"8",title:"Python for Data Science",description:"A practical guide to using Python for data science, featuring NumPy, Pandas, Matplotlib, and Scikit-Learn for data manipulation, visualization, and machine learning tasks.",summary:"Using Python for data science with libraries like Pandas and Scikit-Learn.",tags:["Python","Data Science","Pandas"],date:"2024-01-20",status:!0},{id:"9",title:"System Design Interview Guide",description:"A strategic resource for system design interviews, covering scalable architectures, microservices, caching strategies, database sharding, and real-world case studies.",summary:"Guide to system design interviews, including scalability and microservices.",tags:["System Design","Interviews","Architecture"],date:"2024-02-14",status:!0},{id:"10",title:"Blockchain Fundamentals",description:"An overview of blockchain technology, including consensus mechanisms, smart contracts, cryptographic principles, and decentralized applications.",summary:"Introduction to blockchain, covering smart contracts and decentralization.",tags:["Blockchain","Cryptocurrency","Decentralization"],date:"2024-03-10",status:!1}];function pve(){const[t,e]=w.useState(null),[n,r]=w.useState(!1),o=fve(),i=s=>{if(e(s),o){r(!0);return}};return g.jsx("div",{className:"w-full h-[calc(100vh-92px)] rounded-xl",children:g.jsxs("div",{className:"w-full h-full rounded-xl columns-1 lg:columns-2",children:[g.jsx("div",{className:"flex justify-center h-full w-full rounded-xl",children:g.jsx("div",{className:"h-full w-full rounded-xl max-w-xl xl:max-w-max",children:g.jsxs(BA,{className:"h-full w-full rounded-xl",children:[g.jsx(HH,{placeholder:"Search for documents"}),g.jsx("div",{className:"flex h-full py-2 w-full grid grid-cols-1 2xl:grid-cols-2 gap-2 px-3",children:hve.map(s=>g.jsx(lye,{document:s,onClick:a=>{a.currentTarget.blur(),i(s)}},s.id))}),g.jsx(cve,{className:"w-full sticky bottom-0 left-0 z-10 rounded-xl border border-dashed bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:g.jsxs(uve,{children:[g.jsx(cf,{children:g.jsx(sye,{href:"#"})}),g.jsx(cf,{children:g.jsx(e_,{href:"#",children:"1"})}),g.jsx(cf,{children:g.jsx(e_,{href:"#",isActive:!0,children:"2"})}),g.jsx(cf,{children:g.jsx(e_,{href:"#",children:"3"})}),g.jsx(cf,{children:g.jsx(dve,{})}),g.jsx(cf,{children:g.jsx(aye,{href:"#"})})]})})]})})}),g.jsx(lve,{open:n,onOpenChange:r,document:t}),g.jsx("div",{className:"w-full h-full relative hidden lg:flex",children:g.jsx(nz,{document:t})})]})})}function mve({className:t,...e}){return g.jsx("textarea",{"data-slot":"textarea",className:ke("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function gve(){return g.jsxs("div",{className:"flex flex-col items-center justify-between m-auto w-full h-full max-w-5xl rounded-xl",children:[g.jsxs(BA,{className:"flex-1 w-full overflow-y-auto p-4 rounded-2xl",children:[g.jsx("div",{className:"flex justify-end mb-5",children:g.jsx("div",{className:"border border-dashed p-4 rounded-md border border-dashed",children:"What can you do?"})}),g.jsx("div",{className:"flex max-w-full p-4 mb-5 bg-muted/50  rounded-md",children:"I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everything"}),g.jsx("div",{className:"flex max-w-full p-4 mb-5 bg-muted/50  rounded-md",children:"I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everything"}),g.jsx("div",{className:"flex max-w-full p-4 mb-5 bg-muted/50  rounded-md",children:"I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everything"}),g.jsx("div",{className:"flex max-w-full p-4 mb-5 bg-muted/50  rounded-md",children:"I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everything"}),g.jsx("div",{className:"flex max-w-full p-4 mb-5 bg-muted/50  rounded-md",children:"I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everything"}),g.jsx("div",{className:"flex max-w-full p-4 mb-5 bg-muted/50  rounded-md",children:"I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everything"}),g.jsx("div",{className:"flex max-w-full p-4 mb-5 bg-muted/50  rounded-md",children:"I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everything"}),g.jsx("div",{className:"flex max-w-full p-4 mb-5 bg-muted/50  rounded-md",children:"I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everything I can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everythingI can do everything"})]}),g.jsxs("div",{className:"relative flex flex-col items-center w-full rounded-2xl p-4 bg-background",children:[g.jsx(mve,{spellCheck:!1,placeholder:"Ask anything...",className:"resize-none max-h-[17rem] border-dashed scrollbar"}),g.jsx("div",{className:"w-full pt-2 flex justify-end",children:g.jsx(Tt,{size:"icon",children:g.jsx(pie,{})})})]})]})}function yve(){return g.jsx("div",{className:"flex flex-col items-center mx-auto h-full w-full max-w-3xl rounded-xl bg-muted/50",children:"Account page"})}function vve(){return g.jsx("div",{className:"flex flex-col items-center mx-auto h-full w-full max-w-3xl rounded-xl bg-muted/50",children:"Settings page"})}function bve(){return g.jsx("div",{className:"flex flex-col items-center mx-auto h-full w-full max-w-3xl rounded-xl bg-muted/50",children:"Inbox page"})}function xve(){return g.jsxs(r$,{children:[g.jsx(fH,{}),g.jsxs(s$,{className:"flex-1 max-w-full h-svh overflow-hidden min-w-0",children:[g.jsx("header",{className:"z-50 sticky top-0 flex h-14 shrink-0 items-center gap-2 border-b border-dashed bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:g.jsxs("div",{className:"flex flex-1 items-center gap-2 px-3",children:[g.jsx(i$,{}),g.jsx(ig,{orientation:"vertical",className:"mr-2 h-4"}),g.jsx(DH,{children:g.jsx(PH,{children:g.jsx(LH,{children:g.jsx(jH,{className:"line-clamp-1",children:"Project Management & Task Tracking"})})})})]})}),g.jsx("div",{className:"flex flex-1 flex-col gap-4 p-4 max-w-full h-[calc(100svh-56px)] overflow-hidden",children:g.jsx(AM,{})})]}),g.jsx(OH,{})]})}function Rr(t){this.content=t}Rr.prototype={constructor:Rr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return o==-1?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new Rr(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Rr(n)},addToStart:function(t,e){return new Rr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Rr(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(i==-1?o.length:i,0,e,n),new Rr(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Rr.from(t),t.size?new Rr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Rr.from(t),t.size?new Rr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Rr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Rr.from=function(t){if(t instanceof Rr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Rr(e)};function pz(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),i=e.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){let s=pz(o.content,i.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function mz(t,e,n,r){for(let o=t.childCount,i=e.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let s=t.child(--o),a=e.child(--i),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,f=Math.min(s.text.length,a.text.length);for(;c<f&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=mz(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ce{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,i){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,o+a,i||null,s)!==!1&&l.content.size){let f=a+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,n-f),r,o+f)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let i="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:i+=r),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)o.push(e.content[i]);return new ce(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let i=0,s=0;s<n;i++){let a=this.content[i],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=l}return new ce(r,o)}cutByIndex(e,n){return e==n?ce.empty:e==0&&n==this.content.length?this:new ce(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new ce(o,i)}addToStart(e){return new ce([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ce(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return pz(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return mz(this,e,n,r)}findIndex(e,n=-1){if(e==0)return fb(0,e);if(e==this.size)return fb(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let i=this.child(r),s=o+i.nodeSize;if(s>=e)return s==e||n>0?fb(r+1,s):fb(r,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ce.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ce(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ce.empty;let n,r=0;for(let o=0;o<e.length;o++){let i=e[o];r+=i.nodeSize,o&&i.isText&&e[o-1].sameMarkup(i)?(n||(n=e.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new ce(n||e,r)}static from(e){if(!e)return ce.empty;if(e instanceof ce)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ce([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ce.empty=new ce([],0);const n_={index:0,offset:0};function fb(t,e){return n_.index=t,n_.offset=e,n_}function G0(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!G0(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!G0(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let tn=class pT{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let i=e[o];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,o));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&G0(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return pT.none;if(e instanceof pT)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};tn.none=[];class W0 extends Error{}class Se{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=yz(this.content,e+this.openStart,n);return r&&new Se(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Se(gz(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Se.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Se(ce.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new Se(e,r,o)}}Se.empty=new Se(ce.empty,0,0);function gz(t,e,n){let{index:r,offset:o}=t.findIndex(e),i=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(o==e||i.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(gz(i.content,e-o-1,n-o-1)))}function yz(t,e,n,r){let{index:o,offset:i}=t.findIndex(e),s=t.maybeChild(o);if(i==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=yz(s.content,e-i-1,n);return a&&t.replaceChild(o,s.copy(a))}function wve(t,e,n){if(n.openStart>t.depth)throw new W0("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new W0("Inconsistent open depths");return vz(t,e,n,0)}function vz(t,e,n,r){let o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let s=vz(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return Pu(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=Sve(n,t);return Pu(i,xz(t,s,a,e,r))}else return Pu(i,q0(t,e,r))}function bz(t,e){if(!e.type.compatibleContent(t.type))throw new W0("Cannot join "+e.type.name+" onto "+t.type.name)}function mT(t,e,n){let r=t.node(n);return bz(r,e.node(n)),r}function Du(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Cm(t,e,n,r){let o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Du(t.nodeAfter,r),i++));for(let a=i;a<s;a++)Du(o.child(a),r);e&&e.depth==n&&e.textOffset&&Du(e.nodeBefore,r)}function Pu(t,e){return t.type.checkContent(e),t.copy(e)}function xz(t,e,n,r,o){let i=t.depth>o&&mT(t,e,o+1),s=r.depth>o&&mT(n,r,o+1),a=[];return Cm(null,t,o,a),i&&s&&e.index(o)==n.index(o)?(bz(i,s),Du(Pu(i,xz(t,e,n,r,o+1)),a)):(i&&Du(Pu(i,q0(t,e,o+1)),a),Cm(e,n,o,a),s&&Du(Pu(s,q0(n,r,o+1)),a)),Cm(r,null,o,a),new ce(a)}function q0(t,e,n){let r=[];if(Cm(null,t,n,r),t.depth>n){let o=mT(t,e,n+1);Du(Pu(o,q0(t,e,n+1)),r)}return Cm(e,null,n,r),new ce(r)}function Sve(t,e){let n=e.depth-t.openStart,o=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)o=e.node(i).copy(ce.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}class ug{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)o+=r.child(i).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return tn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let a=r;r=o,o=a}let i=r.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Y0(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(i),c=i-l;if(r.push(s,a,o+l),!c||(s=s.child(a),s.isText))break;i=c-1,o+=l+1}return new ug(n,r,i)}static resolveCached(e,n){let r=T4.get(e);if(r)for(let i=0;i<r.elts.length;i++){let s=r.elts[i];if(s.pos==n)return s}else T4.set(e,r=new Cve);let o=r.elts[r.i]=ug.resolve(e,n);return r.i=(r.i+1)%kve,o}}class Cve{constructor(){this.elts=[],this.i=0}}const kve=12,T4=new WeakMap;class Y0{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const _ve=Object.create(null);let Ja=class gT{constructor(e,n,r,o=tn.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||ce.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&G0(this.attrs,n||e.defaultAttrs||_ve)&&tn.sameSet(this.marks,r||tn.none)}copy(e=null){return e==this.content?this:new gT(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new gT(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Se.empty;let o=this.resolve(e),i=this.resolve(n),s=r?0:o.sharedDepth(n),a=o.start(s),c=o.node(s).content.cut(o.pos-a,i.pos-a);return new Se(c,o.depth-s,i.depth-s)}replace(e,n,r){return wve(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return ug.resolveCached(this,e)}resolveNoCache(e){return ug.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wz(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ce.empty,o=0,i=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,o,i),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=o;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(e).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=tn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!tn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=ce.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}};Ja.prototype.text=void 0;class K0 extends Ja{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wz(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new K0(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new K0(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wz(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class qu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Eve(e,n);if(r.next==null)return qu.empty;let o=Sz(r);r.next&&r.err("Unexpected trailing text");let i=Dve(Ove(o));return Pve(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(e.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function i(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return ce.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:f,next:h}=s.next[c];if(!(f.isText||f.hasRequiredAttrs())&&o.indexOf(h)==-1){o.push(h);let p=i(h,a.concat(f));if(p)return p}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(e)){let s=[];for(let a=o;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:a,next:l}=i.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)i+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return i}).join(`
`)}}qu.empty=new qu(!0);class Eve{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Sz(t){let e=[];do e.push(Tve(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Tve(t){let e=[];do e.push(Mve(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Mve(t){let e=Nve(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Ave(t,e);else break;return e}function M4(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Ave(t,e){let n=M4(t),r=n;return t.eat(",")&&(t.next!="}"?r=M4(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Rve(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let i in n){let s=n[i];s.isInGroup(e)&&o.push(s)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function Nve(t){if(t.eat("(")){let e=Sz(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Rve(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Ove(t){let e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function o(s,a){s.forEach(l=>l.to=a)}function i(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=i(s.exprs[l],a);if(l==s.exprs.length-1)return c;o(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),o(i(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return o(i(s.expr,a),l),o(i(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(i(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let f=n();o(i(s.expr,l),f),l=f}if(s.max==-1)o(i(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let f=n();r(l,f),o(i(s.expr,l),f),l=f}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function Cz(t,e){return e-t}function A4(t,e){let n=[];return r(e),n.sort(Cz);function r(o){let i=t[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let s=0;s<i.length;s++){let{term:a,to:l}=i[s];!a&&n.indexOf(l)==-1&&r(l)}}}function Dve(t){let e=Object.create(null);return n(A4(t,0));function n(r){let o=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let f=0;f<o.length;f++)o[f][0]==a&&(c=o[f][1]);A4(t,l).forEach(f=>{c||o.push([a,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let i=e[r.join(",")]=new qu(r.indexOf(t.length-1)>-1);for(let s=0;s<o.length;s++){let a=o[s][1].sort(Cz);i.next.push({type:o[s][0],next:e[a.join(",")]||n(a)})}return i}}function Pve(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],i=!o.validEnd,s=[];for(let a=0;a<o.next.length;a++){let{type:l,next:c}=o.next[a];s.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function kz(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function _z(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let i=t[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function Ez(t,e,n,r){for(let o in e)if(!(o in t))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in t){let i=t[o];i.validate&&i.validate(e[o])}}function Tz(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new jve(t,r,e[r]);return n}let R4=class Mz{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Tz(e,r.attrs),this.defaultAttrs=kz(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==qu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:_z(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ja(this,this.computeAttrs(e),ce.from(n),tn.setFrom(r))}createChecked(e=null,n,r){return n=ce.from(n),this.checkContent(n),new Ja(this,this.computeAttrs(e),n,tn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ce.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(ce.empty,!0);return i?new Ja(this,e,n.append(i),tn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Ez(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:tn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,s)=>r[i]=new Mz(i,n,s));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Lve(t,e,n){let r=n.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class jve{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Lve(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Zx{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=Tz(e,o.attrs),this.excluded=null;let i=kz(this.attrs);this.instance=i?new tn(this,i):null}create(e=null){return!e&&this.instance?this.instance:new tn(this,_z(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((i,s)=>r[i]=new Zx(i,o++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Ez(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let Az=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=Rr.from(e.nodes),n.marks=Rr.from(e.marks||{}),this.nodes=R4.compile(this.spec.nodes,this),this.marks=Zx.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],s=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[s]||(r[s]=qu.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?N4(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:N4(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof R4){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new K0(r,r.defaultAttrs,e,tn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Ja.fromJSON(this,e)}markFromJSON(e){return tn.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function N4(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(let a in t.marks){let l=t.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Ive(t){return t.tag!=null}function Vve(t){return t.style!=null}let Lu=class yT{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(Ive(o))this.tags.push(o);else if(Vve(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=e.nodes[o.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new D4(this,n,!1);return r.addAll(e,tn.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new D4(this,n,!0);return r.addAll(e,tn.none,n.from,n.to),Se.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(Hve(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(e);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(e,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(o){let i=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<i)break}n.splice(s,0,o)}for(let o in e.marks){let i=e.marks[o].spec.parseDOM;i&&i.forEach(s=>{r(s=P4(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in e.nodes){let i=e.nodes[o].spec.parseDOM;i&&i.forEach(s=>{r(s=P4(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new yT(e,yT.schemaRules(e)))}};const Rz={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Bve={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Nz={ol:!0,ul:!0},dg=1,vT=2,Xb=4;function O4(t,e,n){return e!=null?(e?dg:0)|(e==="full"?vT:0):t&&t.whitespace=="pre"?dg|vT:n&-5}class hb{constructor(e,n,r,o,i,s){this.type=e,this.attrs=n,this.marks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=tn.none,this.match=i||(s&Xb?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ce.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&dg)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=ce.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ce.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Rz.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class D4{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,i,s=O4(null,n.preserveWhitespace,0)|(r?Xb:0);o?i=new hb(o.type,o.attrs,tn.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new hb(null,null,tn.none,!0,null,s):i=new hb(e.schema.topNodeType,null,tn.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,o=this.top,i=o.options&vT?"full":this.localPreserveWS||(o.options&dg)>0;if(i==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],a=e.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let o=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),a;Nz.hasOwnProperty(s)&&this.parser.normalizeLists&&$ve(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:Bve.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,f=this.needsBlock;if(Rz.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=l&&l.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),c&&this.sync(i),this.needsBlock=f}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=o}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=r.getPropertyValue(i);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(i,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,o){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}i&&this.sync(a)&&this.open--}addAll(e,n,r,o){let i=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=o==null?null:e.childNodes[o];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,n);this.findAtPoint(e,i)}findPlace(e,n){let r,o;for(let i=this.open;i>=0;i--){let s=this.nodes[i],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,o=s,!a.length)||s.solid)break}if(!r)return null;this.sync(o);for(let i=0;i<r.length;i++)n=this.enterInner(r[i],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let i=tn.none;for(let s of r.concat(e.marks))(o.type?o.type.allowsMarkType(s.type):L4(s.type,e.type))&&(i=s.addToSet(i));return o.content.push(e.mark(i)),!0}return!1}enter(e,n,r,o){let i=this.findPlace(e.create(n),r);return i&&(i=this.enterInner(e,n,r,!0,o)),i}enterInner(e,n,r,o=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=O4(e,i,s.options);s.options&Xb&&s.content.length==0&&(a|=Xb);let l=tn.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):L4(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new hb(e,n,l,o,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=dg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(s(a-1,l))return!0;return!1}else{let f=l>0||l==0&&o?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!f||f.name!=c&&!f.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function $ve(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Nz.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Hve(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function P4(t){let e={};for(let n in t)e[n]=t[n];return e}function L4(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let i=[],s=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:f}=a.edge(l);if(c==e||i.indexOf(f)<0&&s(f))return!0}};if(s(o.contentMatch))return!0}}class fl{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=r_(n).createDocumentFragment());let o=r,i=[];return e.forEach(s=>{if(i.length||s.marks.length){let a=0,l=0;for(;a<i.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)o=i.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],f=this.serializeMark(c,s.isInline,n);f&&(i.push([c,o]),o.appendChild(f.dom),o=f.contentDOM||f.dom)}}o.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:o}=Jb(r_(n),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let i=this.serializeMark(e.marks[o],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let o=this.marks[e.type.name];return o&&Jb(r_(r),o(e,n),null,e.attrs)}static renderSpec(e,n,r=null,o){return Jb(e,n,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new fl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=j4(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return j4(e.marks)}}function j4(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function r_(t){return t.document||window.document}const I4=new WeakMap;function zve(t){let e=I4.get(t);return e===void 0&&I4.set(t,e=Fve(t)),e}function Fve(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(t),e}function Jb(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=zve(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let a,l=n?t.createElementNS(n,o):t.createElement(o),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let h in c)if(c[h]!=null){let p=h.indexOf(" ");p>0?l.setAttributeNS(h.slice(0,p),h.slice(p+1),c[h]):l.setAttribute(h,c[h])}}for(let h=f;h<e.length;h++){let p=e[h];if(p===0){if(h<e.length-1||h>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:y,contentDOM:b}=Jb(t,p,n,r);if(l.appendChild(y),b){if(a)throw new RangeError("Multiple content holes");a=b}}}return{dom:l,contentDOM:a}}const Oz=65535,Dz=Math.pow(2,16);function Uve(t,e){return t+e*Dz}function V4(t){return t&Oz}function Gve(t){return(t-(t&Oz))/Dz}const Pz=1,Lz=2,Qb=4,jz=8;class bT{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&jz)>0}get deletedBefore(){return(this.delInfo&(Pz|Qb))>0}get deletedAfter(){return(this.delInfo&(Lz|Qb))>0}get deletedAcross(){return(this.delInfo&Qb)>0}}class Fo{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Fo.empty)return Fo.empty}recover(e){let n=0,r=V4(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+Gve(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let c=this.ranges[a+i],f=this.ranges[a+s],h=l+c;if(e<=h){let p=c?e==l?-1:e==h?1:n:n,y=l+o+(p<0?0:f);if(r)return y;let b=e==(n<0?l:h)?null:Uve(a/3,e-l),x=e==l?Lz:e==h?Pz:Qb;return(n<0?e!=l:e!=h)&&(x|=jz),new bT(y,x,b)}o+=f-c}return r?e+o:new bT(e+o,0,null)}touches(e,n){let r=0,o=V4(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],f=l+c;if(e<=f&&a==o*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],a=s-(this.inverted?i:0),l=s+(this.inverted?0:i),c=this.ranges[o+n],f=this.ranges[o+r];e(a,a+c,l,l+f),i+=f-c}}invert(){return new Fo(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Fo.empty:new Fo(e<0?[0,-e,0]:[0,0,e])}}Fo.empty=new Fo([]);class fg{constructor(e,n,r=0,o=e?e.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new fg(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let o=e.getMirror(n);this.appendMap(e._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new fg;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let i=this.from;i<this.to;i++){let s=this._maps[i],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this._maps[l].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return r?e:new bT(e,o,null)}}const o_=Object.create(null);class Zr{getMap(){return Fo.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=o_[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in o_)throw new RangeError("Duplicate use of step JSON ID "+e);return o_[e]=n,n.prototype.jsonID=e,n}}class Kn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Kn(e,null)}static fail(e){return new Kn(null,e)}static fromReplace(e,n,r,o){try{return Kn.ok(e.replace(n,r,o))}catch(i){if(i instanceof W0)return Kn.fail(i.message);throw i}}}function HA(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let i=t.child(o);i.content.size&&(i=i.copy(HA(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return ce.fromArray(r)}class tc extends Zr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new Se(HA(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return Kn.fromReplace(e,this.from,this.to,i)}invert(){return new Bs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new tc(n.pos,r.pos,this.mark)}merge(e){return e instanceof tc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new tc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new tc(n.from,n.to,e.markFromJSON(n.mark))}}Zr.jsonID("addMark",tc);class Bs extends Zr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Se(HA(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return Kn.fromReplace(e,this.from,this.to,r)}invert(){return new tc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Bs(n.pos,r.pos,this.mark)}merge(e){return e instanceof Bs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Bs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Bs(n.from,n.to,e.markFromJSON(n.mark))}}Zr.jsonID("removeMark",Bs);class nc extends Zr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Kn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Kn.fromReplace(e,this.pos,this.pos+1,new Se(ce.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new nc(this.pos,n.marks[o]);return new nc(this.pos,this.mark)}}return new lh(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new nc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new nc(n.pos,e.markFromJSON(n.mark))}}Zr.jsonID("addNodeMark",nc);class lh extends Zr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Kn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Kn.fromReplace(e,this.pos,this.pos+1,new Se(ce.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new nc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new lh(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new lh(n.pos,e.markFromJSON(n.mark))}}Zr.jsonID("removeNodeMark",lh);class ar extends Zr{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&xT(e,this.from,this.to)?Kn.fail("Structure replace would overwrite content"):Kn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Fo([this.from,this.to-this.from,this.slice.size])}invert(e){return new ar(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ar(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof ar)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Se.empty:new Se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ar(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Se.empty:new Se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ar(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ar(n.from,n.to,Se.fromJSON(e,n.slice),!!n.structure)}}Zr.jsonID("replace",ar);class zn extends Zr{constructor(e,n,r,o,i,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=a}apply(e){if(this.structure&&(xT(e,this.from,this.gapFrom)||xT(e,this.gapTo,this.to)))return Kn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Kn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Kn.fromReplace(e,this.from,this.to,r):Kn.fail("Content does not fit in gap")}getMap(){return new Fo([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new zn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new zn(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new zn(n.from,n.to,n.gapFrom,n.gapTo,Se.fromJSON(e,n.slice),n.insert,!!n.structure)}}Zr.jsonID("replaceAround",zn);function xT(t,e,n){let r=t.resolve(e),o=n-e,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function Wve(t,e,n,r){let o=[],i=[],s,a;t.doc.nodesBetween(e,n,(l,c,f)=>{if(!l.isInline)return;let h=l.marks;if(!r.isInSet(h)&&f.type.allowsMarkType(r.type)){let p=Math.max(c,e),y=Math.min(c+l.nodeSize,n),b=r.addToSet(h);for(let x=0;x<h.length;x++)h[x].isInSet(b)||(s&&s.to==p&&s.mark.eq(h[x])?s.to=y:o.push(s=new Bs(p,y,h[x])));a&&a.to==p?a.to=y:i.push(a=new tc(p,y,r))}}),o.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function qve(t,e,n,r){let o=[],i=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;i++;let l=null;if(r instanceof Zx){let c=s.marks,f;for(;f=r.isInSet(c);)(l||(l=[])).push(f),c=f.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let f=0;f<l.length;f++){let h=l[f],p;for(let y=0;y<o.length;y++){let b=o[y];b.step==i-1&&h.eq(o[y].style)&&(p=b)}p?(p.to=c,p.step=i):o.push({style:h,from:Math.max(a,e),to:c,step:i})}}}),o.forEach(s=>t.step(new Bs(s.from,s.to,s.style)))}function zA(t,e,n,r=n.contentMatch,o=!0){let i=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),f=a+c.nodeSize,h=r.matchType(c.type);if(!h)s.push(new ar(a,f,Se.empty));else{r=h;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||t.step(new Bs(a,f,c.marks[p]));if(o&&c.isText&&n.whitespace!="pre"){let p,y=/\r?\n|\r/g,b;for(;p=y.exec(c.text);)b||(b=new Se(ce.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new ar(a+p.index,a+p.index+p[0].length,b))}}a=f}if(!r.validEnd){let l=r.fillBefore(ce.empty,!0);t.replace(a,a,new Se(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function Yve(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Mh(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let o=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(i,s,n))return r;if(r==0||o.type.spec.isolating||!Yve(o,i,s))break}return null}function Kve(t,e,n){let{$from:r,$to:o,depth:i}=e,s=r.before(i+1),a=o.after(i+1),l=s,c=a,f=ce.empty,h=0;for(let b=i,x=!1;b>n;b--)x||r.index(b)>0?(x=!0,f=ce.from(r.node(b).copy(f)),h++):l--;let p=ce.empty,y=0;for(let b=i,x=!1;b>n;b--)x||o.after(b+1)<o.end(b)?(x=!0,p=ce.from(o.node(b).copy(p)),y++):c++;t.step(new zn(l,c,s,a,new Se(f.append(p),h,y),f.size-h,!0))}function Iz(t,e,n=null,r=t){let o=Zve(t,e),i=o&&Xve(r,e);return i?o.map(B4).concat({type:e,attrs:n}).concat(i.map(B4)):null}function B4(t){return{type:t,attrs:null}}function Zve(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}function Xve(t,e){let{parent:n,startIndex:r,endIndex:o}=t,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function Jve(t,e,n){let r=ce.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ce.from(n[s].type.create(n[s].attrs,r))}let o=e.start,i=e.end;t.step(new zn(o,i,o,i,new Se(r,0,0),n.length,!0))}function Qve(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let l=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(r,l)&&ebe(t.doc,t.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!b?c=!1:!y&&b&&(c=!0)}c===!1&&Bz(t,s,a,i),zA(t,t.mapping.slice(i).map(a,1),r,void 0,c===null);let f=t.mapping.slice(i),h=f.map(a,1),p=f.map(a+s.nodeSize,1);return t.step(new zn(h,p,h+1,p-1,new Se(ce.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&Vz(t,s,a,i),!1}})}function Vz(t,e,n,r){e.forEach((o,i)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let l=t.mapping.slice(r).map(n+1+i+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Bz(t,e,n,r){e.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function ebe(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function tbe(t,e,n,r,o){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new zn(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new Se(ce.from(s),0,0),1,!0))}function Qa(t,e,n=1,r){let o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,f=n-2;c>i;c--,f--){let h=o.node(c),p=o.index(c);if(h.type.spec.isolating)return!1;let y=h.content.cutByIndex(p,h.childCount),b=r&&r[f+1];b&&(y=y.replaceChild(0,b.type.create(b.attrs)));let x=r&&r[f]||h;if(!h.canReplace(p+1,h.childCount)||!x.type.validContent(y))return!1}let a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function nbe(t,e,n=1,r){let o=t.doc.resolve(e),i=ce.empty,s=ce.empty;for(let a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){i=ce.from(o.node(a).copy(i));let f=r&&r[c];s=ce.from(f?f.type.create(f.attrs,s):o.node(a).copy(s))}t.step(new ar(e,e,new Se(i.append(s),n,n),!0))}function hd(t,e){let n=t.resolve(e),r=n.index();return $z(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function rbe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let o=0;o<e.childCount;o++){let i=e.child(o),s=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function $z(t,e){return!!(t&&e&&!t.isLeaf&&rbe(t,e))}function Xx(t,e,n=-1){let r=t.resolve(e);for(let o=r.depth;;o--){let i,s,a=r.index(o);if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),a++,s=r.node(o).maybeChild(a)):(i=r.node(o).maybeChild(a-1),s=r.node(o+1)),i&&!i.isTextblock&&$z(i,s)&&r.node(o).canReplace(a,a+1))return e;if(o==0)break;e=n<0?r.before(o):r.after(o)}}function obe(t,e,n){let r=null,{linebreakReplacement:o}=t.doc.type.schema,i=t.doc.resolve(e-n),s=i.node().type;if(o&&s.inlineContent){let f=s.whitespace=="pre",h=!!s.contentMatch.matchType(o);f&&!h?r=!1:!f&&h&&(r=!0)}let a=t.steps.length;if(r===!1){let f=t.doc.resolve(e+n);Bz(t,f.node(),f.before(),a)}s.inlineContent&&zA(t,e+n-1,s,i.node().contentMatchAt(i.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new ar(c,l.map(e+n,-1),Se.empty,!0)),r===!0){let f=t.doc.resolve(c);Vz(t,f.node(),f.before(),t.steps.length)}return t}function ibe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function Hz(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),f=!1;if(i==1)f=c.canReplace(l,l,o);else{let h=c.contentMatchAt(l).findWrapping(o.firstChild.type);f=h&&c.canReplaceWith(l,l,h[0])}if(f)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function Jx(t,e,n=e,r=Se.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),i=t.resolve(n);return zz(o,i,r)?new ar(e,n,r):new sbe(o,i,r).fit()}function zz(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class sbe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ce.empty;for(let o=0;o<=e.depth;o++){let i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=ce.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let i=this.placed,s=r.depth,a=o.depth;for(;s&&a&&i.childCount==1;)i=i.firstChild.content,s--,a--;let l=new Se(i,s,a);return e>-1?new zn(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ar(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=i_(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],f,h=null;if(n==1&&(s?c.matchType(s.type)||(h=c.fillBefore(ce.from(s),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:h};if(n==2&&s&&(f=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:f};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=i_(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Se(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=i_(e,n);if(o.childCount<=1&&n>0){let i=e.size-n<=n+o.size;this.unplaced=new Se(um(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new Se(um(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let x=0;x<i.length;x++)this.openFrontierNode(i[x]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,f=[],{match:h,type:p}=this.frontier[n];if(o){for(let x=0;x<o.childCount;x++)f.push(o.child(x));h=h.matchFragment(o)}let y=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let x=a.child(c),C=h.matchType(x.type);if(!C)break;c++,(c>1||l==0||x.content.size)&&(h=C,f.push(Fz(x.mark(p.allowedMarks(x.marks)),c==1?l:0,c==a.childCount?y:-1)))}let b=c==a.childCount;b||(y=-1),this.placed=dm(this.placed,n,ce.from(f)),this.frontier[n].match=h,b&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,C=a;x<y;x++){let k=C.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),C=k.content}this.unplaced=b?e==0?Se.empty:new Se(um(s.content,e-1,1),e-1,y<0?s.openEnd:e-1):new Se(um(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!s_(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=s_(e,n,o,r,i);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],f=s_(e,a,c,l,!0);if(!f||f.childCount)continue e}return{depth:n,fit:s,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=dm(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,i)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=dm(this.placed,this.depth,ce.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ce.empty,!0);n.childCount&&(this.placed=dm(this.placed,this.frontier.length,n))}}function um(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(um(t.firstChild.content,e-1,n)))}function dm(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(dm(t.lastChild.content,e-1,n)))}function i_(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Fz(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Fz(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ce.empty,!0)))),t.copy(r)}function s_(t,e,n,r,o){let i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!abe(n,i.content,s)?a:null}function abe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function lbe(t){return t.spec.defining||t.spec.definingForContent}function cbe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),i=t.doc.resolve(n);if(zz(o,i,r))return t.step(new ar(e,n,r));let s=Gz(o,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let p=o.depth,y=o.pos-1;p>0;p--,y--){let b=o.node(p).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;s.indexOf(p)>-1?a=p:o.before(p)==y&&s.splice(1,0,-p)}let l=s.indexOf(a),c=[],f=r.openStart;for(let p=r.content,y=0;;y++){let b=p.firstChild;if(c.push(b),y==r.openStart)break;p=b.content}for(let p=f-1;p>=0;p--){let y=c[p],b=lbe(y.type);if(b&&!y.sameMarkup(o.node(Math.abs(a)-1)))f=p;else if(b||!y.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let y=(p+f+1)%(r.openStart+1),b=c[y];if(b)for(let x=0;x<s.length;x++){let C=s[(x+l)%s.length],k=!0;C<0&&(k=!1,C=-C);let E=o.node(C-1),T=o.index(C-1);if(E.canReplaceWith(T,T,b.type,b.marks))return t.replace(o.before(C),k?i.after(C):n,new Se(Uz(r.content,0,r.openStart,y),y,r.openEnd))}}let h=t.steps.length;for(let p=s.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>h));p--){let y=s[p];y<0||(e=o.before(y),n=i.after(y))}}function Uz(t,e,n,r,o){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(Uz(i.content,e+1,n,r,i)))}if(e>r){let i=o.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(ce.empty,!0))}return t}function ube(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=ibe(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new Se(ce.from(r),0,0))}function dbe(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),i=Gz(r,o);for(let s=0;s<i.length;s++){let a=i[s],l=s==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return t.delete(r.before(a),o.after(a))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s&&r.start(s-1)==o.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),o.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function Gz(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(i==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==i-1)&&n.push(o)}return n}class Ff extends Zr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Kn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return Kn.fromReplace(e,this.pos,this.pos+1,new Se(ce.from(o),0,n.isLeaf?0:1))}getMap(){return Fo.empty}invert(e){return new Ff(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ff(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ff(n.pos,n.attr,n.value)}}Zr.jsonID("attr",Ff);class hg extends Zr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Kn.ok(r)}getMap(){return Fo.empty}invert(e){return new hg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new hg(n.attr,n.value)}}Zr.jsonID("docAttr",hg);let ch=class extends Error{};ch=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ch.prototype=Object.create(Error.prototype);ch.prototype.constructor=ch;ch.prototype.name="TransformError";class FA{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new fg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ch(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Se.empty){let o=Jx(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new Se(ce.from(r),0,0))}delete(e,n){return this.replace(e,n,Se.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return cbe(this,e,n,r),this}replaceRangeWith(e,n,r){return ube(this,e,n,r),this}deleteRange(e,n){return dbe(this,e,n),this}lift(e,n){return Kve(this,e,n),this}join(e,n=1){return obe(this,e,n),this}wrap(e,n){return Jve(this,e,n),this}setBlockType(e,n=e,r,o=null){return Qve(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return tbe(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new Ff(e,n,r)),this}setDocAttribute(e,n){return this.step(new hg(e,n)),this}addNodeMark(e,n){return this.step(new nc(e,n)),this}removeNodeMark(e,n){if(!(n instanceof tn)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new lh(e,n)),this}split(e,n=1,r){return nbe(this,e,n,r),this}addMark(e,n,r){return Wve(this,e,n,r),this}removeMark(e,n,r){return qve(this,e,n,r),this}clearIncompatible(e,n,r){return zA(this,e,n,r),this}}const a_=Object.create(null);class Ke{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Wz(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Se.empty){let r=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=r,r=r.lastChild;let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],f=e.mapping.slice(i);e.replaceRange(f.map(l.pos),f.map(c.pos),a?Se.empty:n),a==0&&z4(e,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:a}=o[i],l=e.mapping.slice(r),c=l.map(s.pos),f=l.map(a.pos);i?e.deleteRange(c,f):(e.replaceRangeWith(c,f,n),z4(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new He(e):bf(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let i=e.depth-1;i>=0;i--){let s=n<0?bf(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):bf(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new To(e.node(0))}static atStart(e){return bf(e,e,0,0,1)||new To(e)}static atEnd(e){return bf(e,e,e.content.size,e.childCount,-1)||new To(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=a_[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in a_)throw new RangeError("Duplicate use of selection JSON ID "+e);return a_[e]=n,n.prototype.jsonID=e,n}getBookmark(){return He.between(this.$anchor,this.$head).getBookmark()}}Ke.prototype.visible=!0;class Wz{constructor(e,n){this.$from=e,this.$to=n}}let $4=!1;function H4(t){!$4&&!t.parent.inlineContent&&($4=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class He extends Ke{constructor(e,n=e){H4(e),H4(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ke.near(r);let o=e.resolve(n.map(this.anchor));return new He(o.parent.inlineContent?o:r,r)}replace(e,n=Se.empty){if(super.replace(e,n),n==Se.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof He&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Qx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new He(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=Ke.findFrom(n,r,!0)||Ke.findFrom(n,-r,!0);if(i)n=i.$head;else return Ke.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(Ke.findFrom(e,-r,!0)||Ke.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new He(e,n)}}Ke.jsonID("text",He);class Qx{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Qx(e.map(this.anchor),e.map(this.head))}resolve(e){return He.between(e.resolve(this.anchor),e.resolve(this.head))}}class ze extends Ke{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=e.resolve(o);return r?Ke.near(i):new ze(i)}content(){return new Se(ce.from(this.node),0,0)}eq(e){return e instanceof ze&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new UA(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ze(e.resolve(n.anchor))}static create(e,n){return new ze(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ze.prototype.visible=!1;Ke.jsonID("node",ze);class UA{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Qx(r,r):new UA(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ze.isSelectable(r)?new ze(n):Ke.near(n)}}class To extends Ke{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Se.empty){if(n==Se.empty){e.delete(0,e.doc.content.size);let r=Ke.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new To(e)}map(e){return new To(e)}eq(e){return e instanceof To}getBookmark(){return fbe}}Ke.jsonID("all",To);const fbe={map(){return this},resolve(t){return new To(t)}};function bf(t,e,n,r,o,i=!1){if(e.inlineContent)return He.create(t,n);for(let s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){let a=e.child(s);if(a.isAtom){if(!i&&ze.isSelectable(a))return ze.create(t,n-(o<0?a.nodeSize:0))}else{let l=bf(t,a,n+o,o<0?a.childCount:0,o,i);if(l)return l}n+=a.nodeSize*o}return null}function z4(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof ar||o instanceof zn))return;let i=t.mapping.maps[r],s;i.forEach((a,l,c,f)=>{s==null&&(s=f)}),t.setSelection(Ke.near(t.doc.resolve(s),n))}const F4=1,U4=2,G4=4;let hbe=class extends FA{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|F4)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&F4)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=U4,this}ensureMarks(e){return tn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&U4)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||tn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(e,i)),this.selection.empty||this.setSelection(Ke.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=G4,this}get scrolledIntoView(){return(this.updated&G4)>0}};function W4(t,e){return!e||!t?t:t.bind(e)}class fm{constructor(e,n,r){this.name=e,this.init=W4(n.init,r),this.apply=W4(n.apply,r)}}const pbe=[new fm("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new fm("selection",{init(t,e){return t.selection||Ke.atStart(e.doc)},apply(t){return t.selection}}),new fm("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new fm("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class l_{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=pbe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new fm(r.key,r.spec.state,r))})}}class wu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),o=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=o?o[s].n:0,c=o?o[s].state:this,f=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(f&&r.filterTransaction(f,s)){if(f.setMeta("appendedTransaction",e),!o){o=[];for(let h=0;h<this.config.plugins.length;h++)o.push(h<s?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new wu(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new hbe(this)}static create(e){let n=new l_(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new wu(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r}reconfigure(e){let n=new l_(this.schema,e.plugins),r=n.fields,o=new wu(n);for(let i=0;i<r.length;i++){let s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new l_(e.schema,e.plugins),i=new wu(o);return o.fields.forEach(s=>{if(s.name=="doc")i.doc=Ja.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=Ke.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[s.name]=c.fromJSON.call(l,e,n[a],i);return}}i[s.name]=s.init(e,i)}}),i}}function qz(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=qz(o,e,{})),n[r]=o}return n}class gt{constructor(e){this.spec=e,this.props={},e.props&&qz(e.props,this,this.props),this.key=e.key?e.key.key:Yz("plugin")}getState(e){return e[this.key]}}const c_=Object.create(null);function Yz(t){return t in c_?t+"$"+ ++c_[t]:(c_[t]=0,t+"$")}class Dt{constructor(e="key"){this.key=Yz(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Or=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},uh=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let wT=null;const Ba=function(t,e,n){let r=wT||(wT=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},mbe=function(){wT=null},Yu=function(t,e,n,r){return n&&(q4(t,e,n,r,-1)||q4(t,e,n,r,1))},gbe=/^(img|br|input|textarea|hr)$/i;function q4(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:Mi(t))){let i=t.parentNode;if(!i||i.nodeType!=1||my(t)||gbe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Or(t)+(o<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(o<0?-1:0)],t.contentEditable=="false")return!1;e=o<0?Mi(t):0}else return!1}}function Mi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ybe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Mi(t)}else if(t.parentNode&&!my(t))e=Or(t),t=t.parentNode;else return null}}function vbe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!my(t))e=Or(t)+1,t=t.parentNode;else return null}}function bbe(t,e,n){for(let r=e==0,o=e==Mi(t);r||o;){if(t==n)return!0;let i=Or(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,o=o&&i==Mi(t)}}function my(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const ew=function(t){return t.focusNode&&Yu(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function mu(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function xbe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function wbe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Mi(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Mi(r.startContainer),r.startOffset)}}}const ea=typeof navigator<"u"?navigator:null,Y4=typeof document<"u"?document:null,Oc=ea&&ea.userAgent||"",ST=/Edge\/(\d+)/.exec(Oc),Kz=/MSIE \d/.exec(Oc),CT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Oc),Mo=!!(Kz||CT||ST),ac=Kz?document.documentMode:CT?+CT[1]:ST?+ST[1]:0,is=!Mo&&/gecko\/(\d+)/i.test(Oc);is&&+(/Firefox\/(\d+)/.exec(Oc)||[0,0])[1];const kT=!Mo&&/Chrome\/(\d+)/.exec(Oc),Ur=!!kT,Zz=kT?+kT[1]:0,ao=!Mo&&!!ea&&/Apple Computer/.test(ea.vendor),dh=ao&&(/Mobile\/\w+/.test(Oc)||!!ea&&ea.maxTouchPoints>2),_i=dh||(ea?/Mac/.test(ea.platform):!1),Sbe=ea?/Win/.test(ea.platform):!1,Ua=/Android \d/.test(Oc),gy=!!Y4&&"webkitFontSmoothing"in Y4.documentElement.style,Cbe=gy?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function kbe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Oa(t,e){return typeof t=="number"?t:t[e]}function _be(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function K4(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let s=n||t.dom;s;){if(s.nodeType!=1){s=uh(s);continue}let a=s,l=a==i.body,c=l?kbe(i):_be(a),f=0,h=0;if(e.top<c.top+Oa(r,"top")?h=-(c.top-e.top+Oa(o,"top")):e.bottom>c.bottom-Oa(r,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+Oa(o,"top")-c.top:e.bottom-c.bottom+Oa(o,"bottom")),e.left<c.left+Oa(r,"left")?f=-(c.left-e.left+Oa(o,"left")):e.right>c.right-Oa(r,"right")&&(f=e.right-c.right+Oa(o,"right")),f||h)if(l)i.defaultView.scrollBy(f,h);else{let y=a.scrollLeft,b=a.scrollTop;h&&(a.scrollTop+=h),f&&(a.scrollLeft+=f);let x=a.scrollLeft-y,C=a.scrollTop-b;e={left:e.left-x,top:e.top-C,right:e.right-x,bottom:e.bottom-C}}let p=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(p))break;s=p=="absolute"?s.offsetParent:uh(s)}}function Ebe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o;for(let i=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(i,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,o=l.top;break}}return{refDOM:r,refTop:o,stack:Xz(t.dom)}}function Xz(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=uh(r));return e}function Tbe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Jz(n,r==0?0:r-e)}function Jz(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:i}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let uf=null;function Mbe(t){if(t.setActive)return t.setActive();if(uf)return t.focus(uf);let e=Xz(t);t.focus(uf==null?{get preventScroll(){return uf={preventScroll:!0},!0}}:void 0),uf||(uf=!1,Jz(e,0))}function Qz(t,e){let n,r=2e8,o,i=0,s=e.top,a=e.top,l,c;for(let f=t.firstChild,h=0;f;f=f.nextSibling,h++){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=Ba(f).getClientRects();else continue;for(let y=0;y<p.length;y++){let b=p[y];if(b.top<=s&&b.bottom>=a){s=Math.max(b.bottom,s),a=Math.min(b.top,a);let x=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(x<r){n=f,r=x,o=x&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&x&&(i=h+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!l&&b.left<=e.left&&b.right>=e.left&&(l=f,c={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(i=h+1)}}return!n&&l&&(n=l,o=c,r=0),n&&n.nodeType==3?Abe(n,o):!n||r&&n.nodeType==1?{node:t,offset:i}:Qz(n,o)}function Abe(t,e){let n=t.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let i=Wl(r,1);if(i.top!=i.bottom&&GA(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function GA(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Rbe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Nbe(t,e,n){let{node:r,offset:o}=Qz(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,o,i)}function Obe(t,e,n,r){let o=-1;for(let i=e,s=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?o=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(o=a.posAfter),s=!0),!a.contentDOM&&o<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;i=a.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}function eF(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let s=t.childNodes[i];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(GA(e,c))return eF(s,e,c)}}if((i=(i+1)%r)==o)break}return t}function Dbe(t,e){let n=t.dom.ownerDocument,r,o=0,i=wbe(n,e.left,e.top);i&&({node:r,offset:o}=i);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!GA(e,c)||(s=eF(t.dom,e,c),!s))return null}if(ao)for(let c=s;r&&c;c=uh(c))c.draggable&&(r=void 0);if(s=Rbe(s,e),r){if(is&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let f=r.childNodes[o],h;f.nodeName=="IMG"&&(h=f.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&o++}let c;gy&&o&&r.nodeType==1&&(c=r.childNodes[o-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&o--,r==t.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(a=Obe(t,r,o,e))}a==null&&(a=Nbe(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Z4(t){return t.top<t.bottom||t.left<t.right}function Wl(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Z4(r))return r}return Array.prototype.find.call(n,Z4)||t.getBoundingClientRect()}const Pbe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tF(t,e,n){let{node:r,offset:o,atom:i}=t.docView.domFromPos(e,n<0?-1:1),s=gy||is;if(r.nodeType==3)if(s&&(Pbe.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=Wl(Ba(r,o,o),n);if(is&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let c=Wl(Ba(r,o-1,o-1),-1);if(c.top==l.top){let f=Wl(Ba(r,o,o+1),-1);if(f.top!=l.top)return Kp(f,f.left<c.left)}}return l}else{let l=o,c=o,f=n<0?1:-1;return n<0&&!o?(c++,f=-1):n>=0&&o==r.nodeValue.length?(l--,f=1):n<0?l--:c++,Kp(Wl(Ba(r,l,c),f),f<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==Mi(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return u_(l.getBoundingClientRect(),!1)}if(i==null&&o<Mi(r)){let l=r.childNodes[o];if(l.nodeType==1)return u_(l.getBoundingClientRect(),!0)}return u_(r.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==Mi(r))){let l=r.childNodes[o-1],c=l.nodeType==3?Ba(l,Mi(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Kp(Wl(c,1),!1)}if(i==null&&o<Mi(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Ba(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Kp(Wl(c,-1),!0)}return Kp(Wl(r.nodeType==3?Ba(r):r,-n),n>=0)}function Kp(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function u_(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function nF(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function Lbe(t,e,n){let r=e.selection,o=n=="up"?r.$from:r.$to;return nF(t,e,()=>{let{node:i}=t.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let s=tF(t,o.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Ba(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let f=l[c];if(f.bottom>f.top+1&&(n=="up"?s.top-f.top>(f.bottom-s.top)*2:f.bottom-s.bottom>(s.bottom-f.top)*2))return!1}}return!0})}const jbe=/[\u0590-\u08ac]/;function Ibe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=t.domSelection();return a?!jbe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:s:nF(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:f,anchorOffset:h}=t.domSelectionRange(),p=a.caretBidiLevel;a.modify("move",n,"character");let y=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:x}=t.domSelectionRange(),C=b&&!y.contains(b.nodeType==1?b:b.parentNode)||l==b&&c==x;try{a.collapse(f,h),l&&(l!=f||c!=h)&&a.extend&&a.extend(l,c)}catch{}return p!=null&&(a.caretBidiLevel=p),C}):r.pos==r.start()||r.pos==r.end()}let X4=null,J4=null,Q4=!1;function Vbe(t,e,n){return X4==e&&J4==n?Q4:(X4=e,J4=n,Q4=n=="up"||n=="down"?Lbe(t,e,n):Ibe(t,e,n))}const Ni=0,e5=1,Su=2,ta=3;class yy{constructor(e,n,r,o){this.parent=e,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=Ni,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,s;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>Or(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,o=e;o;o=o.parentNode){let i=this.getDesc(o),s;if(i&&(!n||i.node))if(r&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let o=e;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],i=r+o.size;if(r==e&&i!=r){for(;!o.border&&o.children.length;)for(let s=0;s<o.children.length;s++){let a=o.children[s];if(a.size){o=a;break}}return o}if(e<i)return o.descAt(e-r-o.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let s=this.children[r],a=i+s.size;if(a>e||s instanceof oF){o=e-i;break}i=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof rF&&i.side>=0;r--);if(n<=0){let i,s=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Or(i.dom)+1:0}}else{let i,s=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Or(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(o==-1&&e<=c){let f=s+l.border;if(e>=f&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,f);e=s;for(let h=a;h>0;h--){let p=this.children[h-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){o=Or(p.dom)+1;break}e-=p.size}o==-1&&(o=0)}if(o>-1&&(c>n||a==this.children.length-1)){n=c;for(let f=a+1;f<this.children.length;f++){let h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){i=Or(h.dom);break}n+=h.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,o=!1){let i=Math.min(e,n),s=Math.max(e,n);for(let y=0,b=0;y<this.children.length;y++){let x=this.children[y],C=b+x.size;if(i>b&&s<C)return x.setSelection(e-b-x.border,n-b-x.border,r,o);b=C}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),f=r.domSelectionRange(),h=!1;if((is||ao)&&e==n){let{node:y,offset:b}=a;if(y.nodeType==3){if(h=!!(b&&y.nodeValue[b-1]==`
`),h&&b==y.nodeValue.length)for(let x=y,C;x;x=x.parentNode){if(C=x.nextSibling){C.nodeName=="BR"&&(a=l={node:C.parentNode,offset:Or(C)+1});break}let k=x.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let x=y.childNodes[b-1];h=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(is&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let y=f.focusNode.childNodes[f.focusOffset];y&&y.contentEditable=="false"&&(o=!0)}if(!(o||h&&ao)&&Yu(a.node,a.offset,f.anchorNode,f.anchorOffset)&&Yu(l.node,l.offset,f.focusNode,f.focusOffset))return;let p=!1;if((c.extend||e==n)&&!h){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(e>n){let b=a;a=l,l=b}let y=document.createRange();y.setEnd(l.node,l.offset),y.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],s=r+i.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+i.border,l=s-i.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?Su:e5,e==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=ta:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Su:ta}r=s}this.dirty=Su}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Su:e5;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class rF extends yy{constructor(e,n,r,o){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Ni&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Bbe extends yy{constructor(e,n,r,o){super(e,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ku extends yy{constructor(e,n,r,o,i){super(e,[],r,o),this.mark=n,this.spec=i}static create(e,n,r,o){let i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return(!s||!s.dom)&&(s=fl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ku(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&ta||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ta&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ni){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ni}}slice(e,n,r){let o=Ku.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=ET(i,n,s,r)),e>0&&(i=ET(i,0,e,r));for(let a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class lc extends yy{constructor(e,n,r,o,i,s,a,l,c){super(e,[],i,s),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=a}static create(e,n,r,o,i,s){let a=i.nodeViews[n.type.name],l,c=a&&a(n,i,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,o),f=c&&c.dom,h=c&&c.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:h}=fl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let p=f;return f=aF(f,r,n),c?l=new $be(e,n,r,o,f,h||null,p,c,i,s+1):n.isText?new tw(e,n,r,o,f,p,i):new lc(e,n,r,o,f,h||null,p,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ce.empty)}return e}matchesNode(e,n,r){return this.dirty==Ni&&e.eq(this.node)&&Z0(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,o=n,i=e.composing?this.localCompositionInfo(e,n):null,s=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new zbe(this,s&&s.node,e);Gbe(this.node,this.innerDeco,(c,f,h)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!h&&l.syncToMarks(f==this.node.childCount?tn.none:this.node.child(f).marks,r,e),l.placeWidget(c,e,o)},(c,f,h,p)=>{l.syncToMarks(c.marks,r,e);let y;l.findNodeMatch(c,f,h,p)||a&&e.state.selection.from>o&&e.state.selection.to<o+c.nodeSize&&(y=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,f,h,y,e)||l.updateNextNode(c,f,h,e,p,o)||l.addNode(c,f,h,e,o),o+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Su)&&(s&&this.protectLocalComposition(e,s),iF(this.contentDOM,this.children,e),dh&&Wbe(this.dom))}localCompositionInfo(e,n){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof He)||r<n||o>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,a=qbe(this.node.content,s,r-n,o-n);return a<0?null:{node:i,pos:a,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new Bbe(this,i,n,o);e.input.compositionNodes.push(s),this.children=ET(this.children,r,r+o.length,e,s)}update(e,n,r,o){return this.dirty==ta||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,o),!0)}updateInner(e,n,r,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Ni}updateOuterDeco(e){if(Z0(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=sF(this.dom,this.nodeDOM,_T(this.outerDeco,this.node,n),_T(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function t5(t,e,n,r,o){aF(r,e,t);let i=new lc(void 0,t,e,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class tw extends lc{constructor(e,n,r,o,i,s,a){super(e,n,r,o,i,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,o){return this.dirty==ta||this.dirty!=Ni&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ni||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=Ni,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let o=this.node.cut(e,n),i=document.createTextNode(o.text);return new tw(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ta)}get domAtom(){return!1}isText(e){return this.node.text==e}}class oF extends yy{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ni&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class $be extends lc{constructor(e,n,r,o,i,s,a,l,c,f){super(e,n,r,o,i,s,a,c,f),this.spec=l}update(e,n,r,o){if(this.dirty==ta)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,o),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function iF(t,e,n){let r=t.firstChild,o=!1;for(let i=0;i<e.length;i++){let s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=n5(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(s instanceof Ku){let l=r?r.previousSibling:t.lastChild;iF(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=n5(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const km=function(t){t&&(this.nodeName=t)};km.prototype=Object.create(null);const Cu=[new km];function _T(t,e,n){if(t.length==0)return Cu;let r=n?Cu[0]:new km,o=[r];for(let i=0;i<t.length;i++){let s=t[i].type.attrs;if(s){s.nodeName&&o.push(r=new km(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&o.length==1&&o.push(r=new km(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return o}function sF(t,e,n,r){if(n==Cu&&r==Cu)return e;let o=e;for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(i){let l;a&&a.nodeName==s.nodeName&&o!=t&&(l=o.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=Cu[0]),o=l}Hbe(o,a||Cu[0],s)}return o}function Hbe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&t.classList.add(o[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)t.style.removeProperty(o[1])}n.style&&(t.style.cssText+=n.style)}}function aF(t,e,n){return sF(t,t,Cu,_T(e,n,t.nodeType!=1))}function Z0(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function n5(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class zbe{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Fbe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let o=0,i=this.stack.length>>1,s=Math.min(i,e.length);for(;o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=Ni,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Ku.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,o){let i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))i=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,o,i){let s=this.top.children[o];return s.dirty==ta&&s.dom==s.contentDOM&&(s.dirty=Su),s.update(e,n,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}}updateNextNode(e,n,r,o,i,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof lc){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let f=l.dom,h,p=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ta&&Z0(n,l.outerDeco));if(!p&&l.update(e,n,r,o))return this.destroyBetween(this.index,a),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!p&&(h=this.recreateWrapper(l,e,n,r,o,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Su,h.updateChildren(o,s+1),h.dirty=Ni),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,o,i,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Z0(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let a=lc.create(this.top,n,r,o,i,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,o,i){let s=lc.create(this.top,e,n,r,o,i);s.contentDOM&&s.updateChildren(o,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new rF(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ku;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof tw)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ao||Ur)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new oF(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Fbe(t,e){let n=e,r=n.children.length,o=t.childCount,i=new Map,s=[];e:for(;o>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Ku)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}function Ube(t,e){return t.type.side-e.type.side}function Gbe(t,e,n,r){let o=e.locals(t),i=0;if(o.length==0){for(let c=0;c<t.childCount;c++){let f=t.child(c);r(f,o,e.forChild(i,f),c),i+=f.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let f,h;for(;s<o.length&&o[s].to==i;){let C=o[s++];C.widget&&(f?(h||(h=[f])).push(C):f=C)}if(f)if(h){h.sort(Ube);for(let C=0;C<h.length;C++)n(h[C],c,!!l)}else n(f,c,!!l);let p,y;if(l)y=-1,p=l,l=null;else if(c<t.childCount)y=c,p=t.child(c++);else break;for(let C=0;C<a.length;C++)a[C].to<=i&&a.splice(C--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);let b=i+p.nodeSize;if(p.isText){let C=b;s<o.length&&o[s].from<C&&(C=o[s].from);for(let k=0;k<a.length;k++)a[k].to<C&&(C=a[k].to);C<b&&(l=p.cut(C-i),p=p.cut(0,C-i),b=C,y=-1)}else for(;s<o.length&&o[s].to<b;)s++;let x=p.isInline&&!p.isLeaf?a.filter(C=>!C.inline):a.slice();r(p,x,e.forChild(i,p),y),i=b}}function Wbe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function qbe(t,e,n,r){for(let o=0,i=0;o<t.childCount&&i<=r;){let s=t.child(o++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;o<t.childCount;){let c=t.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function ET(t,e,n,r,o){let i=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,f=a+=l.size;c>=n||f<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),o&&(i.push(o),o=void 0),f>n&&i.push(l.slice(n-c,l.size,r)))}return i}function WA(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),i=o&&o.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(ew(n)){for(l=s;o&&!o.node;)o=o.parent;let h=o.node;if(o&&h.isAtom&&ze.isSelectable(h)&&o.parent&&!(h.isInline&&bbe(n.focusNode,n.focusOffset,o.dom))){let p=o.posBefore;c=new ze(s==p?a:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=s,p=s;for(let y=0;y<n.rangeCount;y++){let b=n.getRangeAt(y);h=Math.min(h,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(h<0)return null;[l,s]=p==t.state.selection.anchor?[p,h]:[h,p],a=r.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let f=r.resolve(l);if(!c){let h=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;c=qA(t,f,a,h)}return c}function lF(t){return t.editable?t.hasFocus():uF(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function el(t,e=!1){let n=t.state.selection;if(cF(t,n),!!lF(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ur){let r=t.domSelectionRange(),o=t.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Yu(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Kbe(t);else{let{anchor:r,head:o}=n,i,s;r5&&!(n instanceof He)&&(n.$from.parent.inlineContent||(i=o5(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=o5(t,n.to))),t.docView.setSelection(r,o,t,e),r5&&(i&&i5(i),s&&i5(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Ybe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const r5=ao||Ur&&Zz<63;function o5(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(ao&&o&&o.contentEditable=="false")return d_(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return d_(o);if(i)return d_(i)}}function d_(t){return t.contentEditable="true",ao&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function i5(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Ybe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!lF(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Kbe(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setStart(r.parentNode,Or(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&Mo&&ac<=11&&(r.disabled=!0,r.disabled=!1)}function cF(t,e){if(e instanceof ze){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(s5(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else s5(t)}function s5(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function qA(t,e,n,r){return t.someProp("createSelectionBetween",o=>o(t,e,n))||He.between(e,n,r)}function a5(t){return t.editable&&!t.hasFocus()?!1:uF(t)}function uF(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Zbe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Yu(e.node,e.offset,n.anchorNode,n.anchorOffset)}function TT(t,e){let{$anchor:n,$head:r}=t.selection,o=e>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return i&&Ke.findFrom(i,e)}function ql(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function l5(t,e,n){let r=t.state.selection;if(r instanceof He)if(n.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=t.state.doc.resolve(o.pos+i.nodeSize*(e<0?-1:1));return ql(t,new He(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=TT(t.state,e);return o&&o instanceof ze?ql(t,o):!1}else if(!(_i&&n.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,s;if(!i||i.isText)return!1;let a=e<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?ze.isSelectable(i)?ql(t,new ze(e<0?t.state.doc.resolve(o.pos-i.nodeSize):o)):gy?ql(t,new He(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ze&&r.node.isInline)return ql(t,new He(e>0?r.$to:r.$from));{let o=TT(t.state,e);return o?ql(t,o):!1}}}function X0(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function _m(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function df(t,e){return e<0?Xbe(t):Jbe(t)}function Xbe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,i,s=!1;for(is&&n.nodeType==1&&r<X0(n)&&_m(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(_m(a,-1))o=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(dF(n))break;{let a=n.previousSibling;for(;a&&_m(a,-1);)o=n.parentNode,i=Or(a),a=a.previousSibling;if(a)n=a,r=X0(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?MT(t,n,r):o&&MT(t,o,i)}function Jbe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o=X0(n),i,s;for(;;)if(r<o){if(n.nodeType!=1)break;let a=n.childNodes[r];if(_m(a,1))i=n,s=++r;else break}else{if(dF(n))break;{let a=n.nextSibling;for(;a&&_m(a,1);)i=a.parentNode,s=Or(a)+1,a=a.nextSibling;if(a)n=a,r=0,o=X0(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}}i&&MT(t,i,s)}function dF(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Qbe(t,e){for(;t&&e==t.childNodes.length&&!my(t);)e=Or(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function e0e(t,e){for(;t&&!e&&!my(t);)e=Or(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function MT(t,e,n){if(e.nodeType!=3){let i,s;(s=Qbe(e,n))?(e=s,n=0):(i=e0e(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(ew(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&el(t)},50)}function c5(t,e){let n=t.state.doc.resolve(e);if(!(Ur||Sbe)&&n.parent.inlineContent){let o=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function u5(t,e,n){let r=t.state.selection;if(r instanceof He&&!r.empty||n.indexOf("s")>-1||_i&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=TT(t.state,e);if(s&&s instanceof ze)return ql(t,s)}if(!o.parent.inlineContent){let s=e<0?o:i,a=r instanceof To?Ke.near(s,e):Ke.findFrom(s,e);return a?ql(t,a):!1}return!1}function d5(t,e){if(!(t.state.selection instanceof He))return!0;let{$head:n,$anchor:r,empty:o}=t.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=t.state.tr;return e<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),t.dispatch(s),!0}return!1}function f5(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function t0e(t){if(!ao||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;f5(t,r,"true"),setTimeout(()=>f5(t,r,"false"),20)}return!1}function n0e(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function r0e(t,e){let n=e.keyCode,r=n0e(e);if(n==8||_i&&n==72&&r=="c")return d5(t,-1)||df(t,-1);if(n==46&&!e.shiftKey||_i&&n==68&&r=="c")return d5(t,1)||df(t,1);if(n==13||n==27)return!0;if(n==37||_i&&n==66&&r=="c"){let o=n==37?c5(t,t.state.selection.from)=="ltr"?-1:1:-1;return l5(t,o,r)||df(t,o)}else if(n==39||_i&&n==70&&r=="c"){let o=n==39?c5(t,t.state.selection.from)=="ltr"?1:-1:1;return l5(t,o,r)||df(t,o)}else{if(n==38||_i&&n==80&&r=="c")return u5(t,-1,r)||df(t,-1);if(n==40||_i&&n==78&&r=="c")return t0e(t)||u5(t,1,r)||df(t,1);if(r==(_i?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function YA(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let n=[],{content:r,openStart:o,openEnd:i}=e;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let y=r.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let s=t.someProp("clipboardSerializer")||fl.fromSchema(t.state.schema),a=yF(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,f,h=0;for(;c&&c.nodeType==1&&(f=gF[c.nodeName.toLowerCase()]);){for(let y=f.length-1;y>=0;y--){let b=a.createElement(f[y]);for(;l.firstChild;)b.appendChild(l.firstChild);l.appendChild(b),h++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${o} ${i}${h?` -${h}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function fF(t,e,n,r,o){let i=o.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||i||!n);if(l){if(t.someProp("transformPastedText",p=>{e=p(e,i||r,t)}),i)return e?new Se(ce.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Se.empty;let h=t.someProp("clipboardTextParser",p=>p(e,o,r,t));if(h)a=h;else{let p=o.marks(),{schema:y}=t.state,b=fl.fromSchema(y);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(x=>{let C=s.appendChild(document.createElement("p"));x&&C.appendChild(b.serializeNode(y.text(x,p)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),s=a0e(n),gy&&l0e(s);let c=s&&s.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let h=+f[3];h>0;h--){let p=s.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;s=p}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Lu.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||f),context:o,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!o0e.test(p.parentNode.nodeName)?{ignore:!0}:null}})),f)a=c0e(h5(a,+f[1],+f[2]),f[4]);else if(a=Se.maxOpen(i0e(a.content,o),!0),a.openStart||a.openEnd){let h=0,p=0;for(let y=a.content.firstChild;h<a.openStart&&!y.type.spec.isolating;h++,y=y.firstChild);for(let y=a.content.lastChild;p<a.openEnd&&!y.type.spec.isolating;p++,y=y.lastChild);a=h5(a,h,p)}return t.someProp("transformPasted",h=>{a=h(a,t)}),a}const o0e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function i0e(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),i,s=[];if(t.forEach(a=>{if(!s)return;let l=o.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&i.length&&pF(l,i,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=mF(s[s.length-1],i.length));let f=hF(a,l);s.push(f),o=o.matchType(f.type),i=l}}),s)return ce.from(s)}return t}function hF(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ce.from(t));return t}function pF(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let i=pF(t,e,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(ce.from(hF(n,t,o+1))))}}function mF(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,mF(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ce.empty,!0);return t.copy(n.append(r))}function AT(t,e,n,r,o,i){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(i=0),o<r-1&&(a=AT(a,e,n,r,o+1,i)),o>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(ce.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function h5(t,e,n){return e<t.openStart&&(t=new Se(AT(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Se(AT(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const gF={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let p5=null;function yF(){return p5||(p5=document.implementation.createHTMLDocument("title"))}let f_=null;function s0e(t){let e=window.trustedTypes;return e?(f_||(f_=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),f_.createHTML(t)):t}function a0e(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=yF().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&gF[r[1].toLowerCase()])&&(t=o.map(i=>"<"+i+">").join("")+t+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=s0e(t),o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function l0e(t){let e=t.querySelectorAll(Ur?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function c0e(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:o,openStart:i,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;o=ce.from(l.create(r[a+1],o)),i++,s++}return new Se(o,i,s)}const lo={},co={},u0e={touchstart:!0,touchmove:!0};class d0e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function f0e(t){for(let e in lo){let n=lo[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{p0e(t,r)&&!KA(t,r)&&(t.editable||!(r.type in co))&&n(t,r)},u0e[e]?{passive:!0}:void 0)}ao&&t.dom.addEventListener("input",()=>null),RT(t)}function rc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function h0e(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function RT(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>KA(t,r))})}function KA(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function p0e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function m0e(t,e){!KA(t,e)&&lo[e.type]&&(t.editable||!(e.type in co))&&lo[e.type](t,e)}co.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!bF(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ua&&Ur&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),dh&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",o=>o(t,mu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||r0e(t,n)?n.preventDefault():rc(t,"key")};co.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};co.keypress=(t,e)=>{let n=e;if(bF(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||_i&&n.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof He)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,o))&&t.dispatch(t.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function nw(t){return{left:t.clientX,top:t.clientY}}function g0e(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function ZA(t,e,n,r,o){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(t.someProp(e,a=>s>i.depth?a(t,n,i.nodeAfter,i.before(s),o,!0):a(t,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function Uf(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function y0e(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ze.isSelectable(r)?(Uf(t,new ze(n)),!0):!1}function v0e(t,e){if(e==-1)return!1;let n=t.state.selection,r,o;n instanceof ze&&(r=n.node);let i=t.state.doc.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s);if(ze.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(s);break}}return o!=null?(Uf(t,ze.create(t.state.doc,o)),!0):!1}function b0e(t,e,n,r,o){return ZA(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(o?v0e(t,n):y0e(t,n))}function x0e(t,e,n,r){return ZA(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",o=>o(t,e,r))}function w0e(t,e,n,r){return ZA(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",o=>o(t,e,r))||S0e(t,n,r)}function S0e(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Uf(t,He.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let i=o.depth+1;i>0;i--){let s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)Uf(t,He.create(r,a+1,a+1+s.content.size));else if(ze.isSelectable(s))Uf(t,ze.create(r,a));else continue;return!0}}function XA(t){return J0(t)}const vF=_i?"metaKey":"ctrlKey";lo.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=XA(t),o=Date.now(),i="singleClick";o-t.input.lastClick.time<500&&g0e(n,t.input.lastClick)&&!n[vF]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};let s=t.posAtCoords(nw(n));s&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new C0e(t,s,n,!!r)):(i=="doubleClick"?x0e:w0e)(t,s.pos,s.inside,n)?n.preventDefault():rc(t,"pointer"))};class C0e{constructor(e,n,r,o){this.view=e,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[vF],this.allowDefault=r.shiftKey;let i,s;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),s=n.inside;else{let f=e.state.doc.resolve(n.pos);i=f.parent,s=f.depth?f.before():0}const a=o?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof ze&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&is&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),rc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>el(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(nw(e))),this.updateAllowDefault(e),this.allowDefault||!n?rc(this.view,"pointer"):b0e(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ao&&this.mightDrag&&!this.mightDrag.node.isAtom||Ur&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Uf(this.view,Ke.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):rc(this.view,"pointer")}move(e){this.updateAllowDefault(e),rc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}lo.touchstart=t=>{t.input.lastTouch=Date.now(),XA(t),rc(t,"pointer")};lo.touchmove=t=>{t.input.lastTouch=Date.now(),rc(t,"pointer")};lo.contextmenu=t=>XA(t);function bF(t,e){return t.composing?!0:ao&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const k0e=Ua?5e3:-1;co.compositionstart=co.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof He&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),J0(t,!0),t.markCursor=null;else if(J0(t,!e.selection.empty),is&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else o=s,i=-1}}t.input.composing=!0}xF(t,k0e)};co.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,xF(t,20))};function xF(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>J0(t),e))}function wF(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=E0e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function _0e(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=ybe(e.focusNode,e.focusOffset),r=vbe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function E0e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function J0(t,e=!1){if(!(Ua&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),wF(t),e||t.docView&&t.docView.dirty){let n=WA(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function T0e(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const pg=Mo&&ac<15||dh&&Cbe<604;lo.copy=co.cut=(t,e)=>{let n=e,r=t.state.selection,o=n.type=="cut";if(r.empty)return;let i=pg?null:n.clipboardData,s=r.content(),{dom:a,text:l}=YA(t,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):T0e(t,a),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function M0e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function A0e(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?mg(t,r.value,null,o,e):mg(t,r.textContent,r.innerHTML,o,e)},50)}function mg(t,e,n,r,o){let i=fF(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,o,i||Se.empty)))return!0;if(!i)return!1;let s=M0e(i),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function SF(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}co.paste=(t,e)=>{let n=e;if(t.composing&&!Ua)return;let r=pg?null:n.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&mg(t,SF(r),r.getData("text/html"),o,n)?n.preventDefault():A0e(t,n)};class CF{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const kF=_i?"altKey":"ctrlKey";lo.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=t.state.selection,i=o.empty?null:t.posAtCoords(nw(n)),s;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof ze?o.to-1:o.to))){if(r&&r.mightDrag)s=ze.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(s=ze.create(t.state.doc,h.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:c,slice:f}=YA(t,a);(!n.dataTransfer.files.length||!Ur||Zz>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(pg?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",pg||n.dataTransfer.setData("text/plain",c),t.dragging=new CF(f,!n[kF],s)};lo.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};co.dragover=co.dragenter=(t,e)=>e.preventDefault();co.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let o=t.posAtCoords(nw(n));if(!o)return;let i=t.state.doc.resolve(o.pos),s=r&&r.slice;s?t.someProp("transformPasted",b=>{s=b(s,t)}):s=fF(t,SF(n.dataTransfer),pg?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&!n[kF]);if(t.someProp("handleDrop",b=>b(t,n,s||Se.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?Hz(t.state.doc,i.pos,s):i.pos;l==null&&(l=i.pos);let c=t.state.tr;if(a){let{node:b}=r;b?b.replace(c):c.deleteSelection()}let f=c.mapping.map(l),h=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,p=c.doc;if(h?c.replaceRangeWith(f,f,s.content.firstChild):c.replaceRange(f,f,s),c.doc.eq(p))return;let y=c.doc.resolve(f);if(h&&ze.isSelectable(s.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new ze(y));else{let b=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((x,C,k,E)=>b=E),c.setSelection(qA(t,y,c.doc.resolve(b)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};lo.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&el(t)},20))};lo.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};lo.beforeinput=(t,e)=>{if(Ur&&Ua&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,mu(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in co)lo[t]=co[t];function gg(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Q0{constructor(e,n){this.toDOM=e,this.spec=n||ju,this.side=this.spec.side||0}map(e,n,r,o){let{pos:i,deleted:s}=e.mapResult(n.from+o,this.side<0?-1:1);return s?null:new nn(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Q0&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&gg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class cc{constructor(e,n){this.attrs=e,this.spec=n||ju}map(e,n,r,o){let i=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=s?null:new nn(i,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof cc&&gg(this.attrs,e.attrs)&&gg(this.spec,e.spec)}static is(e){return e.type instanceof cc}destroy(){}}class JA{constructor(e,n){this.attrs=e,this.spec=n||ju}map(e,n,r,o){let i=e.mapResult(n.from+o,1);if(i.deleted)return null;let s=e.mapResult(n.to+o,-1);return s.deleted||s.pos<=i.pos?null:new nn(i.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:o}=e.content.findIndex(n.from),i;return o==n.from&&!(i=e.child(r)).isText&&o+i.nodeSize==n.to}eq(e){return this==e||e instanceof JA&&gg(this.attrs,e.attrs)&&gg(this.spec,e.spec)}destroy(){}}class nn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new nn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new nn(e,e,new Q0(n,r))}static inline(e,n,r,o){return new nn(e,n,new cc(r,o))}static node(e,n,r,o){return new nn(e,n,new JA(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof cc}get widget(){return this.type instanceof Q0}}const xf=[],ju={};class St{constructor(e,n){this.local=e.length?e:xf,this.children=n.length?n:xf}static create(e,n){return n.length?e1(n,e,0,ju):Hr}find(e,n,r){let o=[];return this.findInner(e??0,n??1e9,o,0,r),o}findInner(e,n,r,o,i){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,o+a,i)}}map(e,n,r){return this==Hr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ju)}mapInner(e,n,r,o,i){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,o);l&&l.type.valid(n,l)?(s||(s=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?R0e(this.children,s||[],e,n,r,o,i):s?new St(s.sort(Iu),xf):Hr}add(e,n){return n.length?this==Hr?St.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let o,i=0;e.forEach((a,l)=>{let c=l+r,f;if(f=EF(n,a,c)){for(o||(o=this.children.slice());i<o.length&&o[i]<l;)i+=3;o[i]==l?o[i+2]=o[i+2].addInner(a,f,c+1):o.splice(i,0,l,l+a.nodeSize,e1(f,a,c+1,ju)),i+=3}});let s=_F(i?TF(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new St(s.length?this.local.concat(s).sort(Iu):this.local,o||this.children)}remove(e){return e.length==0||this==Hr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let s,a=r[i]+n,l=r[i+1]+n;for(let f=0,h;f<e.length;f++)(h=e[f])&&h.from>a&&h.to<l&&(e[f]=null,(s||(s=[])).push(h));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(s,a+1);c!=Hr?r[i+2]=c:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,s;i<e.length;i++)if(s=e[i])for(let a=0;a<o.length;a++)o[a].eq(s,n)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new St(o,r):Hr}forChild(e,n){if(this==Hr)return this;if(n.isLeaf)return St.empty;let r,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let i=e+1,s=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>i&&l.type instanceof cc){let c=Math.max(i,l.from)-i,f=Math.min(s,l.to)-i;c<f&&(o||(o=[])).push(l.copy(c,f))}}if(o){let a=new St(o.sort(Iu),xf);return r?new Jl([a,r]):a}return r||Hr}eq(e){if(this==e)return!0;if(!(e instanceof St)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return QA(this.localsInner(e))}localsInner(e){if(this==Hr)return xf;if(e.inlineContent||!this.local.some(cc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof cc||n.push(this.local[r]);return n}forEachSet(e){e(this)}}St.empty=new St([],[]);St.removeOverlap=QA;const Hr=St.empty;class Jl{constructor(e){this.members=e}map(e,n){const r=this.members.map(o=>o.map(e,n,ju));return Jl.from(r)}forChild(e,n){if(n.isLeaf)return St.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(e,n);i!=Hr&&(i instanceof Jl?r=r.concat(i.members):r.push(i))}return Jl.from(r)}eq(e){if(!(e instanceof Jl)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?QA(r?n:n.sort(Iu)):xf}static from(e){switch(e.length){case 0:return Hr;case 1:return e[0];default:return new Jl(e.every(n=>n instanceof St)?e:e.reduce((n,r)=>n.concat(r instanceof St?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function R0e(t,e,n,r,o,i,s){let a=t.slice();for(let c=0,f=i;c<n.maps.length;c++){let h=0;n.maps[c].forEach((p,y,b,x)=>{let C=x-b-(y-p);for(let k=0;k<a.length;k+=3){let E=a[k+1];if(E<0||p>E+f-h)continue;let T=a[k]+f-h;y>=T?a[k+1]=p<=T?-2:-1:p>=f&&C&&(a[k]+=C,a[k+1]+=C)}h+=C}),f=n.maps[c].map(f,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let f=n.map(t[c]+i),h=f-o;if(h<0||h>=r.content.size){l=!0;continue}let p=n.map(t[c+1]+i,-1),y=p-o,{index:b,offset:x}=r.content.findIndex(h),C=r.maybeChild(b);if(C&&x==h&&x+C.nodeSize==y){let k=a[c+2].mapInner(n,C,f+1,t[c]+i+1,s);k!=Hr?(a[c]=h,a[c+1]=y,a[c+2]=k):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=N0e(a,t,e,n,o,i,s),f=e1(c,r,0,s);e=f.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,p=0;h<f.children.length;h+=3){let y=f.children[h];for(;p<a.length&&a[p]<y;)p+=3;a.splice(p,0,f.children[h],f.children[h+1],f.children[h+2])}}return new St(e.sort(Iu),a)}function _F(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new nn(o.from+e,o.to+e,o.type))}return n}function N0e(t,e,n,r,o,i,s){function a(l,c){for(let f=0;f<l.local.length;f++){let h=l.local[f].map(r,o,c);h?n.push(h):s.onRemove&&s.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)a(l.children[f+2],l.children[f]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function EF(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let i=0,s;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function TF(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function e1(t,e,n,r){let o=[],i=!1;e.forEach((a,l)=>{let c=EF(t,a,l+n);if(c){i=!0;let f=e1(c,a,n+l+1,r);f!=Hr&&o.push(l,l+a.nodeSize,f)}});let s=_F(i?TF(t):t,-n).sort(Iu);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new St(s,o):Hr}function Iu(t,e){return t.from-e.from||t.to-e.to}function QA(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let i=e[o];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),m5(e,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),m5(e,o,r.copy(i.from,r.to)));break}}}return e}function m5(t,e,n){for(;e<t.length&&Iu(n,t[e])>0;)e++;t.splice(e,0,n)}function h_(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Hr&&e.push(r)}),t.cursorWrapper&&e.push(St.create(t.state.doc,[t.cursorWrapper.deco])),Jl.from(e)}const O0e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},D0e=Mo&&ac<=11;class P0e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class L0e{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new P0e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Mo&&ac<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),D0e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,O0e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(a5(this.view)){if(this.suppressingSelectionUpdates)return el(this.view);if(Mo&&ac<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Yu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=uh(i))n.add(i);for(let i=e.anchorNode;i;i=uh(i))if(n.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&a5(e)&&!this.ignoreSelectionChange(r),i=-1,s=-1,a=!1,l=[];if(e.editable)for(let f=0;f<n.length;f++){let h=this.registerMutation(n[f],l);h&&(i=i<0?h.from:Math.min(h.from,i),s=s<0?h.to:Math.max(h.to,s),h.typeOver&&(a=!0))}if(is&&l.length){let f=l.filter(h=>h.nodeName=="BR");if(f.length==2){let[h,p]=f;h.parentNode&&h.parentNode.parentNode==p.parentNode?p.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let p of f){let y=p.parentNode;y&&y.nodeName=="LI"&&(!h||V0e(e,h)!=y)&&p.remove()}}}let c=null;i<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ew(r)&&(c=WA(e))&&c.eq(Ke.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,el(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||o)&&(i>-1&&(e.docView.markDirty(i,s),j0e(e)),this.handleDOMChange(i,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||el(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let h=e.addedNodes[f];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,i=e.nextSibling;if(Mo&&ac<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:h,nextSibling:p}=e.addedNodes[f];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(o=h),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p)}let s=o&&o.parentNode==e.target?Or(o)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=i&&i.parentNode==e.target?Or(i):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let g5=new WeakMap,y5=!1;function j0e(t){if(!g5.has(t)&&(g5.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=is,y5)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),y5=!0}}function v5(t,e){let n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Yu(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function I0e(t,e){if(e.getComposedRanges){let o=e.getComposedRanges(t.root)[0];if(o)return v5(t,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?v5(t,n):null}function V0e(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function B0e(t,e,n){let{node:r,fromOffset:o,toOffset:i,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:l.anchorOffset}],ew(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Ur&&t.input.lastKeyCode===8)for(let C=i;C>o;C--){let k=r.childNodes[C-1],E=k.pmViewDesc;if(k.nodeName=="BR"&&!E){i=C;break}if(!E||E.size)break}let h=t.state.doc,p=t.someProp("domParser")||Lu.fromSchema(t.state.schema),y=h.resolve(s),b=null,x=p.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:o,to:i,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:$0e,context:y});if(c&&c[0].pos!=null){let C=c[0].pos,k=c[1]&&c[1].pos;k==null&&(k=C),b={anchor:C+s,head:k+s}}return{doc:x,sel:b,from:s,to:a}}function $0e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ao&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ao&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const H0e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function z0e(t,e,n,r,o){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,z=WA(t,P);if(z&&!t.state.selection.eq(z)){if(Ur&&Ua&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Z=>Z(t,mu(13,"Enter"))))return;let X=t.state.tr.setSelection(z);P=="pointer"?X.setMeta("pointer",!0):P=="key"&&X.scrollIntoView(),i&&X.setMeta("composition",i),t.dispatch(X)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=B0e(t,e,n),f=t.state.doc,h=f.slice(c.from,c.to),p,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,y="end"):(p=t.state.selection.from,y="start"),t.input.lastKeyCode=null;let b=G0e(h.content,c.doc.content,c.from,p,y);if(b&&t.input.domChangeCount++,(dh&&t.input.lastIOSEnter>Date.now()-225||Ua)&&o.some(P=>P.nodeType==1&&!H0e.test(P.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",P=>P(t,mu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&l instanceof He&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))b={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let P=b5(t,t.state.doc,c.sel);if(P&&!P.eq(t.state.selection)){let z=t.state.tr.setSelection(P);i&&z.setMeta("composition",i),t.dispatch(z)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof He&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),Mo&&ac<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>c.from&&c.doc.textBetween(b.start-c.from-1,b.start-c.from+1)=="  "&&(b.start--,b.endA--,b.endB--);let x=c.doc.resolveNoCache(b.start-c.from),C=c.doc.resolveNoCache(b.endB-c.from),k=f.resolve(b.start),E=x.sameParent(C)&&x.parent.inlineContent&&k.end()>=b.endA,T;if((dh&&t.input.lastIOSEnter>Date.now()-225&&(!E||o.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!E&&x.pos<c.doc.content.size&&!x.sameParent(C)&&(T=Ke.findFrom(c.doc.resolve(x.pos+1),1,!0))&&T.head==C.pos)&&t.someProp("handleKeyDown",P=>P(t,mu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&U0e(f,b.start,b.endA,x,C)&&t.someProp("handleKeyDown",P=>P(t,mu(8,"Backspace")))){Ua&&Ur&&t.domObserver.suppressSelectionUpdates();return}Ur&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),Ua&&!E&&x.start()!=C.start()&&C.parentOffset==0&&x.depth==C.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==b.endA&&(b.endB-=2,C=c.doc.resolveNoCache(b.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,mu(13,"Enter"))})},20));let R=b.start,A=b.endA,N,O,j;if(E){if(x.pos==C.pos)Mo&&ac<=11&&x.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>el(t),20)),N=t.state.tr.delete(R,A),O=f.resolve(b.start).marksAcross(f.resolve(b.endA));else if(b.endA==b.endB&&(j=F0e(x.parent.content.cut(x.parentOffset,C.parentOffset),k.parent.content.cut(k.parentOffset,b.endA-k.start()))))N=t.state.tr,j.type=="add"?N.addMark(R,A,j.mark):N.removeMark(R,A,j.mark);else if(x.parent.child(x.index()).isText&&x.index()==C.index()-(C.textOffset?0:1)){let P=x.parent.textBetween(x.parentOffset,C.parentOffset);if(t.someProp("handleTextInput",z=>z(t,R,A,P)))return;N=t.state.tr.insertText(P,R,A)}}if(N||(N=t.state.tr.replace(R,A,c.doc.slice(b.start-c.from,b.endB-c.from))),c.sel){let P=b5(t,N.doc,c.sel);P&&!(Ur&&t.composing&&P.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(P.head==R||P.head==N.mapping.map(A)-1)||Mo&&P.empty&&P.head==R)&&N.setSelection(P)}O&&N.ensureMarks(O),i&&N.setMeta("composition",i),t.dispatch(N.scrollIntoView())}function b5(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:qA(t,e.resolve(n.anchor),e.resolve(n.head))}function F0e(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,o=n,i=r,s,a,l;for(let f=0;f<r.length;f++)o=r[f].removeFromSet(o);for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);if(o.length==1&&i.length==0)a=o[0],s="add",l=f=>f.mark(a.addToSet(f.marks));else if(o.length==0&&i.length==1)a=i[0],s="remove",l=f=>f.mark(a.removeFromSet(f.marks));else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(l(e.child(f)));if(ce.from(c).eq(t))return{mark:a,type:s}}function U0e(t,e,n,r,o){if(n-e<=o.pos-r.pos||p_(r,!0,!1)<o.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=t.resolve(p_(i,!0,!0));return!s.parent.isTextblock||s.pos>n||p_(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function p_(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function G0e(t,e,n,r,o){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(o=="end"){let l=Math.max(0,i-Math.min(s,a));r-=s+l-i}if(s<i&&t.size<e.size){let l=r<=i&&r>=s?i-r:0;i-=l,i&&i<e.size&&x5(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-s),s=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<t.size&&x5(t.textBetween(i-1,i+1))&&(i+=l?1:-1),s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}function x5(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class MF{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new d0e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(_5),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=C5(this),S5(this),this.nodeViews=k5(this),this.docView=t5(this.state.doc,w5(this),h_(this),this.dom,this),this.domObserver=new L0e(this,(r,o,i,s)=>z0e(this,r,o,i,s)),this.domObserver.start(),f0e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&RT(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(_5),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let o=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(wF(this),s=!0),this.state=e;let a=o.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let y=k5(this);q0e(y,this.nodeViews)&&(this.nodeViews=y,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&RT(this),this.editable=C5(this),S5(this);let l=h_(this),c=w5(this),f=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(e.doc,c,l);(h||!e.selection.eq(o.selection))&&(s=!0);let p=f=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Ebe(this);if(s){this.domObserver.stop();let y=h&&(Mo||Ur)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&W0e(o.selection,e.selection);if(h){let b=Ur?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=_0e(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=t5(e.doc,c,l,this.dom,this)),b&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Zbe(this))?el(this,y):(cF(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&Tbe(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&K4(this,n.getBoundingClientRect(),e)}else K4(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new CF(e.slice,e.move,o<0?void 0:ze.create(this.state.doc,o))}someProp(e,n){let r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(o=n?n(a):a))return o}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let a=i[s].props[e];if(a!=null&&(o=n?n(a):a))return o}}hasFocus(){if(Mo){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Mbe(this.dom),el(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Dbe(this,e)}coordsAtPos(e,n=1){return tF(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return Vbe(this,n||this.state,e)}pasteHTML(e,n){return mg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return mg(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return YA(this,e)}destroy(){this.docView&&(h0e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],h_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mbe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return m0e(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?ao&&this.root.nodeType===11&&xbe(this.dom.ownerDocument)==this.dom&&I0e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function w5(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[nn.node(0,t.state.doc.content.size,e)]}function S5(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:nn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function C5(t){return!t.someProp("editable",e=>e(t.state)===!1)}function W0e(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function k5(t){let e=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function q0e(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r}function _5(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var xc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},t1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Y0e=typeof navigator<"u"&&/Mac/.test(navigator.platform),K0e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Dr=0;Dr<10;Dr++)xc[48+Dr]=xc[96+Dr]=String(Dr);for(var Dr=1;Dr<=24;Dr++)xc[Dr+111]="F"+Dr;for(var Dr=65;Dr<=90;Dr++)xc[Dr]=String.fromCharCode(Dr+32),t1[Dr]=String.fromCharCode(Dr);for(var m_ in xc)t1.hasOwnProperty(m_)||(t1[m_]=xc[m_]);function Z0e(t){var e=Y0e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||K0e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?t1:xc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const X0e=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function J0e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))X0e?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function Q0e(t){let e=Object.create(null);for(let n in t)e[J0e(n)]=t[n];return e}function g_(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function e1e(t){return new gt({props:{handleKeyDown:eR(t)}})}function eR(t){let e=Q0e(t);return function(n,r){let o=Z0e(r),i,s=e[g_(o,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let a=e[g_(o,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(i=xc[r.keyCode])&&i!=o){let a=e[g_(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const tR=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function AF(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const RF=(t,e,n)=>{let r=AF(t,n);if(!r)return!1;let o=nR(r);if(!o){let s=r.blockRange(),a=s&&Mh(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let i=o.nodeBefore;if(BF(t,o,e,-1))return!0;if(r.parent.content.size==0&&(fh(i,"end")||ze.isSelectable(i)))for(let s=r.depth;;s--){let a=Jx(t.doc,r.before(s),r.after(s),Se.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(fh(i,"end")?Ke.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):ze.create(l.doc,o.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},t1e=(t,e,n)=>{let r=AF(t,n);if(!r)return!1;let o=nR(r);return o?NF(t,o,e):!1},n1e=(t,e,n)=>{let r=DF(t,n);if(!r)return!1;let o=rR(r);return o?NF(t,o,e):!1};function NF(t,e,n){let r=e.nodeBefore,o=r,i=e.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let f=o.lastChild;if(!f)return!1;o=f}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let f=a.firstChild;if(!f)return!1;a=f}let c=Jx(t.doc,i,l,Se.empty);if(!c||c.from!=i||c instanceof ar&&c.slice.size>=l-i)return!1;if(n){let f=t.tr.step(c);f.setSelection(He.create(f.doc,i)),n(f.scrollIntoView())}return!0}function fh(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const OF=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=nR(r)}let s=i&&i.nodeBefore;return!s||!ze.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ze.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function nR(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function DF(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const PF=(t,e,n)=>{let r=DF(t,n);if(!r)return!1;let o=rR(r);if(!o)return!1;let i=o.nodeAfter;if(BF(t,o,e,1))return!0;if(r.parent.content.size==0&&(fh(i,"start")||ze.isSelectable(i))){let s=Jx(t.doc,r.before(),r.after(),Se.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(fh(i,"start")?Ke.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):ze.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},LF=(t,e,n)=>{let{$head:r,empty:o}=t.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=rR(r)}let s=i&&i.nodeAfter;return!s||!ze.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ze.create(t.doc,i.pos)).scrollIntoView()),!0)};function rR(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const r1e=(t,e)=>{let n=t.selection,r=n instanceof ze,o;if(r){if(n.node.isTextblock||!hd(t.doc,n.from))return!1;o=n.from}else if(o=Xx(t.doc,n.from,-1),o==null)return!1;if(e){let i=t.tr.join(o);r&&i.setSelection(ze.create(i.doc,o-t.doc.resolve(o).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},o1e=(t,e)=>{let n=t.selection,r;if(n instanceof ze){if(n.node.isTextblock||!hd(t.doc,n.to))return!1;r=n.to}else if(r=Xx(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},i1e=(t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),i=o&&Mh(o);return i==null?!1:(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)},jF=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function oR(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const s1e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=oR(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Ke.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},IF=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof To||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=oR(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(He.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},VF=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Qa(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&Mh(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};function a1e(t){return(e,n)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof ze&&e.selection.node.isBlock)return!r.parentOffset||!Qa(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],s,a,l=!1,c=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){l=r.end(y)==r.pos+(r.depth-y),c=r.start(y)==r.pos-(r.depth-y),a=oR(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),i.unshift(l&&a?{type:a}:null),s=y;break}else{if(y==1)return!1;i.unshift(null)}let f=e.tr;(e.selection instanceof He||e.selection instanceof To)&&f.deleteSelection();let h=f.mapping.map(r.pos),p=Qa(f.doc,h,i.length,i);if(p||(i[0]=a?{type:a}:null,p=Qa(f.doc,h,i.length,i)),f.split(h,i.length,i),!l&&c&&r.node(s).type!=a){let y=f.mapping.map(r.before(s)),b=f.doc.resolve(y);a&&r.node(s-1).canReplaceWith(b.index(),b.index()+1,a)&&f.setNodeMarkup(f.mapping.map(r.before(s)),a)}return n&&n(f.scrollIntoView()),!0}}const l1e=a1e(),c1e=(t,e)=>{let{$from:n,to:r}=t.selection,o,i=n.sharedDepth(r);return i==0?!1:(o=n.before(i),e&&e(t.tr.setSelection(ze.create(t.doc,o))),!0)};function u1e(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(o.isTextblock||hd(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function BF(t,e,n,r){let o=e.nodeBefore,i=e.nodeAfter,s,a,l=o.type.spec.isolating||i.type.spec.isolating;if(!l&&u1e(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&a.matchType(s[0]||i.type).validEnd){if(n){let y=e.pos+i.nodeSize,b=ce.empty;for(let k=s.length-1;k>=0;k--)b=ce.from(s[k].create(null,b));b=ce.from(o.copy(b));let x=t.tr.step(new zn(e.pos-1,y,e.pos,y,new Se(b,1,0),s.length,!0)),C=x.doc.resolve(y+2*s.length);C.nodeAfter&&C.nodeAfter.type==o.type&&hd(x.doc,C.pos)&&x.join(C.pos),n(x.scrollIntoView())}return!0}let f=i.type.spec.isolating||r>0&&l?null:Ke.findFrom(e,1),h=f&&f.$from.blockRange(f.$to),p=h&&Mh(h);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(h,p).scrollIntoView()),!0;if(c&&fh(i,"start",!0)&&fh(o,"end")){let y=o,b=[];for(;b.push(y),!y.isTextblock;)y=y.lastChild;let x=i,C=1;for(;!x.isTextblock;x=x.firstChild)C++;if(y.canReplace(y.childCount,y.childCount,x.content)){if(n){let k=ce.empty;for(let T=b.length-1;T>=0;T--)k=ce.from(b[T].copy(k));let E=t.tr.step(new zn(e.pos-b.length,e.pos+i.nodeSize,e.pos+C,e.pos+i.nodeSize-C,new Se(k,b.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function $F(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(e.tr.setSelection(He.create(e.doc,t<0?o.start(i):o.end(i)))),!0):!1}}const d1e=$F(-1),f1e=$F(1);function h1e(t,e=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),a=s&&Iz(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function E5(t,e=null){return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(s,a,(l,c)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)o=!0;else{let f=n.doc.resolve(c),h=f.index();o=f.parent.canReplaceWith(h,h+1,t)}})}if(!o)return!1;if(r){let i=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];i.setBlockType(a,l,t,e)}r(i.scrollIntoView())}return!0}}function iR(...t){return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}iR(tR,RF,OF);iR(tR,PF,LF);iR(jF,IF,VF,l1e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function p1e(t,e=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i);if(!s)return!1;let a=r?n.tr:null;return m1e(a,s,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function m1e(t,e,n,r=null){let o=!1,i=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);i=new Y0(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Y0(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let a=Iz(i,n,r,e);return a?(t&&g1e(t,e,a,o,n),!0):!1}function g1e(t,e,n,r,o){let i=ce.empty;for(let f=n.length-1;f>=0;f--)i=ce.from(n[f].type.create(n[f].attrs,i));t.step(new zn(e.start-(r?2:0),e.end,e.start,e.end,new Se(i,0,0),n.length,!0));let s=0;for(let f=0;f<n.length;f++)n[f].type==o&&(s=f+1);let a=n.length-s,l=e.start+n.length-(r?2:0),c=e.parent;for(let f=e.startIndex,h=e.endIndex,p=!0;f<h;f++,p=!1)!p&&Qa(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(f).nodeSize;return t}function y1e(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,s=>s.childCount>0&&s.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?v1e(e,n,t,i):b1e(e,n,i):!0:!1}}function v1e(t,e,n,r){let o=t.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new zn(i-1,s,i,s,new Se(ce.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Y0(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const a=Mh(r);if(a==null)return!1;o.lift(r,a);let l=o.doc.resolve(o.mapping.map(i,-1)-1);return hd(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),e(o.scrollIntoView()),!0}function b1e(t,e,n){let r=t.tr,o=n.parent;for(let y=n.end,b=n.endIndex-1,x=n.startIndex;b>x;b--)y-=o.child(b).nodeSize,r.delete(y-1,y+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==o.childCount,c=i.node(-1),f=i.index(-1);if(!c.canReplace(f+(a?0:1),f+1,s.content.append(l?ce.empty:ce.from(o))))return!1;let h=i.pos,p=h+s.nodeSize;return r.step(new zn(h-(a?1:0),p+(l?1:0),h+1,p-1,new Se((a?ce.empty:ce.from(o.copy(ce.empty))).append(l?ce.empty:ce.from(o.copy(ce.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function x1e(t){return function(e,n){let{$from:r,$to:o}=e.selection,i=r.blockRange(o,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let a=i.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,f=ce.from(c?t.create():null),h=new Se(ce.from(t.create(null,ce.from(a.type.create(null,f)))),c?3:1,0),p=i.start,y=i.end;n(e.tr.step(new zn(p-(c?3:1),y,p,y,h,1,!0)).scrollIntoView())}return!0}}function rw(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}class ow{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:o}=n,{tr:i}=r,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...f)=>{const h=l(...f)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(i),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o,a=[],l=!!e,c=e||i.tr,f=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(p=>p===!0)),h={...Object.fromEntries(Object.entries(r).map(([p,y])=>[p,(...x)=>{const C=this.buildProps(c,n),k=y(...x)(C);return a.push(k),h}])),run:f};return h}createCan(e){const{rawCommands:n,state:r}=this,o=!1,i=e||r.tr,s=this.buildProps(i,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...f)=>c(...f)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,o)}}buildProps(e,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o,a={tr:e,editor:o,view:s,state:rw({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...f)=>c(...f)(a)]))}};return a}}let w1e=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(o=>o!==n):delete this.callbacks[e]),this}once(e,n){const r=(...o)=>{this.off(e,r),n.apply(this,o)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}};function Pe(t,e,n){return t.config[e]===void 0&&t.parent?Pe(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Pe(t.parent,e,n):null}):t.config[e]}function iw(t){const e=t.filter(o=>o.type==="extension"),n=t.filter(o=>o.type==="node"),r=t.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function HF(t){const e=[],{nodeExtensions:n,markExtensions:r}=iw(t),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:o},l=Pe(s,"addGlobalAttributes",a);if(!l)return;l().forEach(f=>{f.types.forEach(h=>{Object.entries(f.attributes).forEach(([p,y])=>{e.push({type:h,name:p,attribute:{...i,...y}})})})})}),o.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=Pe(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([f,h])=>{const p={...i,...h};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:s.name,name:f,attribute:p})})}),e}function Cr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Jo(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([o,i])=>{if(!r[o]){r[o]=i;return}if(o==="class"){const a=i?String(i).split(" "):[],l=r[o]?r[o].split(" "):[],c=a.filter(f=>!l.includes(f));r[o]=[...l,...c].join(" ")}else if(o==="style"){const a=i?i.split(";").map(f=>f.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(f=>f.trim()).filter(Boolean):[],c=new Map;l.forEach(f=>{const[h,p]=f.split(":").map(y=>y.trim());c.set(h,p)}),a.forEach(f=>{const[h,p]=f.split(":").map(y=>y.trim());c.set(h,p)}),r[o]=Array.from(c.entries()).map(([f,h])=>`${f}: ${h}`).join("; ")}else r[o]=i}),r},{})}function n1(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Jo(n,r),{})}function zF(t){return typeof t=="function"}function kt(t,e=void 0,...n){return zF(t)?e?t.bind(e)(...n):t(...n):t}function S1e(t={}){return Object.keys(t).length===0&&t.constructor===Object}function C1e(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function T5(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const o=e.reduce((i,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):C1e(n.getAttribute(s.name));return a==null?i:{...i,[s.name]:a}},{});return{...r,...o}}}}function M5(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&S1e(n)?!1:n!=null))}function FF(t,e){var n;const r=HF(t),{nodeExtensions:o,markExtensions:i}=iw(t),s=(n=o.find(c=>Pe(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(o.map(c=>{const f=r.filter(k=>k.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((k,E)=>{const T=Pe(E,"extendNodeSchema",h);return{...k,...T?T(c):{}}},{}),y=M5({...p,content:kt(Pe(c,"content",h)),marks:kt(Pe(c,"marks",h)),group:kt(Pe(c,"group",h)),inline:kt(Pe(c,"inline",h)),atom:kt(Pe(c,"atom",h)),selectable:kt(Pe(c,"selectable",h)),draggable:kt(Pe(c,"draggable",h)),code:kt(Pe(c,"code",h)),whitespace:kt(Pe(c,"whitespace",h)),linebreakReplacement:kt(Pe(c,"linebreakReplacement",h)),defining:kt(Pe(c,"defining",h)),isolating:kt(Pe(c,"isolating",h)),attrs:Object.fromEntries(f.map(k=>{var E;return[k.name,{default:(E=k==null?void 0:k.attribute)===null||E===void 0?void 0:E.default}]}))}),b=kt(Pe(c,"parseHTML",h));b&&(y.parseDOM=b.map(k=>T5(k,f)));const x=Pe(c,"renderHTML",h);x&&(y.toDOM=k=>x({node:k,HTMLAttributes:n1(k,f)}));const C=Pe(c,"renderText",h);return C&&(y.toText=C),[c.name,y]})),l=Object.fromEntries(i.map(c=>{const f=r.filter(C=>C.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((C,k)=>{const E=Pe(k,"extendMarkSchema",h);return{...C,...E?E(c):{}}},{}),y=M5({...p,inclusive:kt(Pe(c,"inclusive",h)),excludes:kt(Pe(c,"excludes",h)),group:kt(Pe(c,"group",h)),spanning:kt(Pe(c,"spanning",h)),code:kt(Pe(c,"code",h)),attrs:Object.fromEntries(f.map(C=>{var k;return[C.name,{default:(k=C==null?void 0:C.attribute)===null||k===void 0?void 0:k.default}]}))}),b=kt(Pe(c,"parseHTML",h));b&&(y.parseDOM=b.map(C=>T5(C,f)));const x=Pe(c,"renderHTML",h);return x&&(y.toDOM=C=>x({mark:C,HTMLAttributes:n1(C,f)})),[c.name,y]}));return new Az({topNode:s,nodes:a,marks:l})}function y_(t,e){return e.nodes[t]||e.marks[t]||null}function A5(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function sR(t,e){const n=fl.fromSchema(e).serializeFragment(t),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}const k1e=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(o,i,s,a)=>{var l,c;const f=((c=(l=o.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:o,pos:i,parent:s,index:a}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?f:f.slice(0,Math.max(0,r-i))}),n};function aR(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Zu{constructor(e){this.find=e.find,this.handler=e.handler}}const _1e=(t,e)=>{if(aR(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function pb(t){var e;const{editor:n,from:r,to:o,text:i,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let f=!1;const h=k1e(c)+i;return s.forEach(p=>{if(f)return;const y=_1e(h,p.find);if(!y)return;const b=l.state.tr,x=rw({state:l.state,transaction:b}),C={from:r-(y[0].length-i.length),to:o},{commands:k,chain:E,can:T}=new ow({editor:n,state:x});p.handler({state:x,range:C,match:y,commands:k,chain:E,can:T})===null||!b.steps.length||(b.setMeta(a,{transform:b,from:r,to:o,text:i}),l.dispatch(b),f=!0)}),f}function E1e(t){const{editor:e,rules:n}=t,r=new gt({state:{init(){return null},apply(o,i,s){const a=o.getMeta(r);if(a)return a;const l=o.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=sR(ce.from(f),s.schema);const{from:h}=l,p=h+f.length;pb({editor:e,from:h,to:p,text:f,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,s,a){return pb({editor:e,from:i,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&pb({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:s}=o.state.selection;return s?pb({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function T1e(t){return Object.prototype.toString.call(t).slice(8,-1)}function mb(t){return T1e(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function sw(t,e){const n={...t};return mb(t)&&mb(e)&&Object.keys(e).forEach(r=>{mb(e[r])&&mb(t[r])?n[r]=sw(t[r],e[r]):n[r]=e[r]}),n}class Ro{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=kt(Pe(this,"addOptions",{name:this.name}))),this.storage=kt(Pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ro(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>sw(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Ro(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=kt(Pe(n,"addOptions",{name:n.name})),n.storage=kt(Pe(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const s=o.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}function M1e(t){return typeof t=="number"}class A1e{constructor(e){this.find=e.find,this.handler=e.handler}}const R1e=(t,e,n)=>{if(aR(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(o=>{const i=[o.text];return i.index=o.index,i.input=t,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(o.replaceWith)),i}):[]};function N1e(t){const{editor:e,state:n,from:r,to:o,rule:i,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:c,can:f}=new ow({editor:e,state:n}),h=[];return n.doc.nodesBetween(r,o,(y,b)=>{if(!y.isTextblock||y.type.spec.code)return;const x=Math.max(r,b),C=Math.min(o,b+y.content.size),k=y.textBetween(x-b,C-b,void 0,"￼");R1e(k,i.find,s).forEach(T=>{if(T.index===void 0)return;const R=x+T.index+1,A=R+T[0].length,N={from:n.tr.mapping.map(R),to:n.tr.mapping.map(A)},O=i.handler({state:n,range:N,match:T,commands:l,chain:c,can:f,pasteEvent:s,dropEvent:a});h.push(O)})}),h.every(y=>y!==null)}let gb=null;const O1e=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function D1e(t){const{editor:e,rules:n}=t;let r=null,o=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:f,from:h,to:p,rule:y,pasteEvt:b})=>{const x=f.tr,C=rw({state:f,transaction:x});if(!(!N1e({editor:e,state:C,from:Math.max(h-1,0),to:p.b-1,rule:y,pasteEvent:b,dropEvent:a})||!x.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return n.map(f=>new gt({view(h){const p=b=>{var x;r=!((x=h.dom.parentElement)===null||x===void 0)&&x.contains(b.target)?h.dom.parentElement:null,r&&(gb=e)},y=()=>{gb&&(gb=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(h,p)=>{if(i=r===h.dom.parentElement,a=p,!i){const y=gb;y&&setTimeout(()=>{const b=y.state.selection;b&&y.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(h,p)=>{var y;const b=(y=p.clipboardData)===null||y===void 0?void 0:y.getData("text/html");return s=p,o=!!(b!=null&&b.includes("data-pm-slice")),!1}}},appendTransaction:(h,p,y)=>{const b=h[0],x=b.getMeta("uiEvent")==="paste"&&!o,C=b.getMeta("uiEvent")==="drop"&&!i,k=b.getMeta("applyPasteRules"),E=!!k;if(!x&&!C&&!E)return;if(E){let{text:A}=k;typeof A=="string"?A=A:A=sR(ce.from(A),y.schema);const{from:N}=k,O=N+A.length,j=O1e(A);return l({rule:f,state:y,from:N,to:{b:O},pasteEvt:j})}const T=p.doc.content.findDiffStart(y.doc.content),R=p.doc.content.findDiffEnd(y.doc.content);if(!(!M1e(T)||!R||T===R.b))return l({rule:f,state:y,from:T,to:R,pasteEvt:s})}}))}function P1e(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class ku{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=ku.resolve(e),this.schema=FF(this.extensions,n),this.setupExtensions()}static resolve(e){const n=ku.sort(ku.flatten(e)),r=P1e(n.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},o=Pe(n,"addExtensions",r);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(e){return e.sort((r,o)=>{const i=Pe(r,"priority")||100,s=Pe(o,"priority")||100;return i>s?-1:i<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:y_(n.name,this.schema)},o=Pe(n,"addCommands",r);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,n=ku.sort([...this.extensions].reverse()),r=[],o=[],i=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:y_(s.name,this.schema)},l=[],c=Pe(s,"addKeyboardShortcuts",a);let f={};if(s.type==="mark"&&Pe(s,"exitable",a)&&(f.ArrowRight=()=>Ro.handleExit({editor:e,mark:s})),c){const x=Object.fromEntries(Object.entries(c()).map(([C,k])=>[C,()=>k({editor:e})]));f={...f,...x}}const h=e1e(f);l.push(h);const p=Pe(s,"addInputRules",a);A5(s,e.options.enableInputRules)&&p&&r.push(...p());const y=Pe(s,"addPasteRules",a);A5(s,e.options.enablePasteRules)&&y&&o.push(...y());const b=Pe(s,"addProseMirrorPlugins",a);if(b){const x=b();l.push(...x)}return l}).flat();return[E1e({editor:e,rules:r}),...D1e({editor:e,rules:o}),...i]}get attributes(){return HF(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=iw(this.extensions);return Object.fromEntries(n.filter(r=>!!Pe(r,"addNodeView")).map(r=>{const o=this.attributes.filter(l=>l.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:Cr(r.name,this.schema)},s=Pe(r,"addNodeView",i);if(!s)return[];const a=(l,c,f,h,p)=>{const y=n1(l,o);return s()({node:l,view:c,getPos:f,decorations:h,innerDecorations:p,editor:e,extension:r,HTMLAttributes:y})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:y_(e.name,this.schema)};e.type==="mark"&&(!((n=kt(Pe(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const o=Pe(e,"onBeforeCreate",r),i=Pe(e,"onCreate",r),s=Pe(e,"onUpdate",r),a=Pe(e,"onSelectionUpdate",r),l=Pe(e,"onTransaction",r),c=Pe(e,"onFocus",r),f=Pe(e,"onBlur",r),h=Pe(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),f&&this.editor.on("blur",f),h&&this.editor.on("destroy",h)})}}class Jt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=kt(Pe(this,"addOptions",{name:this.name}))),this.storage=kt(Pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Jt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>sw(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Jt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=kt(Pe(n,"addOptions",{name:n.name})),n.storage=kt(Pe(n,"addStorage",{name:n.name,options:n.options})),n}}function UF(t,e,n){const{from:r,to:o}=e,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let a="";return t.nodesBetween(r,o,(l,c,f,h)=>{var p;l.isBlock&&c>r&&(a+=i);const y=s==null?void 0:s[l.type.name];if(y)return f&&(a+=y({node:l,pos:c,parent:f,index:h,range:e})),!1;l.isText&&(a+=(p=l==null?void 0:l.text)===null||p===void 0?void 0:p.slice(Math.max(r,c)-c,o-c))}),a}function GF(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const WF=Jt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new gt({key:new Dt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:i}=o,s=Math.min(...i.map(f=>f.$from.pos)),a=Math.max(...i.map(f=>f.$to.pos)),l=GF(n);return UF(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),L1e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),j1e=(t=!1)=>({commands:e})=>e.setContent("",t),I1e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return n&&o.forEach(({$from:i,$to:s})=>{t.doc.nodesBetween(i.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:f}=e,h=c.resolve(f.map(l)),p=c.resolve(f.map(l+a.nodeSize)),y=h.blockRange(p);if(!y)return;const b=Mh(y);if(a.type.isTextblock){const{defaultType:x}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(y.start,x)}(b||b===0)&&e.lift(y,b)})}),!0},V1e=t=>e=>t(e),B1e=()=>({state:t,dispatch:e})=>IF(t,e),$1e=(t,e)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,i.content),r.setSelection(new He(r.doc.resolve(s-1))),!0},H1e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const o=t.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===r.type){if(e){const a=o.before(i),l=o.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1},z1e=t=>({tr:e,state:n,dispatch:r})=>{const o=Cr(t,n.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o){if(r){const l=i.before(s),c=i.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},F1e=t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0},U1e=()=>({state:t,dispatch:e})=>tR(t,e),G1e=()=>({commands:t})=>t.keyboardShortcut("Enter"),W1e=()=>({state:t,dispatch:e})=>s1e(t,e);function r1(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>n.strict?e[o]===t[o]:aR(e[o])?e[o].test(t[o]):e[o]===t[o]):!0}function qF(t,e,n={}){return t.find(r=>r.type===e&&r1(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function R5(t,e,n={}){return!!qF(t,e,n)}function yg(t,e,n){var r;if(!t||!e)return;let o=t.parent.childAfter(t.parentOffset);if((!o.node||!o.node.marks.some(f=>f.type===e))&&(o=t.parent.childBefore(t.parentOffset)),!o.node||!o.node.marks.some(f=>f.type===e)||(n=n||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!qF([...o.node.marks],e,n)))return;let s=o.index,a=t.start()+o.offset,l=s+1,c=a+o.node.nodeSize;for(;s>0&&R5([...t.parent.child(s-1).marks],e,n);)s-=1,a-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&R5([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Dc(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const q1e=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const i=Dc(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:f}=a;if(o){const h=yg(l,i,e);if(h&&h.from<=c&&h.to>=f){const p=He.create(s,h.from,h.to);n.setSelection(p)}}return!0},Y1e=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function aw(t){return t instanceof He}function Ga(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function YF(t,e=null){if(!e)return null;const n=Ke.atStart(t),r=Ke.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const o=n.from,i=r.to;return e==="all"?He.create(t,Ga(0,o,i),Ga(t.content.size,o,i)):He.create(t,Ga(e,o,i),Ga(e,o,i))}function KF(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function lw(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const K1e=(t=null,e={})=>({editor:n,view:r,tr:o,dispatch:i})=>{e={scrollIntoView:!0,...e};const s=()=>{(lw()||KF())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!aw(n.state.selection))return s(),!0;const a=YF(o.doc,t)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0},Z1e=(t,e)=>n=>t.every((r,o)=>e(r,{...n,index:o})),X1e=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),ZF=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&ZF(r)}return t};function yb(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return ZF(n)}function o1(t,e,n){if(t instanceof Ja||t instanceof ce)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,o=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ce.fromArray(t.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),o1("",e,n)}if(o){if(n.errorOnInvalidContent){let s=!1,a="";const l=new Az({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Lu.fromSchema(l).parseSlice(yb(t),n.parseOptions):Lu.fromSchema(l).parse(yb(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=Lu.fromSchema(e);return n.slice?i.parseSlice(yb(t),n.parseOptions).content:i.parse(yb(t),n.parseOptions)}return o1("",e,n)}function XF(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof ar||o instanceof zn))return;const i=t.mapping.maps[r];let s=0;i.forEach((a,l,c,f)=>{s===0&&(s=f)}),t.setSelection(Ke.near(t.doc.resolve(s),n))}const J1e=t=>!("type"in t),Q1e=(t,e,n)=>({tr:r,dispatch:o,editor:i})=>{var s;if(o){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=o1(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:i.options.enableContentCheck})}catch(b){return i.emit("contentError",{editor:i,error:b,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,h=!0;if((J1e(a)?a:[a]).forEach(b=>{b.check(),f=f?b.isText&&b.marks.length===0:!1,h=h?b.isBlock:!1}),l===c&&h){const{parent:b}=r.doc.resolve(l);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(l-=1,c+=1)}let y;if(f){if(Array.isArray(e))y=e.map(b=>b.text||"").join("");else if(e instanceof ce){let b="";e.forEach(x=>{x.text&&(b+=x.text)}),y=b}else typeof e=="object"&&e&&e.text?y=e.text:y=e;r.insertText(y,l,c)}else y=a,r.replaceWith(l,c,y);n.updateSelection&&XF(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:y}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:y})}return!0},exe=()=>({state:t,dispatch:e})=>r1e(t,e),txe=()=>({state:t,dispatch:e})=>o1e(t,e),nxe=()=>({state:t,dispatch:e})=>RF(t,e),rxe=()=>({state:t,dispatch:e})=>PF(t,e),oxe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Xx(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},ixe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Xx(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},sxe=()=>({state:t,dispatch:e})=>t1e(t,e),axe=()=>({state:t,dispatch:e})=>n1e(t,e);function JF(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function lxe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,o,i,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))lw()||JF()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const cxe=t=>({editor:e,view:n,tr:r,dispatch:o})=>{const i=lxe(t).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const f=c.map(r.mapping);f&&o&&r.maybeStep(f)}),!0};function vg(t,e,n={}){const{from:r,to:o,empty:i}=t.selection,s=e?Cr(e,t.schema):null,a=[];t.doc.nodesBetween(r,o,(h,p)=>{if(h.isText)return;const y=Math.max(r,p),b=Math.min(o,p+h.nodeSize);a.push({node:h,from:y,to:b})});const l=o-r,c=a.filter(h=>s?s.name===h.node.type.name:!0).filter(h=>r1(h.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((h,p)=>h+p.to-p.from,0)>=l}const uxe=(t,e={})=>({state:n,dispatch:r})=>{const o=Cr(t,n.schema);return vg(n,o,e)?i1e(n,r):!1},dxe=()=>({state:t,dispatch:e})=>VF(t,e),fxe=t=>({state:e,dispatch:n})=>{const r=Cr(t,e.schema);return y1e(r)(e,n)},hxe=()=>({state:t,dispatch:e})=>jF(t,e);function cw(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function N5(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,o)=>(n.includes(o)||(r[o]=t[o]),r),{})}const pxe=(t,e)=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=cw(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=Cr(t,r.schema)),a==="mark"&&(s=Dc(t,r.schema)),o&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,f)=>{i&&i===c.type&&n.setNodeMarkup(f,void 0,N5(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(h=>{s===h.type&&n.addMark(f,f+c.nodeSize,s.create(N5(h.attrs,e)))})})}),!0):!1},mxe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),gxe=()=>({tr:t,dispatch:e})=>{if(e){const n=new To(t.doc);t.setSelection(n)}return!0},yxe=()=>({state:t,dispatch:e})=>OF(t,e),vxe=()=>({state:t,dispatch:e})=>LF(t,e),bxe=()=>({state:t,dispatch:e})=>c1e(t,e),xxe=()=>({state:t,dispatch:e})=>f1e(t,e),wxe=()=>({state:t,dispatch:e})=>d1e(t,e);function i1(t,e,n={},r={}){return o1(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const Sxe=(t,e=!1,n={},r={})=>({editor:o,tr:i,dispatch:s,commands:a})=>{var l,c;const{doc:f}=i;if(n.preserveWhitespace!=="full"){const h=i1(t,o.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:o.options.enableContentCheck});return s&&i.replaceWith(0,f.content.size,h).setMeta("preventUpdate",!e),!0}return s&&i.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:f.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:o.options.enableContentCheck})};function QF(t,e){const n=Dc(e,t.schema),{from:r,to:o,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function eU(t,e){const n=new FA(t);return e.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function Cxe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function O5(t,e){const n=[];return t.descendants((r,o)=>{e(r)&&n.push({node:r,pos:o})}),n}function tU(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(o,i)=>{n(o)&&r.push({node:o,pos:i})}),r}function kxe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function uw(t){return e=>kxe(e.$from,t)}function _xe(t,e){const n=ku.resolve(t);return FF(n,e)}function Exe(t,e){const n={from:0,to:t.content.size};return UF(t,n,e)}function Txe(t,e){const n=Cr(e,t.schema),{from:r,to:o}=t.selection,i=[];t.doc.nodesBetween(r,o,a=>{i.push(a)});const s=i.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function nU(t,e){const n=cw(typeof e=="string"?e:e.name,t.schema);return n==="node"?Txe(t,e):n==="mark"?QF(t,e):{}}function Mxe(t,e=JSON.stringify){const n={};return t.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function Axe(t){const e=Mxe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,s)=>s!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function rU(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((o,i)=>{const s=[];if(o.ranges.length)o.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=n[i];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const c=e.slice(i).map(a,-1),f=e.slice(i).map(l),h=e.invert().map(c,-1),p=e.invert().map(f);r.push({oldRange:{from:h,to:p},newRange:{from:c,to:f}})})}),Axe(r)}function lR(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(o=>{const i=n.resolve(t),s=yg(i,o.type);s&&r.push({mark:o,...s})}):n.nodesBetween(t,e,(o,i)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(s=>({from:i,to:i+o.nodeSize,mark:s})))}),r}function e0(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=t.find(i=>i.type===e&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}function NT(t,e,n={}){const{empty:r,ranges:o}=t.selection,i=e?Dc(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>i?i.name===h.type.name:!0).find(h=>r1(h.attrs,n,{strict:!1}));let s=0;const a=[];if(o.forEach(({$from:h,$to:p})=>{const y=h.pos,b=p.pos;t.doc.nodesBetween(y,b,(x,C)=>{if(!x.isText&&!x.marks.length)return;const k=Math.max(y,C),E=Math.min(b,C+x.nodeSize),T=E-k;s+=T,a.push(...x.marks.map(R=>({mark:R,from:k,to:E})))})}),s===0)return!1;const l=a.filter(h=>i?i.name===h.mark.type.name:!0).filter(h=>r1(h.mark.attrs,n,{strict:!1})).reduce((h,p)=>h+p.to-p.from,0),c=a.filter(h=>i?h.mark.type!==i&&h.mark.type.excludes(i):!0).reduce((h,p)=>h+p.to-p.from,0);return(l>0?l+c:l)>=s}function Rxe(t,e,n={}){if(!e)return vg(t,null,n)||NT(t,null,n);const r=cw(e,t.schema);return r==="node"?vg(t,e,n):r==="mark"?NT(t,e,n):!1}function D5(t,e){const{nodeExtensions:n}=iw(e),r=n.find(s=>s.name===t);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=kt(Pe(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function cR(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let o=!0;return t.content.forEach(i=>{o!==!1&&(cR(i,{ignoreWhitespace:n,checkChildren:e})||(o=!1))}),o}return!1}function OT(t){return t instanceof ze}function s1(t,e,n){const o=t.state.doc.content.size,i=Ga(e,0,o),s=Ga(n,0,o),a=t.coordsAtPos(i),l=t.coordsAtPos(s,-1),c=Math.min(a.top,l.top),f=Math.max(a.bottom,l.bottom),h=Math.min(a.left,l.left),p=Math.max(a.right,l.right),y=p-h,b=f-c,k={top:c,bottom:f,left:h,right:p,width:y,height:b,x:h,y:c};return{...k,toJSON:()=>k}}function Nxe(t,e,n){var r;const{selection:o}=e;let i=null;if(aw(o)&&(i=o.$cursor),i){const a=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=o;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(f,h,p)=>{if(c)return!1;if(f.isInline){const y=!p||p.type.allowsMarkType(n),b=!!n.isInSet(f.marks)||!f.marks.some(x=>x.type.excludes(n));c=y&&b}return!c}),c})}const Oxe=(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:s,ranges:a}=i,l=Dc(t,r.schema);if(o)if(s){const c=QF(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const f=c.$from.pos,h=c.$to.pos;r.doc.nodesBetween(f,h,(p,y)=>{const b=Math.max(y,f),x=Math.min(y+p.nodeSize,h);p.marks.find(k=>k.type===l)?p.marks.forEach(k=>{l===k.type&&n.addMark(b,x,l.create({...k.attrs,...e}))}):n.addMark(b,x,l.create(e))})});return Nxe(r,n,l)},Dxe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Pxe=(t,e={})=>({state:n,dispatch:r,chain:o})=>{const i=Cr(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:a})=>E5(i,{...s,...e})(n)?!0:a.clearNodes()).command(({state:a})=>E5(i,{...s,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Lxe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,o=Ga(t,0,r.content.size),i=ze.create(r,o);e.setSelection(i)}return!0},jxe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:o,to:i}=typeof t=="number"?{from:t,to:t}:t,s=He.atStart(r).from,a=He.atEnd(r).to,l=Ga(o,s,a),c=Ga(i,s,a),f=He.create(r,l,c);e.setSelection(f)}return!0},Ixe=t=>({state:e,dispatch:n})=>{const r=Cr(t,e.schema);return x1e(r)(e,n)};function P5(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(o=>e==null?void 0:e.includes(o.type.name));t.tr.ensureMarks(r)}}const Vxe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:s}=e,{$from:a,$to:l}=i,c=o.extensionManager.attributes,f=e0(c,a.node().type.name,a.node().attrs);if(i instanceof ze&&i.node.isBlock)return!a.parentOffset||!Qa(s,a.pos)?!1:(r&&(t&&P5(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,p=a.depth===0?void 0:Cxe(a.node(-1).contentMatchAt(a.indexAfter(-1)));let y=h&&p?[{type:p,attrs:f}]:void 0,b=Qa(e.doc,e.mapping.map(a.pos),1,y);if(!y&&!b&&Qa(e.doc,e.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(b=!0,y=p?[{type:p,attrs:f}]:void 0),r){if(b&&(i instanceof He&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,y),p&&!h&&!a.parentOffset&&a.parent.type!==p)){const x=e.mapping.map(a.before()),C=e.doc.resolve(x);a.node(-1).canReplaceWith(C.index(),C.index()+1,p)&&e.setNodeMarkup(e.mapping.map(a.before()),p)}t&&P5(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return b},Bxe=(t,e={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var s;const a=Cr(t,r.schema),{$from:l,$to:c}=r.selection,f=r.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(c))return!1;const h=l.node(-1);if(h.type!==a)return!1;const p=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let k=ce.empty;const E=l.index(-1)?1:l.index(-2)?2:3;for(let j=l.depth-E;j>=l.depth-3;j-=1)k=ce.from(l.node(j).copy(k));const T=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,R={...e0(p,l.node().type.name,l.node().attrs),...e},A=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(R))||void 0;k=k.append(ce.from(a.createAndFill(null,A)||void 0));const N=l.before(l.depth-(E-1));n.replace(N,l.after(-T),new Se(k,4-E,0));let O=-1;n.doc.nodesBetween(N,n.doc.content.size,(j,P)=>{if(O>-1)return!1;j.isTextblock&&j.content.size===0&&(O=P+1)}),O>-1&&n.setSelection(He.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const y=c.pos===l.end()?h.contentMatchAt(0).defaultType:null,b={...e0(p,h.type.name,h.attrs),...e},x={...e0(p,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const C=y?[{type:a,attrs:b},{type:y,attrs:x}]:[{type:a,attrs:b}];if(!Qa(n.doc,l.pos,2))return!1;if(o){const{selection:k,storedMarks:E}=r,{splittableMarks:T}=i.extensionManager,R=E||k.$to.parentOffset&&k.$from.marks();if(n.split(l.pos,2,C).scrollIntoView(),!R||!o)return!0;const A=R.filter(N=>T.includes(N.type.name));n.ensureMarks(A)}return!0},v_=(t,e)=>{const n=uw(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&hd(t.doc,n.pos)&&t.join(n.pos),!0},b_=(t,e)=>{const n=uw(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=t.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&hd(t.doc,r)&&t.join(r),!0},$xe=(t,e,n,r={})=>({editor:o,tr:i,state:s,dispatch:a,chain:l,commands:c,can:f})=>{const{extensions:h,splittableMarks:p}=o.extensionManager,y=Cr(t,s.schema),b=Cr(e,s.schema),{selection:x,storedMarks:C}=s,{$from:k,$to:E}=x,T=k.blockRange(E),R=C||x.$to.parentOffset&&x.$from.marks();if(!T)return!1;const A=uw(N=>D5(N.type.name,h))(x);if(T.depth>=1&&A&&T.depth-A.depth<=1){if(A.node.type===y)return c.liftListItem(b);if(D5(A.node.type.name,h)&&y.validContent(A.node.content)&&a)return l().command(()=>(i.setNodeMarkup(A.pos,y),!0)).command(()=>v_(i,y)).command(()=>b_(i,y)).run()}return!n||!R||!a?l().command(()=>f().wrapInList(y,r)?!0:c.clearNodes()).wrapInList(y,r).command(()=>v_(i,y)).command(()=>b_(i,y)).run():l().command(()=>{const N=f().wrapInList(y,r),O=R.filter(j=>p.includes(j.type.name));return i.ensureMarks(O),N?!0:c.clearNodes()}).wrapInList(y,r).command(()=>v_(i,y)).command(()=>b_(i,y)).run()},Hxe=(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,s=Dc(t,r.schema);return NT(r,s,e)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,e)},zxe=(t,e,n={})=>({state:r,commands:o})=>{const i=Cr(t,r.schema),s=Cr(e,r.schema),a=vg(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?o.setNode(s,l):o.setNode(i,{...l,...n})},Fxe=(t,e={})=>({state:n,commands:r})=>{const o=Cr(t,n.schema);return vg(n,o,e)?r.lift(o):r.wrapIn(o,e)},Uxe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){const s=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else s.delete(i.from,i.to)}return!0}}return!1},Gxe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:o}=n;return r||e&&o.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},Wxe=(t,e={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=Dc(t,r.schema),{$from:c,empty:f,ranges:h}=a;if(!o)return!0;if(f&&s){let{from:p,to:y}=a;const b=(i=c.marks().find(C=>C.type===l))===null||i===void 0?void 0:i.attrs,x=yg(c,l,b);x&&(p=x.from,y=x.to),n.removeMark(p,y,l)}else h.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},qxe=(t,e={})=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=cw(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=Cr(t,r.schema)),a==="mark"&&(s=Dc(t,r.schema)),o&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,f=l.$to.pos;let h,p,y,b;n.selection.empty?r.doc.nodesBetween(c,f,(x,C)=>{i&&i===x.type&&(y=Math.max(C,c),b=Math.min(C+x.nodeSize,f),h=C,p=x)}):r.doc.nodesBetween(c,f,(x,C)=>{C<c&&i&&i===x.type&&(y=Math.max(C,c),b=Math.min(C+x.nodeSize,f),h=C,p=x),C>=c&&C<=f&&(i&&i===x.type&&n.setNodeMarkup(C,void 0,{...x.attrs,...e}),s&&x.marks.length&&x.marks.forEach(k=>{if(s===k.type){const E=Math.max(C,c),T=Math.min(C+x.nodeSize,f);n.addMark(E,T,s.create({...k.attrs,...e}))}}))}),p&&(h!==void 0&&n.setNodeMarkup(h,void 0,{...p.attrs,...e}),s&&p.marks.length&&p.marks.forEach(x=>{s===x.type&&n.addMark(y,b,s.create({...x.attrs,...e}))}))}),!0):!1},Yxe=(t,e={})=>({state:n,dispatch:r})=>{const o=Cr(t,n.schema);return h1e(o,e)(n,r)},Kxe=(t,e={})=>({state:n,dispatch:r})=>{const o=Cr(t,n.schema);return p1e(o,e)(n,r)};var Zxe=Object.freeze({__proto__:null,blur:L1e,clearContent:j1e,clearNodes:I1e,command:V1e,createParagraphNear:B1e,cut:$1e,deleteCurrentNode:H1e,deleteNode:z1e,deleteRange:F1e,deleteSelection:U1e,enter:G1e,exitCode:W1e,extendMarkRange:q1e,first:Y1e,focus:K1e,forEach:Z1e,insertContent:X1e,insertContentAt:Q1e,joinBackward:nxe,joinDown:txe,joinForward:rxe,joinItemBackward:oxe,joinItemForward:ixe,joinTextblockBackward:sxe,joinTextblockForward:axe,joinUp:exe,keyboardShortcut:cxe,lift:uxe,liftEmptyBlock:dxe,liftListItem:fxe,newlineInCode:hxe,resetAttributes:pxe,scrollIntoView:mxe,selectAll:gxe,selectNodeBackward:yxe,selectNodeForward:vxe,selectParentNode:bxe,selectTextblockEnd:xxe,selectTextblockStart:wxe,setContent:Sxe,setMark:Oxe,setMeta:Dxe,setNode:Pxe,setNodeSelection:Lxe,setTextSelection:jxe,sinkListItem:Ixe,splitBlock:Vxe,splitListItem:Bxe,toggleList:$xe,toggleMark:Hxe,toggleNode:zxe,toggleWrap:Fxe,undoInputRule:Uxe,unsetAllMarks:Gxe,unsetMark:Wxe,updateAttributes:qxe,wrapIn:Yxe,wrapInList:Kxe});const oU=Jt.create({name:"commands",addCommands(){return{...Zxe}}}),iU=Jt.create({name:"drop",addProseMirrorPlugins(){return[new gt({key:new Dt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),sU=Jt.create({name:"editable",addProseMirrorPlugins(){return[new gt({key:new Dt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),aU=Jt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new gt({key:new Dt("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),lU=Jt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:f,$anchor:h}=l,{pos:p,parent:y}=h,b=h.parent.isTextblock&&p>0?a.doc.resolve(p-1):h,x=b.parent.type.spec.isolating,C=h.pos-h.parentOffset,k=x&&b.parent.childCount===1?C===h.pos:Ke.atStart(c).from===p;return!f||!y.type.isTextblock||y.textContent.length||!k||k&&h.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return lw()||JF()?i:o},addProseMirrorPlugins(){return[new gt({key:new Dt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(x=>x.getMeta("composition")))return;const r=t.some(x=>x.docChanged)&&!e.doc.eq(n.doc),o=t.some(x=>x.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:s,to:a}=e.selection,l=Ke.atStart(e.doc).from,c=Ke.atEnd(e.doc).to;if(i||!(s===l&&a===c)||!cR(n.doc))return;const p=n.tr,y=rw({state:n,transaction:p}),{commands:b}=new ow({editor:this.editor,state:y});if(b.clearNodes(),!!p.steps.length)return p}})]}}),cU=Jt.create({name:"paste",addProseMirrorPlugins(){return[new gt({key:new Dt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),uU=Jt.create({name:"tabindex",addProseMirrorPlugins(){return[new gt({key:new Dt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Zp=Object.freeze({__proto__:null,ClipboardTextSerializer:WF,Commands:oU,Drop:iU,Editable:sU,FocusEvents:aU,Keymap:lU,Paste:cU,Tabindex:uU});class gu{get name(){return this.node.type.name}constructor(e,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new gu(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new gu(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new gu(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,s=this.pos+r+(i?0:1),a=this.resolvedPos.doc.resolve(s);if(!o&&a.depth<=this.depth)return;const l=new gu(a,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),e.push(new gu(a,this.editor,o,o?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(n).length>0){const i=o.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(i[l]!==n[l])break}}else r=o;o=o.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(n);return this.children.forEach(s=>{r&&o.length>0||(s.node.type.name===e&&i.every(l=>n[l]===s.node.attrs[l])&&o.push(s),!(r&&o.length>0)&&(o=o.concat(s.querySelectorAll(e,n,r))))}),o}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const Xxe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Jxe(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}let Qxe=class extends w1e{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:o})=>this.options.onDrop(n,r,o)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Jxe(Xxe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=zF(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;r=n.filter(a=>!a.key.startsWith(s))}),n.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var e,n;const o=[...this.options.enableCoreExtensions?[sU,WF.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),oU,aU,lU,uU,iU,cU].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new ku(o,this)}createCommandManager(){this.commandManager=new ow({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=i1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=i1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=YF(n,this.options.autofocus);this.view=new MF(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:wu.create({doc:n,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),i=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return nU(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,o=typeof e=="string"?n:e;return Rxe(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return sR(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return Exe(this.state.doc,{blockSeparator:n,textSerializers:{...GF(this.schema),...r}})}get isEmpty(){return cR(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new gu(n,this)}get $doc(){return this.$pos(0)}};function hh(t){return new Zu({find:t.find,handler:({state:e,range:n,match:r})=>{const o=kt(t.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:i}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),f=c+s.length;if(lR(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(x=>x===t.type&&x!==y.mark.type)).filter(y=>y.to>c).length)return null;f<n.to&&i.delete(f,n.to),c>n.from&&i.delete(n.from+l,c);const p=n.from+l+s.length;i.addMark(n.from+l,p,t.type.create(o||{})),i.removeStoredMark(t.type)}}})}let la=class DT{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=kt(Pe(this,"addOptions",{name:this.name}))),this.storage=kt(Pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new DT(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>sw(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new DT(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=kt(Pe(n,"addOptions",{name:n.name})),n.storage=kt(Pe(n,"addStorage",{name:n.name,options:n.options})),n}};class ewe{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,o,i,s,a,l;const{view:c}=this.editor,f=e.target,h=f.nodeType===3?(n=f.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):f.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(f)||!h)return;let p=0,y=0;if(this.dom!==h){const k=this.dom.getBoundingClientRect(),E=h.getBoundingClientRect(),T=(o=e.offsetX)!==null&&o!==void 0?o:(i=e.nativeEvent)===null||i===void 0?void 0:i.offsetX,R=(s=e.offsetY)!==null&&s!==void 0?s:(a=e.nativeEvent)===null||a===void 0?void 0:a.offsetY;p=E.x-k.x+T,y=E.y-k.y+R}(l=e.dataTransfer)===null||l===void 0||l.setDragImage(this.dom,p,y);const b=this.getPos();if(typeof b!="number")return;const x=ze.create(c.state.doc,b),C=c.state.tr.setSelection(x);c.dispatch(C)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const i=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!i)return!0;const{isEditable:l}=this.editor,{isDragging:c}=this,f=!!this.node.type.spec.draggable,h=ze.isSelectable(this.node),p=e.type==="copy",y=e.type==="paste",b=e.type==="cut",x=e.type==="mousedown";if(!f&&h&&i&&e.target===this.dom&&e.preventDefault(),f&&i&&!c&&e.target===this.dom)return e.preventDefault(),!1;if(f&&l&&!c&&x){const C=r.closest("[data-drag-handle]");C&&(this.dom===C||this.dom.contains(C))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(c||s||p||y||b||x&&h)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(lw()||KF())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return typeof r!="number"?!1:(n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function Xu(t){return new A1e({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:o})=>{const i=kt(t.getAttributes,void 0,r,o);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const f=l.search(/\S/),h=n.from+l.indexOf(a),p=h+a.length;if(lR(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(C=>C===t.type&&C!==b.mark.type)).filter(b=>b.to>h).length)return null;p<n.to&&s.delete(p,n.to),h>n.from&&s.delete(n.from+f,h),c=n.from+f+a.length,s.addMark(n.from+f,c,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}var vb,twe=new Uint8Array(16);function nwe(){if(!vb&&(vb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vb(twe)}const rwe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function owe(t){return typeof t=="string"&&rwe.test(t)}var Ar=[];for(var x_=0;x_<256;++x_)Ar.push((x_+256).toString(16).substr(1));function iwe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ar[t[e+0]]+Ar[t[e+1]]+Ar[t[e+2]]+Ar[t[e+3]]+"-"+Ar[t[e+4]]+Ar[t[e+5]]+"-"+Ar[t[e+6]]+Ar[t[e+7]]+"-"+Ar[t[e+8]]+Ar[t[e+9]]+"-"+Ar[t[e+10]]+Ar[t[e+11]]+Ar[t[e+12]]+Ar[t[e+13]]+Ar[t[e+14]]+Ar[t[e+15]]).toLowerCase();if(!owe(n))throw TypeError("Stringified UUID is invalid");return n}function dU(t,e,n){t=t||{};var r=t.random||(t.rng||nwe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,iwe(r)}var swe=class fU{constructor(e){this.cache=new Map(e)}get(e){return this.cache.get(e)}set(e,n,r){e<0||this.cache.set(e,[n,r])}replace(e,n,r,o){this.remove(e),this.set(n,r,o)}remove(e){this.cache.delete(e)}invalidate(e){const n=new fU(this.cache),r=e.mapping;return this.cache.forEach(([o,i],s)=>{if(s<0)return;const a=r.mapResult(s),l=e.doc.nodeAt(a.pos);if(a.deleted||!(l!=null&&l.eq(o)))n.remove(s);else if(s!==a.pos){const c=i.map(f=>f.map(r,0,0)).filter(f=>f!=null);n.replace(s,a.pos,l,c)}}),n}};function awe({parser:t,nodeTypes:e=["code_block"],languageExtractor:n=r=>r.attrs.language}){const r=new Dt;return new gt({key:r,state:{init(o,i){const s=new swe,[a,l]=L5(i.doc,t,e,n,s);return{cache:s,decorations:a,promises:l}},apply:(o,i)=>{const s=i.cache.invalidate(o),a=!!o.getMeta("prosemirror-highlight-refresh");if(!o.docChanged&&!a){const f=i.decorations.map(o.mapping,o.doc),h=i.promises;return{cache:s,decorations:f,promises:h}}const[l,c]=L5(o.doc,t,e,n,s);return{cache:s,decorations:l,promises:c}}},view:o=>{const i=new Set,s=()=>{if(i.size>0)return;const l=o.state.tr.setMeta("prosemirror-highlight-refresh",!0);o.dispatch(l)},a=()=>{var l;const c=r.getState(o.state);for(const f of(l=c==null?void 0:c.promises)!=null?l:[])i.add(f),f.then(()=>{i.delete(f),s()}).catch(()=>{i.delete(f)})};return a(),{update:()=>{a()}}},props:{decorations(o){var i;return(i=this.getState(o))==null?void 0:i.decorations}}})}function L5(t,e,n,r,o){const i=[],s=[];return t.descendants((a,l)=>{if(!a.type.isTextblock)return!0;if(n.includes(a.type.name)){const c=r(a),f=o.get(l);if(f){const[h,p]=f;i.push(...p)}else{const h=e({content:a.textContent,language:c||void 0,pos:l});h&&Array.isArray(h)?(o.set(l,a,h),i.push(...h)):h instanceof Promise&&(o.remove(l),s.push(h))}}return!1}),[St.create(t,i),s]}const dw=[{id:"abap",name:"ABAP",import:()=>I(()=>import("./abap-DsBKuouk.js"),[])},{id:"actionscript-3",name:"ActionScript",import:()=>I(()=>import("./actionscript-3-D_z4Izcz.js"),[])},{id:"ada",name:"Ada",import:()=>I(()=>import("./ada-727ZlQH0.js"),[])},{id:"angular-html",name:"Angular HTML",import:()=>I(()=>import("./angular-html-LfdN0zeE.js").then(t=>t.f),__vite__mapDeps([0,1,2,3]))},{id:"angular-ts",name:"Angular TypeScript",import:()=>I(()=>import("./angular-ts-CKsD7JZE.js"),__vite__mapDeps([4,0,1,2,3,5]))},{id:"apache",name:"Apache Conf",import:()=>I(()=>import("./apache-Dn00JSTd.js"),[])},{id:"apex",name:"Apex",import:()=>I(()=>import("./apex-COJ4H7py.js"),[])},{id:"apl",name:"APL",import:()=>I(()=>import("./apl-BBq3IX1j.js"),__vite__mapDeps([6,1,2,3,7,8,9]))},{id:"applescript",name:"AppleScript",import:()=>I(()=>import("./applescript-Bu5BbsvL.js"),[])},{id:"ara",name:"Ara",import:()=>I(()=>import("./ara-7O62HKoU.js"),[])},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>I(()=>import("./asciidoc-BPT9niGB.js"),[])},{id:"asm",name:"Assembly",import:()=>I(()=>import("./asm-Dhn9LcZ4.js"),[])},{id:"astro",name:"Astro",import:()=>I(()=>import("./astro-CqkE3fuf.js"),__vite__mapDeps([10,9,2,11,3,12]))},{id:"awk",name:"AWK",import:()=>I(()=>import("./awk-eg146-Ew.js"),[])},{id:"ballerina",name:"Ballerina",import:()=>I(()=>import("./ballerina-Du268qiB.js"),[])},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>I(()=>import("./bat-fje9CFhw.js"),[])},{id:"beancount",name:"Beancount",import:()=>I(()=>import("./beancount-BwXTMy5W.js"),[])},{id:"berry",name:"Berry",aliases:["be"],import:()=>I(()=>import("./berry-3xVqZejG.js"),[])},{id:"bibtex",name:"BibTeX",import:()=>I(()=>import("./bibtex-xW4inM5L.js"),[])},{id:"bicep",name:"Bicep",import:()=>I(()=>import("./bicep-DHo0CJ0O.js"),[])},{id:"blade",name:"Blade",import:()=>I(()=>import("./blade-a8OxSdnT.js"),__vite__mapDeps([13,1,2,3,7,8,14,9]))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>I(()=>import("./bsl-Dgyn0ogV.js"),__vite__mapDeps([15,16]))},{id:"c",name:"C",import:()=>I(()=>import("./c-C3t2pwGQ.js"),[])},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>I(()=>import("./cadence-DNquZEk8.js"),[])},{id:"cairo",name:"Cairo",import:()=>I(()=>import("./cairo--RitsXJZ.js"),__vite__mapDeps([17,18]))},{id:"clarity",name:"Clarity",import:()=>I(()=>import("./clarity-BHOwM8T6.js"),[])},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>I(()=>import("./clojure-DxSadP1t.js"),[])},{id:"cmake",name:"CMake",import:()=>I(()=>import("./cmake-DbXoA79R.js"),[])},{id:"cobol",name:"COBOL",import:()=>I(()=>import("./cobol-PTqiYgYu.js"),__vite__mapDeps([19,1,2,3,8]))},{id:"codeowners",name:"CODEOWNERS",import:()=>I(()=>import("./codeowners-Bp6g37R7.js"),[])},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>I(()=>import("./codeql-sacFqUAJ.js"),[])},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>I(()=>import("./coffee-dyiR41kL.js"),__vite__mapDeps([20,2]))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>I(()=>import("./common-lisp-C7gG9l05.js"),[])},{id:"coq",name:"Coq",import:()=>I(()=>import("./coq-Dsg_Bt_b.js"),[])},{id:"cpp",name:"C++",aliases:["c++"],import:()=>I(()=>import("./cpp-BksuvNSY.js"),__vite__mapDeps([21,22,23,24,14]))},{id:"crystal",name:"Crystal",import:()=>I(()=>import("./crystal-DtDmRg-F.js"),__vite__mapDeps([25,1,2,3,14,24,26]))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>I(()=>import("./csharp-D9R-vmeu.js"),[])},{id:"css",name:"CSS",import:()=>I(()=>import("./css-BPhBrDlE.js"),[])},{id:"csv",name:"CSV",import:()=>I(()=>import("./csv-B0qRVHPH.js"),[])},{id:"cue",name:"CUE",import:()=>I(()=>import("./cue-DtFQj3wx.js"),[])},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>I(()=>import("./cypher-m2LEI-9-.js"),[])},{id:"d",name:"D",import:()=>I(()=>import("./d-BoXegm-a.js"),[])},{id:"dart",name:"Dart",import:()=>I(()=>import("./dart-B9wLZaAG.js"),[])},{id:"dax",name:"DAX",import:()=>I(()=>import("./dax-ClGRhx96.js"),[])},{id:"desktop",name:"Desktop",import:()=>I(()=>import("./desktop-DEIpsLCJ.js"),[])},{id:"diff",name:"Diff",import:()=>I(()=>import("./diff-BgYniUM_.js"),[])},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>I(()=>import("./docker-COcR7UxN.js"),[])},{id:"dotenv",name:"dotEnv",import:()=>I(()=>import("./dotenv-BjQB5zDj.js"),[])},{id:"dream-maker",name:"Dream Maker",import:()=>I(()=>import("./dream-maker-C-nORZOA.js"),[])},{id:"edge",name:"Edge",import:()=>I(()=>import("./edge-D5gP-w-T.js"),__vite__mapDeps([27,11,1,2,3,28]))},{id:"elixir",name:"Elixir",import:()=>I(()=>import("./elixir-CLiX3zqd.js"),__vite__mapDeps([29,1,2,3]))},{id:"elm",name:"Elm",import:()=>I(()=>import("./elm-CmHSxxaM.js"),__vite__mapDeps([30,23,24]))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>I(()=>import("./emacs-lisp-BX77sIaO.js"),[])},{id:"erb",name:"ERB",import:()=>I(()=>import("./erb-BYTLMnw6.js"),__vite__mapDeps([31,1,2,3,32,33,7,8,14,34,11,35,36,21,22,23,24,26,37,38]))},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>I(()=>import("./erlang-B-DoSBHF.js"),[])},{id:"fennel",name:"Fennel",import:()=>I(()=>import("./fennel-bCA53EVm.js"),[])},{id:"fish",name:"Fish",import:()=>I(()=>import("./fish-w-ucz2PV.js"),[])},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>I(()=>import("./fluent-Dayu4EKP.js"),[])},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>I(()=>import("./fortran-fixed-form-TqA4NnZg.js"),__vite__mapDeps([39,40]))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>I(()=>import("./fortran-free-form-DKXYxT9g.js"),[])},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>I(()=>import("./fsharp-XplgxFYe.js"),__vite__mapDeps([41,42]))},{id:"gdresource",name:"GDResource",import:()=>I(()=>import("./gdresource-BHYsBjWJ.js"),__vite__mapDeps([43,44,45]))},{id:"gdscript",name:"GDScript",import:()=>I(()=>import("./gdscript-DfxzS6Rs.js"),[])},{id:"gdshader",name:"GDShader",import:()=>I(()=>import("./gdshader-SKMF96pI.js"),[])},{id:"genie",name:"Genie",import:()=>I(()=>import("./genie-ajMbGru0.js"),[])},{id:"gherkin",name:"Gherkin",import:()=>I(()=>import("./gherkin--30QC5Em.js"),[])},{id:"git-commit",name:"Git Commit Message",import:()=>I(()=>import("./git-commit-i4q6IMui.js"),__vite__mapDeps([46,47]))},{id:"git-rebase",name:"Git Rebase Message",import:()=>I(()=>import("./git-rebase-B-v9cOL2.js"),__vite__mapDeps([48,26]))},{id:"gleam",name:"Gleam",import:()=>I(()=>import("./gleam-B430Bg39.js"),[])},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>I(()=>import("./glimmer-js-D-cwc0-E.js"),__vite__mapDeps([49,2,11,3,1]))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>I(()=>import("./glimmer-ts-pgjy16dm.js"),__vite__mapDeps([50,11,3,2,1]))},{id:"glsl",name:"GLSL",import:()=>I(()=>import("./glsl-DBO2IWDn.js"),__vite__mapDeps([23,24]))},{id:"gnuplot",name:"Gnuplot",import:()=>I(()=>import("./gnuplot-CM8KxXT1.js"),[])},{id:"go",name:"Go",import:()=>I(()=>import("./go-B1SYOhNW.js"),[])},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>I(()=>import("./graphql-cDcHW_If.js"),__vite__mapDeps([34,2,11,35,36]))},{id:"groovy",name:"Groovy",import:()=>I(()=>import("./groovy-DkBy-JyN.js"),[])},{id:"hack",name:"Hack",import:()=>I(()=>import("./hack-D1yCygmZ.js"),__vite__mapDeps([51,1,2,3,14]))},{id:"haml",name:"Ruby Haml",import:()=>I(()=>import("./haml-B2EZWmdv.js"),__vite__mapDeps([33,2,3]))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>I(()=>import("./handlebars-BQGss363.js"),__vite__mapDeps([52,1,2,3,38]))},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>I(()=>import("./haskell-BILxekzW.js"),[])},{id:"haxe",name:"Haxe",import:()=>I(()=>import("./haxe-C5wWYbrZ.js"),[])},{id:"hcl",name:"HashiCorp HCL",import:()=>I(()=>import("./hcl-HzYwdGDm.js"),[])},{id:"hjson",name:"Hjson",import:()=>I(()=>import("./hjson-T-Tgc4AT.js"),[])},{id:"hlsl",name:"HLSL",import:()=>I(()=>import("./hlsl-ifBTmRxC.js"),[])},{id:"html",name:"HTML",import:()=>I(()=>import("./html-C2L_23MC.js"),__vite__mapDeps([1,2,3]))},{id:"html-derivative",name:"HTML (Derivative)",import:()=>I(()=>import("./html-derivative-CSfWNPLT.js"),__vite__mapDeps([28,1,2,3]))},{id:"http",name:"HTTP",import:()=>I(()=>import("./http-FRrOvY1W.js"),__vite__mapDeps([53,26,9,7,8,34,2,11,35,36]))},{id:"hxml",name:"HXML",import:()=>I(()=>import("./hxml-TIA70rKU.js"),__vite__mapDeps([54,55]))},{id:"hy",name:"Hy",import:()=>I(()=>import("./hy-BMj5Y0dO.js"),[])},{id:"imba",name:"Imba",import:()=>I(()=>import("./imba-bv_oIlVt.js"),__vite__mapDeps([56,11]))},{id:"ini",name:"INI",aliases:["properties"],import:()=>I(()=>import("./ini-BjABl1g7.js"),[])},{id:"java",name:"Java",import:()=>I(()=>import("./java-xI-RfyKK.js"),[])},{id:"javascript",name:"JavaScript",aliases:["js"],import:()=>I(()=>import("./javascript-ySlJ1b_l.js"),[])},{id:"jinja",name:"Jinja",import:()=>I(()=>import("./jinja-DGy0s7-h.js"),__vite__mapDeps([57,1,2,3]))},{id:"jison",name:"Jison",import:()=>I(()=>import("./jison-BqZprYcd.js"),__vite__mapDeps([58,2]))},{id:"json",name:"JSON",import:()=>I(()=>import("./json-BQoSv7ci.js"),[])},{id:"json5",name:"JSON5",import:()=>I(()=>import("./json5-w8dY5SsB.js"),[])},{id:"jsonc",name:"JSON with Comments",import:()=>I(()=>import("./jsonc-TU54ms6u.js"),[])},{id:"jsonl",name:"JSON Lines",import:()=>I(()=>import("./jsonl-DREVFZK8.js"),[])},{id:"jsonnet",name:"Jsonnet",import:()=>I(()=>import("./jsonnet-BfivnA6A.js"),[])},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>I(()=>import("./jssm-P4WzXJd0.js"),[])},{id:"jsx",name:"JSX",import:()=>I(()=>import("./jsx-BAng5TT0.js"),[])},{id:"julia",name:"Julia",aliases:["jl"],import:()=>I(()=>import("./julia-BBuGR-5E.js"),__vite__mapDeps([59,21,22,23,24,14,18,2,60]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>I(()=>import("./kotlin-B5lbUyaz.js"),[])},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>I(()=>import("./kusto-mebxcVVE.js"),[])},{id:"latex",name:"LaTeX",import:()=>I(()=>import("./latex-C-cWTeAZ.js"),__vite__mapDeps([61,62,60]))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>I(()=>import("./lean-XBlWyCtg.js"),[])},{id:"less",name:"Less",import:()=>I(()=>import("./less-BfCpw3nA.js"),[])},{id:"liquid",name:"Liquid",import:()=>I(()=>import("./liquid-D3W5UaiH.js"),__vite__mapDeps([63,1,2,3,9]))},{id:"log",name:"Log file",import:()=>I(()=>import("./log-Cc5clBb7.js"),[])},{id:"logo",name:"Logo",import:()=>I(()=>import("./logo-IuBKFhSY.js"),[])},{id:"lua",name:"Lua",import:()=>I(()=>import("./lua-CvWAzNxB.js"),__vite__mapDeps([37,24]))},{id:"luau",name:"Luau",import:()=>I(()=>import("./luau-Du5NY7AG.js"),[])},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>I(()=>import("./make-Bvotw-X0.js"),[])},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>I(()=>import("./markdown-UIAJJxZW.js"),[])},{id:"marko",name:"Marko",import:()=>I(()=>import("./marko-z0MBrx5-.js"),__vite__mapDeps([64,3,65,5,2]))},{id:"matlab",name:"MATLAB",import:()=>I(()=>import("./matlab-D9-PGadD.js"),[])},{id:"mdc",name:"MDC",import:()=>I(()=>import("./mdc-DB_EDNY_.js"),__vite__mapDeps([66,42,38,28,1,2,3]))},{id:"mdx",name:"MDX",import:()=>I(()=>import("./mdx-sdHcTMYB.js"),[])},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>I(()=>import("./mermaid-Ci6OQyBP.js"),[])},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>I(()=>import("./mipsasm-BC5c_5Pe.js"),[])},{id:"mojo",name:"Mojo",import:()=>I(()=>import("./mojo-Tz6hzZYG.js"),[])},{id:"move",name:"Move",import:()=>I(()=>import("./move-DB_GagMm.js"),[])},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>I(()=>import("./narrat-DLbgOhZU.js"),[])},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>I(()=>import("./nextflow-B0XVJmRM.js"),[])},{id:"nginx",name:"Nginx",import:()=>I(()=>import("./nginx-D_VnBJ67.js"),__vite__mapDeps([67,37,24]))},{id:"nim",name:"Nim",import:()=>I(()=>import("./nim-ZlGxZxc3.js"),__vite__mapDeps([68,24,1,2,3,7,8,23,42]))},{id:"nix",name:"Nix",import:()=>I(()=>import("./nix-shcSOmrb.js"),[])},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>I(()=>import("./nushell-D4Tzg5kh.js"),[])},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>I(()=>import("./objective-c-Deuh7S70.js"),[])},{id:"objective-cpp",name:"Objective-C++",import:()=>I(()=>import("./objective-cpp-BUEGK8hf.js"),[])},{id:"ocaml",name:"OCaml",import:()=>I(()=>import("./ocaml-BNioltXt.js"),[])},{id:"pascal",name:"Pascal",import:()=>I(()=>import("./pascal-JqZropPD.js"),[])},{id:"perl",name:"Perl",import:()=>I(()=>import("./perl-CHQXSrWU.js"),__vite__mapDeps([69,1,2,3,7,8,14]))},{id:"php",name:"PHP",import:()=>I(()=>import("./php-B5ebYQev.js"),__vite__mapDeps([70,1,2,3,7,8,14,9]))},{id:"plsql",name:"PL/SQL",import:()=>I(()=>import("./plsql-LKU2TuZ1.js"),[])},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>I(()=>import("./po-BFLt1xDp.js"),[])},{id:"polar",name:"Polar",import:()=>I(()=>import("./polar-DKykz6zU.js"),[])},{id:"postcss",name:"PostCSS",import:()=>I(()=>import("./postcss-B3ZDOciz.js"),[])},{id:"powerquery",name:"PowerQuery",import:()=>I(()=>import("./powerquery-CSHBycmS.js"),[])},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>I(()=>import("./powershell-BIEUsx6d.js"),[])},{id:"prisma",name:"Prisma",import:()=>I(()=>import("./prisma-B48N-Iqd.js"),[])},{id:"prolog",name:"Prolog",import:()=>I(()=>import("./prolog-BY-TUvya.js"),[])},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>I(()=>import("./proto-zocC4JxJ.js"),[])},{id:"pug",name:"Pug",aliases:["jade"],import:()=>I(()=>import("./pug-CM9l7STV.js"),__vite__mapDeps([71,2,3,1]))},{id:"puppet",name:"Puppet",import:()=>I(()=>import("./puppet-Cza_XSSt.js"),[])},{id:"purescript",name:"PureScript",import:()=>I(()=>import("./purescript-Bg-kzb6g.js"),[])},{id:"python",name:"Python",aliases:["py"],import:()=>I(()=>import("./python-DhUJRlN_.js"),[])},{id:"qml",name:"QML",import:()=>I(()=>import("./qml-D8XfuvdV.js"),__vite__mapDeps([72,2]))},{id:"qmldir",name:"QML Directory",import:()=>I(()=>import("./qmldir-C8lEn-DE.js"),[])},{id:"qss",name:"Qt Style Sheets",import:()=>I(()=>import("./qss-DhMKtDLN.js"),[])},{id:"r",name:"R",import:()=>I(()=>import("./r-CwjWoCRV.js"),[])},{id:"racket",name:"Racket",import:()=>I(()=>import("./racket-CzouJOBO.js"),[])},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>I(()=>import("./raku-B1bQXN8T.js"),[])},{id:"razor",name:"ASP.NET Razor",import:()=>I(()=>import("./razor-CNLDkMZG.js"),__vite__mapDeps([73,1,2,3,74]))},{id:"reg",name:"Windows Registry Script",import:()=>I(()=>import("./reg-5LuOXUq_.js"),[])},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>I(()=>import("./regexp-DWJ3fJO_.js"),[])},{id:"rel",name:"Rel",import:()=>I(()=>import("./rel-DJlmqQ1C.js"),[])},{id:"riscv",name:"RISC-V",import:()=>I(()=>import("./riscv-QhoSD0DR.js"),[])},{id:"rst",name:"reStructuredText",import:()=>I(()=>import("./rst-4NLicBqY.js"),__vite__mapDeps([75,28,1,2,3,21,22,23,24,14,18,26,38,76,32,33,7,8,34,11,35,36,37]))},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>I(()=>import("./ruby-DeZ3UC14.js"),__vite__mapDeps([32,1,2,3,33,7,8,14,34,11,35,36,21,22,23,24,26,37,38]))},{id:"rust",name:"Rust",aliases:["rs"],import:()=>I(()=>import("./rust-Be6lgOlo.js"),[])},{id:"sas",name:"SAS",import:()=>I(()=>import("./sas-BmTFh92c.js"),__vite__mapDeps([77,14]))},{id:"sass",name:"Sass",import:()=>I(()=>import("./sass-BJ4Li9vH.js"),[])},{id:"scala",name:"Scala",import:()=>I(()=>import("./scala-DQVVAn-B.js"),[])},{id:"scheme",name:"Scheme",import:()=>I(()=>import("./scheme-BJGe-b2p.js"),[])},{id:"scss",name:"SCSS",import:()=>I(()=>import("./scss-C31hgJw-.js"),__vite__mapDeps([5,3]))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>I(()=>import("./sdbl-BLhTXw86.js"),[])},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>I(()=>import("./shaderlab-B7qAK45m.js"),__vite__mapDeps([78,79]))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>I(()=>import("./shellscript-atvbtKCR.js"),[])},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>I(()=>import("./shellsession-C_rIy8kc.js"),__vite__mapDeps([80,26]))},{id:"smalltalk",name:"Smalltalk",import:()=>I(()=>import("./smalltalk-DkLiglaE.js"),[])},{id:"solidity",name:"Solidity",import:()=>I(()=>import("./solidity-C1w2a3ep.js"),[])},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>I(()=>import("./soy-C-lX7w71.js"),__vite__mapDeps([81,1,2,3]))},{id:"sparql",name:"SPARQL",import:()=>I(()=>import("./sparql-bYkjHRlG.js"),__vite__mapDeps([82,83]))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>I(()=>import("./splunk-Cf8iN4DR.js"),[])},{id:"sql",name:"SQL",import:()=>I(()=>import("./sql-COK4E0Yg.js"),[])},{id:"ssh-config",name:"SSH Config",import:()=>I(()=>import("./ssh-config-BknIz3MU.js"),[])},{id:"stata",name:"Stata",import:()=>I(()=>import("./stata-DorPZHa4.js"),__vite__mapDeps([84,14]))},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>I(()=>import("./stylus-BeQkCIfX.js"),[])},{id:"svelte",name:"Svelte",import:()=>I(()=>import("./svelte-MSaWC3Je.js"),__vite__mapDeps([85,2,11,3,12]))},{id:"swift",name:"Swift",import:()=>I(()=>import("./swift-BSxZ-RaX.js"),[])},{id:"system-verilog",name:"SystemVerilog",import:()=>I(()=>import("./system-verilog-C7L56vO4.js"),[])},{id:"systemd",name:"Systemd Units",import:()=>I(()=>import("./systemd-CUnW07Te.js"),[])},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>I(()=>import("./talonscript-C1XDQQGZ.js"),[])},{id:"tasl",name:"Tasl",import:()=>I(()=>import("./tasl-CQjiPCtT.js"),[])},{id:"tcl",name:"Tcl",import:()=>I(()=>import("./tcl-DQ1-QYvQ.js"),[])},{id:"templ",name:"Templ",import:()=>I(()=>import("./templ-dwX3ZSMB.js"),__vite__mapDeps([86,87,2,3]))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>I(()=>import("./terraform-BbSNqyBO.js"),[])},{id:"tex",name:"TeX",import:()=>I(()=>import("./tex-rYs2v40G.js"),__vite__mapDeps([62,60]))},{id:"toml",name:"TOML",import:()=>I(()=>import("./toml-CB2ApiWb.js"),[])},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>I(()=>import("./ts-tags-CipyTH0X.js"),__vite__mapDeps([88,11,3,2,23,24,1,14,7,8]))},{id:"tsv",name:"TSV",import:()=>I(()=>import("./tsv-B_m7g4N7.js"),[])},{id:"tsx",name:"TSX",import:()=>I(()=>import("./tsx-B6W0miNI.js"),[])},{id:"turtle",name:"Turtle",import:()=>I(()=>import("./turtle-BMR_PYu6.js"),[])},{id:"twig",name:"Twig",import:()=>I(()=>import("./twig-NC5TFiHP.js"),__vite__mapDeps([89,3,2,5,70,1,7,8,14,9,18,32,33,34,11,35,36,21,22,23,24,26,37,38]))},{id:"typescript",name:"TypeScript",aliases:["ts"],import:()=>I(()=>import("./typescript-Dj6nwHGl.js"),[])},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>I(()=>import("./typespec-BpWG_bgh.js"),[])},{id:"typst",name:"Typst",aliases:["typ"],import:()=>I(()=>import("./typst-BVUVsWT6.js"),[])},{id:"v",name:"V",import:()=>I(()=>import("./v-CAQ2eGtk.js"),[])},{id:"vala",name:"Vala",import:()=>I(()=>import("./vala-BFOHcciG.js"),[])},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>I(()=>import("./vb-CdO5JTpU.js"),[])},{id:"verilog",name:"Verilog",import:()=>I(()=>import("./verilog-CJaU5se_.js"),[])},{id:"vhdl",name:"VHDL",import:()=>I(()=>import("./vhdl-DYoNaHQp.js"),[])},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>I(()=>import("./viml-m4uW47V2.js"),[])},{id:"vue",name:"Vue",import:()=>I(()=>import("./vue-BuYVFjOK.js"),__vite__mapDeps([90,1,2,3,11,9,28]))},{id:"vue-html",name:"Vue HTML",import:()=>I(()=>import("./vue-html-xdeiXROB.js"),__vite__mapDeps([91,90,1,2,3,11,9,28]))},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>I(()=>import("./vyper-nyqBNV6O.js"),[])},{id:"wasm",name:"WebAssembly",import:()=>I(()=>import("./wasm-C6j12Q_x.js"),[])},{id:"wenyan",name:"Wenyan",aliases:["文言"],import:()=>I(()=>import("./wenyan-7A4Fjokl.js"),[])},{id:"wgsl",name:"WGSL",import:()=>I(()=>import("./wgsl-CB0Krxn9.js"),[])},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>I(()=>import("./wikitext-DCE3LsBG.js"),[])},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>I(()=>import("./wolfram-C3FkfJm5.js"),[])},{id:"xml",name:"XML",import:()=>I(()=>import("./xml-e3z08dGr.js"),__vite__mapDeps([7,8]))},{id:"xsl",name:"XSL",import:()=>I(()=>import("./xsl-Dd0NUgwM.js"),__vite__mapDeps([92,7,8]))},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>I(()=>import("./yaml-CVw76BM1.js"),[])},{id:"zenscript",name:"ZenScript",import:()=>I(()=>import("./zenscript-HnGAYVZD.js"),[])},{id:"zig",name:"Zig",import:()=>I(()=>import("./zig-BVz_zdnA.js"),[])}],lwe=Object.fromEntries(dw.map(t=>[t.id,t.import])),cwe=Object.fromEntries(dw.flatMap(t=>{var e;return((e=t.aliases)==null?void 0:e.map(n=>[n,t.import]))||[]})),uwe={...lwe,...cwe},dwe=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>I(()=>import("./andromeeda-C3khCPGq.js"),[])},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>I(()=>import("./aurora-x-D-2ljcwZ.js"),[])},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>I(()=>import("./ayu-dark-Cv9koXgw.js"),[])},{id:"catppuccin-frappe",displayName:"Catppuccin Frappé",type:"dark",import:()=>I(()=>import("./catppuccin-frappe-CD_QflpE.js"),[])},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>I(()=>import("./catppuccin-latte-DRW-0cLl.js"),[])},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>I(()=>import("./catppuccin-macchiato-C-_shW-Y.js"),[])},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>I(()=>import("./catppuccin-mocha-LGGdnPYs.js"),[])},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>I(()=>import("./dark-plus-C3mMm8J8.js"),[])},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>I(()=>import("./dracula-BzJJZx-M.js"),[])},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>I(()=>import("./dracula-soft-BXkSAIEj.js"),[])},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>I(()=>import("./everforest-dark-BgDCqdQA.js"),[])},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>I(()=>import("./everforest-light-C8M2exoo.js"),[])},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>I(()=>import("./github-dark-DHJKELXO.js"),[])},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>I(()=>import("./github-dark-default-Cuk6v7N8.js"),[])},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>I(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[])},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>I(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[])},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>I(()=>import("./github-light-DAi9KRSo.js"),[])},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>I(()=>import("./github-light-default-D7oLnXFd.js"),[])},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>I(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[])},{id:"houston",displayName:"Houston",type:"dark",import:()=>I(()=>import("./houston-DnULxvSX.js"),[])},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>I(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[])},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>I(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[])},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>I(()=>import("./kanagawa-wave-DWedfzmr.js"),[])},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>I(()=>import("./laserwave-DUszq2jm.js"),[])},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>I(()=>import("./light-plus-B7mTdjB0.js"),[])},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>I(()=>import("./material-theme-D5KoaKCx.js"),[])},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>I(()=>import("./material-theme-darker-BfHTSMKl.js"),[])},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>I(()=>import("./material-theme-lighter-B0m2ddpp.js"),[])},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>I(()=>import("./material-theme-ocean-CyktbL80.js"),[])},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>I(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[])},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>I(()=>import("./min-dark-CafNBF8u.js"),[])},{id:"min-light",displayName:"Min Light",type:"light",import:()=>I(()=>import("./min-light-CTRr51gU.js"),[])},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>I(()=>import("./monokai-D4h5O-jR.js"),[])},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>I(()=>import("./night-owl-C39BiMTA.js"),[])},{id:"nord",displayName:"Nord",type:"dark",import:()=>I(()=>import("./nord-Ddv68eIx.js"),[])},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>I(()=>import("./one-dark-pro-GBQ2dnAY.js"),[])},{id:"one-light",displayName:"One Light",type:"light",import:()=>I(()=>import("./one-light-PoHY5YXO.js"),[])},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>I(()=>import("./plastic-3e1v2bzS.js"),[])},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>I(()=>import("./poimandres-CS3Unz2-.js"),[])},{id:"red",displayName:"Red",type:"dark",import:()=>I(()=>import("./red-bN70gL4F.js"),[])},{id:"rose-pine",displayName:"Rosé Pine",type:"dark",import:()=>I(()=>import("./rose-pine-CmCqftbK.js"),[])},{id:"rose-pine-dawn",displayName:"Rosé Pine Dawn",type:"light",import:()=>I(()=>import("./rose-pine-dawn-Ds-gbosJ.js"),[])},{id:"rose-pine-moon",displayName:"Rosé Pine Moon",type:"dark",import:()=>I(()=>import("./rose-pine-moon-CjDtw9vr.js"),[])},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>I(()=>import("./slack-dark-BthQWCQV.js"),[])},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>I(()=>import("./slack-ochin-DqwNpetd.js"),[])},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>I(()=>import("./snazzy-light-Bw305WKR.js"),[])},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>I(()=>import("./solarized-dark-DXbdFlpD.js"),[])},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>I(()=>import("./solarized-light-L9t79GZl.js"),[])},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>I(()=>import("./synthwave-84-CbfX1IO0.js"),[])},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>I(()=>import("./tokyo-night-DBQeEorK.js"),[])},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>I(()=>import("./vesper-BEBZ7ncR.js"),[])},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>I(()=>import("./vitesse-black-Bkuqu6BP.js"),[])},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>I(()=>import("./vitesse-dark-D0r3Knsf.js"),[])},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>I(()=>import("./vitesse-light-CVO1_9PV.js"),[])}],fwe=Object.fromEntries(dwe.map(t=>[t.id,t.import]));let tl=class extends Error{constructor(e){super(e),this.name="ShikiError"}},uR=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function hwe(){return 2147483648}function pwe(){return typeof performance<"u"?performance.now():Date.now()}const mwe=(t,e)=>t+(e-t%e)%e;async function gwe(t){let e,n;const r={};function o(y){n=y,r.HEAPU8=new Uint8Array(y),r.HEAPU32=new Uint32Array(y)}function i(y,b,x){r.HEAPU8.copyWithin(y,b,b+x)}function s(y){try{return e.grow(y-n.byteLength+65535>>>16),o(e.buffer),1}catch{}}function a(y){const b=r.HEAPU8.length;y=y>>>0;const x=hwe();if(y>x)return!1;for(let C=1;C<=4;C*=2){let k=b*(1+.2/C);k=Math.min(k,y+100663296);const E=Math.min(x,mwe(Math.max(y,k),65536));if(s(E))return!0}return!1}const l=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function c(y,b,x=1024){const C=b+x;let k=b;for(;y[k]&&!(k>=C);)++k;if(k-b>16&&y.buffer&&l)return l.decode(y.subarray(b,k));let E="";for(;b<k;){let T=y[b++];if(!(T&128)){E+=String.fromCharCode(T);continue}const R=y[b++]&63;if((T&224)===192){E+=String.fromCharCode((T&31)<<6|R);continue}const A=y[b++]&63;if((T&240)===224?T=(T&15)<<12|R<<6|A:T=(T&7)<<18|R<<12|A<<6|y[b++]&63,T<65536)E+=String.fromCharCode(T);else{const N=T-65536;E+=String.fromCharCode(55296|N>>10,56320|N&1023)}}return E}function f(y,b){return y?c(r.HEAPU8,y,b):""}const h={emscripten_get_now:pwe,emscripten_memcpy_big:i,emscripten_resize_heap:a,fd_write:()=>0};async function p(){const b=await t({env:h,wasi_snapshot_preview1:h});e=b.memory,o(e.buffer),Object.assign(r,b),r.UTF8ToString=f}return await p(),r}var ywe=Object.defineProperty,vwe=(t,e,n)=>e in t?ywe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sr=(t,e,n)=>(vwe(t,typeof e!="symbol"?e+"":e,n),n);let br=null;function bwe(t){throw new uR(t.UTF8ToString(t.getLastOnigError()))}class fw{constructor(e){sr(this,"utf16Length"),sr(this,"utf8Length"),sr(this,"utf16Value"),sr(this,"utf8Value"),sr(this,"utf16OffsetToUtf8"),sr(this,"utf8OffsetToUtf16");const n=e.length,r=fw._utf8ByteLength(e),o=r!==n,i=o?new Uint32Array(n+1):null;o&&(i[n]=r);const s=o?new Uint32Array(r+1):null;o&&(s[r]=n);const a=new Uint8Array(r);let l=0;for(let c=0;c<n;c++){const f=e.charCodeAt(c);let h=f,p=!1;if(f>=55296&&f<=56319&&c+1<n){const y=e.charCodeAt(c+1);y>=56320&&y<=57343&&(h=(f-55296<<10)+65536|y-56320,p=!0)}o&&(i[c]=l,p&&(i[c+1]=l),h<=127?s[l+0]=c:h<=2047?(s[l+0]=c,s[l+1]=c):h<=65535?(s[l+0]=c,s[l+1]=c,s[l+2]=c):(s[l+0]=c,s[l+1]=c,s[l+2]=c,s[l+3]=c)),h<=127?a[l++]=h:h<=2047?(a[l++]=192|(h&1984)>>>6,a[l++]=128|(h&63)>>>0):h<=65535?(a[l++]=224|(h&61440)>>>12,a[l++]=128|(h&4032)>>>6,a[l++]=128|(h&63)>>>0):(a[l++]=240|(h&1835008)>>>18,a[l++]=128|(h&258048)>>>12,a[l++]=128|(h&4032)>>>6,a[l++]=128|(h&63)>>>0),p&&c++}this.utf16Length=n,this.utf8Length=r,this.utf16Value=e,this.utf8Value=a,this.utf16OffsetToUtf8=i,this.utf8OffsetToUtf16=s}static _utf8ByteLength(e){let n=0;for(let r=0,o=e.length;r<o;r++){const i=e.charCodeAt(r);let s=i,a=!1;if(i>=55296&&i<=56319&&r+1<o){const l=e.charCodeAt(r+1);l>=56320&&l<=57343&&(s=(i-55296<<10)+65536|l-56320,a=!0)}s<=127?n+=1:s<=2047?n+=2:s<=65535?n+=3:n+=4,a&&r++}return n}createString(e){const n=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,n),n}}const _s=class{constructor(t){if(sr(this,"id",++_s.LAST_ID),sr(this,"_onigBinding"),sr(this,"content"),sr(this,"utf16Length"),sr(this,"utf8Length"),sr(this,"utf16OffsetToUtf8"),sr(this,"utf8OffsetToUtf16"),sr(this,"ptr"),!br)throw new uR("Must invoke loadWasm first.");this._onigBinding=br,this.content=t;const e=new fw(t);this.utf16Length=e.utf16Length,this.utf8Length=e.utf8Length,this.utf16OffsetToUtf8=e.utf16OffsetToUtf8,this.utf8OffsetToUtf16=e.utf8OffsetToUtf16,this.utf8Length<1e4&&!_s._sharedPtrInUse?(_s._sharedPtr||(_s._sharedPtr=br.omalloc(1e4)),_s._sharedPtrInUse=!0,br.HEAPU8.set(e.utf8Value,_s._sharedPtr),this.ptr=_s._sharedPtr):this.ptr=e.createString(br)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===_s._sharedPtr?_s._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};let vy=_s;sr(vy,"LAST_ID",0);sr(vy,"_sharedPtr",0);sr(vy,"_sharedPtrInUse",!1);class xwe{constructor(e){if(sr(this,"_onigBinding"),sr(this,"_ptr"),!br)throw new uR("Must invoke loadWasm first.");const n=[],r=[];for(let a=0,l=e.length;a<l;a++){const c=new fw(e[a]);n[a]=c.createString(br),r[a]=c.utf8Length}const o=br.omalloc(4*e.length);br.HEAPU32.set(n,o/4);const i=br.omalloc(4*e.length);br.HEAPU32.set(r,i/4);const s=br.createOnigScanner(o,i,e.length);for(let a=0,l=e.length;a<l;a++)br.ofree(n[a]);br.ofree(i),br.ofree(o),s===0&&bwe(br),this._onigBinding=br,this._ptr=s}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,n,r){let o=0;if(typeof r=="number"&&(o=r),typeof e=="string"){e=new vy(e);const i=this._findNextMatchSync(e,n,!1,o);return e.dispose(),i}return this._findNextMatchSync(e,n,!1,o)}_findNextMatchSync(e,n,r,o){const i=this._onigBinding,s=i.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(n),o);if(s===0)return null;const a=i.HEAPU32;let l=s/4;const c=a[l++],f=a[l++],h=[];for(let p=0;p<f;p++){const y=e.convertUtf8OffsetToUtf16(a[l++]),b=e.convertUtf8OffsetToUtf16(a[l++]);h[p]={start:y,end:b,length:b-y}}return{index:c,captureIndices:h}}}function wwe(t){return typeof t.instantiator=="function"}function Swe(t){return typeof t.default=="function"}function Cwe(t){return typeof t.data<"u"}function kwe(t){return typeof Response<"u"&&t instanceof Response}function _we(t){var e;return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&((e=Buffer.isBuffer)==null?void 0:e.call(Buffer,t))||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let bb;function Ewe(t){if(bb)return bb;async function e(){br=await gwe(async n=>{let r=t;return r=await r,typeof r=="function"&&(r=await r(n)),typeof r=="function"&&(r=await r(n)),wwe(r)?r=await r.instantiator(n):Swe(r)?r=await r.default(n):(Cwe(r)&&(r=r.data),kwe(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await Twe(r)(n):r=await Mwe(r)(n):_we(r)?r=await w_(r)(n):r instanceof WebAssembly.Module?r=await w_(r)(n):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await w_(r.default)(n))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return bb=e(),bb}function w_(t){return e=>WebAssembly.instantiate(t,e)}function Twe(t){return e=>WebAssembly.instantiateStreaming(t,e)}function Mwe(t){return async e=>{const n=await t.arrayBuffer();return WebAssembly.instantiate(n,e)}}let Awe;function Rwe(){return Awe}async function hU(t){return t&&await Ewe(t),{createScanner(e){return new xwe(e.map(n=>typeof n=="string"?n:n.source))},createString(e){return new vy(e)}}}function Nwe(t){return dR(t)}function dR(t){return Array.isArray(t)?Owe(t):t instanceof RegExp?t:typeof t=="object"?Dwe(t):t}function Owe(t){let e=[];for(let n=0,r=t.length;n<r;n++)e[n]=dR(t[n]);return e}function Dwe(t){let e={};for(let n in t)e[n]=dR(t[n]);return e}function pU(t,...e){return e.forEach(n=>{for(let r in n)t[r]=n[r]}),t}function mU(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?mU(t.substring(0,t.length-1)):t.substr(~e+1)}var S_=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,xb=class{static hasCaptures(t){return t===null?!1:(S_.lastIndex=0,S_.test(t))}static replaceCaptures(t,e,n){return t.replace(S_,(r,o,i,s)=>{let a=n[parseInt(o||i,10)];if(a){let l=e.substring(a.start,a.end);for(;l[0]===".";)l=l.substring(1);switch(s){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}}else return r})}};function gU(t,e){return t<e?-1:t>e?1:0}function yU(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,r=e.length;if(n===r){for(let o=0;o<n;o++){let i=gU(t[o],e[o]);if(i!==0)return i}return 0}return n-r}function j5(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function vU(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var bU=class{constructor(t){de(this,"cache",new Map);this.fn=t}get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},a1=class{constructor(t,e,n){de(this,"_cachedMatchRoot",new bU(t=>this._root.match(t)));this._colorMap=t,this._defaults=e,this._root=n}static createFromRawTheme(t,e){return this.createFromParsedTheme(jwe(t),e)}static createFromParsedTheme(t,e){return Vwe(t,e)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,r=this._cachedMatchRoot.get(e).find(o=>Pwe(t.parent,o.parentScopes));return r?new xU(r.fontStyle,r.foreground,r.background):null}},C_=class t0{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const r of n)e=new t0(e,r);return e}static from(...e){let n=null;for(let r=0;r<e.length;r++)n=new t0(n,e[r]);return n}push(e){return new t0(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push(r.scopeName),r=r.parent;return r===e?n.reverse():void 0}};function Pwe(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let r=e[n],o=!1;if(r===">"){if(n===e.length-1)return!1;r=e[++n],o=!0}for(;t&&!Lwe(t.scopeName,r);){if(o)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function Lwe(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var xU=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function jwe(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],r=0;for(let o=0,i=e.length;o<i;o++){let s=e[o];if(!s.settings)continue;let a;if(typeof s.scope=="string"){let h=s.scope;h=h.replace(/^[,]+/,""),h=h.replace(/[,]+$/,""),a=h.split(",")}else Array.isArray(s.scope)?a=s.scope:a=[""];let l=-1;if(typeof s.settings.fontStyle=="string"){l=0;let h=s.settings.fontStyle.split(" ");for(let p=0,y=h.length;p<y;p++)switch(h[p]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let c=null;typeof s.settings.foreground=="string"&&j5(s.settings.foreground)&&(c=s.settings.foreground);let f=null;typeof s.settings.background=="string"&&j5(s.settings.background)&&(f=s.settings.background);for(let h=0,p=a.length;h<p;h++){let b=a[h].trim().split(" "),x=b[b.length-1],C=null;b.length>1&&(C=b.slice(0,b.length-1),C.reverse()),n[r++]=new Iwe(x,C,o,l,c,f)}}return n}var Iwe=class{constructor(t,e,n,r,o,i){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=r,this.foreground=o,this.background=i}},Wa=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(Wa||{});function Vwe(t,e){t.sort((l,c)=>{let f=gU(l.scope,c.scope);return f!==0||(f=yU(l.parentScopes,c.parentScopes),f!==0)?f:l.index-c.index});let n=0,r="#000000",o="#ffffff";for(;t.length>=1&&t[0].scope==="";){let l=t.shift();l.fontStyle!==-1&&(n=l.fontStyle),l.foreground!==null&&(r=l.foreground),l.background!==null&&(o=l.background)}let i=new Bwe(e),s=new xU(n,i.getId(r),i.getId(o)),a=new Hwe(new PT(0,null,-1,0,0),[]);for(let l=0,c=t.length;l<c;l++){let f=t[l];a.insert(0,f.scope,f.parentScopes,f.fontStyle,i.getId(f.foreground),i.getId(f.background))}return new a1(i,s,a)}var Bwe=class{constructor(t){de(this,"_isFrozen");de(this,"_lastColorId");de(this,"_id2color");de(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},$we=Object.freeze([]),PT=class wU{constructor(e,n,r,o,i){de(this,"scopeDepth");de(this,"parentScopes");de(this,"fontStyle");de(this,"foreground");de(this,"background");this.scopeDepth=e,this.parentScopes=n||$we,this.fontStyle=r,this.foreground=o,this.background=i}clone(){return new wU(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let r=0,o=e.length;r<o;r++)n[r]=e[r].clone();return n}acceptOverwrite(e,n,r,o){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),o!==0&&(this.background=o)}},Hwe=class LT{constructor(e,n=[],r={}){de(this,"_rulesWithParentScopes");this._mainRule=e,this._children=r,this._rulesWithParentScopes=n}static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let r=0,o=0;for(;e.parentScopes[r]===">"&&r++,n.parentScopes[o]===">"&&o++,!(r>=e.parentScopes.length||o>=n.parentScopes.length);){const i=n.parentScopes[o].length-e.parentScopes[r].length;if(i!==0)return i;r++,o++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),o,i;if(r===-1?(o=e,i=""):(o=e.substring(0,r),i=e.substring(r+1)),this._children.hasOwnProperty(o))return this._children[o].match(i)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(LT._cmpBySpecificity),n}insert(e,n,r,o,i,s){if(n===""){this._doInsertHere(e,r,o,i,s);return}let a=n.indexOf("."),l,c;a===-1?(l=n,c=""):(l=n.substring(0,a),c=n.substring(a+1));let f;this._children.hasOwnProperty(l)?f=this._children[l]:(f=new LT(this._mainRule.clone(),PT.cloneArr(this._rulesWithParentScopes)),this._children[l]=f),f.insert(e+1,c,r,o,i,s)}_doInsertHere(e,n,r,o,i){if(n===null){this._mainRule.acceptOverwrite(e,r,o,i);return}for(let s=0,a=this._rulesWithParentScopes.length;s<a;s++){let l=this._rulesWithParentScopes[s];if(yU(l.parentScopes,n)===0){l.acceptOverwrite(e,r,o,i);return}}r===-1&&(r=this._mainRule.fontStyle),o===0&&(o=this._mainRule.foreground),i===0&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new PT(e,n,r,o,i))}},ph=class vi{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=vi.getLanguageId(e),r=vi.getTokenType(e),o=vi.getFontStyle(e),i=vi.getForeground(e),s=vi.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:o,foreground:i,background:s})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,r,o,i,s,a){let l=vi.getLanguageId(e),c=vi.getTokenType(e),f=vi.containsBalancedBrackets(e)?1:0,h=vi.getFontStyle(e),p=vi.getForeground(e),y=vi.getBackground(e);return n!==0&&(l=n),r!==8&&(c=r),o!==null&&(f=o?1:0),i!==-1&&(h=i),s!==0&&(p=s),a!==0&&(y=a),(l<<0|c<<8|f<<10|h<<11|p<<15|y<<24)>>>0}};function l1(t,e){const n=[],r=zwe(t);let o=r.next();for(;o!==null;){let l=0;if(o.length===2&&o.charAt(1)===":"){switch(o.charAt(0)){case"R":l=1;break;case"L":l=-1;break;default:console.log(`Unknown priority ${o} in scope selector`)}o=r.next()}let c=s();if(n.push({matcher:c,priority:l}),o!==",")break;o=r.next()}return n;function i(){if(o==="-"){o=r.next();const l=i();return c=>!!l&&!l(c)}if(o==="("){o=r.next();const l=a();return o===")"&&(o=r.next()),l}if(I5(o)){const l=[];do l.push(o),o=r.next();while(I5(o));return c=>e(l,c)}return null}function s(){const l=[];let c=i();for(;c;)l.push(c),c=i();return f=>l.every(h=>h(f))}function a(){const l=[];let c=s();for(;c&&(l.push(c),o==="|"||o===",");){do o=r.next();while(o==="|"||o===",");c=s()}return f=>l.some(h=>h(f))}}function I5(t){return!!t&&!!t.match(/[\w\.:]+/)}function zwe(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const r=n[0];return n=e.exec(t),r}}}function SU(t){typeof t.dispose=="function"&&t.dispose()}var bg=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},Fwe=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},Uwe=class{constructor(){de(this,"_references",[]);de(this,"_seenReferenceKeys",new Set);de(this,"visitedRule",new Set)}get references(){return this._references}add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},Gwe=class{constructor(t,e){de(this,"seenFullScopeRequests",new Set);de(this,"seenPartialScopeRequests",new Set);de(this,"Q");this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new bg(this.initialScopeName)]}processQueue(){const t=this.Q;this.Q=[];const e=new Uwe;for(const n of t)Wwe(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof bg){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function Wwe(t,e,n,r){const o=n.lookup(t.scopeName);if(!o){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const i=n.lookup(e);t instanceof bg?n0({baseGrammar:i,selfGrammar:o},r):jT(t.ruleName,{baseGrammar:i,selfGrammar:o,repository:o.repository},r);const s=n.injections(t.scopeName);if(s)for(const a of s)r.add(new bg(a))}function jT(t,e,n){if(e.repository&&e.repository[t]){const r=e.repository[t];c1([r],e,n)}}function n0(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&c1(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&c1(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function c1(t,e,n){for(const r of t){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const o=r.repository?pU({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&c1(r.patterns,{...e,repository:o},n);const i=r.include;if(!i)continue;const s=CU(i);switch(s.kind){case 0:n0({...e,selfGrammar:e.baseGrammar},n);break;case 1:n0(e,n);break;case 2:jT(s.ruleName,{...e,repository:o},n);break;case 3:case 4:const a=s.scopeName===e.selfGrammar.scopeName?e.selfGrammar:s.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(a){const l={baseGrammar:e.baseGrammar,selfGrammar:a,repository:o};s.kind===4?jT(s.ruleName,l,n):n0(l,n)}else s.kind===4?n.add(new Fwe(s.scopeName,s.ruleName)):n.add(new bg(s.scopeName));break}}}var qwe=class{constructor(){de(this,"kind",0)}},Ywe=class{constructor(){de(this,"kind",1)}},Kwe=class{constructor(t){de(this,"kind",2);this.ruleName=t}},Zwe=class{constructor(t){de(this,"kind",3);this.scopeName=t}},Xwe=class{constructor(t,e){de(this,"kind",4);this.scopeName=t,this.ruleName=e}};function CU(t){if(t==="$base")return new qwe;if(t==="$self")return new Ywe;const e=t.indexOf("#");if(e===-1)return new Zwe(t);if(e===0)return new Kwe(t.substring(1));{const n=t.substring(0,e),r=t.substring(e+1);return new Xwe(n,r)}}var Jwe=/\\(\d+)/,V5=/\\(\d+)/g,Qwe=-1,kU=-2;var by=class{constructor(t,e,n,r){de(this,"$location");de(this,"id");de(this,"_nameIsCapturing");de(this,"_name");de(this,"_contentNameIsCapturing");de(this,"_contentName");this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=xb.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=xb.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${mU(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:xb.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:xb.replaceCaptures(this._contentName,t,e)}},eSe=class extends by{constructor(e,n,r,o,i){super(e,n,r,o);de(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(e,n){throw new Error("Not supported!")}compile(e,n){throw new Error("Not supported!")}compileAG(e,n,r,o){throw new Error("Not supported!")}},tSe=class extends by{constructor(e,n,r,o,i){super(e,n,r,null);de(this,"_match");de(this,"captures");de(this,"_cachedCompiledPatterns");this._match=new xg(o,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,n){n.push(this._match)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,o){return this._getCachedCompiledPatterns(e).compileAG(e,r,o)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new wg,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},B5=class extends by{constructor(e,n,r,o,i){super(e,n,r,o);de(this,"hasMissingPatterns");de(this,"patterns");de(this,"_cachedCompiledPatterns");this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,n){for(const r of this.patterns)e.getRule(r).collectPatterns(e,n)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,o){return this._getCachedCompiledPatterns(e).compileAG(e,r,o)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new wg,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},IT=class extends by{constructor(e,n,r,o,i,s,a,l,c,f){super(e,n,r,o);de(this,"_begin");de(this,"beginCaptures");de(this,"_end");de(this,"endHasBackReferences");de(this,"endCaptures");de(this,"applyEndPatternLast");de(this,"hasMissingPatterns");de(this,"patterns");de(this,"_cachedCompiledPatterns");this._begin=new xg(i,this.id),this.beginCaptures=s,this._end=new xg(a||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=l,this.applyEndPatternLast=c||!1,this.patterns=f.patterns,this.hasMissingPatterns=f.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,n){return this._end.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e,n).compile(e)}compileAG(e,n,r,o){return this._getCachedCompiledPatterns(e,n).compileAG(e,r,o)}_getCachedCompiledPatterns(e,n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new wg;for(const r of this.patterns)e.getRule(r).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,n):this._cachedCompiledPatterns.setSource(0,n)),this._cachedCompiledPatterns}},u1=class extends by{constructor(e,n,r,o,i,s,a,l,c){super(e,n,r,o);de(this,"_begin");de(this,"beginCaptures");de(this,"whileCaptures");de(this,"_while");de(this,"whileHasBackReferences");de(this,"hasMissingPatterns");de(this,"patterns");de(this,"_cachedCompiledPatterns");de(this,"_cachedCompiledWhilePatterns");this._begin=new xg(i,this.id),this.beginCaptures=s,this.whileCaptures=l,this._while=new xg(a,kU),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,n){return this._while.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,o){return this._getCachedCompiledPatterns(e).compileAG(e,r,o)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new wg;for(const n of this.patterns)e.getRule(n).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,n){return this._getCachedCompiledWhilePatterns(e,n).compile(e)}compileWhileAG(e,n,r,o){return this._getCachedCompiledWhilePatterns(e,n).compileAG(e,r,o)}_getCachedCompiledWhilePatterns(e,n){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new wg,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,n||"￿"),this._cachedCompiledWhilePatterns}},_U=class Br{static createCaptureRule(e,n,r,o,i){return e.registerRule(s=>new eSe(n,s,r,o,i))}static getCompiledRuleId(e,n,r){return e.id||n.registerRule(o=>{if(e.id=o,e.match)return new tSe(e.$vscodeTextmateLocation,e.id,e.name,e.match,Br._compileCaptures(e.captures,n,r));if(typeof e.begin>"u"){e.repository&&(r=pU({},r,e.repository));let i=e.patterns;return typeof i>"u"&&e.include&&(i=[{include:e.include}]),new B5(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,Br._compilePatterns(i,n,r))}return e.while?new u1(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Br._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,Br._compileCaptures(e.whileCaptures||e.captures,n,r),Br._compilePatterns(e.patterns,n,r)):new IT(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Br._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,Br._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,Br._compilePatterns(e.patterns,n,r))}),e.id}static _compileCaptures(e,n,r){let o=[];if(e){let i=0;for(const s in e){if(s==="$vscodeTextmateLocation")continue;const a=parseInt(s,10);a>i&&(i=a)}for(let s=0;s<=i;s++)o[s]=null;for(const s in e){if(s==="$vscodeTextmateLocation")continue;const a=parseInt(s,10);let l=0;e[s].patterns&&(l=Br.getCompiledRuleId(e[s],n,r)),o[a]=Br.createCaptureRule(n,e[s].$vscodeTextmateLocation,e[s].name,e[s].contentName,l)}}return o}static _compilePatterns(e,n,r){let o=[];if(e)for(let i=0,s=e.length;i<s;i++){const a=e[i];let l=-1;if(a.include){const c=CU(a.include);switch(c.kind){case 0:case 1:l=Br.getCompiledRuleId(r[a.include],n,r);break;case 2:let f=r[c.ruleName];f&&(l=Br.getCompiledRuleId(f,n,r));break;case 3:case 4:const h=c.scopeName,p=c.kind===4?c.ruleName:null,y=n.getExternalGrammar(h,r);if(y)if(p){let b=y.repository[p];b&&(l=Br.getCompiledRuleId(b,n,y.repository))}else l=Br.getCompiledRuleId(y.repository.$self,n,y.repository);break}}else l=Br.getCompiledRuleId(a,n,r);if(l!==-1){const c=n.getRule(l);let f=!1;if((c instanceof B5||c instanceof IT||c instanceof u1)&&c.hasMissingPatterns&&c.patterns.length===0&&(f=!0),f)continue;o.push(l)}}return{patterns:o,hasMissingPatterns:(e?e.length:0)!==o.length}}},xg=class EU{constructor(e,n){de(this,"source");de(this,"ruleId");de(this,"hasAnchor");de(this,"hasBackReferences");de(this,"_anchorCache");if(e&&typeof e=="string"){const r=e.length;let o=0,i=[],s=!1;for(let a=0;a<r;a++)if(e.charAt(a)==="\\"&&a+1<r){const c=e.charAt(a+1);c==="z"?(i.push(e.substring(o,a)),i.push("$(?!\\n)(?<!\\n)"),o=a+2):(c==="A"||c==="G")&&(s=!0),a++}this.hasAnchor=s,o===0?this.source=e:(i.push(e.substring(o,r)),this.source=i.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=Jwe.test(this.source):this.hasBackReferences=!1}clone(){return new EU(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=n.map(o=>e.substring(o.start,o.end));return V5.lastIndex=0,this.source.replace(V5,(o,i)=>vU(r[parseInt(i,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],r=[],o=[],i,s,a,l;for(i=0,s=this.source.length;i<s;i++)a=this.source.charAt(i),e[i]=a,n[i]=a,r[i]=a,o[i]=a,a==="\\"&&i+1<s&&(l=this.source.charAt(i+1),l==="A"?(e[i+1]="￿",n[i+1]="￿",r[i+1]="A",o[i+1]="A"):l==="G"?(e[i+1]="￿",n[i+1]="G",r[i+1]="￿",o[i+1]="G"):(e[i+1]=l,n[i+1]=l,r[i+1]=l,o[i+1]=l),i++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:o.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},wg=class{constructor(){de(this,"_items");de(this,"_hasAnchors");de(this,"_cached");de(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new $5(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let r=this._items.map(o=>o.resolveAnchors(e,n));return new $5(t,r,this._items.map(o=>o.ruleId))}},$5=class{constructor(t,e,n){de(this,"scanner");this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const r=this.scanner.findNextMatchSync(t,e,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},k_=class{constructor(t,e){this.languageId=t,this.tokenType=e}},za,nSe=(za=class{constructor(e,n){de(this,"_defaultAttributes");de(this,"_embeddedLanguagesMatcher");de(this,"_getBasicScopeAttributes",new bU(e=>{const n=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new k_(n,r)}));this._defaultAttributes=new k_(e,8),this._embeddedLanguagesMatcher=new rSe(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?za._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(za.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}},de(za,"_NULL_SCOPE_METADATA",new k_(0,0)),de(za,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/),za),rSe=class{constructor(t){de(this,"values");de(this,"scopesRegExp");if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,r])=>vU(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},H5=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function TU(t,e,n,r,o,i,s,a){const l=e.content.length;let c=!1,f=-1;if(s){const y=oSe(t,e,n,r,o,i);o=y.stack,r=y.linePos,n=y.isFirstLine,f=y.anchorPosition}const h=Date.now();for(;!c;){if(a!==0&&Date.now()-h>a)return new H5(o,!0);p()}return new H5(o,!1);function p(){const y=iSe(t,e,n,r,o,f);if(!y){i.produce(o,l),c=!0;return}const b=y.captureIndices,x=y.matchedRuleId,C=b&&b.length>0?b[0].end>r:!1;if(x===Qwe){const k=o.getRule(t);i.produce(o,b[0].start),o=o.withContentNameScopesList(o.nameScopesList),hm(t,e,n,o,i,k.endCaptures,b),i.produce(o,b[0].end);const E=o;if(o=o.parent,f=E.getAnchorPos(),!C&&E.getEnterPos()===r){o=E,i.produce(o,l),c=!0;return}}else{const k=t.getRule(x);i.produce(o,b[0].start);const E=o,T=k.getName(e.content,b),R=o.contentNameScopesList.pushAttributed(T,t);if(o=o.push(x,r,f,b[0].end===l,null,R,R),k instanceof IT){const A=k;hm(t,e,n,o,i,A.beginCaptures,b),i.produce(o,b[0].end),f=b[0].end;const N=A.getContentName(e.content,b),O=R.pushAttributed(N,t);if(o=o.withContentNameScopesList(O),A.endHasBackReferences&&(o=o.withEndRule(A.getEndWithResolvedBackReferences(e.content,b))),!C&&E.hasSameRuleAs(o)){o=o.pop(),i.produce(o,l),c=!0;return}}else if(k instanceof u1){const A=k;hm(t,e,n,o,i,A.beginCaptures,b),i.produce(o,b[0].end),f=b[0].end;const N=A.getContentName(e.content,b),O=R.pushAttributed(N,t);if(o=o.withContentNameScopesList(O),A.whileHasBackReferences&&(o=o.withEndRule(A.getWhileWithResolvedBackReferences(e.content,b))),!C&&E.hasSameRuleAs(o)){o=o.pop(),i.produce(o,l),c=!0;return}}else if(hm(t,e,n,o,i,k.captures,b),i.produce(o,b[0].end),o=o.pop(),!C){o=o.safePop(),i.produce(o,l),c=!0;return}}b[0].end>r&&(r=b[0].end,n=!1)}}function oSe(t,e,n,r,o,i){let s=o.beginRuleCapturedEOL?0:-1;const a=[];for(let l=o;l;l=l.pop()){const c=l.getRule(t);c instanceof u1&&a.push({rule:c,stack:l})}for(let l=a.pop();l;l=a.pop()){const{ruleScanner:c,findOptions:f}=lSe(l.rule,t,l.stack.endRule,n,r===s),h=c.findNextMatchSync(e,r,f);if(h){if(h.ruleId!==kU){o=l.stack.pop();break}h.captureIndices&&h.captureIndices.length&&(i.produce(l.stack,h.captureIndices[0].start),hm(t,e,n,l.stack,i,l.rule.whileCaptures,h.captureIndices),i.produce(l.stack,h.captureIndices[0].end),s=h.captureIndices[0].end,h.captureIndices[0].end>r&&(r=h.captureIndices[0].end,n=!1))}else{o=l.stack.pop();break}}return{stack:o,linePos:r,anchorPosition:s,isFirstLine:n}}function iSe(t,e,n,r,o,i){const s=sSe(t,e,n,r,o,i),a=t.getInjections();if(a.length===0)return s;const l=aSe(a,t,e,n,r,o,i);if(!l)return s;if(!s)return l;const c=s.captureIndices[0].start,f=l.captureIndices[0].start;return f<c||l.priorityMatch&&f===c?l:s}function sSe(t,e,n,r,o,i){const s=o.getRule(t),{ruleScanner:a,findOptions:l}=MU(s,t,o.endRule,n,r===i),c=a.findNextMatchSync(e,r,l);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}function aSe(t,e,n,r,o,i,s){let a=Number.MAX_VALUE,l=null,c,f=0;const h=i.contentNameScopesList.getScopeNames();for(let p=0,y=t.length;p<y;p++){const b=t[p];if(!b.matcher(h))continue;const x=e.getRule(b.ruleId),{ruleScanner:C,findOptions:k}=MU(x,e,null,r,o===s),E=C.findNextMatchSync(n,o,k);if(!E)continue;const T=E.captureIndices[0].start;if(!(T>=a)&&(a=T,l=E.captureIndices,c=E.ruleId,f=b.priority,a===o))break}return l?{priorityMatch:f===-1,captureIndices:l,matchedRuleId:c}:null}function MU(t,e,n,r,o){return{ruleScanner:t.compileAG(e,n,r,o),findOptions:0}}function lSe(t,e,n,r,o){return{ruleScanner:t.compileWhileAG(e,n,r,o),findOptions:0}}function hm(t,e,n,r,o,i,s){if(i.length===0)return;const a=e.content,l=Math.min(i.length,s.length),c=[],f=s[0].end;for(let h=0;h<l;h++){const p=i[h];if(p===null)continue;const y=s[h];if(y.length===0)continue;if(y.start>f)break;for(;c.length>0&&c[c.length-1].endPos<=y.start;)o.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?o.produceFromScopes(c[c.length-1].scopes,y.start):o.produce(r,y.start),p.retokenizeCapturedWithRuleId){const x=p.getName(a,s),C=r.contentNameScopesList.pushAttributed(x,t),k=p.getContentName(a,s),E=C.pushAttributed(k,t),T=r.push(p.retokenizeCapturedWithRuleId,y.start,-1,!1,null,C,E),R=t.createOnigString(a.substring(0,y.end));TU(t,R,n&&y.start===0,y.start,T,o,!1,0),SU(R);continue}const b=p.getName(a,s);if(b!==null){const C=(c.length>0?c[c.length-1].scopes:r.contentNameScopesList).pushAttributed(b,t);c.push(new cSe(C,y.end))}}for(;c.length>0;)o.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}var cSe=class{constructor(t,e){de(this,"scopes");de(this,"endPos");this.scopes=t,this.endPos=e}};function uSe(t,e,n,r,o,i,s,a){return new fSe(t,e,n,r,o,i,s,a)}function z5(t,e,n,r,o){const i=l1(e,d1),s=_U.getCompiledRuleId(n,r,o.repository);for(const a of i)t.push({debugSelector:e,matcher:a.matcher,ruleId:s,grammar:o,priority:a.priority})}function d1(t,e){if(e.length<t.length)return!1;let n=0;return t.every(r=>{for(let o=n;o<e.length;o++)if(dSe(e[o],r))return n=o+1,!0;return!1})}function dSe(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var fSe=class{constructor(t,e,n,r,o,i,s,a){de(this,"_rootId");de(this,"_lastRuleId");de(this,"_ruleId2desc");de(this,"_includedGrammars");de(this,"_grammarRepository");de(this,"_grammar");de(this,"_injections");de(this,"_basicScopeAttributesProvider");de(this,"_tokenTypeMatchers");if(this._rootScopeName=t,this.balancedBracketSelectors=i,this._onigLib=a,this._basicScopeAttributesProvider=new nSe(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=s,this._grammar=F5(e,null),this._injections=null,this._tokenTypeMatchers=[],o)for(const l of Object.keys(o)){const c=l1(l,d1);for(const f of c)this._tokenTypeMatchers.push({matcher:f.matcher,type:o[l]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:o=>o===this._rootScopeName?this._grammar:this.getExternalGrammar(o),injections:o=>this._grammarRepository.injections(o)},e=[],n=this._rootScopeName,r=t.lookup(n);if(r){const o=r.injections;if(o)for(let s in o)z5(e,s,o[s],this,r);const i=this._grammarRepository.injections(n);i&&i.forEach(s=>{const a=this.getExternalGrammar(s);if(a){const l=a.injectionSelector;l&&z5(e,l,a,this,a)}})}return e.sort((o,i)=>o.priority-i.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=F5(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const r=this._tokenize(t,e,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(t,e,n=0){const r=this._tokenize(t,e,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(t,e,n,r){this._rootId===-1&&(this._rootId=_U.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let o;if(!e||e===VT.NULL){o=!0;const c=this._basicScopeAttributesProvider.getDefaultAttributes(),f=this.themeProvider.getDefaults(),h=ph.set(0,c.languageId,c.tokenType,null,f.fontStyle,f.foregroundId,f.backgroundId),p=this.getRule(this._rootId).getName(null,null);let y;p?y=Em.createRootAndLookUpScopeName(p,h,this):y=Em.createRoot("unknown",h),e=new VT(null,this._rootId,-1,-1,!1,null,y,y)}else o=!1,e.reset();t=t+`
`;const i=this.createOnigString(t),s=i.content.length,a=new pSe(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),l=TU(this,i,o,0,e,a,!0,r);return SU(i),{lineLength:s,lineTokens:a,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function F5(t,e){return t=Nwe(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var Em=class Es{constructor(e,n,r){this.parent=e,this.scopePath=n,this.tokenAttributes=r}static fromExtension(e,n){let r=e,o=(e==null?void 0:e.scopePath)??null;for(const i of n)o=C_.push(o,i.scopeNames),r=new Es(r,o,i.encodedTokenAttributes);return r}static createRoot(e,n){return new Es(null,new C_(null,e),n)}static createRootAndLookUpScopeName(e,n,r){const o=r.getMetadataForScope(e),i=new C_(null,e),s=r.themeProvider.themeMatch(i),a=Es.mergeAttributes(n,o,s);return new Es(null,i,a)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return Es.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,r){let o=-1,i=0,s=0;return r!==null&&(o=r.fontStyle,i=r.foregroundId,s=r.backgroundId),ph.set(e,n.languageId,n.tokenType,null,o,i,s)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return Es._pushAttributed(this,e,n);const r=e.split(/ /g);let o=this;for(const i of r)o=Es._pushAttributed(o,i,n);return o}static _pushAttributed(e,n,r){const o=r.getMetadataForScope(n),i=e.scopePath.push(n),s=r.themeProvider.themeMatch(i),a=Es.mergeAttributes(e.tokenAttributes,o,s);return new Es(e,i,a)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){var o;const n=[];let r=this;for(;r&&r!==e;)n.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(((o=r.parent)==null?void 0:o.scopePath)??null)}),r=r.parent;return r===e?n.reverse():void 0}},Ti,VT=(Ti=class{constructor(e,n,r,o,i,s,a,l){de(this,"_stackElementBrand");de(this,"_enterPos");de(this,"_anchorPos");de(this,"depth");this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=i,this.endRule=s,this.nameScopesList=a,this.contentNameScopesList=l,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=o}equals(e){return e===null?!1:Ti._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?Em.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){Ti._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,r,o,i,s,a){return new Ti(this,e,n,r,o,i,s,a)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){var r,o;return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${(r=this.nameScopesList)==null?void 0:r.toString()}, ${(o=this.contentNameScopesList)==null?void 0:o.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new Ti(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){var e,n,r;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((n=this.nameScopesList)==null?void 0:n.getExtensionIfDefined(((e=this.parent)==null?void 0:e.nameScopesList)??null))??[],contentNameScopesList:((r=this.contentNameScopesList)==null?void 0:r.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(e,n){const r=Em.fromExtension((e==null?void 0:e.nameScopesList)??null,n.nameScopesList);return new Ti(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,Em.fromExtension(r,n.contentNameScopesList))}},de(Ti,"NULL",new Ti(null,0,0,0,!1,null,null,null)),Ti),hSe=class{constructor(t,e){de(this,"balancedBracketScopes");de(this,"unbalancedBracketScopes");de(this,"allowAny",!1);this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):l1(n,d1).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>l1(n,d1).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},pSe=class{constructor(t,e,n,r){de(this,"_emitBinaryTokens");de(this,"_lineText");de(this,"_tokens");de(this,"_binaryTokens");de(this,"_lastTokenEndIndex");de(this,"_tokenTypeOverrides");this.balancedBracketSelectors=r,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){var r;if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let o=(t==null?void 0:t.tokenAttributes)??0,i=!1;if((r=this.balancedBracketSelectors)!=null&&r.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const s=(t==null?void 0:t.getScopeNames())??[];for(const a of this._tokenTypeOverrides)a.matcher(s)&&(o=ph.set(o,0,a.type,null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(s))}if(i&&(o=ph.set(o,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===o){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(o),this._lastTokenEndIndex=e;return}const n=(t==null?void 0:t.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let r=0,o=this._binaryTokens.length;r<o;r++)n[r]=this._binaryTokens[r];return n}},mSe=class{constructor(t,e){de(this,"_grammars",new Map);de(this,"_rawGrammars",new Map);de(this,"_injectionGrammars",new Map);de(this,"_theme");this._onigLib=e,this._theme=t}dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,r,o){if(!this._grammars.has(t)){let i=this._rawGrammars.get(t);if(!i)return null;this._grammars.set(t,uSe(t,i,e,n,r,o,this,this._onigLib))}return this._grammars.get(t)}},gSe=class{constructor(e){de(this,"_options");de(this,"_syncRegistry");de(this,"_ensureGrammarCache");this._options=e,this._syncRegistry=new mSe(a1.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(a1.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,n,r){return this._loadGrammar(e,n,r.embeddedLanguages,r.tokenTypes,new hSe(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,r,o,i){const s=new Gwe(this._syncRegistry,e);for(;s.Q.length>0;)s.Q.map(a=>this._loadSingleGrammar(a.scopeName)),s.processQueue();return this._grammarForScopeName(e,n,r,o,i)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,r)}}addGrammar(e,n=[],r=0,o=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,r,o)}_grammarForScopeName(e,n=0,r=null,o=null,i=null){return this._syncRegistry.grammarForScopeName(e,n,r,o,i)}},BT=VT.NULL;const ySe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class xy{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}xy.prototype.normal={};xy.prototype.property={};xy.prototype.space=void 0;function AU(t,e){const n={},r={};for(const o of t)Object.assign(n,o.property),Object.assign(r,o.normal);return new xy(n,r,e)}function $T(t){return t.toLowerCase()}class No{constructor(e,n){this.attribute=n,this.property=e}}No.prototype.attribute="";No.prototype.booleanish=!1;No.prototype.boolean=!1;No.prototype.commaOrSpaceSeparated=!1;No.prototype.commaSeparated=!1;No.prototype.defined=!1;No.prototype.mustUseProperty=!1;No.prototype.number=!1;No.prototype.overloadedBoolean=!1;No.prototype.property="";No.prototype.spaceSeparated=!1;No.prototype.space=void 0;let vSe=0;const lt=pd(),qn=pd(),RU=pd(),we=pd(),sn=pd(),Gf=pd(),$o=pd();function pd(){return 2**++vSe}const HT=Object.freeze(Object.defineProperty({__proto__:null,boolean:lt,booleanish:qn,commaOrSpaceSeparated:$o,commaSeparated:Gf,number:we,overloadedBoolean:RU,spaceSeparated:sn},Symbol.toStringTag,{value:"Module"})),__=Object.keys(HT);class fR extends No{constructor(e,n,r,o){let i=-1;if(super(e,n),U5(this,"space",o),typeof r=="number")for(;++i<__.length;){const s=__[i];U5(this,__[i],(r&HT[s])===HT[s])}}}fR.prototype.defined=!0;function U5(t,e,n){n&&(t[e]=n)}function Ah(t){const e={},n={};for(const[r,o]of Object.entries(t.properties)){const i=new fR(r,t.transform(t.attributes||{},r),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),e[r]=i,n[$T(r)]=r,n[$T(i.attribute)]=r}return new xy(e,n,t.space)}const NU=Ah({properties:{ariaActiveDescendant:null,ariaAtomic:qn,ariaAutoComplete:null,ariaBusy:qn,ariaChecked:qn,ariaColCount:we,ariaColIndex:we,ariaColSpan:we,ariaControls:sn,ariaCurrent:null,ariaDescribedBy:sn,ariaDetails:null,ariaDisabled:qn,ariaDropEffect:sn,ariaErrorMessage:null,ariaExpanded:qn,ariaFlowTo:sn,ariaGrabbed:qn,ariaHasPopup:null,ariaHidden:qn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:sn,ariaLevel:we,ariaLive:null,ariaModal:qn,ariaMultiLine:qn,ariaMultiSelectable:qn,ariaOrientation:null,ariaOwns:sn,ariaPlaceholder:null,ariaPosInSet:we,ariaPressed:qn,ariaReadOnly:qn,ariaRelevant:null,ariaRequired:qn,ariaRoleDescription:sn,ariaRowCount:we,ariaRowIndex:we,ariaRowSpan:we,ariaSelected:qn,ariaSetSize:we,ariaSort:null,ariaValueMax:we,ariaValueMin:we,ariaValueNow:we,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function OU(t,e){return e in t?t[e]:e}function DU(t,e){return OU(t,e.toLowerCase())}const bSe=Ah({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Gf,acceptCharset:sn,accessKey:sn,action:null,allow:null,allowFullScreen:lt,allowPaymentRequest:lt,allowUserMedia:lt,alt:null,as:null,async:lt,autoCapitalize:null,autoComplete:sn,autoFocus:lt,autoPlay:lt,blocking:sn,capture:null,charSet:null,checked:lt,cite:null,className:sn,cols:we,colSpan:null,content:null,contentEditable:qn,controls:lt,controlsList:sn,coords:we|Gf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:lt,defer:lt,dir:null,dirName:null,disabled:lt,download:RU,draggable:qn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:lt,formTarget:null,headers:sn,height:we,hidden:lt,high:we,href:null,hrefLang:null,htmlFor:sn,httpEquiv:sn,id:null,imageSizes:null,imageSrcSet:null,inert:lt,inputMode:null,integrity:null,is:null,isMap:lt,itemId:null,itemProp:sn,itemRef:sn,itemScope:lt,itemType:sn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:lt,low:we,manifest:null,max:null,maxLength:we,media:null,method:null,min:null,minLength:we,multiple:lt,muted:lt,name:null,nonce:null,noModule:lt,noValidate:lt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:lt,optimum:we,pattern:null,ping:sn,placeholder:null,playsInline:lt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:lt,referrerPolicy:null,rel:sn,required:lt,reversed:lt,rows:we,rowSpan:we,sandbox:sn,scope:null,scoped:lt,seamless:lt,selected:lt,shadowRootClonable:lt,shadowRootDelegatesFocus:lt,shadowRootMode:null,shape:null,size:we,sizes:null,slot:null,span:we,spellCheck:qn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:we,step:null,style:null,tabIndex:we,target:null,title:null,translate:null,type:null,typeMustMatch:lt,useMap:null,value:qn,width:we,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:sn,axis:null,background:null,bgColor:null,border:we,borderColor:null,bottomMargin:we,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:lt,declare:lt,event:null,face:null,frame:null,frameBorder:null,hSpace:we,leftMargin:we,link:null,longDesc:null,lowSrc:null,marginHeight:we,marginWidth:we,noResize:lt,noHref:lt,noShade:lt,noWrap:lt,object:null,profile:null,prompt:null,rev:null,rightMargin:we,rules:null,scheme:null,scrolling:qn,standby:null,summary:null,text:null,topMargin:we,valueType:null,version:null,vAlign:null,vLink:null,vSpace:we,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:lt,disableRemotePlayback:lt,prefix:null,property:null,results:we,security:null,unselectable:null},space:"html",transform:DU}),xSe=Ah({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:$o,accentHeight:we,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:we,amplitude:we,arabicForm:null,ascent:we,attributeName:null,attributeType:null,azimuth:we,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:we,by:null,calcMode:null,capHeight:we,className:sn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:we,diffuseConstant:we,direction:null,display:null,dur:null,divisor:we,dominantBaseline:null,download:lt,dx:null,dy:null,edgeMode:null,editable:null,elevation:we,enableBackground:null,end:null,event:null,exponent:we,externalResourcesRequired:null,fill:null,fillOpacity:we,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Gf,g2:Gf,glyphName:Gf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:we,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:we,horizOriginX:we,horizOriginY:we,id:null,ideographic:we,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:we,k:we,k1:we,k2:we,k3:we,k4:we,kernelMatrix:$o,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:we,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:we,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:we,overlineThickness:we,paintOrder:null,panose1:null,path:null,pathLength:we,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:sn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:we,pointsAtY:we,pointsAtZ:we,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$o,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$o,rev:$o,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$o,requiredFeatures:$o,requiredFonts:$o,requiredFormats:$o,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:we,specularExponent:we,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:we,strikethroughThickness:we,string:null,stroke:null,strokeDashArray:$o,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:we,strokeOpacity:we,strokeWidth:null,style:null,surfaceScale:we,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$o,tabIndex:we,tableValues:null,target:null,targetX:we,targetY:we,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$o,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:we,underlineThickness:we,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:we,values:null,vAlphabetic:we,vMathematical:we,vectorEffect:null,vHanging:we,vIdeographic:we,version:null,vertAdvY:we,vertOriginX:we,vertOriginY:we,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:we,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:OU}),PU=Ah({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),LU=Ah({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:DU}),jU=Ah({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),wSe=/[A-Z]/g,G5=/-[a-z]/g,SSe=/^data[-\w.:]+$/i;function CSe(t,e){const n=$T(e);let r=e,o=No;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&SSe.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(G5,_Se);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!G5.test(i)){let s=i.replace(wSe,kSe);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}o=fR}return new o(r,e)}function kSe(t){return"-"+t.toLowerCase()}function _Se(t){return t.charAt(1).toUpperCase()}const ESe=AU([NU,bSe,PU,LU,jU],"html"),IU=AU([NU,xSe,PU,LU,jU],"svg"),W5={}.hasOwnProperty;function TSe(t,e){const n=e||{};function r(o,...i){let s=r.invalid;const a=r.handlers;if(o&&W5.call(o,t)){const l=String(o[t]);s=W5.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,o,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const MSe=/["&'<>`]/g,ASe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RSe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,NSe=/[|\\{}()[\]^$+*?.]/g,q5=new WeakMap;function OSe(t,e){if(t=t.replace(e.subset?DSe(e.subset):MSe,r),e.subset||e.escapeOnly)return t;return t.replace(ASe,n).replace(RSe,r);function n(o,i,s){return e.format((o.charCodeAt(0)-55296)*1024+o.charCodeAt(1)-56320+65536,s.charCodeAt(i+2),e)}function r(o,i,s){return e.format(o.charCodeAt(0),s.charCodeAt(i+1),e)}}function DSe(t){let e=q5.get(t);return e||(e=PSe(t),q5.set(t,e)),e}function PSe(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(NSe,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const LSe=/[\dA-Fa-f]/;function jSe(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!LSe.test(String.fromCharCode(e))?r:r+";"}const ISe=/\d/;function VSe(t,e,n){const r="&#"+String(t);return n&&e&&!ISe.test(String.fromCharCode(e))?r:r+";"}const BSe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],E_={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},$Se=["cent","copy","divide","gt","lt","not","para","times"],VU={}.hasOwnProperty,zT={};let wb;for(wb in E_)VU.call(E_,wb)&&(zT[E_[wb]]=wb);const HSe=/[^\dA-Za-z]/;function zSe(t,e,n,r){const o=String.fromCharCode(t);if(VU.call(zT,o)){const i=zT[o],s="&"+i;return n&&BSe.includes(i)&&!$Se.includes(i)&&(!r||e&&e!==61&&HSe.test(String.fromCharCode(e)))?s:s+";"}return""}function FSe(t,e,n){let r=jSe(t,e,n.omitOptionalSemicolons),o;if((n.useNamedReferences||n.useShortestReferences)&&(o=zSe(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!o)&&n.useShortestReferences){const i=VSe(t,e,n.omitOptionalSemicolons);i.length<r.length&&(r=i)}return o&&(!n.useShortestReferences||o.length<r.length)?o:r}function Wf(t,e){return OSe(t,Object.assign({format:FSe},e))}const USe=/^>|^->|<!--|-->|--!>|<!-$/g,GSe=[">"],WSe=["<",">"];function qSe(t,e,n,r){return r.settings.bogusComments?"<?"+Wf(t.value,Object.assign({},r.settings.characterReferences,{subset:GSe}))+">":"<!--"+t.value.replace(USe,o)+"-->";function o(i){return Wf(i,Object.assign({},r.settings.characterReferences,{subset:WSe}))}}function YSe(t,e,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function Y5(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(e);for(;o!==-1;)r++,o=n.indexOf(e,o+e.length);return r}function yVe(t){const e=[],n=String(t||"");let r=n.indexOf(","),o=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const s=n.slice(o,r).trim();(s||!i)&&e.push(s),o=r+1,r=n.indexOf(",",o)}return e}function KSe(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function vVe(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function ZSe(t){return t.join(" ").trim()}const XSe=/[ \t\n\f\r]/g;function hR(t){return typeof t=="object"?t.type==="text"?K5(t.value):!1:K5(t)}function K5(t){return t.replace(XSe,"")===""}const ur=$U(1),BU=$U(-1),JSe=[];function $U(t){return e;function e(n,r,o){const i=n?n.children:JSe;let s=(r||0)+t,a=i[s];if(!o)for(;a&&hR(a);)s+=t,a=i[s];return a}}const QSe={}.hasOwnProperty;function HU(t){return e;function e(n,r,o){return QSe.call(t,n.tagName)&&t[n.tagName](n,r,o)}}const pR=HU({body:tCe,caption:T_,colgroup:T_,dd:iCe,dt:oCe,head:T_,html:eCe,li:rCe,optgroup:sCe,option:aCe,p:nCe,rp:Z5,rt:Z5,tbody:cCe,td:X5,tfoot:uCe,th:X5,thead:lCe,tr:dCe});function T_(t,e,n){const r=ur(n,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&hR(r.value.charAt(0)))}function eCe(t,e,n){const r=ur(n,e);return!r||r.type!=="comment"}function tCe(t,e,n){const r=ur(n,e);return!r||r.type!=="comment"}function nCe(t,e,n){const r=ur(n,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function rCe(t,e,n){const r=ur(n,e);return!r||r.type==="element"&&r.tagName==="li"}function oCe(t,e,n){const r=ur(n,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function iCe(t,e,n){const r=ur(n,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function Z5(t,e,n){const r=ur(n,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function sCe(t,e,n){const r=ur(n,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function aCe(t,e,n){const r=ur(n,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function lCe(t,e,n){const r=ur(n,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function cCe(t,e,n){const r=ur(n,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function uCe(t,e,n){return!ur(n,e)}function dCe(t,e,n){const r=ur(n,e);return!r||r.type==="element"&&r.tagName==="tr"}function X5(t,e,n){const r=ur(n,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const fCe=HU({body:mCe,colgroup:gCe,head:pCe,html:hCe,tbody:yCe});function hCe(t){const e=ur(t,-1);return!e||e.type!=="comment"}function pCe(t){const e=new Set;for(const r of t.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const n=t.children[0];return!n||n.type==="element"}function mCe(t){const e=ur(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&hR(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function gCe(t,e,n){const r=BU(n,e),o=ur(t,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&pR(r,n.children.indexOf(r),n)?!1:!!(o&&o.type==="element"&&o.tagName==="col")}function yCe(t,e,n){const r=BU(n,e),o=ur(t,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&pR(r,n.children.indexOf(r),n)?!1:!!(o&&o.type==="element"&&o.tagName==="tr")}const Sb={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function vCe(t,e,n,r){const o=r.schema,i=o.space==="svg"?!1:r.settings.omitOptionalTags;let s=o.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const a=[];let l;o.space==="html"&&t.tagName==="svg"&&(r.schema=IU);const c=bCe(r,t.properties),f=r.all(o.space==="html"&&t.tagName==="template"?t.content:t);return r.schema=o,f&&(s=!1),(c||!i||!fCe(t,e,n))&&(a.push("<",t.tagName,c?" "+c:""),s&&(o.space==="svg"||r.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(f),!s&&(!i||!pR(t,e,n))&&a.push("</"+t.tagName+">"),a.join("")}function bCe(t,e){const n=[];let r=-1,o;if(e){for(o in e)if(e[o]!==null&&e[o]!==void 0){const i=xCe(t,o,e[o]);i&&n.push(i)}}for(;++r<n.length;){const i=t.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&i!=='"'&&i!=="'"&&(n[r]+=" ")}return n.join("")}function xCe(t,e,n){const r=CSe(t.schema,e),o=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,i=t.settings.allowDangerousCharacters?0:1;let s=t.quote,a;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=Wf(r.attribute,Object.assign({},t.settings.characterReferences,{subset:Sb.name[o][i]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?KSe:ZSe)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?l:(t.settings.preferUnquoted&&(a=Wf(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:Sb.unquoted[o][i]}))),a!==n&&(t.settings.quoteSmart&&Y5(n,s)>Y5(n,t.alternative)&&(s=t.alternative),a=s+Wf(n,Object.assign({},t.settings.characterReferences,{subset:(s==="'"?Sb.single:Sb.double)[o][i],attribute:!0}))+s),l+(a&&"="+a))}const wCe=["<","&"];function zU(t,e,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:Wf(t.value,Object.assign({},r.settings.characterReferences,{subset:wCe}))}function SCe(t,e,n,r){return r.settings.allowDangerousHtml?t.value:zU(t,e,n,r)}function CCe(t,e,n,r){return r.all(t)}const kCe=TSe("type",{invalid:_Ce,unknown:ECe,handlers:{comment:qSe,doctype:YSe,element:vCe,raw:SCe,root:CCe,text:zU}});function _Ce(t){throw new Error("Expected node, not `"+t+"`")}function ECe(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const TCe={},MCe={},ACe=[];function RCe(t,e){const n=TCe,r=n.quote||'"',o=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:NCe,all:OCe,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||ySe,characterReferences:n.characterReferences||MCe,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?IU:ESe,quote:r,alternative:o}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function NCe(t,e,n){return kCe(t,e,n,this)}function OCe(t){const e=[],n=t&&t.children||ACe;let r=-1;for(;++r<n.length;)e[r]=this.one(n[r],r,t);return e.join("")}function DCe(t){return Array.isArray(t)?t:[t]}function hw(t,e=!1){var i;const n=t.split(/(\r?\n)/g);let r=0;const o=[];for(let s=0;s<n.length;s+=2){const a=e?n[s]+(n[s+1]||""):n[s];o.push([a,r]),r+=n[s].length,r+=((i=n[s+1])==null?void 0:i.length)||0}return o}function mR(t){return!t||["plaintext","txt","text","plain"].includes(t)}function FU(t){return t==="ansi"||mR(t)}function gR(t){return t==="none"}function UU(t){return gR(t)}function GU(t,e){var r;if(!e)return t;t.properties||(t.properties={}),(r=t.properties).class||(r.class=[]),typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const o of n)o&&!t.properties.class.includes(o)&&t.properties.class.push(o);return t}function PCe(t,e){let n=0;const r=[];for(const o of e)o>n&&r.push({...t,content:t.content.slice(n,o),offset:t.offset+n}),n=o;return n<t.content.length&&r.push({...t,content:t.content.slice(n),offset:t.offset+n}),r}function LCe(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((r,o)=>r-o);return n.length?t.map(r=>r.flatMap(o=>{const i=n.filter(s=>o.offset<s&&s<o.offset+o.content.length).map(s=>s-o.offset).sort((s,a)=>s-a);return i.length?PCe(o,i):o})):t}async function WU(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function f1(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},r=typeof t=="string"?t:t.name;for(const[o,i]of Object.entries((e==null?void 0:e.colorReplacements)||{}))typeof i=="string"?n[o]=i:o===r&&Object.assign(n,i);return n}function _u(t,e){return t&&((e==null?void 0:e[t==null?void 0:t.toLowerCase()])||t)}function qU(t){const e={};return t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle&&(t.fontStyle&Wa.Italic&&(e["font-style"]="italic"),t.fontStyle&Wa.Bold&&(e["font-weight"]="bold"),t.fontStyle&Wa.Underline&&(e["text-decoration"]="underline")),e}function jCe(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}function ICe(t){const e=hw(t,!0).map(([o])=>o);function n(o){if(o===t.length)return{line:e.length-1,character:e[e.length-1].length};let i=o,s=0;for(const a of e){if(i<a.length)break;i-=a.length,s++}return{line:s,character:i}}function r(o,i){let s=0;for(let a=0;a<o;a++)s+=e[a].length;return s+=i,s}return{lines:e,indexToPos:n,posToIndex:r}}class ro extends Error{constructor(e){super(e),this.name="ShikiError"}}const YU=new WeakMap;function pw(t,e){YU.set(t,e)}function Sg(t){return YU.get(t)}class Rh{constructor(...e){de(this,"_stacks",{});de(this,"lang");if(e.length===2){const[n,r]=e;this.lang=r,this._stacks=n}else{const[n,r,o]=e;this.lang=r,this._stacks={[o]:n}}}get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new Rh(Object.fromEntries(DCe(n).map(r=>[r,BT])),e)}getInternalStack(e=this.theme){return this._stacks[e]}get scopes(){return J5(this._stacks[this.theme])}getScopes(e=this.theme){return J5(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.scopes}}}function J5(t){const e=[],n=new Set;function r(o){var s;if(n.has(o))return;n.add(o);const i=(s=o==null?void 0:o.nameScopesList)==null?void 0:s.scopeName;i&&e.push(i),o.parent&&r(o.parent)}return r(t),e}function VCe(t,e){if(!(t instanceof Rh))throw new ro("Invalid grammar state");return t.getInternalStack(e)}function BCe(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let r=function(s){if(typeof s=="number"){if(s<0||s>n.source.length)throw new ro(`Invalid decoration offset: ${s}. Code length: ${n.source.length}`);return{...o.indexToPos(s),offset:s}}else{const a=o.lines[s.line];if(a===void 0)throw new ro(`Invalid decoration position ${JSON.stringify(s)}. Lines length: ${o.lines.length}`);if(s.character<0||s.character>a.length)throw new ro(`Invalid decoration position ${JSON.stringify(s)}. Line ${s.line} length: ${a.length}`);return{...s,offset:o.posToIndex(s.line,s.character)}}};const o=ICe(n.source),i=(n.options.decorations||[]).map(s=>({...s,start:r(s.start),end:r(s.end)}));$Ce(i),t.set(n.meta,{decorations:i,converter:o,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){var s;if(!((s=this.options.decorations)!=null&&s.length))return;const o=e(this).decorations.flatMap(a=>[a.start.offset,a.end.offset]);return LCe(n,o)},code(n){var f;if(!((f=this.options.decorations)!=null&&f.length))return;const r=e(this),o=Array.from(n.children).filter(h=>h.type==="element"&&h.tagName==="span");if(o.length!==r.converter.lines.length)throw new ro(`Number of lines in code element (${o.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function i(h,p,y,b){const x=o[h];let C="",k=-1,E=-1;if(p===0&&(k=0),y===0&&(E=0),y===Number.POSITIVE_INFINITY&&(E=x.children.length),k===-1||E===-1)for(let R=0;R<x.children.length;R++)C+=KU(x.children[R]),k===-1&&C.length===p&&(k=R+1),E===-1&&C.length===y&&(E=R+1);if(k===-1)throw new ro(`Failed to find start index for decoration ${JSON.stringify(b.start)}`);if(E===-1)throw new ro(`Failed to find end index for decoration ${JSON.stringify(b.end)}`);const T=x.children.slice(k,E);if(!b.alwaysWrap&&T.length===x.children.length)a(x,b,"line");else if(!b.alwaysWrap&&T.length===1&&T[0].type==="element")a(T[0],b,"token");else{const R={type:"element",tagName:"span",properties:{},children:T};a(R,b,"wrapper"),x.children.splice(k,T.length,R)}}function s(h,p){o[h]=a(o[h],p,"line")}function a(h,p,y){var C;const b=p.properties||{},x=p.transform||(k=>k);return h.tagName=p.tagName||"span",h.properties={...h.properties,...b,class:h.properties.class},(C=p.properties)!=null&&C.class&&GU(h,p.properties.class),h=x(h,y)||h,h}const l=[],c=r.decorations.sort((h,p)=>p.start.offset-h.start.offset);for(const h of c){const{start:p,end:y}=h;if(p.line===y.line)i(p.line,p.character,y.character,h);else if(p.line<y.line){i(p.line,p.character,Number.POSITIVE_INFINITY,h);for(let b=p.line+1;b<y.line;b++)l.unshift(()=>s(b,h));i(y.line,0,y.character,h)}}l.forEach(h=>h())}}}function $Ce(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new ro(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let r=e+1;r<t.length;r++){const o=t[r],i=n.start.offset<o.start.offset&&o.start.offset<n.end.offset,s=n.start.offset<o.end.offset&&o.end.offset<n.end.offset,a=o.start.offset<n.start.offset&&n.start.offset<o.end.offset,l=o.start.offset<n.end.offset&&n.end.offset<o.end.offset;if(i||s||a||l){if(s&&s||a&&l)continue;throw new ro(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(o.start)} intersect.`)}}}}function KU(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(KU).join(""):""}const HCe=[BCe()];function h1(t){return[...t.transformers||[],...HCe]}var Eu=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],M_={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",9:"strikethrough"};function zCe(t,e){const n=t.indexOf("\x1B[",e);if(n!==-1){const r=t.indexOf("m",n);return{sequence:t.substring(n+2,r).split(";"),startPosition:n,position:r+1}}return{position:t.length}}function Q5(t,e){let n=1;const r=t[e+n++];let o;if(r==="2"){const i=[t[e+n++],t[e+n++],t[e+n]].map(s=>Number.parseInt(s));i.length===3&&!i.some(s=>Number.isNaN(s))&&(o={type:"rgb",rgb:i})}else if(r==="5"){const i=Number.parseInt(t[e+n]);Number.isNaN(i)||(o={type:"table",index:Number(i)})}return[n,o]}function FCe(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],o=Number.parseInt(r);if(!Number.isNaN(o))if(o===0)e.push({type:"resetAll"});else if(o<=9)M_[o]&&e.push({type:"setDecoration",value:M_[o]});else if(o<=29){const i=M_[o-20];i&&e.push({type:"resetDecoration",value:i})}else if(o<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Eu[o-30]}});else if(o===38){const[i,s]=Q5(t,n);s&&e.push({type:"setForegroundColor",value:s}),n+=i}else if(o===39)e.push({type:"resetForegroundColor"});else if(o<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Eu[o-40]}});else if(o===48){const[i,s]=Q5(t,n);s&&e.push({type:"setBackgroundColor",value:s}),n+=i}else o===49?e.push({type:"resetBackgroundColor"}):o>=90&&o<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Eu[o-90+8]}}):o>=100&&o<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Eu[o-100+8]}})}return e}function UCe(){let t=null,e=null,n=new Set;return{parse(r){const o=[];let i=0;do{const s=zCe(r,i),a=s.sequence?r.substring(i,s.startPosition):r.substring(i);if(a.length>0&&o.push({value:a,foreground:t,background:e,decorations:new Set(n)}),s.sequence){const l=FCe(s.sequence);for(const c of l)c.type==="resetAll"?(t=null,e=null,n.clear()):c.type==="resetForegroundColor"?t=null:c.type==="resetBackgroundColor"?e=null:c.type==="resetDecoration"&&n.delete(c.value);for(const c of l)c.type==="setForegroundColor"?t=c.value:c.type==="setBackgroundColor"?e=c.value:c.type==="setDecoration"&&n.add(c.value)}i=s.position}while(i<r.length);return o}}}var GCe={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function WCe(t=GCe){function e(a){return t[a]}function n(a){return`#${a.map(l=>Math.max(0,Math.min(l,255)).toString(16).padStart(2,"0")).join("")}`}let r;function o(){if(r)return r;r=[];for(let c=0;c<Eu.length;c++)r.push(e(Eu[c]));let a=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let f=0;f<6;f++)for(let h=0;h<6;h++)r.push(n([a[c],a[f],a[h]]));let l=8;for(let c=0;c<24;c++,l+=10)r.push(n([l,l,l]));return r}function i(a){return o()[a]}function s(a){switch(a.type){case"named":return e(a.name);case"rgb":return n(a.rgb);case"table":return i(a.index)}}return{value:s}}function qCe(t,e,n){const r=f1(t,n),o=hw(e),i=WCe(Object.fromEntries(Eu.map(a=>{var l;return[a,(l=t.colors)==null?void 0:l[`terminal.ansi${a[0].toUpperCase()}${a.substring(1)}`]]}))),s=UCe();return o.map(a=>s.parse(a[0]).map(l=>{let c,f;l.decorations.has("reverse")?(c=l.background?i.value(l.background):t.bg,f=l.foreground?i.value(l.foreground):t.fg):(c=l.foreground?i.value(l.foreground):t.fg,f=l.background?i.value(l.background):void 0),c=_u(c,r),f=_u(f,r),l.decorations.has("dim")&&(c=YCe(c));let h=Wa.None;return l.decorations.has("bold")&&(h|=Wa.Bold),l.decorations.has("italic")&&(h|=Wa.Italic),l.decorations.has("underline")&&(h|=Wa.Underline),{content:l.value,offset:a[1],color:c,bgColor:f,fontStyle:h}}))}function YCe(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const r=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${r}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(r=>`${r}${r}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function yR(t,e,n={}){const{lang:r="text",theme:o=t.getLoadedThemes()[0]}=n;if(mR(r)||gR(o))return hw(e).map(l=>[{content:l[0],offset:l[1]}]);const{theme:i,colorMap:s}=t.setTheme(o);if(r==="ansi")return qCe(i,e,n);const a=t.getLanguage(r);if(n.grammarState){if(n.grammarState.lang!==a.name)throw new tl(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${a.name}"`);if(!n.grammarState.themes.includes(i.name))throw new tl(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${i.name}"`)}return ZCe(e,a,i,s,n)}function KCe(...t){if(t.length===2)return Sg(t[1]);const[e,n,r={}]=t,{lang:o="text",theme:i=e.getLoadedThemes()[0]}=r;if(mR(o)||gR(i))throw new tl("Plain language does not have grammar state");if(o==="ansi")throw new tl("ANSI language does not have grammar state");const{theme:s,colorMap:a}=e.setTheme(i),l=e.getLanguage(o);return new Rh(p1(n,l,s,a,r).stateStack,l.name,s.name)}function ZCe(t,e,n,r,o){const i=p1(t,e,n,r,o),s=new Rh(p1(t,e,n,r,o).stateStack,e.name,n.name);return pw(i.tokens,s),i.tokens}function p1(t,e,n,r,o){const i=f1(n,o),{tokenizeMaxLineLength:s=0,tokenizeTimeLimit:a=500}=o,l=hw(t);let c=o.grammarState?VCe(o.grammarState,n.name)??BT:o.grammarContextCode!=null?p1(o.grammarContextCode,e,n,r,{...o,grammarState:void 0,grammarContextCode:void 0}).stateStack:BT,f=[];const h=[];for(let p=0,y=l.length;p<y;p++){const[b,x]=l[p];if(b===""){f=[],h.push([]);continue}if(s>0&&b.length>=s){f=[],h.push([{content:b,offset:x,color:"",fontStyle:0}]);continue}let C,k,E;o.includeExplanation&&(C=e.tokenizeLine(b,c),k=C.tokens,E=0);const T=e.tokenizeLine2(b,c,a),R=T.tokens.length/2;for(let A=0;A<R;A++){const N=T.tokens[2*A],O=A+1<R?T.tokens[2*A+2]:b.length;if(N===O)continue;const j=T.tokens[2*A+1],P=_u(r[ph.getForeground(j)],i),z=ph.getFontStyle(j),X={content:b.substring(N,O),offset:x+N,color:P,fontStyle:z};if(o.includeExplanation){const Z=[];if(o.includeExplanation!=="scopeName")for(const re of n.settings){let ee;switch(typeof re.scope){case"string":ee=re.scope.split(/,/).map(B=>B.trim());break;case"object":ee=re.scope;break;default:continue}Z.push({settings:re,selectors:ee.map(B=>B.split(/ /))})}X.explanation=[];let q=0;for(;N+q<O;){const re=k[E],ee=b.substring(re.startIndex,re.endIndex);q+=ee.length,X.explanation.push({content:ee,scopes:o.includeExplanation==="scopeName"?XCe(re.scopes):JCe(Z,re.scopes)}),E+=1}}f.push(X)}h.push(f),f=[],c=T.ruleStack}return{tokens:h,stateStack:c}}function XCe(t){return t.map(e=>({scopeName:e}))}function JCe(t,e){const n=[];for(let r=0,o=e.length;r<o;r++){const i=e[r];n[r]={scopeName:i,themeMatches:eke(t,i,e.slice(0,r))}}return n}function e3(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function QCe(t,e,n){if(!e3(t[t.length-1],e))return!1;let r=t.length-2,o=n.length-1;for(;r>=0&&o>=0;)e3(t[r],n[o])&&(r-=1),o-=1;return r===-1}function eke(t,e,n){const r=[];for(const{selectors:o,settings:i}of t)for(const s of o)if(QCe(s,e,n)){r.push(i);break}return r}function ZU(t,e,n){const r=Object.entries(n.themes).filter(l=>l[1]).map(l=>({color:l[0],theme:l[1]})),o=r.map(l=>{const c=yR(t,e,{...n,theme:l.theme}),f=Sg(c),h=typeof l.theme=="string"?l.theme:l.theme.name;return{tokens:c,state:f,theme:h}}),i=tke(...o.map(l=>l.tokens)),s=i[0].map((l,c)=>l.map((f,h)=>{const p={content:f.content,variants:{},offset:f.offset};return"includeExplanation"in n&&n.includeExplanation&&(p.explanation=f.explanation),i.forEach((y,b)=>{const{content:x,explanation:C,offset:k,...E}=y[c][h];p.variants[r[b].color]=E}),p})),a=o[0].state?new Rh(Object.fromEntries(o.map(l=>{var c;return[l.theme,(c=l.state)==null?void 0:c.getInternalStack(l.theme)]})),o[0].state.lang):void 0;return a&&pw(s,a),s}function tke(...t){const e=t.map(()=>[]),n=t.length;for(let r=0;r<t[0].length;r++){const o=t.map(l=>l[r]),i=e.map(()=>[]);e.forEach((l,c)=>l.push(i[c]));const s=o.map(()=>0),a=o.map(l=>l[0]);for(;a.every(l=>l);){const l=Math.min(...a.map(c=>c.content.length));for(let c=0;c<n;c++){const f=a[c];f.content.length===l?(i[c].push(f),s[c]+=1,a[c]=o[c][s[c]]):(i[c].push({...f,content:f.content.slice(0,l)}),a[c]={...f,content:f.content.slice(l),offset:f.offset+l})}}}return e}function m1(t,e,n){let r,o,i,s,a,l;if("themes"in n){const{defaultColor:c="light",cssVariablePrefix:f="--shiki-"}=n,h=Object.entries(n.themes).filter(C=>C[1]).map(C=>({color:C[0],theme:C[1]})).sort((C,k)=>C.color===c?-1:k.color===c?1:0);if(h.length===0)throw new tl("`themes` option must not be empty");const p=ZU(t,e,n);if(l=Sg(p),c&&!h.find(C=>C.color===c))throw new tl(`\`themes\` option must contain the defaultColor key \`${c}\``);const y=h.map(C=>t.getTheme(C.theme)),b=h.map(C=>C.color);i=p.map(C=>C.map(k=>nke(k,b,f,c))),l&&pw(i,l);const x=h.map(C=>f1(C.theme,n));o=h.map((C,k)=>(k===0&&c?"":`${f+C.color}:`)+(_u(y[k].fg,x[k])||"inherit")).join(";"),r=h.map((C,k)=>(k===0&&c?"":`${f+C.color}-bg:`)+(_u(y[k].bg,x[k])||"inherit")).join(";"),s=`shiki-themes ${y.map(C=>C.name).join(" ")}`,a=c?void 0:[o,r].join(";")}else if("theme"in n){const c=f1(n.theme,n);i=yR(t,e,n);const f=t.getTheme(n.theme);r=_u(f.bg,c),o=_u(f.fg,c),s=f.name,l=Sg(i)}else throw new tl("Invalid options, either `theme` or `themes` must be provided");return{tokens:i,fg:o,bg:r,themeName:s,rootStyle:a,grammarState:l}}function nke(t,e,n,r){const o={content:t.content,explanation:t.explanation,offset:t.offset},i=e.map(l=>qU(t.variants[l])),s=new Set(i.flatMap(l=>Object.keys(l))),a={};return i.forEach((l,c)=>{for(const f of s){const h=l[f]||"inherit";if(c===0&&r)a[f]=h;else{const p=f==="color"?"":f==="background-color"?"-bg":`-${f}`,y=n+e[c]+(f==="color"?"":p);a[y]=h}}}),o.htmlStyle=a,o}function g1(t,e,n,r={meta:{},options:n,codeToHast:(o,i)=>g1(t,o,i),codeToTokens:(o,i)=>m1(t,o,i)}){var y,b;let o=e;for(const x of h1(n))o=((y=x.preprocess)==null?void 0:y.call(r,o,n))||o;let{tokens:i,fg:s,bg:a,themeName:l,rootStyle:c,grammarState:f}=m1(t,o,n);const{mergeWhitespaces:h=!0}=n;h===!0?i=oke(i):h==="never"&&(i=ike(i));const p={...r,get source(){return o}};for(const x of h1(n))i=((b=x.tokens)==null?void 0:b.call(p,i))||i;return rke(i,{...n,fg:s,bg:a,themeName:l,rootStyle:c},p,f)}function rke(t,e,n,r=Sg(t)){var b,x,C;const o=h1(e),i=[],s={type:"root",children:[]},{structure:a="classic",tabindex:l="0"}=e;let c={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...l!==!1&&l!=null?{tabindex:l.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([k])=>!k.startsWith("_")))},children:[]},f={type:"element",tagName:"code",properties:{},children:i};const h=[],p={...n,structure:a,addClassToHast:GU,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return s},get pre(){return c},get code(){return f},get lines(){return h}};if(t.forEach((k,E)=>{var A,N;E&&(a==="inline"?s.children.push({type:"element",tagName:"br",properties:{},children:[]}):a==="classic"&&i.push({type:"text",value:`
`}));let T={type:"element",tagName:"span",properties:{class:"line"},children:[]},R=0;for(const O of k){let j={type:"element",tagName:"span",properties:{...O.htmlAttrs},children:[{type:"text",value:O.content}]};O.htmlStyle;const P=jCe(O.htmlStyle||qU(O));P&&(j.properties.style=P);for(const z of o)j=((A=z==null?void 0:z.span)==null?void 0:A.call(p,j,E+1,R,T,O))||j;a==="inline"?s.children.push(j):a==="classic"&&T.children.push(j),R+=O.content.length}if(a==="classic"){for(const O of o)T=((N=O==null?void 0:O.line)==null?void 0:N.call(p,T,E+1))||T;h.push(T),i.push(T)}}),a==="classic"){for(const k of o)f=((b=k==null?void 0:k.code)==null?void 0:b.call(p,f))||f;c.children.push(f);for(const k of o)c=((x=k==null?void 0:k.pre)==null?void 0:x.call(p,c))||c;s.children.push(c)}let y=s;for(const k of o)y=((C=k==null?void 0:k.root)==null?void 0:C.call(p,y))||y;return r&&pw(y,r),y}function oke(t){return t.map(e=>{const n=[];let r="",o=0;return e.forEach((i,s)=>{const l=!(i.fontStyle&&i.fontStyle&Wa.Underline);l&&i.content.match(/^\s+$/)&&e[s+1]?(o||(o=i.offset),r+=i.content):r?(l?n.push({...i,offset:o,content:r+i.content}):n.push({content:r,offset:o},i),o=0,r=""):n.push(i)}),n})}function ike(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const r=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return n;const[,o,i,s]=r;if(!o&&!s)return n;const a=[{...n,offset:n.offset+o.length,content:i}];return o&&a.unshift({content:o,offset:n.offset}),s&&a.push({content:s,offset:n.offset+o.length+i.length}),a}))}function ske(t,e,n){var i;const r={meta:{},options:n,codeToHast:(s,a)=>g1(t,s,a),codeToTokens:(s,a)=>m1(t,s,a)};let o=RCe(g1(t,e,n,r));for(const s of h1(n))o=((i=s.postprocess)==null?void 0:i.call(r,o,n))||o;return o}const t3={light:"#333333",dark:"#bbbbbb"},n3={light:"#fffffe",dark:"#1e1e1e"},r3="__shiki_resolved";function vR(t){var a,l,c,f,h;if(t!=null&&t[r3])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||(e.type="dark"),e.colorReplacements={...e.colorReplacements},e.settings||(e.settings=[]);let{bg:n,fg:r}=e;if(!n||!r){const p=e.settings?e.settings.find(y=>!y.name&&!y.scope):void 0;(a=p==null?void 0:p.settings)!=null&&a.foreground&&(r=p.settings.foreground),(l=p==null?void 0:p.settings)!=null&&l.background&&(n=p.settings.background),!r&&((c=e==null?void 0:e.colors)!=null&&c["editor.foreground"])&&(r=e.colors["editor.foreground"]),!n&&((f=e==null?void 0:e.colors)!=null&&f["editor.background"])&&(n=e.colors["editor.background"]),r||(r=e.type==="light"?t3.light:t3.dark),n||(n=e.type==="light"?n3.light:n3.dark),e.fg=r,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let o=0;const i=new Map;function s(p){var b;if(i.has(p))return i.get(p);o+=1;const y=`#${o.toString(16).padStart(8,"0").toLowerCase()}`;return(b=e.colorReplacements)!=null&&b[`#${y}`]?s(p):(i.set(p,y),y)}e.settings=e.settings.map(p=>{var C,k;const y=((C=p.settings)==null?void 0:C.foreground)&&!p.settings.foreground.startsWith("#"),b=((k=p.settings)==null?void 0:k.background)&&!p.settings.background.startsWith("#");if(!y&&!b)return p;const x={...p,settings:{...p.settings}};if(y){const E=s(p.settings.foreground);e.colorReplacements[E]=p.settings.foreground,x.settings.foreground=E}if(b){const E=s(p.settings.background);e.colorReplacements[E]=p.settings.background,x.settings.background=E}return x});for(const p of Object.keys(e.colors||{}))if((p==="editor.foreground"||p==="editor.background"||p.startsWith("terminal.ansi"))&&!((h=e.colors[p])!=null&&h.startsWith("#"))){const y=s(e.colors[p]);e.colorReplacements[y]=e.colors[p],e.colors[p]=y}return Object.defineProperty(e,r3,{enumerable:!1,writable:!1,value:!0}),e}async function XU(t){return Array.from(new Set((await Promise.all(t.filter(e=>!FU(e)).map(async e=>await WU(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function JU(t){return(await Promise.all(t.map(async n=>UU(n)?null:vR(await WU(n))))).filter(n=>!!n)}class ake extends gSe{constructor(n,r,o,i={}){super(n);de(this,"_resolvedThemes",new Map);de(this,"_resolvedGrammars",new Map);de(this,"_langMap",new Map);de(this,"_langGraph",new Map);de(this,"_textmateThemeCache",new WeakMap);de(this,"_loadedThemesCache",null);de(this,"_loadedLanguagesCache",null);this._resolver=n,this._themes=r,this._langs=o,this._alias=i,this._themes.map(s=>this.loadTheme(s)),this.loadLanguages(this._langs)}getTheme(n){return typeof n=="string"?this._resolvedThemes.get(n):this.loadTheme(n)}loadTheme(n){const r=vR(n);return r.name&&(this._resolvedThemes.set(r.name,r),this._loadedThemesCache=null),r}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(n){let r=this._textmateThemeCache.get(n);r||(r=a1.createFromRawTheme(n),this._textmateThemeCache.set(n,r)),this._syncRegistry.setTheme(r)}getGrammar(n){if(this._alias[n]){const r=new Set([n]);for(;this._alias[n];){if(n=this._alias[n],r.has(n))throw new ro(`Circular alias \`${Array.from(r).join(" -> ")} -> ${n}\``);r.add(n)}}return this._resolvedGrammars.get(n)}loadLanguage(n){var s,a,l,c;if(this.getGrammar(n.name))return;const r=new Set([...this._langMap.values()].filter(f=>{var h;return(h=f.embeddedLangsLazy)==null?void 0:h.includes(n.name)}));this._resolver.addLanguage(n);const o={balancedBracketSelectors:n.balancedBracketSelectors||["*"],unbalancedBracketSelectors:n.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(n.scopeName,n);const i=this.loadGrammarWithConfiguration(n.scopeName,1,o);if(i.name=n.name,this._resolvedGrammars.set(n.name,i),n.aliases&&n.aliases.forEach(f=>{this._alias[f]=n.name}),this._loadedLanguagesCache=null,r.size)for(const f of r)this._resolvedGrammars.delete(f.name),this._loadedLanguagesCache=null,(a=(s=this._syncRegistry)==null?void 0:s._injectionGrammars)==null||a.delete(f.scopeName),(c=(l=this._syncRegistry)==null?void 0:l._grammars)==null||c.delete(f.scopeName),this.loadLanguage(this._langMap.get(f.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(n){for(const i of n)this.resolveEmbeddedLanguages(i);const r=Array.from(this._langGraph.entries()),o=r.filter(([i,s])=>!s);if(o.length){const i=r.filter(([s,a])=>{var l;return a&&((l=a.embeddedLangs)==null?void 0:l.some(c=>o.map(([f])=>f).includes(c)))}).filter(s=>!o.includes(s));throw new ro(`Missing languages ${o.map(([s])=>`\`${s}\``).join(", ")}, required by ${i.map(([s])=>`\`${s}\``).join(", ")}`)}for(const[i,s]of r)this._resolver.addLanguage(s);for(const[i,s]of r)this.loadLanguage(s)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(n){if(this._langMap.set(n.name,n),this._langGraph.set(n.name,n),n.embeddedLangs)for(const r of n.embeddedLangs)this._langGraph.set(r,this._langMap.get(r))}}class lke{constructor(e,n){de(this,"_langs",new Map);de(this,"_scopeToLang",new Map);de(this,"_injections",new Map);de(this,"_onigLib");this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},n.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let r=[];for(let o=1;o<=n.length;o++){const i=n.slice(0,o).join(".");r=[...r,...this._injections.get(i)||[]]}return r}}let Xp=0;function cke(t){Xp+=1,t.warnings!==!1&&Xp>=10&&Xp%10===0&&console.warn(`[Shiki] ${Xp} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new ro("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),r=(t.themes||[]).flat(1).map(vR),o=new lke(t.engine,n),i=new ake(o,r,n,t.langAlias);let s;function a(E){C();const T=i.getGrammar(typeof E=="string"?E:E.name);if(!T)throw new ro(`Language \`${E}\` not found, you may need to load it first`);return T}function l(E){if(E==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};C();const T=i.getTheme(E);if(!T)throw new ro(`Theme \`${E}\` not found, you may need to load it first`);return T}function c(E){C();const T=l(E);s!==E&&(i.setTheme(T),s=E);const R=i.getColorMap();return{theme:T,colorMap:R}}function f(){return C(),i.getLoadedThemes()}function h(){return C(),i.getLoadedLanguages()}function p(...E){C(),i.loadLanguages(E.flat(1))}async function y(...E){return p(await XU(E))}function b(...E){C();for(const T of E.flat(1))i.loadTheme(T)}async function x(...E){return C(),b(await JU(E))}function C(){if(e)throw new ro("Shiki instance has been disposed")}function k(){e||(e=!0,i.dispose(),Xp-=1)}return{setTheme:c,getTheme:l,getLanguage:a,getLoadedThemes:f,getLoadedLanguages:h,loadLanguage:y,loadLanguageSync:p,loadTheme:x,loadThemeSync:b,dispose:k,[Symbol.dispose]:k}}async function uke(t={}){t.loadWasm;const[e,n,r]=await Promise.all([JU(t.themes||[]),XU(t.langs||[]),t.engine||hU(t.loadWasm||Rwe())]);return cke({...t,themes:e,langs:n,engine:r})}async function dke(t={}){const e=await uke(t);return{getLastGrammarState:(...n)=>KCe(e,...n),codeToTokensBase:(n,r)=>yR(e,n,r),codeToTokensWithThemes:(n,r)=>ZU(e,n,r),codeToTokens:(n,r)=>m1(e,n,r),codeToHast:(n,r)=>g1(e,n,r),codeToHtml:(n,r)=>ske(e,n,r),...e,getInternalContext:()=>e}}function fke(t,e,n){let r,o,i;{const a=t;r=a.langs,o=a.themes,i=a.engine}async function s(a){function l(y){if(typeof y=="string"){if(FU(y))return[];const b=r[y];if(!b)throw new tl(`Language \`${y}\` is not included in this bundle. You may want to load it from external source.`);return b}return y}function c(y){if(UU(y))return"none";if(typeof y=="string"){const b=o[y];if(!b)throw new tl(`Theme \`${y}\` is not included in this bundle. You may want to load it from external source.`);return b}return y}const f=(a.themes??[]).map(y=>c(y)),h=(a.langs??[]).map(y=>l(y)),p=await dke({engine:a.engine??i(),...a,themes:f,langs:h});return{...p,loadLanguage(...y){return p.loadLanguage(...y.map(l))},loadTheme(...y){return p.loadTheme(...y.map(c))}}}return s}const hke=fke({langs:uwe,themes:fwe,engine:()=>hU(I(()=>import("./wasm-CG6Dc4jp.js"),[]))});function pke(t,e){return function({content:r,language:o,pos:i}){var s;const a=[],{tokens:l}=t.codeToTokens(r,{lang:o,theme:t.getLoadedThemes()[0]});let c=i+1;for(const f of l){for(const h of f){const p=c+h.content.length,y=nn.inline(c,p,{style:(s=h.htmlStyle)!=null?s:`color: ${h.color}`,class:"shiki"});a.push(y),c=p}c+=1}return a}}var FT,UT;if(typeof WeakMap<"u"){let t=new WeakMap;FT=e=>t.get(e),UT=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;FT=r=>{for(let o=0;o<t.length;o+=2)if(t[o]==r)return t[o+1]},UT=(r,o)=>(n==10&&(n=0),t[n++]=r,t[n++]=o)}var xn=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,o=e/this.width|0;let i=r+1,s=o+1;for(let a=1;i<this.width&&this.map[e+a]==n;a++)i++;for(let a=1;s<this.height&&this.map[e+this.width*a]==n;a++)s++;return{left:r,top:o,right:i,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:o,top:i,bottom:s}=this.findCell(t);return e=="horiz"?(n<0?r==0:o==this.width)?null:this.map[i*this.width+(n<0?r-1:o)]:(n<0?i==0:s==this.height)?null:this.map[r+this.width*(n<0?i-1:s)]}rectBetween(t,e){const{left:n,right:r,top:o,bottom:i}=this.findCell(t),{left:s,right:a,top:l,bottom:c}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(o,l),right:Math.max(r,a),bottom:Math.max(i,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let o=t.left;o<t.right;o++){const i=r*this.width+o,s=this.map[i];n[s]||(n[s]=!0,!(o==t.left&&o&&this.map[i-1]==s||r==t.top&&r&&this.map[i-this.width]==s)&&e.push(s))}return e}positionAt(t,e,n){for(let r=0,o=0;;r++){const i=o+n.child(r).nodeSize;if(r==t){let s=e+t*this.width;const a=(t+1)*this.width;for(;s<a&&this.map[s]<o;)s++;return s==a?i-1:this.map[s]}o=i}}static get(t){return FT(t)||UT(t,mke(t))}};function mke(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=gke(t),n=t.childCount,r=[];let o=0,i=null;const s=[];for(let c=0,f=e*n;c<f;c++)r[c]=0;for(let c=0,f=0;c<n;c++){const h=t.child(c);f++;for(let b=0;;b++){for(;o<r.length&&r[o]!=0;)o++;if(b==h.childCount)break;const x=h.child(b),{colspan:C,rowspan:k,colwidth:E}=x.attrs;for(let T=0;T<k;T++){if(T+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:f,n:k-T});break}const R=o+T*e;for(let A=0;A<C;A++){r[R+A]==0?r[R+A]=f:(i||(i=[])).push({type:"collision",row:c,pos:f,n:C-A});const N=E&&E[A];if(N){const O=(R+A)%e*2,j=s[O];j==null||j!=N&&s[O+1]==1?(s[O]=N,s[O+1]=1):j==N&&s[O+1]++}}}o+=C,f+=x.nodeSize}const p=(c+1)*e;let y=0;for(;o<p;)r[o++]==0&&y++;y&&(i||(i=[])).push({type:"missing",row:c,n:y}),f++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const a=new xn(e,n,r,i);let l=!1;for(let c=0;!l&&c<s.length;c+=2)s[c]!=null&&s[c+1]<n&&(l=!0);return l&&yke(a,s,t),a}function gke(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const o=t.child(r);let i=0;if(n)for(let s=0;s<r;s++){const a=t.child(s);for(let l=0;l<a.childCount;l++){const c=a.child(l);s+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}}for(let s=0;s<o.childCount;s++){const a=o.child(s);i+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function yke(t,e,n){t.problems||(t.problems=[]);const r={};for(let o=0;o<t.map.length;o++){const i=t.map[o];if(r[i])continue;r[i]=!0;const s=n.nodeAt(i);if(!s)throw new RangeError(`No cell with offset ${i} found`);let a=null;const l=s.attrs;for(let c=0;c<l.colspan;c++){const f=(o+c)%t.width,h=e[f*2];h!=null&&(!l.colwidth||l.colwidth[c]!=h)&&((a||(a=vke(l)))[c]=h)}a&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:a})}}function vke(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function Kr(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}}return e}var Ql=new Dt("selectingCells");function Nh(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function bke(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function ca(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function bR(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Nh(e.$head)||xke(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function xke(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function GT(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function wke(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function xR(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function QU(t,e,n){const r=t.node(-1),o=xn.get(r),i=t.start(-1),s=o.nextCell(t.pos-i,e,n);return s==null?null:t.node(0).resolve(i+s)}function Ju(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(o=>o>0)||(r.colwidth=null)),r}function eG(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let o=0;o<n;o++)r.colwidth.splice(e,0,0)}return r}function Ske(t,e,n){const r=Kr(e.type.schema).header_cell;for(let o=0;o<t.height;o++)if(e.nodeAt(t.map[n+o*t.width]).type!=r)return!1;return!0}var Xt=class Ia extends Ke{constructor(e,n=e){const r=e.node(-1),o=xn.get(r),i=e.start(-1),s=o.rectBetween(e.pos-i,n.pos-i),a=e.node(0),l=o.cellsInRect(s).filter(f=>f!=n.pos-i);l.unshift(n.pos-i);const c=l.map(f=>{const h=r.nodeAt(f);if(!h)throw RangeError(`No cell with offset ${f} found`);const p=i+f+1;return new Wz(a.resolve(p),a.resolve(p+h.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(GT(r)&&GT(o)&&xR(r,o)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?Ia.rowSelection(r,o):i&&this.isColSelection()?Ia.colSelection(r,o):new Ia(r,o)}return He.between(r,o)}content(){const e=this.$anchorCell.node(-1),n=xn.get(e),r=this.$anchorCell.start(-1),o=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},s=[];for(let l=o.top;l<o.bottom;l++){const c=[];for(let f=l*n.width+o.left,h=o.left;h<o.right;h++,f++){const p=n.map[f];if(i[p])continue;i[p]=!0;const y=n.findCell(p);let b=e.nodeAt(p);if(!b)throw RangeError(`No cell with offset ${p} found`);const x=o.left-y.left,C=y.right-o.right;if(x>0||C>0){let k=b.attrs;if(x>0&&(k=Ju(k,0,x)),C>0&&(k=Ju(k,k.colspan-C,C)),y.left<o.left){if(b=b.type.createAndFill(k),!b)throw RangeError(`Could not create cell with attrs ${JSON.stringify(k)}`)}else b=b.type.create(k,b.content)}if(y.top<o.top||y.bottom>o.bottom){const k={...b.attrs,rowspan:Math.min(y.bottom,o.bottom)-Math.max(y.top,o.top)};y.top<o.top?b=b.type.createAndFill(k):b=b.type.create(k,b.content)}c.push(b)}s.push(e.child(l).copy(ce.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:s;return new Se(ce.from(a),1,1)}replace(e,n=Se.empty){const r=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){const{$from:a,$to:l}=o[s],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),s?Se.empty:n)}const i=Ke.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new Se(ce.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=xn.get(n),o=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let s=0;s<i.length;s++)e(n.nodeAt(i[s]),o+i[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,o)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),o=xn.get(r),i=e.start(-1),s=o.findCell(e.pos-i),a=o.findCell(n.pos-i),l=e.node(0);return s.top<=a.top?(s.top>0&&(e=l.resolve(i+o.map[s.left])),a.bottom<o.height&&(n=l.resolve(i+o.map[o.width*(o.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(i+o.map[a.left])),s.bottom<o.height&&(e=l.resolve(i+o.map[o.width*(o.height-1)+s.right-1]))),new Ia(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=xn.get(e),r=this.$anchorCell.start(-1),o=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(o,i)>0)return!1;const s=o+this.$anchorCell.nodeAfter.attrs.colspan,a=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,a)==n.width}eq(e){return e instanceof Ia&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),o=xn.get(r),i=e.start(-1),s=o.findCell(e.pos-i),a=o.findCell(n.pos-i),l=e.node(0);return s.left<=a.left?(s.left>0&&(e=l.resolve(i+o.map[s.top*o.width])),a.right<o.width&&(n=l.resolve(i+o.map[o.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(i+o.map[a.top*o.width])),s.right<o.width&&(e=l.resolve(i+o.map[o.width*(s.top+1)-1]))),new Ia(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Ia(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Ia(e.resolve(n),e.resolve(r))}getBookmark(){return new Cke(this.$anchorCell.pos,this.$headCell.pos)}};Xt.prototype.visible=!1;Ke.jsonID("cell",Xt);var Cke=class tG{constructor(e,n){this.anchor=e,this.head=n}map(e){return new tG(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&xR(n,r)?new Xt(n,r):Ke.near(r,1)}};function kke(t){if(!(t.selection instanceof Xt))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(nn.node(r,r+n.nodeSize,{class:"selectedCell"}))}),St.create(t.doc,e)}function _ke({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,o=t.depth;for(;o>=0&&!(t.after(o+1)<t.end(o));o--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,r--);return n==r&&/row|table/.test(t.node(o).type.spec.tableRole)}function Eke({$from:t,$to:e}){let n,r;for(let o=t.depth;o>0;o--){const i=t.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let o=e.depth;o>0;o--){const i=e.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&e.parentOffset===0}function Tke(t,e,n){const r=(e||t).selection,o=(e||t).doc;let i,s;if(r instanceof ze&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")i=Xt.create(o,r.from);else if(s=="row"){const a=o.resolve(r.from+1);i=Xt.rowSelection(a,a)}else if(!n){const a=xn.get(r.node),l=r.from+1,c=l+a.map[a.width*a.height-1];i=Xt.create(o,l+1,c)}}else r instanceof He&&_ke(r)?i=He.create(o,r.from):r instanceof He&&Eke(r)&&(i=He.create(o,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}var Mke=new Dt("fix-tables");function nG(t,e,n,r){const o=t.childCount,i=e.childCount;e:for(let s=0,a=0;s<i;s++){const l=e.child(s);for(let c=a,f=Math.min(o,s+3);c<f;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<o&&t.child(a).sameMarkup(l)?nG(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function Ake(t,e){let n;const r=(o,i)=>{o.type.spec.tableRole=="table"&&(n=Rke(t,o,i,n))};return e?e.doc!=t.doc&&nG(e.doc,t.doc,0,r):t.doc.descendants(r),n}function Rke(t,e,n,r){const o=xn.get(e);if(!o.problems)return r;r||(r=t.tr);const i=[];for(let l=0;l<o.height;l++)i.push(0);for(let l=0;l<o.problems.length;l++){const c=o.problems[l];if(c.type=="collision"){const f=e.nodeAt(c.pos);if(!f)continue;const h=f.attrs;for(let p=0;p<h.rowspan;p++)i[c.row+p]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,Ju(h,h.colspan-c.n,c.n))}else if(c.type=="missing")i[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const f=e.nodeAt(c.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const f=e.nodeAt(c.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...f.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const f=r.mapping.map(n);r.delete(f,f+e.nodeSize)}}let s,a;for(let l=0;l<i.length;l++)i[l]&&(s==null&&(s=l),a=l);for(let l=0,c=n+1;l<o.height;l++){const f=e.child(l),h=c+f.nodeSize,p=i[l];if(p>0){let y="cell";f.firstChild&&(y=f.firstChild.type.spec.tableRole);const b=[];for(let C=0;C<p;C++){const k=Kr(t.schema)[y].createAndFill();k&&b.push(k)}const x=(l==0||s==l-1)&&a==l?c+1:h-1;r.insert(r.mapping.map(x),b)}c=h}return r.setMeta(Mke,{fixTables:!0})}function ua(t){const e=t.selection,n=bR(t),r=n.node(-1),o=n.start(-1),i=xn.get(r);return{...e instanceof Xt?i.rectBetween(e.$anchorCell.pos-o,e.$headCell.pos-o):i.findCell(n.pos-o),tableStart:o,map:i,table:r}}function rG(t,{map:e,tableStart:n,table:r},o){let i=o>0?-1:0;Ske(e,r,o+i)&&(i=o==0||o==e.width?null:0);for(let s=0;s<e.height;s++){const a=s*e.width+o;if(o>0&&o<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],c=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,eG(c.attrs,o-e.colCount(l))),s+=c.attrs.rowspan-1}else{const l=i==null?Kr(r.type.schema).cell:r.nodeAt(e.map[a+i]).type,c=e.positionAt(s,o,r);t.insert(t.mapping.map(n+c),l.createAndFill())}}return t}function Nke(t,e){if(!ca(t))return!1;if(e){const n=ua(t);e(rG(t.tr,n,n.left))}return!0}function Oke(t,e){if(!ca(t))return!1;if(e){const n=ua(t);e(rG(t.tr,n,n.right))}return!0}function Dke(t,{map:e,table:n,tableStart:r},o){const i=t.mapping.maps.length;for(let s=0;s<e.height;){const a=s*e.width+o,l=e.map[a],c=n.nodeAt(l),f=c.attrs;if(o>0&&e.map[a-1]==l||o<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(i).map(r+l),null,Ju(f,o-e.colCount(l)));else{const h=t.mapping.slice(i).map(r+l);t.delete(h,h+c.nodeSize)}s+=f.rowspan}}function Pke(t,e){if(!ca(t))return!1;if(e){const n=ua(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let o=n.right-1;Dke(r,n,o),o!=n.left;o--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=xn.get(i)}e(r)}return!0}function Lke(t,e,n){var r;const o=Kr(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((r=e.nodeAt(t.map[i+n*t.width]))==null?void 0:r.type)!=o)return!1;return!0}function oG(t,{map:e,tableStart:n,table:r},o){var i;let s=n;for(let c=0;c<o;c++)s+=r.child(c).nodeSize;const a=[];let l=o>0?-1:0;Lke(e,r,o+l)&&(l=o==0||o==e.height?null:0);for(let c=0,f=e.width*o;c<e.width;c++,f++)if(o>0&&o<e.height&&e.map[f]==e.map[f-e.width]){const h=e.map[f],p=r.nodeAt(h).attrs;t.setNodeMarkup(n+h,null,{...p,rowspan:p.rowspan+1}),c+=p.colspan-1}else{const h=l==null?Kr(r.type.schema).cell:(i=r.nodeAt(e.map[f+l*e.width]))==null?void 0:i.type,p=h==null?void 0:h.createAndFill();p&&a.push(p)}return t.insert(s,Kr(r.type.schema).row.create(null,a)),t}function jke(t,e){if(!ca(t))return!1;if(e){const n=ua(t);e(oG(t.tr,n,n.top))}return!0}function Ike(t,e){if(!ca(t))return!1;if(e){const n=ua(t);e(oG(t.tr,n,n.bottom))}return!0}function Vke(t,{map:e,table:n,tableStart:r},o){let i=0;for(let c=0;c<o;c++)i+=n.child(c).nodeSize;const s=i+n.child(o).nodeSize,a=t.mapping.maps.length;t.delete(i+r,s+r);const l=new Set;for(let c=0,f=o*e.width;c<e.width;c++,f++){const h=e.map[f];if(!l.has(h)){if(l.add(h),o>0&&h==e.map[f-e.width]){const p=n.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(a).map(h+r),null,{...p,rowspan:p.rowspan-1}),c+=p.colspan-1}else if(o<e.height&&h==e.map[f+e.width]){const p=n.nodeAt(h),y=p.attrs,b=p.type.create({...y,rowspan:p.attrs.rowspan-1},p.content),x=e.positionAt(o+1,c,n);t.insert(t.mapping.slice(a).map(r+x),b),c+=y.colspan-1}}}}function Bke(t,e){if(!ca(t))return!1;if(e){const n=ua(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let o=n.bottom-1;Vke(r,n,o),o!=n.top;o--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=xn.get(n.table)}e(r)}return!0}function o3(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function $ke({width:t,height:e,map:n},r){let o=r.top*t+r.left,i=o,s=(r.bottom-1)*t+r.left,a=o+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[i]==n[i-1]||r.right<t&&n[a]==n[a+1])return!0;i+=t,a+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[o]==n[o-t]||r.bottom<e&&n[s]==n[s+t])return!0;o++,s++}return!1}function Hke(t,e){const n=t.selection;if(!(n instanceof Xt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=ua(t),{map:o}=r;if($ke(o,r))return!1;if(e){const i=t.tr,s={};let a=ce.empty,l,c;for(let f=r.top;f<r.bottom;f++)for(let h=r.left;h<r.right;h++){const p=o.map[f*o.width+h],y=r.table.nodeAt(p);if(!(s[p]||!y))if(s[p]=!0,l==null)l=p,c=y;else{o3(y)||(a=a.append(y.content));const b=i.mapping.map(p+r.tableStart);i.delete(b,b+y.nodeSize)}}if(l==null||c==null)return!0;if(i.setNodeMarkup(l+r.tableStart,null,{...eG(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),a.size){const f=l+1+c.content.size,h=o3(c)?l+1:f;i.replaceWith(h+r.tableStart,f+r.tableStart,a)}i.setSelection(new Xt(i.doc.resolve(l+r.tableStart))),e(i)}return!0}function zke(t,e){const n=Kr(t.schema);return Fke(({node:r})=>n[r.type.spec.tableRole])(t,e)}function Fke(t){return(e,n)=>{var r;const o=e.selection;let i,s;if(o instanceof Xt){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;i=o.$anchorCell.nodeAfter,s=o.$anchorCell.pos}else{if(i=bke(o.$from),!i)return!1;s=(r=Nh(o.$from))==null?void 0:r.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let a=i.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const f=ua(e),h=e.tr;for(let y=0;y<f.right-f.left;y++)l.push(c?{...a,colwidth:c&&c[y]?[c[y]]:null}:a);let p;for(let y=f.top;y<f.bottom;y++){let b=f.map.positionAt(y,f.left,f.table);y==f.top&&(b+=i.nodeSize);for(let x=f.left,C=0;x<f.right;x++,C++)x==f.left&&y==f.top||h.insert(p=h.mapping.map(b+f.tableStart,1),t({node:i,row:y,col:x}).createAndFill(l[C]))}h.setNodeMarkup(s,t({node:i,row:f.top,col:f.left}),l[0]),o instanceof Xt&&h.setSelection(new Xt(h.doc.resolve(o.$anchorCell.pos),p?h.doc.resolve(p):void 0)),n(h)}return!0}}function Uke(t){return function(e,n){if(!ca(e))return!1;if(n){const r=Kr(e.schema),o=ua(e),i=e.tr,s=o.map.cellsInRect(t=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:t=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),a=s.map(l=>o.table.nodeAt(l));for(let l=0;l<s.length;l++)a[l].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[l],r.cell,a[l].attrs);if(i.steps.length==0)for(let l=0;l<s.length;l++)i.setNodeMarkup(o.tableStart+s[l],r.header_cell,a[l].attrs);n(i)}return!0}}function i3(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let o=0;o<r.length;o++){const i=e.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function wR(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?Uke(t):function(n,r){if(!ca(n))return!1;if(r){const o=Kr(n.schema),i=ua(n),s=n.tr,a=i3("row",i,o),l=i3("column",i,o),f=(t==="column"?a:t==="row"?l:!1)?1:0,h=t=="column"?{left:0,top:f,right:1,bottom:i.map.height}:t=="row"?{left:f,top:0,right:i.map.width,bottom:1}:i,p=t=="column"?l?o.cell:o.header_cell:t=="row"?a?o.cell:o.header_cell:o.cell;i.map.cellsInRect(h).forEach(y=>{const b=y+i.tableStart,x=s.doc.nodeAt(b);x&&s.setNodeMarkup(b,p,x.attrs)}),r(s)}return!0}}wR("row",{useDeprecatedLogic:!0});wR("column",{useDeprecatedLogic:!0});wR("cell",{useDeprecatedLogic:!0});function Gke(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,o=t.before();r>=0;r--){const i=t.node(-1).child(r),s=i.lastChild;if(s)return o-1-s.nodeSize;o-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),o=t.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return o+1;o+=i.nodeSize}}return null}function s3(t){return function(e,n){if(!ca(e))return!1;const r=Gke(bR(e),t);if(r==null)return!1;if(n){const o=e.doc.resolve(r);n(e.tr.setSelection(He.between(o,wke(o))).scrollIntoView())}return!0}}function Cb(t,e){const n=t.selection;if(!(n instanceof Xt))return!1;if(e){const r=t.tr,o=Kr(t.schema).cell.createAndFill().content;n.forEachCell((i,s)=>{i.content.eq(o)||r.replace(r.mapping.map(s+1),r.mapping.map(s+i.nodeSize-1),new Se(o,0,0))}),r.docChanged&&e(r)}return!0}function Wke(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const o=e.child(0),i=o.type.spec.tableRole,s=o.type.schema,a=[];if(i=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const f=l?0:Math.max(0,n-1),h=l<e.childCount-1?0:Math.max(0,r-1);(f||h)&&(c=WT(Kr(s).row,new Se(c,f,h)).content),a.push(c)}else if(i=="cell"||i=="header_cell")a.push(n||r?WT(Kr(s).row,new Se(e,n,r)).content:e);else return null;return qke(s,a)}function qke(t,e){const n=[];for(let o=0;o<e.length;o++){const i=e[o];for(let s=i.childCount-1;s>=0;s--){const{rowspan:a,colspan:l}=i.child(s).attrs;for(let c=o;c<o+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let o=0;o<n.length;o++)r=Math.max(r,n[o]);for(let o=0;o<n.length;o++)if(o>=e.length&&e.push(ce.empty),n[o]<r){const i=Kr(t).cell.createAndFill(),s=[];for(let a=n[o];a<r;a++)s.push(i);e[o]=e[o].append(ce.from(s))}return{height:e.length,width:r,rows:e}}function WT(t,e){const n=t.createAndFill();return new FA(n).replace(0,n.content.size,e).doc}function Yke({width:t,height:e,rows:n},r,o){if(t!=r){const i=[],s=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let f=i[a]||0,h=0;f<r;h++){let p=l.child(h%l.childCount);f+p.attrs.colspan>r&&(p=p.type.createChecked(Ju(p.attrs,p.attrs.colspan,f+p.attrs.colspan-r),p.content)),c.push(p),f+=p.attrs.colspan;for(let y=1;y<p.attrs.rowspan;y++)i[a+y]=(i[a+y]||0)+p.attrs.colspan}s.push(ce.from(c))}n=s,t=r}if(e!=o){const i=[];for(let s=0,a=0;s<o;s++,a++){const l=[],c=n[a%e];for(let f=0;f<c.childCount;f++){let h=c.child(f);s+h.attrs.rowspan>o&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,o-h.attrs.rowspan)},h.content)),l.push(h)}i.push(ce.from(l))}n=i,e=o}return{width:t,height:e,rows:n}}function Kke(t,e,n,r,o,i,s){const a=t.doc.type.schema,l=Kr(a);let c,f;if(o>e.width)for(let h=0,p=0;h<e.height;h++){const y=n.child(h);p+=y.nodeSize;const b=[];let x;y.lastChild==null||y.lastChild.type==l.cell?x=c||(c=l.cell.createAndFill()):x=f||(f=l.header_cell.createAndFill());for(let C=e.width;C<o;C++)b.push(x);t.insert(t.mapping.slice(s).map(p-1+r),b)}if(i>e.height){const h=[];for(let b=0,x=(e.height-1)*e.width;b<Math.max(e.width,o);b++){const C=b>=e.width?!1:n.nodeAt(e.map[x+b]).type==l.header_cell;h.push(C?f||(f=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const p=l.row.create(null,ce.from(h)),y=[];for(let b=e.height;b<i;b++)y.push(p);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),y)}return!!(c||f)}function a3(t,e,n,r,o,i,s,a){if(s==0||s==e.height)return!1;let l=!1;for(let c=o;c<i;c++){const f=s*e.width+c,h=e.map[f];if(e.map[f-e.width]==h){l=!0;const p=n.nodeAt(h),{top:y,left:b}=e.findCell(h);t.setNodeMarkup(t.mapping.slice(a).map(h+r),null,{...p.attrs,rowspan:s-y}),t.insert(t.mapping.slice(a).map(e.positionAt(s,b,n)),p.type.createAndFill({...p.attrs,rowspan:y+p.attrs.rowspan-s})),c+=p.attrs.colspan-1}}return l}function l3(t,e,n,r,o,i,s,a){if(s==0||s==e.width)return!1;let l=!1;for(let c=o;c<i;c++){const f=c*e.width+s,h=e.map[f];if(e.map[f-1]==h){l=!0;const p=n.nodeAt(h),y=e.colCount(h),b=t.mapping.slice(a).map(h+r);t.setNodeMarkup(b,null,Ju(p.attrs,s-y,p.attrs.colspan-(s-y))),t.insert(b+p.nodeSize,p.type.createAndFill(Ju(p.attrs,0,s-y))),c+=p.attrs.rowspan-1}}return l}function c3(t,e,n,r,o){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let s=xn.get(i);const{top:a,left:l}=r,c=l+o.width,f=a+o.height,h=t.tr;let p=0;function y(){if(i=n?h.doc.nodeAt(n-1):h.doc,!i)throw new Error("No table found");s=xn.get(i),p=h.mapping.maps.length}Kke(h,s,i,n,c,f,p)&&y(),a3(h,s,i,n,l,c,a,p)&&y(),a3(h,s,i,n,l,c,f,p)&&y(),l3(h,s,i,n,a,f,l,p)&&y(),l3(h,s,i,n,a,f,c,p)&&y();for(let b=a;b<f;b++){const x=s.positionAt(b,l,i),C=s.positionAt(b,c,i);h.replace(h.mapping.slice(p).map(x+n),h.mapping.slice(p).map(C+n),new Se(o.rows[b-a],0,0))}y(),h.setSelection(new Xt(h.doc.resolve(n+s.positionAt(a,l,i)),h.doc.resolve(n+s.positionAt(f-1,c-1,i)))),e(h)}var Zke=eR({ArrowLeft:kb("horiz",-1),ArrowRight:kb("horiz",1),ArrowUp:kb("vert",-1),ArrowDown:kb("vert",1),"Shift-ArrowLeft":_b("horiz",-1),"Shift-ArrowRight":_b("horiz",1),"Shift-ArrowUp":_b("vert",-1),"Shift-ArrowDown":_b("vert",1),Backspace:Cb,"Mod-Backspace":Cb,Delete:Cb,"Mod-Delete":Cb});function r0(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function kb(t,e){return(n,r,o)=>{if(!o)return!1;const i=n.selection;if(i instanceof Xt)return r0(n,r,Ke.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const s=iG(o,t,e);if(s==null)return!1;if(t=="horiz")return r0(n,r,Ke.near(n.doc.resolve(i.head+e),e));{const a=n.doc.resolve(s),l=QU(a,t,e);let c;return l?c=Ke.near(l,1):e<0?c=Ke.near(n.doc.resolve(a.before(-1)),-1):c=Ke.near(n.doc.resolve(a.after(-1)),1),r0(n,r,c)}}}function _b(t,e){return(n,r,o)=>{if(!o)return!1;const i=n.selection;let s;if(i instanceof Xt)s=i;else{const l=iG(o,t,e);if(l==null)return!1;s=new Xt(n.doc.resolve(l))}const a=QU(s.$headCell,t,e);return a?r0(n,r,new Xt(s.$anchorCell,a)):!1}}function Xke(t,e){const n=t.state.doc,r=Nh(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Xt(r))),!0):!1}function Jke(t,e,n){if(!ca(t.state))return!1;let r=Wke(n);const o=t.state.selection;if(o instanceof Xt){r||(r={width:1,height:1,rows:[ce.from(WT(Kr(t.state.schema).cell,n))]});const i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),a=xn.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=Yke(r,a.right-a.left,a.bottom-a.top),c3(t.state,t.dispatch,s,a,r),!0}else if(r){const i=bR(t.state),s=i.start(-1);return c3(t.state,t.dispatch,s,xn.get(i.node(-1)).findCell(i.pos-s),r),!0}else return!1}function Qke(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=u3(t,e.target);let o;if(e.shiftKey&&t.state.selection instanceof Xt)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(o=Nh(t.state.selection.$anchor))!=null&&((n=A_(t,e))==null?void 0:n.pos)!=o.pos)i(o,e),e.preventDefault();else if(!r)return;function i(l,c){let f=A_(t,c);const h=Ql.getState(t.state)==null;if(!f||!xR(l,f))if(h)f=l;else return;const p=new Xt(l,f);if(h||!t.state.selection.eq(p)){const y=t.state.tr.setSelection(p);h&&y.setMeta(Ql,l.pos),t.dispatch(y)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",a),Ql.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Ql,-1))}function a(l){const c=l,f=Ql.getState(t.state);let h;if(f!=null)h=t.state.doc.resolve(f);else if(u3(t,c.target)!=r&&(h=A_(t,e),!h))return s();h&&i(h,c)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",a)}function iG(t,e,n){if(!(t.state.selection instanceof He))return null;const{$head:r}=t.state.selection;for(let o=r.depth-1;o>=0;o--){const i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const a=r.before(o),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?a:null}}return null}function u3(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function A_(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Nh(t.state.doc.resolve(n.pos)):null}var sG=class{constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),qT(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,qT(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function qT(t,e,n,r,o,i){var s;let a=0,l=!0,c=e.firstChild;const f=t.firstChild;if(f){for(let h=0,p=0;h<f.childCount;h++){const{colspan:y,colwidth:b}=f.child(h).attrs;for(let x=0;x<y;x++,p++){const C=o==p?i:b&&b[x],k=C?C+"px":"";if(a+=C||r,C||(l=!1),c)c.style.width!=k&&(c.style.width=k),c=c.nextSibling;else{const E=document.createElement("col");E.style.width=k,e.appendChild(E)}}}for(;c;){const h=c.nextSibling;(s=c.parentNode)==null||s.removeChild(c),c=h}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var Uo=new Dt("tableColumnResizing");function e_e({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=sG,lastColumnResizable:o=!0}={}){const i=new gt({key:Uo,state:{init(s,a){var l,c;const f=(c=(l=i.spec)==null?void 0:l.props)==null?void 0:c.nodeViews,h=Kr(a.schema).table.name;return r&&f&&(f[h]=(p,y)=>new r(p,n,y)),new t_e(-1,!1)},apply(s,a){return a.apply(s)}},props:{attributes:s=>{const a=Uo.getState(s);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,a)=>{n_e(s,a,t,o)},mouseleave:s=>{r_e(s)},mousedown:(s,a)=>{o_e(s,a,e,n)}},decorations:s=>{const a=Uo.getState(s);if(a&&a.activeHandle>-1)return c_e(s,a.activeHandle)},nodeViews:{}}});return i}var t_e=class o0{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Uo);if(r&&r.setHandle!=null)return new o0(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new o0(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let o=e.mapping.map(n.activeHandle,-1);return GT(e.doc.resolve(o))||(o=-1),new o0(o,n.dragging)}return n}};function n_e(t,e,n,r){if(!t.editable)return;const o=Uo.getState(t.state);if(o&&!o.dragging){const i=s_e(e.target);let s=-1;if(i){const{left:a,right:l}=i.getBoundingClientRect();e.clientX-a<=n?s=d3(t,e,"left",n):l-e.clientX<=n&&(s=d3(t,e,"right",n))}if(s!=o.activeHandle){if(!r&&s!==-1){const a=t.state.doc.resolve(s),l=a.node(-1),c=xn.get(l),f=a.start(-1);if(c.colCount(a.pos-f)+a.nodeAfter.attrs.colspan-1==c.width-1)return}aG(t,s)}}}function r_e(t){if(!t.editable)return;const e=Uo.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&aG(t,-1)}function o_e(t,e,n,r){var o;if(!t.editable)return!1;const i=(o=t.dom.ownerDocument.defaultView)!=null?o:window,s=Uo.getState(t.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const a=t.state.doc.nodeAt(s.activeHandle),l=i_e(t,s.activeHandle,a.attrs);t.dispatch(t.state.tr.setMeta(Uo,{setDragging:{startX:e.clientX,startWidth:l}}));function c(h){i.removeEventListener("mouseup",c),i.removeEventListener("mousemove",f);const p=Uo.getState(t.state);p!=null&&p.dragging&&(a_e(t,p.activeHandle,f3(p.dragging,h,n)),t.dispatch(t.state.tr.setMeta(Uo,{setDragging:null})))}function f(h){if(!h.which)return c(h);const p=Uo.getState(t.state);if(p&&p.dragging){const y=f3(p.dragging,h,n);h3(t,p.activeHandle,y,r)}}return h3(t,s.activeHandle,l,r),i.addEventListener("mouseup",c),i.addEventListener("mousemove",f),e.preventDefault(),!0}function i_e(t,e,{colspan:n,colwidth:r}){const o=r&&r[r.length-1];if(o)return o;const i=t.domAtPos(e);let a=i.node.childNodes[i.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function s_e(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function d3(t,e,n,r){const o=n=="right"?-r:r,i=t.posAtCoords({left:e.clientX+o,top:e.clientY});if(!i)return-1;const{pos:s}=i,a=Nh(t.state.doc.resolve(s));if(!a)return-1;if(n=="right")return a.pos;const l=xn.get(a.node(-1)),c=a.start(-1),f=l.map.indexOf(a.pos-c);return f%l.width==0?-1:c+l.map[f-1]}function f3(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function aG(t,e){t.dispatch(t.state.tr.setMeta(Uo,{setHandle:e}))}function a_e(t,e,n){const r=t.state.doc.resolve(e),o=r.node(-1),i=xn.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<i.height;c++){const f=c*i.width+a;if(c&&i.map[f]==i.map[f-i.width])continue;const h=i.map[f],p=o.nodeAt(h).attrs,y=p.colspan==1?0:a-i.colCount(h);if(p.colwidth&&p.colwidth[y]==n)continue;const b=p.colwidth?p.colwidth.slice():l_e(p.colspan);b[y]=n,l.setNodeMarkup(s+h,null,{...p,colwidth:b})}l.docChanged&&t.dispatch(l)}function h3(t,e,n,r){const o=t.state.doc.resolve(e),i=o.node(-1),s=o.start(-1),a=xn.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1;let l=t.domAtPos(o.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&qT(i,l.firstChild,l,r,a,n)}function l_e(t){return Array(t).fill(0)}function c_e(t,e){var n;const r=[],o=t.doc.resolve(e),i=o.node(-1);if(!i)return St.empty;const s=xn.get(i),a=o.start(-1),l=s.colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1;for(let c=0;c<s.height;c++){const f=l+c*s.width;if((l==s.width-1||s.map[f]!=s.map[f+1])&&(c==0||s.map[f]!=s.map[f-s.width])){const h=s.map[f],p=a+h+i.nodeAt(h).nodeSize-1,y=document.createElement("div");y.className="column-resize-handle",(n=Uo.getState(t))!=null&&n.dragging&&r.push(nn.node(a+h,a+h+i.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),r.push(nn.widget(p,y))}}return St.create(t.doc,r)}function u_e({allowTableNodeSelection:t=!1}={}){return new gt({key:Ql,state:{init(){return null},apply(e,n){const r=e.getMeta(Ql);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:o,pos:i}=e.mapping.mapResult(n);return o?null:i}},props:{decorations:kke,handleDOMEvents:{mousedown:Qke},createSelectionBetween(e){return Ql.getState(e.state)!=null?e.state.selection:null},handleTripleClick:Xke,handleKeyDown:Zke,handlePaste:Jke},appendTransaction(e,n,r){return Tke(r,Ake(r,n),t)}})}const d_e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,f_e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,h_e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,p_e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,m_e=Ro.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Jo(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[hh({find:d_e,type:this.type}),hh({find:h_e,type:this.type})]},addPasteRules(){return[Xu({find:f_e,type:this.type}),Xu({find:p_e,type:this.type})]}}),g_e=/(^|[^`])`([^`]+)`(?!`)/,y_e=/(^|[^`])`([^`]+)`(?!`)/g,v_e=Ro.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Jo(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[hh({find:g_e,type:this.type})]},addPasteRules(){return[Xu({find:y_e,type:this.type})]}}),b_e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,x_e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,w_e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,S_e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,C_e=Ro.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Jo(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[hh({find:b_e,type:this.type}),hh({find:w_e,type:this.type})]},addPasteRules(){return[Xu({find:x_e,type:this.type}),Xu({find:S_e,type:this.type})]}}),k_e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,__e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,E_e=Ro.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Jo(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[hh({find:k_e,type:this.type})]},addPasteRules(){return[Xu({find:__e,type:this.type})]}}),T_e=Ro.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Jo(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),M_e=la.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Jo(this.options.HTMLAttributes,t),0]}}),A_e=la.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Jo(this.options.HTMLAttributes,t),0]}}),R_e=la.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Jo(this.options.HTMLAttributes,t),0]}});class Dn extends Ke{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Dn.valid(r)?new Dn(r):Ke.near(r)}content(){return Se.empty}eq(e){return e instanceof Dn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Dn(e.resolve(n.pos))}getBookmark(){return new SR(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!N_e(e)||!O_e(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Dn.valid(e))return e;let o=e.pos,i=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){i=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;o+=n;let l=e.doc.resolve(o);if(Dn.valid(l))return l}for(;;){let s=n>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!ze.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*n),r=!1;continue e}break}i=s,o+=n;let a=e.doc.resolve(o);if(Dn.valid(a))return a}return null}}}Dn.prototype.visible=!1;Dn.findFrom=Dn.findGapCursorFrom;Ke.jsonID("gapcursor",Dn);class SR{constructor(e){this.pos=e}map(e){return new SR(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Dn.valid(n)?new Dn(n):Ke.near(n)}}function N_e(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function O_e(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function D_e(){return new gt({props:{decorations:I_e,createSelectionBetween(t,e,n){return e.pos==n.pos&&Dn.valid(n)?new Dn(n):null},handleClick:L_e,handleKeyDown:P_e,handleDOMEvents:{beforeinput:j_e}}})}const P_e=eR({ArrowLeft:Eb("horiz",-1),ArrowRight:Eb("horiz",1),ArrowUp:Eb("vert",-1),ArrowDown:Eb("vert",1)});function Eb(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,i){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof He){if(!i.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Dn.findGapCursorFrom(a,e,l);return c?(o&&o(r.tr.setSelection(new Dn(c))),!0):!1}}function L_e(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Dn.valid(r))return!1;let o=t.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&ze.isSelectable(t.state.doc.nodeAt(o.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Dn(r))),!0)}function j_e(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Dn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let o=ce.empty;for(let s=r.length-1;s>=0;s--)o=ce.from(r[s].createAndFill(null,o));let i=t.state.tr.replace(n.pos,n.pos,new Se(o,0,0));return i.setSelection(He.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function I_e(t){if(!(t.selection instanceof Dn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",St.create(t.doc,[nn.widget(t.selection.head,e,{key:"gapcursor"})])}const V_e=Jt.create({name:"gapCursor",addProseMirrorPlugins(){return[D_e()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=kt(Pe(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),B_e=la.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Jo(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:o,storedMarks:i}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=i||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:f})=>{if(f&&l&&s){const h=l.filter(p=>a.includes(p.type.name));c.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});var y1=200,wr=function(){};wr.prototype.append=function(e){return e.length?(e=wr.from(e),!this.length&&e||e.length<y1&&this.leafAppend(e)||this.length<y1&&e.leafPrepend(this)||this.appendInner(e)):this};wr.prototype.prepend=function(e){return e.length?wr.from(e).append(this):this};wr.prototype.appendInner=function(e){return new $_e(this,e)};wr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?wr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};wr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};wr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};wr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(i,s){return o.push(e(i,s))},n,r),o};wr.from=function(e){return e instanceof wr?e:e&&e.length?new lG(e):wr.empty};var lG=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new e(this.values.slice(o,i))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,i,s,a){for(var l=i;l<s;l++)if(o(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,i,s,a){for(var l=i-1;l>=s;l--)if(o(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=y1)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=y1)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(wr);wr.empty=new lG([]);var $_e=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,i,s){var a=this.left.length;if(o<a&&this.left.forEachInner(r,o,Math.min(i,a),s)===!1||i>a&&this.right.forEachInner(r,Math.max(o-a,0),Math.min(this.length,i)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,i,s){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(r,o-a,Math.max(i,a)-a,s+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(o,a),i,s)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(r,o):r>=i?this.right.slice(r-i,o-i):this.left.slice(r,i).append(this.right.slice(0,o-i))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(wr);const H_e=500;class Ui{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i;n&&(o=this.remapping(r,this.items.length),i=o.maps.length);let s=e.tr,a,l,c=[],f=[];return this.items.forEach((h,p)=>{if(!h.step){o||(o=this.remapping(r,p+1),i=o.maps.length),i--,f.push(h);return}if(o){f.push(new zl(h.map));let y=h.step.map(o.slice(i)),b;y&&s.maybeStep(y).doc&&(b=s.mapping.maps[s.mapping.maps.length-1],c.push(new zl(b,void 0,void 0,c.length+f.length))),i--,b&&o.appendMap(b,i)}else s.maybeStep(h.step);if(h.selection)return a=o?h.selection.map(o.slice(i)):h.selection,l=new Ui(this.items.slice(0,r).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,o){let i=[],s=this.eventCount,a=this.items,l=!o&&a.length?a.get(a.length-1):null;for(let f=0;f<e.steps.length;f++){let h=e.steps[f].invert(e.docs[f]),p=new zl(e.mapping.maps[f],h,n),y;(y=l&&l.merge(p))&&(p=y,f?i.pop():a=a.slice(0,a.length-1)),i.push(p),n&&(s++,n=void 0),o||(l=p)}let c=s-r.depth;return c>F_e&&(a=z_e(a,c),s-=c),new Ui(a.append(i),s)}remapping(e,n){let r=new fg;return this.items.forEach((o,i)=>{let s=o.mirrorOffset!=null&&i-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ui(this.items.append(e.map(n=>new zl(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),i=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(p=>{p.selection&&a--},o);let l=n;this.items.forEach(p=>{let y=i.getMirror(--l);if(y==null)return;s=Math.min(s,y);let b=i.maps[y];if(p.step){let x=e.steps[y].invert(e.docs[y]),C=p.selection&&p.selection.map(i.slice(l+1,y));C&&a++,r.push(new zl(b,x,C))}else r.push(new zl(b))},o);let c=[];for(let p=n;p<s;p++)c.push(new zl(i.maps[p]));let f=this.items.slice(0,o).append(c).append(r),h=new Ui(f,a);return h.emptyItemCount()>H_e&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,o=[],i=0;return this.items.forEach((s,a)=>{if(a>=e)o.push(s),s.selection&&i++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let f=s.selection&&s.selection.map(n.slice(r));f&&i++;let h=new zl(c.invert(),l,f),p,y=o.length-1;(p=o.length&&o[y].merge(h))?o[y]=p:o.push(h)}}else s.map&&r--},this.items.length,0),new Ui(wr.from(o.reverse()),i)}}Ui.empty=new Ui(wr.empty,0);function z_e(t,e){let n;return t.forEach((r,o)=>{if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}let zl=class cG{constructor(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new cG(n.getMap().invert(),n,this.selection)}}};class Yl{constructor(e,n,r,o,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=i}}const F_e=20;function U_e(t,e,n,r){let o=n.getMeta(Vu),i;if(o)return o.historyState;n.getMeta(q_e)&&(t=new Yl(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Vu))return s.getMeta(Vu).redo?new Yl(t.done.addTransform(n,void 0,r,i0(e)),t.undone,p3(n.mapping.maps),t.prevTime,t.prevComposition):new Yl(t.done,t.undone.addTransform(n,void 0,r,i0(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!G_e(n,t.prevRanges)),c=s?R_(t.prevRanges,n.mapping):p3(n.mapping.maps);return new Yl(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,i0(e)),Ui.empty,c,n.time,a??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Yl(t.done.rebased(n,i),t.undone.rebased(n,i),R_(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Yl(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),R_(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function G_e(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,o)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&o>=e[i]&&(n=!0)}),n}function p3(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,o,i,s)=>e.push(i,s));return e}function R_(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function W_e(t,e,n){let r=i0(e),o=Vu.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),a=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),o,r),l=new Yl(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(s).setMeta(Vu,{redo:n,historyState:l})}let N_=!1,m3=null;function i0(t){let e=t.plugins;if(m3!=e){N_=!1,m3=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){N_=!0;break}}return N_}const Vu=new Dt("history"),q_e=new Dt("closeHistory");function Y_e(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new gt({key:Vu,state:{init(){return new Yl(Ui.empty,Ui.empty,null,0,-1)},apply(e,n,r){return U_e(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,o=r=="historyUndo"?dG:r=="historyRedo"?fG:null;return o?(n.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function uG(t,e){return(n,r)=>{let o=Vu.getState(n);if(!o||(t?o.undone:o.done).eventCount==0)return!1;if(r){let i=W_e(o,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const dG=uG(!1,!0),fG=uG(!0,!0),K_e=Jt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>dG(t,e),redo:()=>({state:t,dispatch:e})=>fG(t,e)}},addProseMirrorPlugins(){return[Y_e(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Z_e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",X_e="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",mh=(t,e)=>{for(const n in e)t[n]=e[n];return t},YT="numeric",KT="ascii",ZT="alpha",Tm="asciinumeric",pm="alphanumeric",XT="domain",hG="emoji",J_e="scheme",Q_e="slashscheme",O_="whitespace";function eEe(t,e){return t in e||(e[t]=[]),e[t]}function Tu(t,e,n){e[YT]&&(e[Tm]=!0,e[pm]=!0),e[KT]&&(e[Tm]=!0,e[ZT]=!0),e[Tm]&&(e[pm]=!0),e[ZT]&&(e[pm]=!0),e[pm]&&(e[XT]=!0),e[hG]&&(e[XT]=!0);for(const r in e){const o=eEe(r,n);o.indexOf(t)<0&&o.push(t)}}function tEe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function So(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}So.groups={};So.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const o=e.jr[r][0],i=e.jr[r][1];if(i&&o.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let o=0;o<t.length;o++)this.tt(t[o],e,n,r)},tr(t,e,n,r){r=r||So.groups;let o;return e&&e.j?o=e:(o=new So(e),n&&r&&Tu(e,n,r)),this.jr.push([t,o]),o},ts(t,e,n,r){let o=this;const i=t.length;if(!i)return o;for(let s=0;s<i-1;s++)o=o.tt(t[s]);return o.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||So.groups;const o=this;if(e&&e.j)return o.j[t]=e,e;const i=e;let s,a=o.go(t);if(a?(s=new So,mh(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new So,i){if(r)if(s.t&&typeof s.t=="string"){const l=mh(tEe(s.t,r),n);Tu(i,l,r)}else n&&Tu(i,n,r);s.t=i}return o.j[t]=s,s}};const pt=(t,e,n,r,o)=>t.ta(e,n,r,o),Nn=(t,e,n,r,o)=>t.tr(e,n,r,o),g3=(t,e,n,r,o)=>t.ts(e,n,r,o),xe=(t,e,n,r,o)=>t.tt(e,n,r,o),Va="WORD",JT="UWORD",pG="ASCIINUMERICAL",mG="ALPHANUMERICAL",Cg="LOCALHOST",QT="TLD",e2="UTLD",s0="SCHEME",wf="SLASH_SCHEME",CR="NUM",t2="WS",kR="NL",Mm="OPENBRACE",Am="CLOSEBRACE",v1="OPENBRACKET",b1="CLOSEBRACKET",x1="OPENPAREN",w1="CLOSEPAREN",S1="OPENANGLEBRACKET",C1="CLOSEANGLEBRACKET",k1="FULLWIDTHLEFTPAREN",_1="FULLWIDTHRIGHTPAREN",E1="LEFTCORNERBRACKET",T1="RIGHTCORNERBRACKET",M1="LEFTWHITECORNERBRACKET",A1="RIGHTWHITECORNERBRACKET",R1="FULLWIDTHLESSTHAN",N1="FULLWIDTHGREATERTHAN",O1="AMPERSAND",_R="APOSTROPHE",D1="ASTERISK",Kl="AT",P1="BACKSLASH",L1="BACKTICK",j1="CARET",ec="COLON",ER="COMMA",I1="DOLLAR",Ts="DOT",V1="EQUALS",TR="EXCLAMATION",xi="HYPHEN",Rm="PERCENT",B1="PIPE",$1="PLUS",H1="POUND",Nm="QUERY",MR="QUOTE",gG="FULLWIDTHMIDDLEDOT",AR="SEMI",Ms="SLASH",Om="TILDE",z1="UNDERSCORE",yG="EMOJI",F1="SYM";var vG=Object.freeze({__proto__:null,WORD:Va,UWORD:JT,ASCIINUMERICAL:pG,ALPHANUMERICAL:mG,LOCALHOST:Cg,TLD:QT,UTLD:e2,SCHEME:s0,SLASH_SCHEME:wf,NUM:CR,WS:t2,NL:kR,OPENBRACE:Mm,CLOSEBRACE:Am,OPENBRACKET:v1,CLOSEBRACKET:b1,OPENPAREN:x1,CLOSEPAREN:w1,OPENANGLEBRACKET:S1,CLOSEANGLEBRACKET:C1,FULLWIDTHLEFTPAREN:k1,FULLWIDTHRIGHTPAREN:_1,LEFTCORNERBRACKET:E1,RIGHTCORNERBRACKET:T1,LEFTWHITECORNERBRACKET:M1,RIGHTWHITECORNERBRACKET:A1,FULLWIDTHLESSTHAN:R1,FULLWIDTHGREATERTHAN:N1,AMPERSAND:O1,APOSTROPHE:_R,ASTERISK:D1,AT:Kl,BACKSLASH:P1,BACKTICK:L1,CARET:j1,COLON:ec,COMMA:ER,DOLLAR:I1,DOT:Ts,EQUALS:V1,EXCLAMATION:TR,HYPHEN:xi,PERCENT:Rm,PIPE:B1,PLUS:$1,POUND:H1,QUERY:Nm,QUOTE:MR,FULLWIDTHMIDDLEDOT:gG,SEMI:AR,SLASH:Ms,TILDE:Om,UNDERSCORE:z1,EMOJI:yG,SYM:F1});const Da=/[a-z]/,Jp=new RegExp("\\p{L}","u"),D_=new RegExp("\\p{Emoji}","u"),Pa=/\d/,P_=/\s/,y3="\r",L_=`
`,nEe="️",rEe="‍",j_="￼";let Tb=null,Mb=null;function oEe(t=[]){const e={};So.groups=e;const n=new So;Tb==null&&(Tb=v3(Z_e)),Mb==null&&(Mb=v3(X_e)),xe(n,"'",_R),xe(n,"{",Mm),xe(n,"}",Am),xe(n,"[",v1),xe(n,"]",b1),xe(n,"(",x1),xe(n,")",w1),xe(n,"<",S1),xe(n,">",C1),xe(n,"（",k1),xe(n,"）",_1),xe(n,"「",E1),xe(n,"」",T1),xe(n,"『",M1),xe(n,"』",A1),xe(n,"＜",R1),xe(n,"＞",N1),xe(n,"&",O1),xe(n,"*",D1),xe(n,"@",Kl),xe(n,"`",L1),xe(n,"^",j1),xe(n,":",ec),xe(n,",",ER),xe(n,"$",I1),xe(n,".",Ts),xe(n,"=",V1),xe(n,"!",TR),xe(n,"-",xi),xe(n,"%",Rm),xe(n,"|",B1),xe(n,"+",$1),xe(n,"#",H1),xe(n,"?",Nm),xe(n,'"',MR),xe(n,"/",Ms),xe(n,";",AR),xe(n,"~",Om),xe(n,"_",z1),xe(n,"\\",P1),xe(n,"・",gG);const r=Nn(n,Pa,CR,{[YT]:!0});Nn(r,Pa,r);const o=Nn(r,Da,pG,{[Tm]:!0}),i=Nn(r,Jp,mG,{[pm]:!0}),s=Nn(n,Da,Va,{[KT]:!0});Nn(s,Pa,o),Nn(s,Da,s),Nn(o,Pa,o),Nn(o,Da,o);const a=Nn(n,Jp,JT,{[ZT]:!0});Nn(a,Da),Nn(a,Pa,i),Nn(a,Jp,a),Nn(i,Pa,i),Nn(i,Da),Nn(i,Jp,i);const l=xe(n,L_,kR,{[O_]:!0}),c=xe(n,y3,t2,{[O_]:!0}),f=Nn(n,P_,t2,{[O_]:!0});xe(n,j_,f),xe(c,L_,l),xe(c,j_,f),Nn(c,P_,f),xe(f,y3),xe(f,L_),Nn(f,P_,f),xe(f,j_,f);const h=Nn(n,D_,yG,{[hG]:!0});xe(h,"#"),Nn(h,D_,h),xe(h,nEe,h);const p=xe(h,rEe);xe(p,"#"),Nn(p,D_,h);const y=[[Da,s],[Pa,o]],b=[[Da,null],[Jp,a],[Pa,i]];for(let x=0;x<Tb.length;x++)Fl(n,Tb[x],QT,Va,y);for(let x=0;x<Mb.length;x++)Fl(n,Mb[x],e2,JT,b);Tu(QT,{tld:!0,ascii:!0},e),Tu(e2,{utld:!0,alpha:!0},e),Fl(n,"file",s0,Va,y),Fl(n,"mailto",s0,Va,y),Fl(n,"http",wf,Va,y),Fl(n,"https",wf,Va,y),Fl(n,"ftp",wf,Va,y),Fl(n,"ftps",wf,Va,y),Tu(s0,{scheme:!0,ascii:!0},e),Tu(wf,{slashscheme:!0,ascii:!0},e),t=t.sort((x,C)=>x[0]>C[0]?1:-1);for(let x=0;x<t.length;x++){const C=t[x][0],E=t[x][1]?{[J_e]:!0}:{[Q_e]:!0};C.indexOf("-")>=0?E[XT]=!0:Da.test(C)?Pa.test(C)?E[Tm]=!0:E[KT]=!0:E[YT]=!0,g3(n,C,C,E)}return g3(n,"localhost",Cg,{ascii:!0}),n.jd=new So(F1),{start:n,tokens:mh({groups:e},vG)}}function bG(t,e){const n=iEe(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,o=[];let i=0,s=0;for(;s<r;){let a=t,l=null,c=0,f=null,h=-1,p=-1;for(;s<r&&(l=a.go(n[s]));)a=l,a.accepts()?(h=0,p=0,f=a):h>=0&&(h+=n[s].length,p++),c+=n[s].length,i+=n[s].length,s++;i-=h,s-=p,c-=h,o.push({t:f.t,v:e.slice(i-c,i),s:i-c,e:i})}return o}function iEe(t){const e=[],n=t.length;let r=0;for(;r<n;){let o=t.charCodeAt(r),i,s=o<55296||o>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function Fl(t,e,n,r,o){let i;const s=e.length;for(let a=0;a<s-1;a++){const l=e[a];t.j[l]?i=t.j[l]:(i=new So(r),i.jr=o.slice(),t.j[l]=i),t=i}return i=new So(n),i.jr=o.slice(),t.j[e[s-1]]=i,i}function v3(t){const e=[],n=[];let r=0,o="0123456789";for(;r<t.length;){let i=0;for(;o.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let s=parseInt(t.substring(r,r+i),10);s>0;s--)n.pop();r+=i}else n.push(t[r]),r++}return e}const kg={defaultProtocol:"http",events:null,format:b3,formatHref:b3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function RR(t,e=null){let n=mh({},kg);t&&(n=mh(n,t instanceof RR?t.o:t));const r=n.ignoreTags,o=[];for(let i=0;i<r.length;i++)o.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=o}RR.prototype={o:kg,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let o=this.o[t];return o&&(typeof o=="object"?(o=n.t in o?o[n.t]:kg[t],typeof o=="function"&&r&&(o=o(e,n))):typeof o=="function"&&r&&(o=o(e,n.t,n)),o)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function b3(t){return t}function xG(t,e){this.t="token",this.v=t,this.tk=e}xG.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=kg.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),o=t.get("tagName",n,e),i=this.toFormattedString(t),s={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),f=t.getObj("attributes",n,e),h=t.getObj("events",n,e);return s.href=r,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),f&&mh(s,f),{tagName:o,attributes:s,content:i,eventListeners:h}}};function mw(t,e){class n extends xG{constructor(o,i){super(o,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const x3=mw("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),w3=mw("text"),sEe=mw("nl"),Ab=mw("url",{isLink:!0,toHref(t=kg.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Cg&&t[1].t===ec}}),yi=t=>new So(t);function aEe({groups:t}){const e=t.domain.concat([O1,D1,Kl,P1,L1,j1,I1,V1,xi,CR,Rm,B1,$1,H1,Ms,F1,Om,z1]),n=[ec,ER,Ts,TR,Rm,Nm,MR,AR,S1,C1,Mm,Am,b1,v1,x1,w1,k1,_1,E1,T1,M1,A1,R1,N1],r=[O1,_R,D1,P1,L1,j1,I1,V1,xi,Mm,Am,Rm,B1,$1,H1,Nm,Ms,F1,Om,z1],o=yi(),i=xe(o,Om);pt(i,r,i),pt(i,t.domain,i);const s=yi(),a=yi(),l=yi();pt(o,t.domain,s),pt(o,t.scheme,a),pt(o,t.slashscheme,l),pt(s,r,i),pt(s,t.domain,s);const c=xe(s,Kl);xe(i,Kl,c),xe(a,Kl,c),xe(l,Kl,c);const f=xe(i,Ts);pt(f,r,i),pt(f,t.domain,i);const h=yi();pt(c,t.domain,h),pt(h,t.domain,h);const p=xe(h,Ts);pt(p,t.domain,h);const y=yi(x3);pt(p,t.tld,y),pt(p,t.utld,y),xe(c,Cg,y);const b=xe(h,xi);xe(b,xi,b),pt(b,t.domain,h),pt(y,t.domain,h),xe(y,Ts,p),xe(y,xi,b);const x=xe(y,ec);pt(x,t.numeric,x3);const C=xe(s,xi),k=xe(s,Ts);xe(C,xi,C),pt(C,t.domain,s),pt(k,r,i),pt(k,t.domain,s);const E=yi(Ab);pt(k,t.tld,E),pt(k,t.utld,E),pt(E,t.domain,s),pt(E,r,i),xe(E,Ts,k),xe(E,xi,C),xe(E,Kl,c);const T=xe(E,ec),R=yi(Ab);pt(T,t.numeric,R);const A=yi(Ab),N=yi();pt(A,e,A),pt(A,n,N),pt(N,e,A),pt(N,n,N),xe(E,Ms,A),xe(R,Ms,A);const O=xe(a,ec),j=xe(l,ec),P=xe(j,Ms),z=xe(P,Ms);pt(a,t.domain,s),xe(a,Ts,k),xe(a,xi,C),pt(l,t.domain,s),xe(l,Ts,k),xe(l,xi,C),pt(O,t.domain,A),xe(O,Ms,A),xe(O,Nm,A),pt(z,t.domain,A),pt(z,e,A),xe(z,Ms,A);const X=[[Mm,Am],[v1,b1],[x1,w1],[S1,C1],[k1,_1],[E1,T1],[M1,A1],[R1,N1]];for(let Z=0;Z<X.length;Z++){const[q,re]=X[Z],ee=xe(A,q);xe(N,q,ee),xe(ee,re,A);const B=yi(Ab);pt(ee,e,B);const $=yi();pt(ee,n),pt(B,e,B),pt(B,n,$),pt($,e,B),pt($,n,$),xe(B,re,A),xe($,re,A)}return xe(o,Cg,E),xe(o,kR,sEe),{start:o,tokens:vG}}function lEe(t,e,n){let r=n.length,o=0,i=[],s=[];for(;o<r;){let a=t,l=null,c=null,f=0,h=null,p=-1;for(;o<r&&!(l=a.go(n[o].t));)s.push(n[o++]);for(;o<r&&(c=l||a.go(n[o].t));)l=null,a=c,a.accepts()?(p=0,h=a):p>=0&&p++,o++,f++;if(p<0)o-=f,o<r&&(s.push(n[o]),o++);else{s.length>0&&(i.push(I_(w3,e,s)),s=[]),o-=p,f-=p;const y=h.t,b=n.slice(o-f,o);i.push(I_(y,e,b))}}return s.length>0&&i.push(I_(w3,e,s)),i}function I_(t,e,n){const r=n[0].s,o=n[n.length-1].e,i=e.slice(r,o);return new t(i,n)}const cEe=typeof console<"u"&&console&&console.warn||(()=>{}),uEe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",hn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function dEe(){return So.groups={},hn.scanner=null,hn.parser=null,hn.tokenQueue=[],hn.pluginQueue=[],hn.customSchemes=[],hn.initialized=!1,hn}function S3(t,e=!1){if(hn.initialized&&cEe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${uEe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);hn.customSchemes.push([t,e])}function fEe(){hn.scanner=oEe(hn.customSchemes);for(let t=0;t<hn.tokenQueue.length;t++)hn.tokenQueue[t][1]({scanner:hn.scanner});hn.parser=aEe(hn.scanner.tokens);for(let t=0;t<hn.pluginQueue.length;t++)hn.pluginQueue[t][1]({scanner:hn.scanner,parser:hn.parser});return hn.initialized=!0,hn}function NR(t){return hn.initialized||fEe(),lEe(hn.parser.start,t,bG(hn.scanner.start,t))}NR.scan=bG;function wG(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new RR(n),o=NR(t),i=[];for(let s=0;s<o.length;s++){const a=o[s];a.isLink&&(!e||a.t===e)&&r.check(a)&&i.push(a.toFormattedObject(r))}return i}function hEe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function pEe(t){return new gt({key:new Dt("autolink"),appendTransaction:(e,n,r)=>{const o=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),i=e.some(c=>c.getMeta("preventAutolink"));if(!o||i)return;const{tr:s}=r,a=eU(n.doc,[...e]);if(rU(a).forEach(({newRange:c})=>{const f=tU(r.doc,c,y=>y.isTextblock);let h,p;if(f.length>1?(h=f[0],p=r.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ")):f.length&&r.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(h=f[0],p=r.doc.textBetween(h.pos,c.to,void 0," ")),h&&p){const y=p.split(" ").filter(k=>k!=="");if(y.length<=0)return!1;const b=y[y.length-1],x=h.pos+p.lastIndexOf(b);if(!b)return!1;const C=NR(b).map(k=>k.toObject(t.defaultProtocol));if(!hEe(C))return!1;C.filter(k=>k.isLink).map(k=>({...k,from:x+k.start+1,to:x+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>t.validate(k.value)).filter(k=>t.shouldAutoLink(k.value)).forEach(k=>{lR(k.from,k.to,r.doc).some(E=>E.mark.type===t.type)||s.addMark(k.from,k.to,t.type.create({href:k.href}))})}}),!!s.steps.length)return s}})}function mEe(t){return new gt({key:new Dt("handleClickLink"),props:{handleClick:(e,n,r)=>{var o,i;if(r.button!==0||!e.editable)return!1;let s=r.target;const a=[];for(;s.nodeName!=="DIV";)a.push(s),s=s.parentNode;if(!a.find(p=>p.nodeName==="A"))return!1;const l=nU(e.state,t.type.name),c=r.target,f=(o=c==null?void 0:c.href)!==null&&o!==void 0?o:l.href,h=(i=c==null?void 0:c.target)!==null&&i!==void 0?i:l.target;return c&&f?(window.open(f,h),!0):!1}}})}function gEe(t){return new gt({key:new Dt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:o}=e,{selection:i}=o,{empty:s}=i;if(s)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=wG(a,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:t.editor.commands.setMark(t.type,{href:l.href})}}})}const yEe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function fu(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&n.push(o)}),!t||t.replace(yEe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const vEe=Ro.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){S3(t);return}S3(t.scheme,t.optionalSlashes)})},onDestroy(){dEe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!fu(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!fu(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!fu(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Jo(this.options.HTMLAttributes,t),0]:["a",Jo(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!fu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!fu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Xu({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,o=wG(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:s=>!!fu(s,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(pEe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:o=>!!fu(o,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(mEe({type:this.type})),this.options.linkOnPaste&&t.push(gEe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),bEe=la.create({name:"text",group:"inline"}),Oi=()=>new Map,n2=t=>{const e=Oi();return t.forEach((n,r)=>{e.set(r,n)}),e},hl=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},xEe=(t,e)=>{const n=[];for(const[r,o]of t)n.push(e(o,r));return n},wEe=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},Qu=()=>new Set,V_=t=>t[t.length-1],SEe=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},ed=Array.from,CEe=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},r2=Array.isArray;class SG{constructor(){this._observers=Oi()}on(e,n){return hl(this._observers,e,Qu).add(n),n}once(e,n){const r=(...o)=>{this.off(e,r),n(...o)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return ed((this._observers.get(e)||Oi()).values()).forEach(r=>r(...n))}destroy(){this._observers=Oi()}}const cl=Math.floor,a0=Math.abs,nl=(t,e)=>t<e?t:e,na=(t,e)=>t>e?t:e,CG=t=>t!==0?t<0:1/t<0,C3=1,k3=2,B_=4,$_=8,_g=32,rl=64,qo=128,gw=31,o2=63,Bu=127,kEe=2147483647,kG=Number.MAX_SAFE_INTEGER,_Ee=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&cl(t)===t),EEe=t=>t.toLowerCase(),TEe=/^\s*/g,MEe=t=>t.replace(TEe,""),AEe=/([A-Z])/g,_3=(t,e)=>MEe(t.replace(AEe,n=>`${e}${EEe(n)}`)),REe=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=e.codePointAt(o);return r},Eg=typeof TextEncoder<"u"?new TextEncoder:null,NEe=t=>Eg.encode(t),OEe=Eg?NEe:REe;let Dm=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Dm&&Dm.decode(new Uint8Array).length===1&&(Dm=null);class wy{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const yw=()=>new wy,DEe=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},$s=t=>{const e=new Uint8Array(DEe(t));let n=0;for(let r=0;r<t.bufs.length;r++){const o=t.bufs[r];e.set(o,n),n+=o.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},PEe=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(na(n,e)*2),t.cpos=0)},xr=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},i2=xr,jt=(t,e)=>{for(;e>Bu;)xr(t,qo|Bu&e),e=cl(e/128);xr(t,Bu&e)},OR=(t,e)=>{const n=CG(e);for(n&&(e=-e),xr(t,(e>o2?qo:0)|(n?rl:0)|o2&e),e=cl(e/64);e>0;)xr(t,(e>Bu?qo:0)|Bu&e),e=cl(e/128)},s2=new Uint8Array(3e4),LEe=s2.length/3,jEe=(t,e)=>{if(e.length<LEe){const n=Eg.encodeInto(e,s2).written||0;jt(t,n);for(let r=0;r<n;r++)xr(t,s2[r])}else zo(t,OEe(e))},IEe=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;jt(t,r);for(let o=0;o<r;o++)xr(t,n.codePointAt(o))},qf=Eg&&Eg.encodeInto?jEe:IEe,vw=(t,e)=>{const n=t.cbuf.length,r=t.cpos,o=nl(n-r,e.length),i=e.length-o;t.cbuf.set(e.subarray(0,o),r),t.cpos+=o,i>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(na(n*2,i)),t.cbuf.set(e.subarray(o)),t.cpos=i)},zo=(t,e)=>{jt(t,e.byteLength),vw(t,e)},DR=(t,e)=>{PEe(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},VEe=(t,e)=>DR(t,4).setFloat32(0,e,!1),BEe=(t,e)=>DR(t,8).setFloat64(0,e,!1),$Ee=(t,e)=>DR(t,8).setBigInt64(0,e,!1),E3=new DataView(new ArrayBuffer(4)),HEe=t=>(E3.setFloat32(0,t),E3.getFloat32(0)===t),Tg=(t,e)=>{switch(typeof e){case"string":xr(t,119),qf(t,e);break;case"number":_Ee(e)&&a0(e)<=kEe?(xr(t,125),OR(t,e)):HEe(e)?(xr(t,124),VEe(t,e)):(xr(t,123),BEe(t,e));break;case"bigint":xr(t,122),$Ee(t,e);break;case"object":if(e===null)xr(t,126);else if(r2(e)){xr(t,117),jt(t,e.length);for(let n=0;n<e.length;n++)Tg(t,e[n])}else if(e instanceof Uint8Array)xr(t,116),zo(t,e);else{xr(t,118);const n=Object.keys(e);jt(t,n.length);for(let r=0;r<n.length;r++){const o=n[r];qf(t,o),Tg(t,e[o])}}break;case"boolean":xr(t,e?120:121);break;default:xr(t,127)}};class T3 extends wy{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&jt(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const M3=t=>{t.count>0&&(OR(t.encoder,t.count===1?t.s:-t.s),t.count>1&&jt(t.encoder,t.count-2))};class l0{constructor(){this.encoder=new wy,this.s=0,this.count=0}write(e){this.s===e?this.count++:(M3(this),this.count=1,this.s=e)}toUint8Array(){return M3(this),$s(this.encoder)}}const A3=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);OR(t.encoder,e),t.count>1&&jt(t.encoder,t.count-2)}};class H_{constructor(){this.encoder=new wy,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(A3(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return A3(this),$s(this.encoder)}}class zEe{constructor(){this.sarr=[],this.s="",this.lensE=new l0}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new wy;return this.sarr.push(this.s),this.s="",qf(e,this.sarr.join("")),vw(e,this.lensE.toUint8Array()),$s(e)}}const wc=t=>new Error(t),Zi=()=>{throw wc("Method unimplemented")},Qo=()=>{throw wc("Unexpected case")},_G=wc("Unexpected end of array"),EG=wc("Integer out of Range");class bw{constructor(e){this.arr=e,this.pos=0}}const PR=t=>new bw(t),FEe=t=>t.pos!==t.arr.length,UEe=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},wi=t=>UEe(t,gn(t)),Mg=t=>t.arr[t.pos++],gn=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const o=t.arr[t.pos++];if(e=e+(o&Bu)*n,n*=128,o<qo)return e;if(e>kG)throw EG}throw _G},LR=t=>{let e=t.arr[t.pos++],n=e&o2,r=64;const o=(e&rl)>0?-1:1;if((e&qo)===0)return o*n;const i=t.arr.length;for(;t.pos<i;){if(e=t.arr[t.pos++],n=n+(e&Bu)*r,r*=128,e<qo)return o*n;if(n>kG)throw EG}throw _G},GEe=t=>{let e=gn(t);if(e===0)return"";{let n=String.fromCodePoint(Mg(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Mg(t));else for(;e>0;){const r=e<1e4?e:1e4,o=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,o),e-=r}return decodeURIComponent(escape(n))}},WEe=t=>Dm.decode(wi(t)),a2=Dm?WEe:GEe,jR=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},qEe=t=>jR(t,4).getFloat32(0,!1),YEe=t=>jR(t,8).getFloat64(0,!1),KEe=t=>jR(t,8).getBigInt64(0,!1),ZEe=[t=>{},t=>null,LR,qEe,YEe,KEe,t=>!1,t=>!0,a2,t=>{const e=gn(t),n={};for(let r=0;r<e;r++){const o=a2(t);n[o]=U1(t)}return n},t=>{const e=gn(t),n=[];for(let r=0;r<e;r++)n.push(U1(t));return n},wi],U1=t=>ZEe[127-Mg(t)](t);class R3 extends bw{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),FEe(this)?this.count=gn(this)+1:this.count=-1),this.count--,this.s}}class c0 extends bw{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=LR(this);const e=CG(this.s);this.count=1,e&&(this.s=-this.s,this.count=gn(this)+2)}return this.count--,this.s}}class z_ extends bw{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=LR(this),n=e&1;this.diff=cl(e/2),this.count=1,n&&(this.count=gn(this)+2)}return this.s+=this.diff,this.count--,this.s}}class XEe{constructor(e){this.decoder=new c0(e),this.str=a2(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const JEe=crypto.getRandomValues.bind(crypto),QEe=Math.random,TG=()=>JEe(new Uint32Array(1))[0],eTe=t=>t[cl(QEe()*t.length)],tTe="10000000-1000-4000-8000"+-1e11,nTe=()=>tTe.replace(/[018]/g,t=>(t^TG()&15>>t/4).toString(16)),rTe=Date.now,N3=t=>new Promise(t);Promise.all.bind(Promise);const O3=t=>t===void 0?null:t;class oTe{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let MG=new oTe,iTe=!0;try{typeof localStorage<"u"&&localStorage&&(MG=localStorage,iTe=!1)}catch{}const sTe=MG,aTe=Object.assign,AG=Object.keys,lTe=(t,e)=>{for(const n in t)e(t[n],n)},D3=t=>AG(t).length,cTe=t=>{for(const e in t)return!1;return!0},uTe=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},dTe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),fTe=(t,e)=>t===e||D3(t)===D3(e)&&uTe(t,(n,r)=>(n!==void 0||dTe(e,r))&&e[r]===n),hTe=Object.freeze,RG=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&RG(t[e])}return hTe(t)},IR=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&IR(t,e,n+1)}},pTe=(t,e)=>e.includes(t);var NG={};const gh=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",mTe=typeof window<"u"&&typeof document<"u"&&!gh;let ks;const gTe=()=>{if(ks===void 0)if(gh){ks=Oi();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&ks.set(e,""),e=r):e!==null&&(ks.set(e,r),e=null)}e!==null&&ks.set(e,"")}else typeof location=="object"?(ks=Oi(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");ks.set(`--${_3(e,"-")}`,n),ks.set(`-${_3(e,"-")}`,n)}})):ks=Oi();return ks},l2=t=>gTe().has(t),G1=t=>O3(gh?NG[t.toUpperCase().replaceAll("-","_")]:sTe.getItem(t)),OG=t=>l2("--"+t)||G1(t)!==null;OG("production");const yTe=gh&&pTe(NG.FORCE_COLOR,["true","1","2"]),vTe=yTe||!l2("--no-colors")&&!OG("no-color")&&(!gh||process.stdout.isTTY)&&(!gh||l2("--color")||G1("COLORTERM")!==null||(G1("TERM")||"").includes("color"));class bTe{constructor(e,n){this.left=e,this.right=n}}const La=(t,e)=>new bTe(t,e),xTe=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const wTe=t=>xEe(t,(e,n)=>`${n}:${e};`).join(""),STe=t=>class{constructor(n){this._=n}destroy(){t(this._)}},CTe=STe(clearTimeout),VR=(t,e)=>new CTe(setTimeout(e,t)),pl=Symbol,DG=pl(),PG=pl(),kTe=pl(),_Te=pl(),ETe=pl(),LG=pl(),TTe=pl(),BR=pl(),MTe=pl(),ATe=t=>{var o;t.length===1&&((o=t[0])==null?void 0:o.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const i=t[r];if(i===void 0)break;if(i.constructor===String||i.constructor===Number)e.push(i);else if(i.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const i=t[r];i instanceof Symbol||n.push(i)}return n},RTe={[DG]:La("font-weight","bold"),[PG]:La("font-weight","normal"),[kTe]:La("color","blue"),[ETe]:La("color","green"),[_Te]:La("color","grey"),[LG]:La("color","red"),[TTe]:La("color","purple"),[BR]:La("color","orange"),[MTe]:La("color","black")},NTe=t=>{var s;t.length===1&&((s=t[0])==null?void 0:s.constructor)===Function&&(t=t[0]());const e=[],n=[],r=Oi();let o=[],i=0;for(;i<t.length;i++){const a=t[i],l=RTe[a];if(l!==void 0)r.set(l.left,l.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const c=wTe(r);i>0||c.length>0?(e.push("%c"+a),n.push(c)):e.push(a)}else break}}for(i>0&&(o=n,o.unshift(e.join("")));i<t.length;i++){const a=t[i];a instanceof Symbol||o.push(a)}return o},jG=vTe?NTe:ATe,OTe=(...t)=>{console.log(...jG(t)),VG.forEach(e=>e.print(t))},IG=(...t)=>{console.warn(...jG(t)),t.unshift(BR),VG.forEach(e=>e.print(t))},VG=Qu(),BG=t=>({[Symbol.iterator](){return this},next:t}),DTe=(t,e)=>BG(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),F_=(t,e)=>BG(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class $R{constructor(e,n){this.clock=e,this.len=n}}class Oh{constructor(){this.clients=new Map}}const Sc=(t,e,n)=>e.clients.forEach((r,o)=>{const i=t.doc.store.clients.get(o);for(let s=0;s<r.length;s++){const a=r[s];qG(t,i,a.clock,a.len,n)}}),PTe=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const o=cl((n+r)/2),i=t[o],s=i.clock;if(s<=e){if(e<s+i.len)return o;n=o+1}else r=o-1}return null},Dh=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&PTe(n,e.clock)!==null},HR=t=>{t.clients.forEach(e=>{e.sort((o,i)=>o.clock-i.clock);let n,r;for(n=1,r=1;n<e.length;n++){const o=e[r-1],i=e[n];o.clock+o.len>=i.clock?o.len=na(o.len,i.clock+i.len-o.clock):(r<n&&(e[r]=i),r++)}e.length=r})},c2=t=>{const e=new Oh;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,o)=>{if(!e.clients.has(o)){const i=r.slice();for(let s=n+1;s<t.length;s++)SEe(i,t[s].clients.get(o)||[]);e.clients.set(o,i)}});return HR(e),e},Ag=(t,e,n,r)=>{hl(t.clients,e,()=>[]).push(new $R(n,r))},$G=()=>new Oh,LTe=t=>{const e=$G();return t.clients.forEach((n,r)=>{const o=[];for(let i=0;i<n.length;i++){const s=n[i];if(s.deleted){const a=s.id.clock;let l=s.length;if(i+1<n.length)for(let c=n[i+1];i+1<n.length&&c.deleted;c=n[++i+1])l+=c.length;o.push(new $R(a,l))}}o.length>0&&e.clients.set(r,o)}),e},zR=(t,e)=>{jt(t.restEncoder,e.clients.size),ed(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),jt(t.restEncoder,n);const o=r.length;jt(t.restEncoder,o);for(let i=0;i<o;i++){const s=r[i];t.writeDsClock(s.clock),t.writeDsLen(s.len)}})},jTe=t=>{const e=new Oh,n=gn(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const o=gn(t.restDecoder),i=gn(t.restDecoder);if(i>0){const s=hl(e.clients,o,()=>[]);for(let a=0;a<i;a++)s.push(new $R(t.readDsClock(),t.readDsLen()))}}return e},P3=(t,e,n)=>{const r=new Oh,o=gn(t.restDecoder);for(let i=0;i<o;i++){t.resetDsCurVal();const s=gn(t.restDecoder),a=gn(t.restDecoder),l=n.clients.get(s)||[],c=Vn(n,s);for(let f=0;f<a;f++){const h=t.readDsClock(),p=h+t.readDsLen();if(h<c){c<p&&Ag(r,s,c,p-c);let y=ra(l,h),b=l[y];for(!b.deleted&&b.id.clock<h&&(l.splice(y+1,0,X1(e,b,h-b.id.clock)),y++);y<l.length&&(b=l[y++],b.id.clock<p);)b.deleted||(p<b.id.clock+b.length&&l.splice(y,0,X1(e,b,p-b.id.clock)),b.delete(e))}else Ag(r,s,h,p-h)}}if(r.clients.size>0){const i=new xw;return jt(i.restEncoder,0),zR(i,r),i.toUint8Array()}return null},HG=TG;class md extends SG{constructor({guid:e=nTe(),collectionid:n=null,gc:r=!0,gcFilter:o=()=>!0,meta:i=null,autoLoad:s=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=o,this.clientID=HG(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new GG,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=s,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=N3(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const l=()=>N3(c=>{const f=h=>{(h===void 0||h===!0)&&(this.off("sync",f),c())};this.on("sync",f)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){const e=this._item;e!==null&&!this.shouldLoad&&en(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(ed(this.subdocs).map(e=>e.guid))}transact(e,n=null){return en(this,e,n)}get(e,n=Sr){const r=hl(this.share,e,()=>{const i=new n;return i._integrate(this,null),i}),o=r.constructor;if(n!==Sr&&o!==n)if(o===Sr){const i=new n;i._map=r._map,r._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=i}),i._start=r._start;for(let s=i._start;s!==null;s=s.right)s.parent=i;return i._length=r._length,this.share.set(e,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,Zf)}getText(e=""){return this.get(e,Cc)}getMap(e=""){return this.get(e,yh)}getXmlElement(e=""){return this.get(e,io)}getXmlFragment(e=""){return this.get(e,td)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,ed(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new md({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,en(e.parent.doc,r=>{const o=n.doc;e.deleted||r.subdocsAdded.add(o),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class ITe{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=gn(this.restDecoder),this.dsCurrVal}readDsLen(){const e=gn(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class W1 extends ITe{constructor(e){super(e),this.keys=[],gn(e),this.keyClockDecoder=new z_(wi(e)),this.clientDecoder=new c0(wi(e)),this.leftClockDecoder=new z_(wi(e)),this.rightClockDecoder=new z_(wi(e)),this.infoDecoder=new R3(wi(e),Mg),this.stringDecoder=new XEe(wi(e)),this.parentInfoDecoder=new R3(wi(e),Mg),this.typeRefDecoder=new c0(wi(e)),this.lenDecoder=new c0(wi(e))}readLeftID(){return new Yf(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Yf(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return U1(this.restDecoder)}readBuf(){return wi(this.restDecoder)}readJSON(){return U1(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class VTe{constructor(){this.restEncoder=yw()}toUint8Array(){return $s(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){jt(this.restEncoder,e)}writeDsLen(e){jt(this.restEncoder,e)}}class BTe extends VTe{writeLeftID(e){jt(this.restEncoder,e.client),jt(this.restEncoder,e.clock)}writeRightID(e){jt(this.restEncoder,e.client),jt(this.restEncoder,e.clock)}writeClient(e){jt(this.restEncoder,e)}writeInfo(e){i2(this.restEncoder,e)}writeString(e){qf(this.restEncoder,e)}writeParentInfo(e){jt(this.restEncoder,e?1:0)}writeTypeRef(e){jt(this.restEncoder,e)}writeLen(e){jt(this.restEncoder,e)}writeAny(e){Tg(this.restEncoder,e)}writeBuf(e){zo(this.restEncoder,e)}writeJSON(e){qf(this.restEncoder,JSON.stringify(e))}writeKey(e){qf(this.restEncoder,e)}}class $Te{constructor(){this.restEncoder=yw(),this.dsCurrVal=0}toUint8Array(){return $s(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,jt(this.restEncoder,n)}writeDsLen(e){e===0&&Qo(),jt(this.restEncoder,e-1),this.dsCurrVal+=e}}class xw extends $Te{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new H_,this.clientEncoder=new l0,this.leftClockEncoder=new H_,this.rightClockEncoder=new H_,this.infoEncoder=new T3(i2),this.stringEncoder=new zEe,this.parentInfoEncoder=new T3(i2),this.typeRefEncoder=new l0,this.lenEncoder=new l0}toUint8Array(){const e=yw();return jt(e,0),zo(e,this.keyClockEncoder.toUint8Array()),zo(e,this.clientEncoder.toUint8Array()),zo(e,this.leftClockEncoder.toUint8Array()),zo(e,this.rightClockEncoder.toUint8Array()),zo(e,$s(this.infoEncoder)),zo(e,this.stringEncoder.toUint8Array()),zo(e,$s(this.parentInfoEncoder)),zo(e,this.typeRefEncoder.toUint8Array()),zo(e,this.lenEncoder.toUint8Array()),vw(e,$s(this.restEncoder)),$s(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Tg(this.restEncoder,e)}writeBuf(e){zo(this.restEncoder,e)}writeJSON(e){Tg(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const HTe=(t,e,n,r)=>{r=na(r,e[0].id.clock);const o=ra(e,r);jt(t.restEncoder,e.length-o),t.writeClient(n),jt(t.restEncoder,r);const i=e[o];i.write(t,r-i.id.clock);for(let s=o+1;s<e.length;s++)e[s].write(t,0)},zG=(t,e,n)=>{const r=new Map;n.forEach((o,i)=>{Vn(e,i)>o&&r.set(i,o)}),ww(e).forEach((o,i)=>{n.has(i)||r.set(i,0)}),jt(t.restEncoder,r.size),ed(r.entries()).sort((o,i)=>i[0]-o[0]).forEach(([o,i])=>{HTe(t,e.clients.get(o),o,i)})},zTe=(t,e)=>{const n=Oi(),r=gn(t.restDecoder);for(let o=0;o<r;o++){const i=gn(t.restDecoder),s=new Array(i),a=t.readClient();let l=gn(t.restDecoder);n.set(a,{i:0,refs:s});for(let c=0;c<i;c++){const f=t.readInfo();switch(gw&f){case 0:{const h=t.readLen();s[c]=new Ai(dt(a,l),h),l+=h;break}case 10:{const h=gn(t.restDecoder);s[c]=new Gi(dt(a,l),h),l+=h;break}default:{const h=(f&(rl|qo))===0,p=new Wt(dt(a,l),null,(f&qo)===qo?t.readLeftID():null,null,(f&rl)===rl?t.readRightID():null,h?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,h&&(f&_g)===_g?t.readString():null,mW(t,f));s[c]=p,l+=p.length}}}}return n},FTe=(t,e,n)=>{const r=[];let o=ed(n.keys()).sort((y,b)=>y-b);if(o.length===0)return null;const i=()=>{if(o.length===0)return null;let y=n.get(o[o.length-1]);for(;y.refs.length===y.i;)if(o.pop(),o.length>0)y=n.get(o[o.length-1]);else return null;return y};let s=i();if(s===null)return null;const a=new GG,l=new Map,c=(y,b)=>{const x=l.get(y);(x==null||x>b)&&l.set(y,b)};let f=s.refs[s.i++];const h=new Map,p=()=>{for(const y of r){const b=y.id.client,x=n.get(b);x?(x.i--,a.clients.set(b,x.refs.slice(x.i)),n.delete(b),x.i=0,x.refs=[]):a.clients.set(b,[y]),o=o.filter(C=>C!==b)}r.length=0};for(;;){if(f.constructor!==Gi){const b=hl(h,f.id.client,()=>Vn(e,f.id.client))-f.id.clock;if(b<0)r.push(f),c(f.id.client,f.id.clock-1),p();else{const x=f.getMissing(t,e);if(x!==null){r.push(f);const C=n.get(x)||{refs:[],i:0};if(C.refs.length===C.i)c(x,Vn(e,x)),p();else{f=C.refs[C.i++];continue}}else(b===0||b<f.length)&&(f.integrate(t,b),h.set(f.id.client,f.id.clock+f.length))}}if(r.length>0)f=r.pop();else if(s!==null&&s.i<s.refs.length)f=s.refs[s.i++];else{if(s=i(),s===null)break;f=s.refs[s.i++]}}if(a.clients.size>0){const y=new xw;return zG(y,a,new Map),jt(y.restEncoder,0),{missing:l,update:y.toUint8Array()}}return null},UTe=(t,e)=>zG(t,e.doc.store,e.beforeState),GTe=(t,e,n,r=new W1(t))=>en(e,o=>{o.local=!1;let i=!1;const s=o.doc,a=s.store,l=zTe(r,s),c=FTe(o,a,l),f=a.pendingStructs;if(f){for(const[p,y]of f.missing)if(y<Vn(a,p)){i=!0;break}if(c){for(const[p,y]of c.missing){const b=f.missing.get(p);(b==null||b>y)&&f.missing.set(p,y)}f.update=U3([f.update,c.update])}}else a.pendingStructs=c;const h=P3(r,o,a);if(a.pendingDs){const p=new W1(PR(a.pendingDs));gn(p.restDecoder);const y=P3(p,o,a);h&&y?a.pendingDs=U3([h,y]):a.pendingDs=h||y}else a.pendingDs=h;if(i){const p=a.pendingStructs.update;a.pendingStructs=null,u2(o.doc,p)}},n,!1),u2=(t,e,n,r=W1)=>{const o=PR(e);GTe(o,t,n,new r(o))};class WTe{constructor(){this.l=[]}}const L3=()=>new WTe,j3=(t,e)=>t.l.push(e),I3=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(o=>e!==o),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},FG=(t,e,n)=>IR(t.l,[e,n]);class Yf{constructor(e,n){this.client=e,this.clock=n}}const Lf=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,dt=(t,e)=>new Yf(t,e),Rg=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw Qo()},Ng=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class Og{constructor(e,n,r,o=0){this.type=e,this.tname=n,this.item=r,this.assoc=o}}const Pm=t=>new Og(t.type==null?null:dt(t.type.client,t.type.clock),t.tname??null,t.item==null?null:dt(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class qTe{constructor(e,n,r=0){this.type=e,this.index=n,this.assoc=r}}const YTe=(t,e,n=0)=>new qTe(t,e,n),Rb=(t,e,n)=>{let r=null,o=null;return t._item===null?o=Rg(t):r=dt(t._item.id.client,t._item.id.clock),new Og(r,o,e,n)},U_=(t,e,n=0)=>{let r=t._start;if(n<0){if(e===0)return Rb(t,null,n);e--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>e)return Rb(t,dt(r.id.client,r.id.clock+e),n);e-=r.length}if(r.right===null&&n<0)return Rb(t,r.lastId,n);r=r.right}return Rb(t,null,n)},KTe=(t,e)=>{const n=Kf(t,e),r=e.clock-n.id.clock;return{item:n,diff:r}},ZTe=(t,e,n=!0)=>{const r=e.store,o=t.item,i=t.type,s=t.tname,a=t.assoc;let l=null,c=0;if(o!==null){if(Vn(r,o.client)<=o.clock)return null;const f=n?p2(r,o):KTe(r,o),h=f.item;if(!(h instanceof Wt))return null;if(l=h.parent,l._item===null||!l._item.deleted){c=h.deleted||!h.countable?0:f.diff+(a>=0?0:1);let p=h.left;for(;p!==null;)!p.deleted&&p.countable&&(c+=p.length),p=p.left}}else{if(s!==null)l=e.get(s);else if(i!==null){if(Vn(r,i.client)<=i.clock)return null;const{item:f}=n?p2(r,i):{item:Kf(r,i)};if(f instanceof Wt&&f.content instanceof ps)l=f.content.type;else return null}else throw Qo();a>=0?c=l._length:c=0}return YTe(l,c,t.assoc)},V3=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&Lf(t.item,e.item)&&Lf(t.type,e.type)&&t.assoc===e.assoc;class FR{constructor(e,n){this.ds=e,this.sv=n}}const UG=(t,e)=>new FR(t,e),G_=t=>UG(LTe(t.store),ww(t.store)),yu=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Dh(e.ds,t.id),d2=(t,e)=>{const n=hl(t.meta,d2,Qu),r=t.doc.store;n.has(e)||(e.sv.forEach((o,i)=>{o<Vn(r,i)&&Co(t,dt(i,o))}),Sc(t,e.ds,o=>{}),n.add(e))};class GG{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const ww=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const o=n[n.length-1];e.set(r,o.id.clock+o.length)}),e},Vn=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},WG=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw Qo()}n.push(e)},ra=(t,e)=>{let n=0,r=t.length-1,o=t[r],i=o.id.clock;if(i===e)return r;let s=cl(e/(i+o.length-1)*r);for(;n<=r;){if(o=t[s],i=o.id.clock,i<=e){if(e<i+o.length)return s;n=s+1}else r=s-1;s=cl((n+r)/2)}throw Qo()},XTe=(t,e)=>{const n=t.clients.get(e.client);return n[ra(n,e.clock)]},Kf=XTe,f2=(t,e,n)=>{const r=ra(e,n),o=e[r];return o.id.clock<n&&o instanceof Wt?(e.splice(r+1,0,X1(t,o,n-o.id.clock)),r+1):r},Co=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[f2(t,n,e.clock)]},B3=(t,e,n)=>{const r=e.clients.get(n.client),o=ra(r,n.clock),i=r[o];return n.clock!==i.id.clock+i.length-1&&i.constructor!==Ai&&r.splice(o+1,0,X1(t,i,n.clock-i.id.clock+1)),i},JTe=(t,e,n)=>{const r=t.clients.get(e.id.client);r[ra(r,e.id.clock)]=n},qG=(t,e,n,r,o)=>{if(r===0)return;const i=n+r;let s=f2(t,e,n),a;do a=e[s++],i<a.id.clock+a.length&&f2(t,e,i),o(a);while(s<e.length&&e[s].id.clock<i)};class QTe{constructor(e,n,r){this.doc=e,this.deleteSet=new Oh,this.beforeState=ww(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const $3=(t,e)=>e.deleteSet.clients.size===0&&!wEe(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(HR(e.deleteSet),UTe(t,e),zR(t,e.deleteSet),!0),H3=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&hl(t.changed,e,Qu).add(n)},u0=(t,e)=>{let n=t[e],r=t[e-1],o=e;for(;o>0;n=r,r=t[--o-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof Wt&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const i=e-o;return i&&t.splice(e+1-i,i),i},e2e=(t,e,n)=>{for(const[r,o]of t.clients.entries()){const i=e.clients.get(r);for(let s=o.length-1;s>=0;s--){const a=o[s],l=a.clock+a.len;for(let c=ra(i,a.clock),f=i[c];c<i.length&&f.id.clock<l;f=i[++c]){const h=i[c];if(a.clock+a.len<=h.id.clock)break;h instanceof Wt&&h.deleted&&!h.keep&&n(h)&&h.gc(e,!1)}}}},t2e=(t,e)=>{t.clients.forEach((n,r)=>{const o=e.clients.get(r);for(let i=n.length-1;i>=0;i--){const s=n[i],a=nl(o.length-1,1+ra(o,s.clock+s.len-1));for(let l=a,c=o[l];l>0&&c.id.clock>=s.clock;c=o[l])l-=1+u0(o,l)}})},YG=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,o=r.store,i=n.deleteSet,s=n._mergeStructs;try{HR(i),n.afterState=ww(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((l,c)=>a.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,l)})),a.push(()=>{n.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(f=>f.target._item===null||!f.target._item.deleted),l.forEach(f=>{f.currentTarget=c,f._path=null}),l.sort((f,h)=>f.path.length-h.path.length),FG(c._dEH,l,n))})}),a.push(()=>r.emit("afterTransaction",[n,r])),IR(a,[]),n._needFormattingCleanup&&w2e(n)}finally{r.gc&&e2e(i,o,r.gcFilter),t2e(i,o),n.afterState.forEach((f,h)=>{const p=n.beforeState.get(h)||0;if(p!==f){const y=o.clients.get(h),b=na(ra(y,p),1);for(let x=y.length-1;x>=b;)x-=1+u0(y,x)}});for(let f=s.length-1;f>=0;f--){const{client:h,clock:p}=s[f].id,y=o.clients.get(h),b=ra(y,p);b+1<y.length&&u0(y,b+1)>1||b>0&&u0(y,b)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(OTe(BR,DG,"[yjs] ",PG,LG,"Changed the client-id because another client seems to be using it."),r.clientID=HG()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const f=new BTe;$3(f,n)&&r.emit("update",[f.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const f=new xw;$3(f,n)&&r.emit("updateV2",[f.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:c}=n;(a.size>0||c.size>0||l.size>0)&&(a.forEach(f=>{f.clientID=r.clientID,f.collectionid==null&&(f.collectionid=r.collectionid),r.subdocs.add(f)}),c.forEach(f=>r.subdocs.delete(f)),r.emit("subdocs",[{loaded:l,added:a,removed:c},r,n]),c.forEach(f=>f.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):YG(t,e+1)}}},en=(t,e,n=null,r=!0)=>{const o=t._transactionCleanups;let i=!1,s=null;t._transaction===null&&(i=!0,t._transaction=new QTe(t,n,r),o.push(t._transaction),o.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{s=e(t._transaction)}finally{if(i){const a=t._transaction===o[0];t._transaction=null,a&&YG(o,0)}}return s};class n2e{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const z3=(t,e,n)=>{Sc(t,n.deletions,r=>{r instanceof Wt&&e.scope.some(o=>o===t.doc||Ng(o,r))&&YR(r,!1)})},F3=(t,e,n)=>{let r=null;const o=t.doc,i=t.scope;en(o,a=>{for(;e.length>0&&t.currStackItem===null;){const l=o.store,c=e.pop(),f=new Set,h=[];let p=!1;Sc(a,c.insertions,y=>{if(y instanceof Wt){if(y.redone!==null){let{item:b,diff:x}=p2(l,y.id);x>0&&(b=Co(a,dt(b.id.client,b.id.clock+x))),y=b}!y.deleted&&i.some(b=>b===a.doc||Ng(b,y))&&h.push(y)}}),Sc(a,c.deletions,y=>{y instanceof Wt&&i.some(b=>b===a.doc||Ng(b,y))&&!Dh(c.insertions,y.id)&&f.add(y)}),f.forEach(y=>{p=pW(a,y,f,c.insertions,t.ignoreRemoteMapChanges,t)!==null||p});for(let y=h.length-1;y>=0;y--){const b=h[y];t.deleteFilter(b)&&(b.delete(a),p=!0)}t.currStackItem=p?c:null}a.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),r=a},t);const s=t.currStackItem;if(s!=null){const a=r.changedParentTypes;t.emit("stack-item-popped",[{stackItem:s,type:n,changedParentTypes:a,origin:t},t]),t.currStackItem=null}return s};class KG extends SG{constructor(e,{captureTimeout:n=500,captureTransaction:r=l=>!0,deleteFilter:o=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:s=!1,doc:a=r2(e)?e[0].doc:e instanceof md?e:e.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(e),this.deleteFilter=o,i.add(this),this.trackedOrigins=i,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=s,this.captureTimeout=n,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(C=>l.changedParentTypes.has(C)||C===this.doc)||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const c=this.undoing,f=this.redoing,h=c?this.redoStack:this.undoStack;c?this.stopCapturing():f||this.clear(!1,!0);const p=new Oh;l.afterState.forEach((C,k)=>{const E=l.beforeState.get(k)||0,T=C-E;T>0&&Ag(p,k,E,T)});const y=rTe();let b=!1;if(this.lastChange>0&&y-this.lastChange<this.captureTimeout&&h.length>0&&!c&&!f){const C=h[h.length-1];C.deletions=c2([C.deletions,l.deleteSet]),C.insertions=c2([C.insertions,p])}else h.push(new n2e(l.deleteSet,p)),b=!0;!c&&!f&&(this.lastChange=y),Sc(l,l.deleteSet,C=>{C instanceof Wt&&this.scope.some(k=>k===l.doc||Ng(k,C))&&YR(C,!0)});const x=[{stackItem:h[h.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];b?this.emit("stack-item-added",x):this.emit("stack-item-updated",x)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){const n=new Set(this.scope);e=r2(e)?e:[e],e.forEach(r=>{n.has(r)||(n.add(r),(r instanceof Sr?r.doc!==this.doc:r!==this.doc)&&IG("[yjs#509] Not same Y.Doc"),this.scope.push(r))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(o=>z3(r,this,o)),this.undoStack=[]),n&&(this.redoStack.forEach(o=>z3(r,this,o)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=F3(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=F3(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*r2e(t){const e=gn(t.restDecoder);for(let n=0;n<e;n++){const r=gn(t.restDecoder),o=t.readClient();let i=gn(t.restDecoder);for(let s=0;s<r;s++){const a=t.readInfo();if(a===10){const l=gn(t.restDecoder);yield new Gi(dt(o,i),l),i+=l}else if((gw&a)!==0){const l=(a&(rl|qo))===0,c=new Wt(dt(o,i),null,(a&qo)===qo?t.readLeftID():null,null,(a&rl)===rl?t.readRightID():null,l?t.readParentInfo()?t.readString():t.readLeftID():null,l&&(a&_g)===_g?t.readString():null,mW(t,a));yield c,i+=c.length}else{const l=t.readLen();yield new Ai(dt(o,i),l),i+=l}}}}class o2e{constructor(e,n){this.gen=r2e(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Gi);return this.curr}}class i2e{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const s2e=(t,e)=>{if(t.constructor===Ai){const{client:n,clock:r}=t.id;return new Ai(dt(n,r+e),t.length-e)}else if(t.constructor===Gi){const{client:n,clock:r}=t.id;return new Gi(dt(n,r+e),t.length-e)}else{const n=t,{client:r,clock:o}=n.id;return new Wt(dt(r,o+e),null,dt(r,o+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},U3=(t,e=W1,n=xw)=>{if(t.length===1)return t[0];const r=t.map(f=>new e(PR(f)));let o=r.map(f=>new o2e(f,!0)),i=null;const s=new n,a=new i2e(s);for(;o=o.filter(p=>p.curr!==null),o.sort((p,y)=>{if(p.curr.id.client===y.curr.id.client){const b=p.curr.id.clock-y.curr.id.clock;return b===0?p.curr.constructor===y.curr.constructor?0:p.curr.constructor===Gi?1:-1:b}else return y.curr.id.client-p.curr.id.client}),o.length!==0;){const f=o[0],h=f.curr.id.client;if(i!==null){let p=f.curr,y=!1;for(;p!==null&&p.id.clock+p.length<=i.struct.id.clock+i.struct.length&&p.id.client>=i.struct.id.client;)p=f.next(),y=!0;if(p===null||p.id.client!==h||y&&p.id.clock>i.struct.id.clock+i.struct.length)continue;if(h!==i.struct.id.client)Qp(a,i.struct,i.offset),i={struct:p,offset:0},f.next();else if(i.struct.id.clock+i.struct.length<p.id.clock)if(i.struct.constructor===Gi)i.struct.length=p.id.clock+p.length-i.struct.id.clock;else{Qp(a,i.struct,i.offset);const b=p.id.clock-i.struct.id.clock-i.struct.length;i={struct:new Gi(dt(h,i.struct.id.clock+i.struct.length),b),offset:0}}else{const b=i.struct.id.clock+i.struct.length-p.id.clock;b>0&&(i.struct.constructor===Gi?i.struct.length-=b:p=s2e(p,b)),i.struct.mergeWith(p)||(Qp(a,i.struct,i.offset),i={struct:p,offset:0},f.next())}}else i={struct:f.curr,offset:0},f.next();for(let p=f.curr;p!==null&&p.id.client===h&&p.id.clock===i.struct.id.clock+i.struct.length&&p.constructor!==Gi;p=f.next())Qp(a,i.struct,i.offset),i={struct:p,offset:0}}i!==null&&(Qp(a,i.struct,i.offset),i=null),a2e(a);const l=r.map(f=>jTe(f)),c=c2(l);return zR(s,c),s.toUint8Array()},ZG=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:$s(t.encoder.restEncoder)}),t.encoder.restEncoder=yw(),t.written=0)},Qp=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&ZG(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),jt(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},a2e=t=>{ZG(t);const e=t.encoder.restEncoder;jt(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];jt(e,r.written),vw(e,r.restEncoder)}},G3="You must not compute changes after the event-handler fired.";class Sw{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=l2e(this.currentTarget,this.target))}deletes(e){return Dh(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw wc(G3);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(o=>{if(o!==null){const i=n._map.get(o);let s,a;if(this.adds(i)){let l=i.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(i))if(l!==null&&this.deletes(l))s="delete",a=V_(l.content.getContent());else return;else l!==null&&this.deletes(l)?(s="update",a=V_(l.content.getContent())):(s="add",a=void 0)}else if(this.deletes(i))s="delete",a=V_(i.content.getContent());else return;e.set(o,{action:s,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw wc(G3);const n=this.target,r=Qu(),o=Qu(),i=[];if(e={added:r,deleted:o,delta:i,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const l=()=>{a&&i.push(a)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=c.length,o.add(c)):this.adds(c)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(c.content.getContent()),r.add(c)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=c.length);a!==null&&a.retain===void 0&&l()}this._changes=e}return e}}const l2e=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,o=e._item.parent._start;for(;o!==e._item&&o!==null;)!o.deleted&&o.countable&&(r+=o.length),o=o.right;n.unshift(r)}e=e._item.parent}return n},Wr=()=>{IG("Invalid access: Add Yjs type to a document before reading data.")},XG=80;let UR=0;class c2e{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=UR++}}const u2e=t=>{t.timestamp=UR++},JG=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=UR++},d2e=(t,e,n)=>{if(t.length>=XG){const r=t.reduce((o,i)=>o.timestamp<i.timestamp?o:i);return JG(r,e,n),r}else{const r=new c2e(e,n);return t.push(r),r}},Cw=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((i,s)=>a0(e-i.index)<a0(e-s.index)?i:s);let r=t._start,o=0;for(n!==null&&(r=n.p,o=n.index,u2e(n));r.right!==null&&o<e;){if(!r.deleted&&r.countable){if(e<o+r.length)break;o+=r.length}r=r.right}for(;r.left!==null&&o>e;)r=r.left,!r.deleted&&r.countable&&(o-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(o-=r.length);return n!==null&&a0(n.index-o)<r.parent.length/XG?(JG(n,r,o),n):d2e(t._searchMarker,r,o)},Dg=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const o=t[r];if(n>0){let i=o.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(o.index-=i.length);if(i===null||i.marker===!0){t.splice(r,1);continue}o.p=i,i.marker=!0}(e<o.index||n>0&&e===o.index)&&(o.index=na(e,o.index+n))}},kw=(t,e,n)=>{const r=t,o=e.changedParentTypes;for(;hl(o,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;FG(r._eH,n,e)};class Sr{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=L3(),this._dEH=L3(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Zi()}clone(){throw Zi()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){j3(this._eH,e)}observeDeep(e){j3(this._dEH,e)}unobserve(e){I3(this._eH,e)}unobserveDeep(e){I3(this._dEH,e)}toJSON(){}}const QG=(t,e,n)=>{t.doc??Wr(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const o=[];let i=t._start;for(;i!==null&&r>0;){if(i.countable&&!i.deleted){const s=i.content.getContent();if(s.length<=e)e-=s.length;else{for(let a=e;a<s.length&&r>0;a++)o.push(s[a]),r--;e=0}}i=i.right}return o},eW=t=>{t.doc??Wr();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let o=0;o<r.length;o++)e.push(r[o])}n=n.right}return e},tW=(t,e)=>{const n=[];let r=t._start;for(;r!==null;){if(r.countable&&yu(r,e)){const o=r.content.getContent();for(let i=0;i<o.length;i++)n.push(o[i])}r=r.right}return n},Pg=(t,e)=>{let n=0,r=t._start;for(t.doc??Wr();r!==null;){if(r.countable&&!r.deleted){const o=r.content.getContent();for(let i=0;i<o.length;i++)e(o[i],n++,t)}r=r.right}},nW=(t,e)=>{const n=[];return Pg(t,(r,o)=>{n.push(e(r,o,t))}),n},f2e=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const o=n[r++];return n.length<=r&&(n=null),{done:!1,value:o}}}},rW=(t,e)=>{t.doc??Wr();const n=Cw(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},q1=(t,e,n,r)=>{let o=n;const i=t.doc,s=i.clientID,a=i.store,l=n===null?e._start:n.right;let c=[];const f=()=>{c.length>0&&(o=new Wt(dt(s,Vn(a,s)),o,o&&o.lastId,l,l&&l.id,e,null,new nd(c)),o.integrate(t,0),c=[])};r.forEach(h=>{if(h===null)c.push(h);else switch(h.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(h);break;default:switch(f(),h.constructor){case Uint8Array:case ArrayBuffer:o=new Wt(dt(s,Vn(a,s)),o,o&&o.lastId,l,l&&l.id,e,null,new Sy(new Uint8Array(h))),o.integrate(t,0);break;case md:o=new Wt(dt(s,Vn(a,s)),o,o&&o.lastId,l,l&&l.id,e,null,new Cy(h)),o.integrate(t,0);break;default:if(h instanceof Sr)o=new Wt(dt(s,Vn(a,s)),o,o&&o.lastId,l,l&&l.id,e,null,new ps(h)),o.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),f()},oW=()=>wc("Length exceeded!"),iW=(t,e,n,r)=>{if(n>e._length)throw oW();if(n===0)return e._searchMarker&&Dg(e._searchMarker,n,r.length),q1(t,e,null,r);const o=n,i=Cw(e,n);let s=e._start;for(i!==null&&(s=i.p,n-=i.index,n===0&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&Co(t,dt(s.id.client,s.id.clock+n));break}n-=s.length}return e._searchMarker&&Dg(e._searchMarker,o,r.length),q1(t,e,s,r)},h2e=(t,e,n)=>{let o=(e._searchMarker||[]).reduce((i,s)=>s.index>i.index?s:i,{index:0,p:e._start}).p;if(o)for(;o.right;)o=o.right;return q1(t,e,o,n)},sW=(t,e,n,r)=>{if(r===0)return;const o=n,i=r,s=Cw(e,n);let a=e._start;for(s!==null&&(a=s.p,n-=s.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&Co(t,dt(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&Co(t,dt(a.id.client,a.id.clock+r)),a.delete(t),r-=a.length),a=a.right;if(r>0)throw oW();e._searchMarker&&Dg(e._searchMarker,o,-i+r)},Y1=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},GR=(t,e,n,r)=>{const o=e._map.get(n)||null,i=t.doc,s=i.clientID;let a;if(r==null)a=new nd([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:a=new nd([r]);break;case Uint8Array:a=new Sy(r);break;case md:a=new Cy(r);break;default:if(r instanceof Sr)a=new ps(r);else throw new Error("Unexpected content type")}new Wt(dt(s,Vn(i.store,s)),o,o&&o.lastId,null,null,e,n,a).integrate(t,0)},WR=(t,e)=>{t.doc??Wr();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},aW=t=>{const e={};return t.doc??Wr(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},lW=(t,e)=>{t.doc??Wr();const n=t._map.get(e);return n!==void 0&&!n.deleted},p2e=(t,e)=>{const n={};return t._map.forEach((r,o)=>{let i=r;for(;i!==null&&(!e.sv.has(i.id.client)||i.id.clock>=(e.sv.get(i.id.client)||0));)i=i.left;i!==null&&yu(i,e)&&(n[o]=i.content.getContent()[i.length-1])}),n},Nb=t=>(t.doc??Wr(),DTe(t._map.entries(),e=>!e[1].deleted));class m2e extends Sw{}class Zf extends Sr{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Zf;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Zf}clone(){const e=new Zf;return e.insert(0,this.toArray().map(n=>n instanceof Sr?n.clone():n)),e}get length(){return this.doc??Wr(),this._length}_callObserver(e,n){super._callObserver(e,n),kw(this,e,new m2e(this,e))}insert(e,n){this.doc!==null?en(this.doc,r=>{iW(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?en(this.doc,n=>{h2e(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?en(this.doc,r=>{sW(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return rW(this,e)}toArray(){return eW(this)}slice(e=0,n=this.length){return QG(this,e,n)}toJSON(){return this.map(e=>e instanceof Sr?e.toJSON():e)}map(e){return nW(this,e)}forEach(e){Pg(this,e)}[Symbol.iterator](){return f2e(this)}_write(e){e.writeTypeRef($2e)}}const g2e=t=>new Zf;class y2e extends Sw{constructor(e,n,r){super(e,n),this.keysChanged=r}}class yh extends Sr{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,o)=>{this.set(o,r)}),this._prelimContent=null}_copy(){return new yh}clone(){const e=new yh;return this.forEach((n,r)=>{e.set(r,n instanceof Sr?n.clone():n)}),e}_callObserver(e,n){kw(this,e,new y2e(this,e,n))}toJSON(){this.doc??Wr();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const o=n.content.getContent()[n.length-1];e[r]=o instanceof Sr?o.toJSON():o}}),e}get size(){return[...Nb(this)].length}keys(){return F_(Nb(this),e=>e[0])}values(){return F_(Nb(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return F_(Nb(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??Wr(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?en(this.doc,n=>{Y1(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?en(this.doc,r=>{GR(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return WR(this,e)}has(e){return lW(this,e)}clear(){this.doc!==null?en(this.doc,e=>{this.forEach(function(n,r,o){Y1(e,o,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(H2e)}}const v2e=t=>new yh,oc=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&fTe(t,e);class h2{constructor(e,n,r,o){this.left=e,this.right=n,this.index=r,this.currentAttributes=o}forward(){switch(this.right===null&&Qo(),this.right.content.constructor){case Xn:this.right.deleted||Ph(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const W3=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Xn:e.right.deleted||Ph(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Co(t,dt(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},Ob=(t,e,n,r)=>{const o=new Map,i=r?Cw(e,n):null;if(i){const s=new h2(i.p.left,i.p,i.index,o);return W3(t,s,n-i.index)}else{const s=new h2(null,e._start,0,o);return W3(t,s,n)}},cW=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Xn&&oc(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const o=t.doc,i=o.clientID;r.forEach((s,a)=>{const l=n.left,c=n.right,f=new Wt(dt(i,Vn(o.store,i)),l,l&&l.lastId,c,c&&c.id,e,null,new Xn(a,s));f.integrate(t,0),n.right=f,n.forward()})},Ph=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},uW=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Xn&&oc(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},dW=(t,e,n,r)=>{const o=t.doc,i=o.clientID,s=new Map;for(const a in r){const l=r[a],c=n.currentAttributes.get(a)??null;if(!oc(c,l)){s.set(a,c);const{left:f,right:h}=n;n.right=new Wt(dt(i,Vn(o.store,i)),f,f&&f.lastId,h,h&&h.id,e,null,new Xn(a,l)),n.right.integrate(t,0),n.forward()}}return s},W_=(t,e,n,r,o)=>{n.currentAttributes.forEach((p,y)=>{o[y]===void 0&&(o[y]=null)});const i=t.doc,s=i.clientID;uW(n,o);const a=dW(t,e,n,o),l=r.constructor===String?new ss(r):r instanceof Sr?new ps(r):new gd(r);let{left:c,right:f,index:h}=n;e._searchMarker&&Dg(e._searchMarker,n.index,l.getLength()),f=new Wt(dt(s,Vn(i.store,s)),c,c&&c.lastId,f,f&&f.id,e,null,l),f.integrate(t,0),n.right=f,n.index=h,n.forward(),cW(t,e,n,a)},q3=(t,e,n,r,o)=>{const i=t.doc,s=i.clientID;uW(n,o);const a=dW(t,e,n,o);e:for(;n.right!==null&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===Xn));){if(!n.right.deleted)switch(n.right.content.constructor){case Xn:{const{key:l,value:c}=n.right.content,f=o[l];if(f!==void 0){if(oc(f,c))a.delete(l);else{if(r===0)break e;a.set(l,c)}n.right.delete(t)}else n.currentAttributes.set(l,c);break}default:r<n.right.length&&Co(t,dt(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new Wt(dt(s,Vn(i.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new ss(l)),n.right.integrate(t,0),n.forward()}cW(t,e,n,a)},fW=(t,e,n,r,o)=>{let i=e;const s=Oi();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===Xn){const c=i.content;s.set(c.key,c)}i=i.right}let a=0,l=!1;for(;e!==i;){if(n===e&&(l=!0),!e.deleted){const c=e.content;switch(c.constructor){case Xn:{const{key:f,value:h}=c,p=r.get(f)??null;(s.get(f)!==c||p===h)&&(e.delete(t),a++,!l&&(o.get(f)??null)===h&&p!==h&&(p===null?o.delete(f):o.set(f,p))),!l&&!e.deleted&&Ph(o,c);break}}}e=e.right}return a},b2e=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Xn){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},x2e=t=>{let e=0;return en(t.doc,n=>{let r=t._start,o=t._start,i=Oi();const s=n2(i);for(;o;){if(o.deleted===!1)switch(o.content.constructor){case Xn:Ph(s,o.content);break;default:e+=fW(n,r,o,i,s),i=n2(s),r=o;break}o=o.right}}),e},w2e=t=>{const e=new Set,n=t.doc;for(const[r,o]of t.afterState.entries()){const i=t.beforeState.get(r)||0;o!==i&&qG(t,n.store.clients.get(r),i,o,s=>{!s.deleted&&s.content.constructor===Xn&&s.constructor!==Ai&&e.add(s.parent)})}en(n,r=>{Sc(t,t.deleteSet,o=>{if(o instanceof Ai||!o.parent._hasFormatting||e.has(o.parent))return;const i=o.parent;o.content.constructor===Xn?e.add(i):b2e(r,o)});for(const o of e)x2e(o)})},Y3=(t,e,n)=>{const r=n,o=n2(e.currentAttributes),i=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case ps:case gd:case ss:n<e.right.length&&Co(t,dt(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}i&&fW(t,i,e.right,o,e.currentAttributes);const s=(e.left||e.right).parent;return s._searchMarker&&Dg(s._searchMarker,e.index,-r+n),e};class S2e extends Sw{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(o=>{o===null?this.childListChanged=!0:this.keysChanged.add(o)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];en(e,r=>{const o=new Map,i=new Map;let s=this.target._start,a=null;const l={};let c="",f=0,h=0;const p=()=>{if(a!==null){let y=null;switch(a){case"delete":h>0&&(y={delete:h}),h=0;break;case"insert":(typeof c=="object"||c.length>0)&&(y={insert:c},o.size>0&&(y.attributes={},o.forEach((b,x)=>{b!==null&&(y.attributes[x]=b)}))),c="";break;case"retain":f>0&&(y={retain:f},cTe(l)||(y.attributes=aTe({},l))),f=0;break}y&&n.push(y),a=null}};for(;s!==null;){switch(s.content.constructor){case ps:case gd:this.adds(s)?this.deletes(s)||(p(),a="insert",c=s.content.getContent()[0],p()):this.deletes(s)?(a!=="delete"&&(p(),a="delete"),h+=1):s.deleted||(a!=="retain"&&(p(),a="retain"),f+=1);break;case ss:this.adds(s)?this.deletes(s)||(a!=="insert"&&(p(),a="insert"),c+=s.content.str):this.deletes(s)?(a!=="delete"&&(p(),a="delete"),h+=s.length):s.deleted||(a!=="retain"&&(p(),a="retain"),f+=s.length);break;case Xn:{const{key:y,value:b}=s.content;if(this.adds(s)){if(!this.deletes(s)){const x=o.get(y)??null;oc(x,b)?b!==null&&s.delete(r):(a==="retain"&&p(),oc(b,i.get(y)??null)?delete l[y]:l[y]=b)}}else if(this.deletes(s)){i.set(y,b);const x=o.get(y)??null;oc(x,b)||(a==="retain"&&p(),l[y]=x)}else if(!s.deleted){i.set(y,b);const x=l[y];x!==void 0&&(oc(x,b)?x!==null&&s.delete(r):(a==="retain"&&p(),b===null?delete l[y]:l[y]=b))}s.deleted||(a==="insert"&&p(),Ph(o,s.content));break}}s=s.right}for(p();n.length>0;){const y=n[n.length-1];if(y.retain!==void 0&&y.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Cc extends Sr{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Wr(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Cc}clone(){const e=new Cc;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new S2e(this,e,n);kw(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Wr();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===ss&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?en(this.doc,r=>{const o=new h2(null,this._start,0,new Map);for(let i=0;i<e.length;i++){const s=e[i];if(s.insert!==void 0){const a=!n&&typeof s.insert=="string"&&i===e.length-1&&o.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof a!="string"||a.length>0)&&W_(r,this,o,a,s.attributes||{})}else s.retain!==void 0?q3(r,this,o,s.retain,s.attributes||{}):s.delete!==void 0&&Y3(r,o,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??Wr();const o=[],i=new Map,s=this.doc;let a="",l=this._start;function c(){if(a.length>0){const h={};let p=!1;i.forEach((b,x)=>{p=!0,h[x]=b});const y={insert:a};p&&(y.attributes=h),o.push(y),a=""}}const f=()=>{for(;l!==null;){if(yu(l,e)||n!==void 0&&yu(l,n))switch(l.content.constructor){case ss:{const h=i.get("ychange");e!==void 0&&!yu(l,e)?(h===void 0||h.user!==l.id.client||h.type!=="removed")&&(c(),i.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!yu(l,n)?(h===void 0||h.user!==l.id.client||h.type!=="added")&&(c(),i.set("ychange",r?r("added",l.id):{type:"added"})):h!==void 0&&(c(),i.delete("ychange")),a+=l.content.str;break}case ps:case gd:{c();const h={insert:l.content.getContent()[0]};if(i.size>0){const p={};h.attributes=p,i.forEach((y,b)=>{p[b]=y})}o.push(h);break}case Xn:yu(l,e)&&(c(),Ph(i,l.content));break}l=l.right}c()};return e||n?en(s,h=>{e&&d2(h,e),n&&d2(h,n),f()},"cleanup"):f(),o}insert(e,n,r){if(n.length<=0)return;const o=this.doc;o!==null?en(o,i=>{const s=Ob(i,this,e,!r);r||(r={},s.currentAttributes.forEach((a,l)=>{r[l]=a})),W_(i,this,s,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const o=this.doc;o!==null?en(o,i=>{const s=Ob(i,this,e,!r);W_(i,this,s,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?en(r,o=>{Y3(o,Ob(o,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const o=this.doc;o!==null?en(o,i=>{const s=Ob(i,this,e,!1);s.right!==null&&q3(i,this,s,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?en(this.doc,n=>{Y1(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?en(this.doc,r=>{GR(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return WR(this,e)}getAttributes(){return aW(this)}_write(e){e.writeTypeRef(z2e)}}const C2e=t=>new Cc;class q_{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Wr()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===io||n.constructor===td)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class td extends Sr{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new td}clone(){const e=new td;return e.insert(0,this.toArray().map(n=>n instanceof Sr?n.clone():n)),e}get length(){return this.doc??Wr(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new q_(this,e)}querySelector(e){e=e.toUpperCase();const r=new q_(this,o=>o.nodeName&&o.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),ed(new q_(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){kw(this,e,new E2e(this,n,e))}toString(){return nW(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const o=e.createDocumentFragment();return r!==void 0&&r._createAssociation(o,this),Pg(this,i=>{o.insertBefore(i.toDOM(e,n,r),null)}),o}insert(e,n){this.doc!==null?en(this.doc,r=>{iW(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)en(this.doc,r=>{const o=e&&e instanceof Sr?e._item:e;q1(r,this,o,n)});else{const r=this._prelimContent,o=e===null?0:r.findIndex(i=>i===e)+1;if(o===0&&e!==null)throw wc("Reference item not found");r.splice(o,0,...n)}}delete(e,n=1){this.doc!==null?en(this.doc,r=>{sW(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return eW(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return rW(this,e)}slice(e=0,n=this.length){return QG(this,e,n)}forEach(e){Pg(this,e)}_write(e){e.writeTypeRef(U2e)}}const k2e=t=>new td;class io extends td{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,o)=>{this.setAttribute(o,r)}),this._prelimAttrs=null}_copy(){return new io(this.nodeName)}clone(){const e=new io(this.nodeName),n=this.getAttributes();return lTe(n,(r,o)=>{typeof r=="string"&&e.setAttribute(o,r)}),e.insert(0,this.toArray().map(r=>r instanceof Sr?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const a in e)r.push(a);r.sort();const o=r.length;for(let a=0;a<o;a++){const l=r[a];n.push(l+'="'+e[l]+'"')}const i=this.nodeName.toLocaleLowerCase(),s=n.length>0?" "+n.join(" "):"";return`<${i}${s}>${super.toString()}</${i}>`}removeAttribute(e){this.doc!==null?en(this.doc,n=>{Y1(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?en(this.doc,r=>{GR(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return WR(this,e)}hasAttribute(e){return lW(this,e)}getAttributes(e){return e?p2e(this,e):aW(this)}toDOM(e=document,n={},r){const o=e.createElement(this.nodeName),i=this.getAttributes();for(const s in i){const a=i[s];typeof a=="string"&&o.setAttribute(s,a)}return Pg(this,s=>{o.appendChild(s.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(o,this),o}_write(e){e.writeTypeRef(F2e),e.writeKey(this.nodeName)}}const _2e=t=>new io(t.readKey());class E2e extends Sw{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(o=>{o===null?this.childListChanged=!0:this.attributesChanged.add(o)})}}class K1 extends yh{constructor(e){super(),this.hookName=e}_copy(){return new K1(this.hookName)}clone(){const e=new K1(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const o=n[this.hookName];let i;return o!==void 0?i=o.createDom(this):i=document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(G2e),e.writeKey(this.hookName)}}const T2e=t=>new K1(t.readKey());class Yo extends Cc{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Yo}clone(){const e=new Yo;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const o=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(o,this),o}toString(){return this.toDelta().map(e=>{const n=[];for(const o in e.attributes){const i=[];for(const s in e.attributes[o])i.push({key:s,value:e.attributes[o][s]});i.sort((s,a)=>s.key<a.key?-1:1),n.push({nodeName:o,attrs:i})}n.sort((o,i)=>o.nodeName<i.nodeName?-1:1);let r="";for(let o=0;o<n.length;o++){const i=n[o];r+=`<${i.nodeName}`;for(let s=0;s<i.attrs.length;s++){const a=i.attrs[s];r+=` ${a.key}="${a.value}"`}r+=">"}r+=e.insert;for(let o=n.length-1;o>=0;o--)r+=`</${n[o].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(W2e)}}const M2e=t=>new Yo;class qR{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Zi()}mergeWith(e){return!1}write(e,n,r){throw Zi()}integrate(e,n){throw Zi()}}const A2e=0;class Ai extends qR{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),WG(e.doc.store,this)}write(e,n){e.writeInfo(A2e),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Sy{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Sy(this.content)}splice(e){throw Zi()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const R2e=t=>new Sy(t.readBuf());class Lg{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Lg(this.len)}splice(e){const n=new Lg(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Ag(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const N2e=t=>new Lg(t.readLen()),hW=(t,e)=>new md({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Cy{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Cy(hW(this.doc.guid,this.opts))}splice(e){throw Zi()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const O2e=t=>new Cy(hW(t.readString(),t.readAny()));class gd{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new gd(this.embed)}splice(e){throw Zi()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const D2e=t=>new gd(t.readJSON());class Xn{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Xn(this.key,this.value)}splice(e){throw Zi()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const P2e=t=>new Xn(t.readKey(),t.readJSON());class Z1{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Z1(this.arr)}splice(e){const n=new Z1(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let o=n;o<r;o++){const i=this.arr[o];e.writeString(i===void 0?"undefined":JSON.stringify(i))}}getRef(){return 2}}const L2e=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const o=t.readString();o==="undefined"?n.push(void 0):n.push(JSON.parse(o))}return new Z1(n)},j2e=G1("node_env")==="development";class nd{constructor(e){this.arr=e,j2e&&RG(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new nd(this.arr)}splice(e){const n=new nd(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let o=n;o<r;o++){const i=this.arr[o];e.writeAny(i)}}getRef(){return 8}}const I2e=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new nd(n)};class ss{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new ss(this.str)}splice(e){const n=new ss(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const V2e=t=>new ss(t.readString()),B2e=[g2e,v2e,C2e,_2e,k2e,T2e,M2e],$2e=0,H2e=1,z2e=2,F2e=3,U2e=4,G2e=5,W2e=6;class ps{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new ps(this.type._copy())}splice(e){throw Zi()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const q2e=t=>new ps(B2e[t.readTypeRef()](t)),p2=(t,e)=>{let n=e,r=0,o;do r>0&&(n=dt(n.client,n.clock+r)),o=Kf(t,n),r=n.clock-o.id.clock,n=o.redone;while(n!==null&&o instanceof Wt);return{item:o,diff:r}},YR=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},X1=(t,e,n)=>{const{client:r,clock:o}=e.id,i=new Wt(dt(r,o+n),e,dt(r,o+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&i.markDeleted(),e.keep&&(i.keep=!0),e.redone!==null&&(i.redone=dt(e.redone.client,e.redone.clock+n)),e.right=i,i.right!==null&&(i.right.left=i),t._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),e.length=n,i},K3=(t,e)=>CEe(t,n=>Dh(n.deletions,e)),pW=(t,e,n,r,o,i)=>{const s=t.doc,a=s.store,l=s.clientID,c=e.redone;if(c!==null)return Co(t,c);let f=e.parent._item,h=null,p;if(f!==null&&f.deleted===!0){if(f.redone===null&&(!n.has(f)||pW(t,f,n,r,o,i)===null))return null;for(;f.redone!==null;)f=Co(t,f.redone)}const y=f===null?e.parent:f.content.type;if(e.parentSub===null){for(h=e.left,p=e;h!==null;){let k=h;for(;k!==null&&k.parent._item!==f;)k=k.redone===null?null:Co(t,k.redone);if(k!==null&&k.parent._item===f){h=k;break}h=h.left}for(;p!==null;){let k=p;for(;k!==null&&k.parent._item!==f;)k=k.redone===null?null:Co(t,k.redone);if(k!==null&&k.parent._item===f){p=k;break}p=p.right}}else if(p=null,e.right&&!o){for(h=e;h!==null&&h.right!==null&&(h.right.redone||Dh(r,h.right.id)||K3(i.undoStack,h.right.id)||K3(i.redoStack,h.right.id));)for(h=h.right;h.redone;)h=Co(t,h.redone);if(h&&h.right!==null)return null}else h=y._map.get(e.parentSub)||null;const b=Vn(a,l),x=dt(l,b),C=new Wt(x,h,h&&h.lastId,p,p&&p.id,y,e.parentSub,e.content.copy());return e.redone=x,YR(C,!0),C.integrate(t,0),C};class Wt extends qR{constructor(e,n,r,o,i,s,a,l){super(e,l.getLength()),this.origin=r,this.left=n,this.right=o,this.rightOrigin=i,this.parent=s,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?k3:0}set marker(e){(this.info&$_)>0!==e&&(this.info^=$_)}get marker(){return(this.info&$_)>0}get keep(){return(this.info&C3)>0}set keep(e){this.keep!==e&&(this.info^=C3)}get countable(){return(this.info&k3)>0}get deleted(){return(this.info&B_)>0}set deleted(e){this.deleted!==e&&(this.info^=B_)}markDeleted(){this.info|=B_}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Vn(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Vn(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Yf&&this.id.client!==this.parent.client&&this.parent.clock>=Vn(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=B3(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Co(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Ai||this.right&&this.right.constructor===Ai)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Wt?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===Wt&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Yf){const r=Kf(n,this.parent);r.constructor===Ai?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=B3(e,e.doc.store,dt(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,o;if(r!==null)o=r.right;else if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start;const i=new Set,s=new Set;for(;o!==null&&o!==this.right;){if(s.add(o),i.add(o),Lf(this.origin,o.origin)){if(o.id.client<this.id.client)r=o,i.clear();else if(Lf(this.rightOrigin,o.rightOrigin))break}else if(o.origin!==null&&s.has(Kf(e.doc.store,o.origin)))i.has(Kf(e.doc.store,o.origin))||(r=o,i.clear());else break;o=o.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),WG(e.doc.store,this),this.content.integrate(e,this),H3(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Ai(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:dt(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Lf(e.origin,this.lastId)&&this.right===e&&Lf(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Ag(e.deleteSet,this.id.client,this.id.clock,this.length),H3(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw Qo();this.content.gc(e),n?JTe(e,this,new Ai(this.id,this.length)):this.content=new Lg(this.length)}write(e,n){const r=n>0?dt(this.id.client,this.id.clock+n-1):this.origin,o=this.rightOrigin,i=this.parentSub,s=this.content.getRef()&gw|(r===null?0:qo)|(o===null?0:rl)|(i===null?0:_g);if(e.writeInfo(s),r!==null&&e.writeLeftID(r),o!==null&&e.writeRightID(o),r===null&&o===null){const a=this.parent;if(a._item!==void 0){const l=a._item;if(l===null){const c=Rg(a);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===Yf?(e.writeParentInfo(!1),e.writeLeftID(a)):Qo();i!==null&&e.writeString(i)}this.content.write(e,n)}}const mW=(t,e)=>Y2e[e&gw](t),Y2e=[()=>{Qo()},N2e,L2e,R2e,V2e,D2e,P2e,q2e,I2e,O2e,()=>{Qo()}],K2e=10;class Gi extends qR{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){Qo()}write(e,n){e.writeInfo(K2e),jt(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const gW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},yW="__ $YJS$ __";gW[yW]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");gW[yW]=!0;const Z2e=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},X2e=/[\uD800-\uDBFF]/,J2e=/[\uDC00-\uDFFF]/,Q2e=(t,e)=>{let n=0,r=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(n>0&&X2e.test(t[n-1])&&n--;r+n<t.length&&r+n<e.length&&t[t.length-r-1]===e[e.length-r-1];)r++;return r>0&&J2e.test(t[t.length-r])&&r--,{index:n,remove:t.length-n-r,insert:e.slice(n,e.length-r)}},eMe=Q2e,pn=new Dt("y-sync"),ol=new Dt("y-undo"),Db=new Dt("yjs-cursor"),J1=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!Dh(e.ds,t.id),tMe=[{light:"#ecd44433",dark:"#ecd444"}],nMe=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const r=Qu();t.forEach(o=>r.add(o)),e=e.filter(o=>!r.has(o))}t.set(n,eTe(e))}return t.get(n)},rMe=(t,{colors:e=tMe,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:o=()=>{},mapping:i}={})=>{let s=!1;const a=new iMe(t,i),l=new gt({props:{editable:c=>{const f=pn.getState(c);return f.snapshot==null&&f.prevSnapshot==null}},key:pn,state:{init:(c,f)=>({type:t,doc:t.doc,binding:a,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:r}),apply:(c,f)=>{const h=c.getMeta(pn);if(h!==void 0){f=Object.assign({},f);for(const p in h)f[p]=h[p]}return f.addToHistory=c.getMeta("addToHistory")!==!1,f.isChangeOrigin=h!==void 0&&!!h.isChangeOrigin,f.isUndoRedoOperation=h!==void 0&&!!h.isChangeOrigin&&!!h.isUndoRedoOperation,a.prosemirrorView!==null&&h!==void 0&&(h.snapshot!=null||h.prevSnapshot!=null)&&VR(0,()=>{a.prosemirrorView!=null&&(h.restore==null?a._renderSnapshot(h.snapshot,h.prevSnapshot,f):(a._renderSnapshot(h.snapshot,h.snapshot,f),delete f.restore,delete f.snapshot,delete f.prevSnapshot,a.mux(()=>{a._prosemirrorChanged(a.prosemirrorView.state.doc)})))}),f}},view:c=>(a.initView(c),i==null&&a._forceRerender(),o(),{update:()=>{const f=l.getState(c.state);if(f.snapshot==null&&f.prevSnapshot==null&&(s||c.state.doc.content.findDiffStart(c.state.doc.type.createAndFill().content)!==null)){if(s=!0,f.addToHistory===!1&&!f.isChangeOrigin){const h=ol.getState(c.state),p=h&&h.undoManager;p&&p.stopCapturing()}a.mux(()=>{f.doc.transact(h=>{h.meta.set("addToHistory",f.addToHistory),a._prosemirrorChanged(c.state.doc)},pn)})}},destroy:()=>{a.destroy()}})});return l},oMe=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null)if(e.type==="all")t.setSelection(new To(t.doc));else{const r=Ig(n.doc,n.type,e.anchor,n.mapping),o=Ig(n.doc,n.type,e.head,n.mapping);r!==null&&o!==null&&(t=t.setSelection(He.create(t.doc,r,o)))}},Q1=(t,e)=>({type:e.selection.jsonID,anchor:tx(e.selection.anchor,t.type,t.mapping),head:tx(e.selection.head,t.type,t.mapping)});class iMe{constructor(e,n=new Map){this.type=e,this.prosemirrorView=null,this.mux=Z2e(),this.mapping=n,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=Q1(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(mTe&&this._domSelectionInView===null&&(VR(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection();if(e==null||e.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const o=n.getBoundingClientRect(),i=xTe.documentElement;return o.bottom>=0&&o.right>=0&&o.left<=(window.innerWidth||i.clientWidth||0)&&o.top<=(window.innerHeight||i.clientHeight||0)}renderSnapshot(e,n){n||(n=UG($G(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(pn,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(r=>d0(r,this.prosemirrorView.state.schema,this.mapping)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Se(ce.from(e),0,0));n.setMeta(pn,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(o=>d0(o,this.prosemirrorView.state.schema,this.mapping)).filter(o=>o!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Se(ce.from(n),0,0));if(e){const o=nl(na(e.anchor,0),r.doc.content.size),i=nl(na(e.head,0),r.doc.content.size);r.setSelection(He.create(r.doc,o,i))}this.prosemirrorView.dispatch(r.setMeta(pn,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,n,r){let o=this.doc;e||(e=G_(this.doc)),(e instanceof Uint8Array||n instanceof Uint8Array)&&((!(e instanceof Uint8Array)||!(n instanceof Uint8Array))&&Qo(),o=new md({gc:!1}),u2(o,n),n=G_(o),u2(o,e),e=G_(o)),this.mapping.clear(),this.mux(()=>{o.transact(i=>{const s=r.permanentUserData;s&&s.dss.forEach(f=>{Sc(i,f,h=>{})});const a=(f,h)=>{const p=f==="added"?s.getUserByClientId(h.client):s.getUserByDeletedId(h);return{user:p,type:f,color:nMe(r.colorMapping,r.colors,p)}},l=tW(this.type,new FR(n.ds,e.sv)).map(f=>!f._item.deleted||J1(f._item,e)||J1(f._item,n)?d0(f,this.prosemirrorView.state.schema,new Map,e,n,a):null).filter(f=>f!==null),c=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Se(ce.from(l),0,0));this.prosemirrorView.dispatch(c.setMeta(pn,{isChangeOrigin:!0}))},pn)})}_typeChanged(e,n){if(this.prosemirrorView==null)return;const r=pn.getState(this.prosemirrorView.state);if(e.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{const o=(a,l)=>this.mapping.delete(l);Sc(n,n.deleteSet,a=>{if(a.constructor===Wt){const l=a.content.type;l&&this.mapping.delete(l)}}),n.changed.forEach(o),n.changedParentTypes.forEach(o);const i=this.type.toArray().map(a=>vW(a,this.prosemirrorView.state.schema,this.mapping)).filter(a=>a!==null);let s=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Se(ce.from(i),0,0));oMe(s,this.beforeTransactionSelection,this),s=s.setMeta(pn,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof KG}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&s.scrollIntoView(),this.prosemirrorView.dispatch(s)})}_prosemirrorChanged(e){this.doc.transact(()=>{g2(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=Q1(this,this.prosemirrorView.state)},pn)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const vW=(t,e,n,r,o,i)=>{const s=n.get(t);if(s===void 0){if(t instanceof io)return d0(t,e,n,r,o,i);throw Zi()}return s},d0=(t,e,n,r,o,i)=>{const s=[],a=l=>{var c;if(l.constructor===io){const f=vW(l,e,n,r,o,i);f!==null&&s.push(f)}else{const f=(c=l._item.right)==null?void 0:c.content.type;f instanceof Cc&&!f._item.deleted&&f._item.id.client===f.doc.clientID&&(l.applyDelta([{retain:l.length},...f.toDelta()]),f.doc.transact(p=>{f._item.delete(p)}));const h=sMe(l,e,n,r,o,i);h!==null&&h.forEach(p=>{p!==null&&s.push(p)})}};r===void 0||o===void 0?t.toArray().forEach(a):tW(t,new FR(o.ds,r.sv)).forEach(a);try{const l=t.getAttributes(r);r!==void 0&&(J1(t._item,r)?J1(t._item,o)||(l.ychange=i?i("added",t._item.id):{type:"added"}):l.ychange=i?i("removed",t._item.id):{type:"removed"});const c=e.node(t.nodeName,l,s);return n.set(t,c),c}catch{return t.doc.transact(c=>{t._item.delete(c)},pn),n.delete(t),null}},sMe=(t,e,n,r,o,i)=>{const s=[],a=t.toDelta(r,o,i);try{for(let l=0;l<a.length;l++){const c=a[l],f=[];for(const h in c.attributes)f.push(e.mark(h,c.attributes[h]));s.push(e.text(c.insert,f))}}catch{return t.doc.transact(c=>{t._item.delete(c)},pn),null}return s},aMe=(t,e)=>{const n=new Yo,r=t.map(o=>({insert:o.text,attributes:xW(o.marks)}));return n.applyDelta(r),e.set(n,t),n},lMe=(t,e)=>{const n=new io(t.type.name);for(const r in t.attrs){const o=t.attrs[r];o!==null&&r!=="ychange"&&n.setAttribute(r,o)}return n.insert(0,_w(t).map(r=>m2(r,e))),e.set(n,t),n},m2=(t,e)=>t instanceof Array?aMe(t,e):lMe(t,e),Z3=t=>typeof t=="object"&&t!==null,KR=(t,e)=>{const n=Object.keys(t).filter(o=>t[o]!==null);let r=n.length===Object.keys(e).filter(o=>e[o]!==null).length;for(let o=0;o<n.length&&r;o++){const i=n[o],s=t[i],a=e[i];r=i==="ychange"||s===a||Z3(s)&&Z3(a)&&KR(s,a)}return r},_w=t=>{const e=t.content.content,n=[];for(let r=0;r<e.length;r++){const o=e[r];if(o.isText){const i=[];for(let s=e[r];r<e.length&&s.isText;s=e[++r])i.push(s);r--,n.push(i)}else n.push(o)}return n},bW=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((r,o)=>r.insert===e[o].text&&AG(r.attributes||{}).length===e[o].marks.length&&e[o].marks.every(i=>KR(r.attributes[i.type.name]||{},i.attrs)))},jg=(t,e)=>{if(t instanceof io&&!(e instanceof Array)&&y2(t,e)){const n=_w(e);return t._length===n.length&&KR(t.getAttributes(),e.attrs)&&t.toArray().every((r,o)=>jg(r,n[o]))}return t instanceof Yo&&e instanceof Array&&bW(t,e)},ex=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,r)=>e[r]===n),X3=(t,e,n)=>{const r=t.toArray(),o=_w(e),i=o.length,s=r.length,a=nl(s,i);let l=0,c=0,f=!1;for(;l<a;l++){const h=r[l],p=o[l];if(ex(n.get(h),p))f=!0;else if(!jg(h,p))break}for(;l+c<a;c++){const h=r[s-c-1],p=o[i-c-1];if(ex(n.get(h),p))f=!0;else if(!jg(h,p))break}return{equalityFactor:l+c,foundMappedChild:f}},cMe=t=>{let e="",n=t._start;const r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof ss?e+=n.content.str:n.content instanceof Xn&&(r[n.content.key]=null)),n=n.right;return{str:e,nAttrs:r}},uMe=(t,e,n)=>{n.set(t,e);const{nAttrs:r,str:o}=cMe(t),i=e.map(c=>({insert:c.text,attributes:Object.assign({},r,xW(c.marks))})),{insert:s,remove:a,index:l}=eMe(o,i.map(c=>c.insert).join(""));t.delete(l,a),t.insert(l,s),t.applyDelta(i.map(c=>({retain:c.insert.length,attributes:c.attributes})))},xW=t=>{const e={};return t.forEach(n=>{n.type.name!=="ychange"&&(e[n.type.name]=n.attrs)}),e},g2=(t,e,n,r)=>{if(e instanceof io&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.set(e,n),e instanceof io){const h=e.getAttributes(),p=n.attrs;for(const y in p)p[y]!==null?h[y]!==p[y]&&y!=="ychange"&&e.setAttribute(y,p[y]):e.removeAttribute(y);for(const y in h)p[y]===void 0&&e.removeAttribute(y)}const o=_w(n),i=o.length,s=e.toArray(),a=s.length,l=nl(i,a);let c=0,f=0;for(;c<l;c++){const h=s[c],p=o[c];if(!ex(r.get(h),p))if(jg(h,p))r.set(h,p);else break}for(;f+c+1<l;f++){const h=s[a-f-1],p=o[i-f-1];if(!ex(r.get(h),p))if(jg(h,p))r.set(h,p);else break}t.transact(()=>{for(;a-c-f>0&&i-c-f>0;){const p=s[c],y=o[c],b=s[a-f-1],x=o[i-f-1];if(p instanceof Yo&&y instanceof Array)bW(p,y)||uMe(p,y,r),c+=1;else{let C=p instanceof io&&y2(p,y),k=b instanceof io&&y2(b,x);if(C&&k){const E=X3(p,y,r),T=X3(b,x,r);E.foundMappedChild&&!T.foundMappedChild?k=!1:!E.foundMappedChild&&T.foundMappedChild||E.equalityFactor<T.equalityFactor?C=!1:k=!1}C?(g2(t,p,y,r),c+=1):k?(g2(t,b,x,r),f+=1):(r.delete(e.get(c)),e.delete(c,1),e.insert(c,[m2(y,r)]),c+=1)}}const h=a-c-f;if(a===1&&i===0&&s[0]instanceof Yo?(r.delete(s[0]),s[0].delete(0,s[0].length)):h>0&&(e.slice(c,c+h).forEach(p=>r.delete(p)),e.delete(c,h)),c+f<i){const p=[];for(let y=c;y<i-f;y++)p.push(m2(o[y],r));e.insert(c,p)}},pn)},y2=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name;let Lm=null;const dMe=()=>{const t=Lm;Lm=null,t.forEach((e,n)=>{const r=n.state.tr,o=pn.getState(n.state);o&&o.binding&&!o.binding.isDestroyed&&(e.forEach((i,s)=>{r.setMeta(s,i)}),n.dispatch(r))})},fMe=(t,e,n)=>{Lm||(Lm=new Map,VR(0,dMe)),hl(Lm,t,Oi).set(e,n)},tx=(t,e,n)=>{if(t===0)return U_(e,0,-1);let r=e._first===null?null:e._first.content.type;for(;r!==null&&e!==r;){if(r instanceof Yo){if(r._length>=t)return U_(r,t,-1);if(t-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,t--;while(r!==e&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==e&&(r=r._item===null?null:r._item.next.content.type)}}else{const o=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&t<o)r=r._first.content.type,t--;else{if(t===1&&r._length===0&&o>1)return new Og(r._item===null?null:r._item.id,r._item===null?Rg(r):null,null);if(t-=o,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(t===0)return r=r._item===null?r:r._item.parent,new Og(r._item===null?null:r._item.id,r._item===null?Rg(r):null,null);do r=r._item.parent,t--;while(r!==e&&r._item.next===null);r!==e&&(r=r._item.next.content.type)}}}if(r===null)throw Qo();if(t===0&&r.constructor!==Yo&&r!==e)return hMe(r._item.parent,r._item)}return U_(e,e._length,-1)},hMe=(t,e)=>{let n=null,r=null;return t._item===null?r=Rg(t):n=dt(t._item.id.client,t._item.id.clock),new Og(n,r,e.id)},Ig=(t,e,n,r)=>{const o=ZTe(n,t);if(o===null||o.type!==e&&!Ng(e,o.type._item))return null;let i=o.type,s=0;if(i.constructor===Yo)s=o.index;else if(i._item===null||!i._item.deleted){let a=i._first,l=0;for(;l<i._length&&l<o.index&&a!==null;){if(!a.deleted){const c=a.content.type;l++,c instanceof Yo?s+=c._length:s+=r.get(c).nodeSize}a=a.right}s+=1}for(;i!==e&&i._item!==null;){const a=i._item.parent;if(a._item===null||!a._item.deleted){s+=1;let l=a._first;for(;l!==null;){const c=l.content.type;if(c===i)break;l.deleted||(c instanceof Yo?s+=c._length:s+=r.get(c).nodeSize),l=l.right}}i=a}return s-1};function pMe(t){const e=t.toArray();function n(r){let o;if(!r.nodeName)o=r.toDelta().map(s=>{const a={type:"text",text:s.insert};return s.attributes&&(a.marks=Object.keys(s.attributes).map(l=>{const c=s.attributes[l],f={type:l};return Object.keys(c)&&(f.attrs=c),f})),a});else{o={type:r.nodeName};const i=r.getAttributes();Object.keys(i).length&&(o.attrs=i);const s=r.toArray();s.length&&(o.content=s.map(n).flat())}return o}return{type:"doc",content:e.map(n)}}const mMe=(t,e,n)=>t!==e,gMe=t=>{const e=document.createElement("span");e.classList.add("ProseMirror-yjs-cursor"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null);const r=document.createTextNode("⁠"),o=document.createTextNode("⁠");return e.insertBefore(r,null),e.insertBefore(n,null),e.insertBefore(o,null),e},wW=t=>({style:`background-color: ${t.color}70`,class:"ProseMirror-yjs-selection"}),yMe=/^#[0-9a-fA-F]{6}$/,J3=(t,e,n,r,o)=>{const i=pn.getState(t),s=i.doc,a=[];return i.snapshot!=null||i.prevSnapshot!=null||i.binding.mapping.size===0?St.create(t.doc,[]):(e.getStates().forEach((l,c)=>{if(n(s.clientID,c,l)&&l.cursor!=null){const f=l.user||{};f.color==null?f.color="#ffa500":yMe.test(f.color)||console.warn("A user uses an unsupported color format",f),f.name==null&&(f.name=`User: ${c}`);let h=Ig(s,i.type,Pm(l.cursor.anchor),i.binding.mapping),p=Ig(s,i.type,Pm(l.cursor.head),i.binding.mapping);if(h!==null&&p!==null){const y=na(t.doc.content.size-1,0);h=nl(h,y),p=nl(p,y),a.push(nn.widget(p,()=>r(f,c),{key:c+"",side:10}));const b=nl(h,p),x=na(h,p);a.push(nn.inline(b,x,o(f,c),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),St.create(t.doc,a))},vMe=(t,{awarenessStateFilter:e=mMe,cursorBuilder:n=gMe,selectionBuilder:r=wW,getSelection:o=s=>s.selection}={},i="cursor")=>new gt({key:Db,state:{init(s,a){return J3(a,t,e,n,r)},apply(s,a,l,c){const f=pn.getState(c),h=s.getMeta(Db);return f&&f.isChangeOrigin||h&&h.awarenessUpdated?J3(c,t,e,n,r):a.map(s.mapping,s.doc)}},props:{decorations:s=>Db.getState(s)},view:s=>{const a=()=>{s.docView&&fMe(s,Db,{awarenessUpdated:!0})},l=()=>{const c=pn.getState(s.state),f=t.getLocalState()||{};if(s.hasFocus()){const h=o(s.state),p=tx(h.anchor,c.type,c.binding.mapping),y=tx(h.head,c.type,c.binding.mapping);(f.cursor==null||!V3(Pm(f.cursor.anchor),p)||!V3(Pm(f.cursor.head),y))&&t.setLocalStateField(i,{anchor:p,head:y})}else f.cursor!=null&&Ig(c.doc,c.type,Pm(f.cursor.anchor),c.binding.mapping)!==null&&t.setLocalStateField(i,null)};return t.on("change",a),s.dom.addEventListener("focusin",l),s.dom.addEventListener("focusout",l),{update:l,destroy:()=>{s.dom.removeEventListener("focusin",l),s.dom.removeEventListener("focusout",l),t.off("change",a),t.setLocalStateField(i,null)}}}}),bMe=t=>{const e=ol.getState(t).undoManager;if(e!=null)return e.undo(),!0},xMe=t=>{const e=ol.getState(t).undoManager;if(e!=null)return e.redo(),!0},wMe=new Set(["paragraph"]),SMe=(t,e)=>!(t instanceof Wt)||!(t.content instanceof ps)||!(t.content.type instanceof Cc||t.content.type instanceof io&&e.has(t.content.type.nodeName))||t.content.type._length===0,CMe=({protectedNodes:t=wMe,trackedOrigins:e=[],undoManager:n=null}={})=>new gt({key:ol,state:{init:(r,o)=>{const i=pn.getState(o),s=n||new KG(i.type,{trackedOrigins:new Set([pn].concat(e)),deleteFilter:a=>SMe(a,t),captureTransaction:a=>a.meta.get("addToHistory")!==!1});return{undoManager:s,prevSel:null,hasUndoOps:s.undoStack.length>0,hasRedoOps:s.redoStack.length>0}},apply:(r,o,i,s)=>{const a=pn.getState(s).binding,l=o.undoManager,c=l.undoStack.length>0,f=l.redoStack.length>0;return a?{undoManager:l,prevSel:Q1(a,i),hasUndoOps:c,hasRedoOps:f}:c!==o.hasUndoOps||f!==o.hasRedoOps?Object.assign({},o,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):o}},view:r=>{const o=pn.getState(r.state),i=ol.getState(r.state).undoManager;return i.on("stack-item-added",({stackItem:s})=>{const a=o.binding;a&&s.meta.set(a,ol.getState(r.state).prevSel)}),i.on("stack-item-popped",({stackItem:s})=>{const a=o.binding;a&&(a.beforeTransactionSelection=s.meta.get(a)||a.beforeTransactionSelection)}),{destroy:()=>{i.destroy()}}}}),kMe=Jt.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(t=>t.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),ol.getState(e).undoManager.undoStack.length===0?!1:n?bMe(e):!0),redo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),ol.getState(e).undoManager.redoStack.length===0?!1:n?xMe(e):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var t;const e=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),n=CMe(this.options.yUndoOptions),r=n.spec.view;n.spec.view=s=>{const{undoManager:a}=ol.getState(s.state);a.restore&&(a.restore(),a.restore=()=>{});const l=r?r(s):void 0;return{destroy:()=>{const c=a.trackedOrigins.has(a),f=a._observers;a.restore=()=>{c&&a.trackedOrigins.add(a),a.doc.on("afterTransaction",a.afterTransactionHandler),a._observers=f},l!=null&&l.destroy&&l.destroy()}}};const o={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},i=rMe(e,o);return this.editor.options.enableContentCheck&&((t=e.doc)===null||t===void 0||t.on("beforeTransaction",()=>{try{const s=pMe(e);if(s.content.length===0)return;this.editor.schema.nodeFromJSON(s).check()}catch(s){return this.editor.emit("contentError",{error:s,editor:this.editor,disableCollaboration:()=>{var a;(a=e.doc)===null||a===void 0||a.destroy(),this.storage.isDisabled=!0}}),!1}})),[i,n,this.editor.options.enableContentCheck&&new gt({key:new Dt("filterInvalidContent"),filterTransaction:()=>{var s;return this.storage.isDisabled&&((s=e.doc)===null||s===void 0||s.destroy()),!0}})].filter(Boolean)}}),Q3=t=>Array.from(t.entries()).map(([e,n])=>({clientId:e,...n.user})),eV=()=>null,_Me=Jt.create({name:"collaborationCursor",priority:999,addOptions(){return{provider:null,user:{name:null,color:null},render:t=>{const e=document.createElement("span");e.classList.add("collaboration-cursor__caret"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");return n.classList.add("collaboration-cursor__label"),n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null),e.insertBefore(n,null),e},selectionRender:wW,onUpdate:eV}},onCreate(){if(this.options.onUpdate!==eV&&console.warn('[tiptap warn]: DEPRECATED: The "onUpdate" option is deprecated. Please use `editor.storage.collaborationCursor.users` instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),!this.options.provider)throw new Error('The "provider" option is required for the CollaborationCursor extension')},addStorage(){return{users:[]}},addCommands(){return{updateUser:t=>()=>(this.options.user=t,this.options.provider.awareness.setLocalStateField("user",this.options.user),!0),user:t=>({editor:e})=>(console.warn('[tiptap warn]: DEPRECATED: The "user" command is deprecated. Please use "updateUser" instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),e.commands.updateUser(t))}},addProseMirrorPlugins(){return[vMe((this.options.provider.awareness.setLocalStateField("user",this.options.user),this.storage.users=Q3(this.options.provider.awareness.states),this.options.provider.awareness.on("update",()=>{this.storage.users=Q3(this.options.provider.awareness.states)}),this.options.provider.awareness),{cursorBuilder:this.options.render,selectionBuilder:this.options.selectionRender})]}});function EMe(t={}){return new gt({view(e){return new TMe(e,t)}})}class TMe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let i=s=>{this[o](s)};return e.dom.addEventListener(o,i),{name:o,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let f=c.getBoundingClientRect(),h=a?f.bottom:f.top;a&&l&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:f.left,right:f.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,s;if(!o||o==document.body&&getComputedStyle(o).position=="static")i=-pageXOffset,s=-pageYOffset;else{let a=o.getBoundingClientRect();i=a.left-o.scrollLeft,s=a.top-o.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,n,e):o;if(n&&!i){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=Hz(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}var MMe=Object.defineProperty,AMe=(t,e,n)=>e in t?MMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,te=(t,e,n)=>AMe(t,typeof e!="symbol"?e+"":e,n);const RMe={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],group:"Basic blocks"},page_break:{title:"Page Break",subtext:"Page separator",aliases:["page","break","separator"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",bulletListItem:"List",numberedListItem:"List",checkListItem:"List",emptyDocument:void 0,new_comment:"Write a comment...",edit_comment:"Edit comment...",comment_reply:"Add comment..."},file_blocks:{image:{add_button_text:"Add image"},video:{add_button_text:"Add video"},audio:{add_button_text:"Add audio"},file:{add_button_text:"Add file"}},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors",header_row_menuitem:"Header row",header_column_menuitem:"Header column"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below",split_cell_menuitem:"Split cell",merge_cells_menuitem:"Merge cells",background_color_menuitem:"Background color"},suggestion_menu:{no_items_title:"No items found",loading:"Loading…"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"},table_cell_merge:{tooltip:"Merge cells"},comment:{tooltip:"Add comment"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},comments:{actions:{add_reaction:"Add reaction",resolve:"Resolve",edit_comment:"Edit comment",delete_comment:"Delete comment",more_actions:"More actions"},reactions:{reacted_by:"Reacted by"}},generic:{ctrl_shortcut:"Ctrl"}};class oa extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function yt(t,e=!0){const{"data-test":n,...r}=t;if(Object.keys(r).length>0&&e)throw new Error("Object must be empty "+JSON.stringify(t))}function kc(t,e){const n=t.resolve(e);if(n.nodeAfter&&n.nodeAfter.type.isInGroup("bnBlock"))return{posBeforeNode:n.pos,node:n.nodeAfter};let r=n.depth,o=n.node(r);for(;r>0;){if(o.type.isInGroup("bnBlock"))return{posBeforeNode:n.before(r),node:o};r--,o=n.node(r)}const i=[];t.descendants((a,l)=>{a.type.isInGroup("bnBlock")&&i.push(l)}),console.warn(`Position ${e} is not within a blockContainer node.`);const s=t.resolve(i.find(a=>a>=e)||i[i.length-1]);return{posBeforeNode:s.pos,node:s.nodeAfter}}function ZR(t,e){if(!t.type.isInGroup("bnBlock"))throw new Error(`Attempted to get bnBlock node at position but found node of different type ${t.type}`);const n=t,r=e,o=r+n.nodeSize,i={node:n,beforePos:r,afterPos:o};if(n.type.name==="blockContainer"){let s,a;if(n.forEach((l,c)=>{if(l.type.spec.group==="blockContent"){const f=l,h=r+c+1,p=h+l.nodeSize;s={node:f,beforePos:h,afterPos:p}}else if(l.type.name==="blockGroup"){const f=l,h=r+c+1,p=h+l.nodeSize;a={node:f,beforePos:h,afterPos:p}}}),!s)throw new Error(`blockContainer node does not contain a blockContent node in its children: ${n}`);return{isBlockContainer:!0,bnBlock:i,blockContent:s,childContainer:a,blockNoteType:s.node.type.name}}else{if(!i.node.type.isInGroup("childContainer"))throw new Error(`bnBlock node is not in the childContainer group: ${i.node}`);return{isBlockContainer:!1,bnBlock:i,childContainer:i,blockNoteType:i.node.type.name}}}function rd(t){return ZR(t.node,t.posBeforeNode)}function ky(t){if(!t.nodeAfter)throw new Error(`Attempted to get blockContainer node at position ${t.pos} but a node at this position does not exist`);return ZR(t.nodeAfter,t.pos)}function an(t){const e=kc(t.doc,t.selection.anchor);return rd(e)}function NMe(t,e=JSON.stringify){const n={};return t.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function OMe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return NMe(e)}const Ew=Jt.create({name:"uniqueID",priority:1e4,addOptions(){return{attributeName:"id",types:[],setIdAttribute:!1,generateID:()=>{if(typeof window<"u"&&window.__TEST_OPTIONS){const t=window.__TEST_OPTIONS;return t.mockID===void 0?t.mockID=0:t.mockID++,t.mockID.toString()}return dU()},filterTransaction:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:t=>t.getAttribute(`data-${this.options.attributeName}`),renderHTML:t=>{const e={[`data-${this.options.attributeName}`]:t[this.options.attributeName]};return this.options.setIdAttribute?{...e,id:t[this.options.attributeName]}:e}}}}]},addProseMirrorPlugins(){let t=null,e=!1;return[new gt({key:new Dt("uniqueID"),appendTransaction:(n,r,o)=>{const i=n.some(y=>y.docChanged)&&!r.doc.eq(o.doc),s=this.options.filterTransaction&&n.some(y=>{let b,x;return!(!((x=(b=this.options).filterTransaction)===null||x===void 0)&&x.call(b,y))});if(!i||s)return;const{tr:a}=o,{types:l,attributeName:c,generateID:f}=this.options,h=eU(r.doc,n),{mapping:p}=h;if(rU(h).forEach(({newRange:y})=>{const b=tU(o.doc,y,k=>l.includes(k.type.name)),x=b.map(({node:k})=>k.attrs[c]).filter(k=>k!==null),C=OMe(x);b.forEach(({node:k,pos:E})=>{let T;const R=(T=a.doc.nodeAt(E))===null||T===void 0?void 0:T.attrs[c];if(R===null){const N=r.doc.type.createAndFill().content;if(r.doc.content.findDiffStart(N)===null){const O=JSON.parse(JSON.stringify(o.doc.toJSON()));if(O.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(O.content)===JSON.stringify(N.toJSON())){a.setNodeMarkup(E,void 0,{...k.attrs,[c]:"initialBlockId"});return}}a.setNodeMarkup(E,void 0,{...k.attrs,[c]:f()});return}const{deleted:A}=p.invert().mapResult(E);A&&C.includes(R)&&a.setNodeMarkup(E,void 0,{...k.attrs,[c]:f()})})}),!!a.steps.length)return a},view(n){const r=o=>{let i;t=!((i=n.dom.parentElement)===null||i===void 0)&&i.contains(o.target)?n.dom.parentElement:null};return window.addEventListener("dragstart",r),{destroy(){window.removeEventListener("dragstart",r)}}},props:{handleDOMEvents:{drop:(n,r)=>{let o;return t!==n.dom.parentElement||((o=r.dataTransfer)===null||o===void 0?void 0:o.effectAllowed)==="copy"?e=!0:e=!1,t=null,!1},paste:()=>(e=!0,!1)},transformPasted:n=>{if(!e)return n;const{types:r,attributeName:o}=this.options,i=s=>{const a=[];return s.forEach(l=>{if(l.isText){a.push(l);return}if(!r.includes(l.type.name)){a.push(l.copy(i(l.content)));return}const c=l.type.create({...l.attrs,[o]:null},i(l.content),l.marks);a.push(c)}),ce.from(a)};return e=!1,new Se(i(n.content),n.openStart,n.openEnd)}}})]}});function tV(t){return t.type==="link"}function SW(t){return typeof t!="string"&&t.type==="link"}function od(t){return typeof t!="string"&&t.type==="text"}function _c(t){var e,n,r,o,i;return Ec(t)?{...t}:Vg(t)?{type:"tableCell",content:[].concat(t.content),props:{backgroundColor:((e=t.props)==null?void 0:e.backgroundColor)??"default",textColor:((n=t.props)==null?void 0:n.textColor)??"default",textAlignment:((r=t.props)==null?void 0:r.textAlignment)??"left",colspan:((o=t.props)==null?void 0:o.colspan)??1,rowspan:((i=t.props)==null?void 0:i.rowspan)??1}}:{type:"tableCell",content:[].concat(t),props:{backgroundColor:"default",textColor:"default",textAlignment:"left",colspan:1,rowspan:1}}}function Vg(t){return t!=null&&typeof t!="string"&&!Array.isArray(t)&&t.type==="tableCell"}function Ec(t){return Vg(t)&&t.props!==void 0&&t.content!==void 0}function id(t){return Ec(t)?t.props.colspan??1:1}function Bg(t){return Ec(t)?t.props.rowspan??1:1}const DMe=()=>typeof navigator<"u"&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function Ci(t,e="Ctrl"){return DMe()?t.replace("Mod","⌘"):t.replace("Mod",e)}function Bn(...t){return t.filter(e=>e).join(" ")}const v2=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function ul(t,e,n,r){const o=document.createElement("div");o.className=Bn("bn-block-content",n.class),o.setAttribute("data-content-type",t);for(const[s,a]of Object.entries(n))s!=="class"&&o.setAttribute(s,a);const i=document.createElement(e);i.className=Bn("bn-inline-content",r.class);for(const[s,a]of Object.entries(r))s!=="class"&&i.setAttribute(s,a);return o.appendChild(i),{dom:o,contentDOM:i}}const nV=(t,e)=>{let n=yd(t,e.pmSchema,e.schema.styleSchema);n.type.name==="blockContainer"&&(n=n.firstChild);const r=e.pmSchema.nodes[n.type.name].spec.toDOM;if(r===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const o=r(n);if(typeof o!="object"||!("dom"in o))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return o},cr={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},XR=["backgroundColor","textColor"];function nx(t){return"data-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rV(t){const e=t.split("/");return!e.length||e[e.length-1]===""?t:e[e.length-1]}function _y(t){const e={};return Object.entries(t).filter(([n,r])=>!XR.includes(n)).forEach(([n,r])=>{e[n]={default:r.default,keepOnSplit:!0,parseHTML:o=>{const i=o.getAttribute(nx(n));if(i===null)return null;if(r.default===void 0&&r.type==="boolean"||r.default!==void 0&&typeof r.default=="boolean")return i==="true"?!0:i==="false"?!1:null;if(r.default===void 0&&r.type==="number"||r.default!==void 0&&typeof r.default=="number"){const s=parseFloat(i);return!Number.isNaN(s)&&Number.isFinite(s)?s:null}return i},renderHTML:o=>o[n]!==r.default?{[nx(n)]:o[n]}:{}}}),e}function CW(t,e,n,r){if(typeof t=="boolean")throw new Error("Cannot find node position as getPos is a boolean, not a function.");const o=t(),i=n.state.doc.resolve(o).node().attrs.id;if(!i)throw new Error("Block doesn't have id");const s=e.getBlock(i);if(s.type!==r)throw new Error("Block type does not match");return s}function mm(t,e,n,r,o=!1,i){const s=document.createElement("div");if(i!==void 0)for(const[a,l]of Object.entries(i))a!=="class"&&s.setAttribute(a,l);s.className=Bn("bn-block-content",(i==null?void 0:i.class)||""),s.setAttribute("data-content-type",e);for(const[a,l]of Object.entries(n)){const c=r[a].default;!XR.includes(a)&&l!==c&&s.setAttribute(nx(a),l)}return o&&s.setAttribute("data-file-block",""),s.appendChild(t.dom),t.contentDOM!==void 0&&(t.contentDOM.className=Bn("bn-inline-content",t.contentDOM.className),t.contentDOM.setAttribute("data-editable","")),{...t,dom:s}}function ms(t){return la.create(t)}function JR(t,e){return{config:t,implementation:e}}function Pc(t,e,n){return JR({type:t.name,content:t.config.content==="inline*"?"inline":t.config.content==="tableRow+"?"table":"none",propSchema:e},{node:t,requiredExtensions:n,toInternalHTML:nV,toExternalHTML:nV})}function kW(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function _W(t,e){t.stopEvent=n=>(n.type==="mousedown"&&setTimeout(()=>{e.view.dom.blur()},10),!0)}function EW(t,e){const n=[{tag:"[data-content-type="+t.type+"]",contentElement:"[data-editable]"}];return e&&n.push({tag:"*",getAttrs(r){if(typeof r=="string")return!1;const o=e==null?void 0:e(r);return o===void 0?!1:o}}),n}function Ey(t,e){const n=ms({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return _y(t.propSchema)},parseHTML(){return EW(t,e.parse)},renderHTML({HTMLAttributes:r}){const o=document.createElement("div");return mm({dom:o,contentDOM:t.content==="inline"?o:void 0},t.type,{},t.propSchema,t.isFileBlock,r)},addNodeView(){return({getPos:r})=>{var o;const i=this.options.editor,s=CW(r,i,this.editor,t.type),a=((o=this.options.domAttributes)==null?void 0:o.blockContent)||{},l=e.render(s,i),c=mm(l,s.type,s.props,t.propSchema,a);return t.isSelectable===!1&&_W(c,this.editor),c}}});if(n.name!==t.type)throw new Error("Node name does not match block type. This is a bug in BlockNote.");return JR(t,{node:n,toInternalHTML:(r,o)=>{var i;const s=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},a=e.render(r,o);return mm(a,r.type,r.props,t.propSchema,t.isFileBlock,s)},toExternalHTML:(r,o)=>{var i,s;const a=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{};let l=(s=e.toExternalHTML)==null?void 0:s.call(e,r,o);return l===void 0&&(l=e.render(r,o)),mm(l,r.type,r.props,t.propSchema,a)}})}function TW(t,e,n){var r;const o={type:"tableContent",columnWidths:[],headerRows:void 0,headerCols:void 0,rows:[]},i=[];t.content.forEach((s,a,l)=>{const c={cells:[]};l===0&&s.content.forEach(f=>{let h=f.attrs.colwidth;h==null&&(h=new Array(f.attrs.colspan??1).fill(void 0)),o.columnWidths.push(...h)}),c.cells=s.content.content.map((f,h)=>(i[l]||(i[l]=[]),i[l][h]=f.type.name==="tableHeader",{type:"tableCell",content:f.content.content.map(p=>Tw(p,e,n)).reduce((p,y)=>{if(!p.length)return y;const b=p[p.length-1],x=y[0];return od(b)&&od(x)&&JSON.stringify(b.styles)===JSON.stringify(x.styles)?(b.text+=`
`+x.text,p.push(...y.slice(1)),p):(p.push(...y),p)},[]),props:{colspan:f.attrs.colspan,rowspan:f.attrs.rowspan,backgroundColor:f.attrs.backgroundColor,textColor:f.attrs.textColor,textAlignment:f.attrs.textAlignment}})),o.rows.push(c)});for(let s=0;s<i.length;s++)i[s].every(a=>a)&&(o.headerRows=(o.headerRows??0)+1);for(let s=0;s<((r=i[0])==null?void 0:r.length);s++)i.every(a=>a[s])&&(o.headerCols=(o.headerCols??0)+1);return o}function Tw(t,e,n){const r=[];let o;return t.content.forEach(i=>{if(i.type.name==="hardBreak"){if(o)if(od(o))o.text+=`
`;else if(tV(o))o.content[o.content.length-1].text+=`
`;else throw new Error("unexpected");else o={type:"text",text:`
`,styles:{}};return}if(i.type.name!=="link"&&i.type.name!=="text"){if(!e[i.type.name]){console.warn("unrecognized inline content type",i.type.name);return}o&&(r.push(o),o=void 0),r.push(PMe(i,e,n));return}const s={};let a;for(const l of i.marks)if(l.type.name==="link")a=l;else{const c=n[l.type.name];if(!c){if(l.type.spec.blocknoteIgnore)continue;throw new Error(`style ${l.type.name} not found in styleSchema`)}if(c.propSchema==="boolean")s[c.type]=!0;else if(c.propSchema==="string")s[c.type]=l.attrs.stringValue;else throw new oa(c.propSchema)}o?od(o)?a?(r.push(o),o={type:"link",href:a.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}):JSON.stringify(o.styles)===JSON.stringify(s)?o.text+=i.textContent:(r.push(o),o={type:"text",text:i.textContent,styles:s}):tV(o)&&(a?o.href===a.attrs.href?JSON.stringify(o.content[o.content.length-1].styles)===JSON.stringify(s)?o.content[o.content.length-1].text+=i.textContent:o.content.push({type:"text",text:i.textContent,styles:s}):(r.push(o),o={type:"link",href:a.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}):(r.push(o),o={type:"text",text:i.textContent,styles:s})):a?o={type:"link",href:a.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}:o={type:"text",text:i.textContent,styles:s}}),o&&r.push(o),r}function PMe(t,e,n){if(t.type.name==="text"||t.type.name==="link")throw new Error("unexpected");const r={},o=e[t.type.name];for(const[s,a]of Object.entries(t.attrs)){if(!o)throw Error("ic node is of an unrecognized type: "+t.type.name);const l=o.propSchema;s in l&&(r[s]=a)}let i;return o.content==="styled"?i=Tw(t,e,n):i=void 0,{type:t.type.name,props:r,content:i}}function $n(t,e,n,r,o){var i;if(!t.type.isInGroup("bnBlock"))throw Error("Node must be in bnBlock group, but is of type"+t.type.name);const s=o==null?void 0:o.get(t);if(s)return s;const a=ZR(t,0);let l=a.bnBlock.node.attrs.id;l===null&&(l=Ew.options.generateID());const c=e[a.blockNoteType];if(!c)throw Error("Block is of an unrecognized type: "+a.blockNoteType);const f={};for(const[x,C]of Object.entries({...t.attrs,...a.isBlockContainer?a.blockContent.node.attrs:{}})){const k=c.propSchema;x in k&&!(k[x].default===void 0&&C===void 0)&&(f[x]=C)}const h=e[a.blockNoteType],p=[];(i=a.childContainer)==null||i.node.forEach(x=>{p.push($n(x,e,n,r,o))});let y;if(h.content==="inline"){if(!a.isBlockContainer)throw new Error("impossible");y=Tw(a.blockContent.node,n,r)}else if(h.content==="table"){if(!a.isBlockContainer)throw new Error("impossible");y=TW(a.blockContent.node,n,r)}else if(h.content==="none")y=void 0;else throw new oa(h.content);const b={id:l,type:h.type,props:f,content:y,children:p};return o==null||o.set(t,b),b}function MW(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function LMe(t,e){return{config:t,implementation:e}}function vu(t,e){return LMe({type:t.name,propSchema:e},{mark:t})}function AW(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function Lc(t){const{height:e,width:n}=QR(t),r=new Array(e).fill(!1).map(()=>new Array(n).fill(null)),o=(i,s)=>{for(let a=i;a<e;a++)for(let l=s;l<n;l++)if(!r[a][l])return{row:a,col:l};throw new Error("Unable to create occupancy grid for table, no more available cells")};for(let i=0;i<t.content.rows.length;i++)for(let s=0;s<t.content.rows[i].cells.length;s++){const a=_c(t.content.rows[i].cells[s]),l=Bg(a),c=id(a),{row:f,col:h}=o(i,s);for(let p=f;p<f+l;p++)for(let y=h;y<h+c;y++){if(r[p][y])throw new Error(`Unable to create occupancy grid for table, cell at ${p},${y} is already occupied`);r[p][y]={row:i,col:s,rowspan:l,colspan:c,cell:a}}}return r}function $g(t){const e=new Set;return t.map(n=>({cells:n.map(r=>e.has(r.row+":"+r.col)?!1:(e.add(r.row+":"+r.col),r.cell)).filter(r=>r!==!1)}))}function sd(t,e,n=Lc(e)){for(let r=0;r<n.length;r++)for(let o=0;o<n[r].length;o++){const i=n[r][o];if(i.row===t.row&&i.col===t.col)return{row:r,col:o,cell:i.cell}}throw new Error(`Unable to resolve relative table cell indices for table, cell at ${t.row},${t.col} is not occupied`)}function QR(t){const e=t.content.rows.length;let n=0;return t.content.rows.forEach(r=>{let o=0;r.cells.forEach(i=>{o+=id(i)}),n=Math.max(n,o)}),{height:e,width:n}}function RW(t,e,n=Lc(e)){var r;const o=(r=n[t.row])==null?void 0:r[t.col];if(o)return{row:o.row,col:o.col,cell:o.cell}}function b2(t,e){var n;const r=Lc(t);if(e<0||e>=r.length)return[];let o=0;for(let s=0;s<e;s++){const a=(n=r[o])==null?void 0:n[0];if(!a)return[];o+=a.rowspan}const i=new Array(r[0].length).fill(!1).map((s,a)=>RW({row:o,col:a},t,r)).filter(s=>s!==void 0);return i.filter((s,a)=>i.findIndex(l=>l.row===s.row&&l.col===s.col)===a)}function x2(t,e){var n;const r=Lc(t);if(e<0||e>=r[0].length)return[];let o=0;for(let s=0;s<e;s++){const a=(n=r[0])==null?void 0:n[o];if(!a)return[];o+=a.colspan}const i=new Array(r.length).fill(!1).map((s,a)=>RW({row:a,col:o},t,r)).filter(s=>s!==void 0);return i.filter((s,a)=>i.findIndex(l=>l.row===s.row&&l.col===s.col)===a)}function jMe(t,e,n,r=Lc(t)){const{col:o}=sd({row:0,col:e},t,r),{col:i}=sd({row:0,col:n},t,r);return r.forEach(s=>{const[a]=s.splice(o,1);s.splice(i,0,a)}),$g(r)}function IMe(t,e,n,r=Lc(t)){const{row:o}=sd({row:e,col:0},t,r),{row:i}=sd({row:n,col:0},t,r),[s]=r.splice(o,1);return r.splice(i,0,s),$g(r)}function w2(t){return t?Vg(t)?w2(t.content):typeof t=="string"?t.length===0:Array.isArray(t)?t.every(e=>typeof e=="string"?e.length===0:od(e)?e.text.length===0:SW(e)?typeof e.content=="string"?e.content.length===0:e.content.every(n=>n.text.length===0):!1):!1:!0}function VMe(t,e,n=Lc(t)){if(e==="columns"){let i=0;for(let s=n[0].length-1;s>=0&&n.every(a=>w2(a[s].cell)&&a[s].colspan===1);s--)i++;for(let s=n.length-1;s>=0;s--){const a=Math.max(n[s].length-i,1);n[s]=n[s].slice(0,a)}return $g(n)}let r=0;for(let i=n.length-1;i>=0&&n[i].every(s=>w2(s.cell)&&s.rowspan===1);i--)r++;const o=Math.min(r,n.length-1);return n.splice(n.length-o,o),$g(n)}function BMe(t,e,n,r=Lc(t)){const{width:o,height:i}=QR(t);if(e==="columns")r.forEach((s,a)=>{if(n>=0)for(let l=0;l<n;l++)s.push({row:a,col:Math.max(...s.map(c=>c.col))+1,rowspan:1,colspan:1,cell:_c("")});else s.splice(o+n,-1*n)});else if(n>0)for(let s=0;s<n;s++){const a=new Array(o).fill(null).map((l,c)=>({row:i+s,col:c,rowspan:1,colspan:1,cell:_c("")}));r.push(a)}else n<0&&r.splice(i+n,-1*n);return $g(r)}function NW(t,e,n){const r=b2(t,n);if(!r.some(s=>Bg(s.cell)>1))return!0;let o=n,i=n;return r.forEach(s=>{const a=Bg(s.cell);o=Math.max(o,s.row+a-1),i=Math.min(i,s.row)}),e<n?n===o:n===i}function OW(t,e,n){const r=x2(t,n);if(!r.some(s=>id(s.cell)>1))return!0;let o=n,i=n;return r.forEach(s=>{const a=id(s.cell);o=Math.max(o,s.col+a-1),i=Math.min(i,s.col)}),e<n?n===o:n===i}function $Me(t,e,n){const r=sd(t,n),o=sd(e,n);return r.col===o.col}function oV(t,e,n,r){const o=[];for(const[i,s]of Object.entries(t.styles)){const a=n[i];if(!a)throw new Error(`style ${i} not found in styleSchema`);if(a.propSchema==="boolean")o.push(e.mark(i));else if(a.propSchema==="string")o.push(e.mark(i,{stringValue:s}));else throw new oa(a.propSchema)}return!r||!e.nodes[r].spec.code?t.text.split(/(\n)/g).filter(i=>i.length>0).map(i=>i===`
`?e.nodes.hardBreak.createChecked():e.text(i,o)):[e.text(t.text,o)]}function HMe(t,e,n){const r=e.marks.link.create({href:t.href});return S2(t.content,e,n).map(o=>{if(o.type.name==="text")return o.mark([...o.marks,r]);if(o.type.name==="hardBreak")return o;throw new Error("unexpected node type")})}function S2(t,e,n,r){const o=[];if(typeof t=="string")return o.push(...oV({text:t,styles:{}},e,n,r)),o;for(const i of t)o.push(...oV(i,e,n,r));return o}function as(t,e,n,r){const o=[];for(const i of t)typeof i=="string"?o.push(...S2(i,e,n,r)):SW(i)?o.push(...HMe(i,e,n)):od(i)?o.push(...S2([i],e,n,r)):o.push(DW(i,e,n));return o}function Mw(t,e,n){const r=[],o=new Array(t.headerRows??0).fill(!0),i=new Array(t.headerCols??0).fill(!0),s=t.columnWidths??[];for(let a=0;a<t.rows.length;a++){const l=t.rows[a],c=[],f=o[a];for(let p=0;p<l.cells.length;p++){const y=l.cells[p],b=i[p],x=void 0;let C=null;const k=sd({row:a,col:p},{content:t});let E=s[k.col]?[s[k.col]]:null;if(y)if(typeof y=="string")C=e.text(y);else if(Vg(y)){y.content&&(C=as(y.content,e,n));const R=id(y);R>1&&(E=new Array(R).fill(!1).map((A,N)=>s[k.col+N]??void 0))}else C=as(y,e,n);const T=e.nodes[b||f?"tableHeader":"tableCell"].createChecked({...Vg(y)?y.props:{},colwidth:E},e.nodes.tableParagraph.createChecked(x,C));c.push(T)}const h=e.nodes.tableRow.createChecked({},c);r.push(h)}return r}function DW(t,e,n){let r,o=t.type;if(o===void 0&&(o="paragraph"),!e.nodes[o])throw new Error(`node type ${o} not found in schema`);if(!t.content)r=e.nodes[o].createChecked(t.props);else if(typeof t.content=="string"){const i=as([t.content],e,n,o);r=e.nodes[o].createChecked(t.props,i)}else if(Array.isArray(t.content)){const i=as(t.content,e,n,o);r=e.nodes[o].createChecked(t.props,i)}else if(t.content.type==="tableContent"){const i=Mw(t.content,e,n);r=e.nodes[o].createChecked(t.props,i)}else throw new oa(t.content.type);return r}function yd(t,e,n){let r=t.id;r===void 0&&(r=Ew.options.generateID());const o=[];if(t.children)for(const i of t.children)o.push(yd(i,e,n));if(!t.type||e.nodes[t.type].isInGroup("blockContent")){const i=DW(t,e,n),s=o.length>0?e.nodes.blockGroup.createChecked({},o):void 0;return e.nodes.blockContainer.createChecked({id:r,...t.props},s?[i,s]:i)}else{if(e.nodes[t.type].isInGroup("bnBlock"))return e.nodes[t.type].createChecked({id:r,...t.props},o);throw new Error(`block type ${t.type} doesn't match blockContent or bnBlock group`)}}function ei(t,e){let n,r;if(e.firstChild.descendants((o,i)=>n?!1:!o.type.isInGroup("bnBlock")||o.attrs.id!==t?!0:(n=o,r=i+1,!1)),!(n===void 0||r===void 0))return{node:n,posBeforeNode:r}}const Gr=(t,e,n)=>({state:r,dispatch:o})=>{const i=ky(r.doc.resolve(e));if(o){const s=r.schema.nodes[i.blockNoteType],a=r.schema.nodes[n.type||i.blockNoteType],l=a.isInGroup("bnBlock")?a:r.schema.nodes.blockContainer;if(i.isBlockContainer&&a.isInGroup("blockContent"))iV(n,r,t,i),zMe(n,r,t,s,a,i);else if(!i.isBlockContainer&&a.isInGroup("bnBlock"))iV(n,r,t,i);else{const c=$n(i.bnBlock.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache);return r.tr.replaceWith(i.bnBlock.beforePos,i.bnBlock.afterPos,yd({children:c.children,...n},r.schema,t.schema.styleSchema)),!0}r.tr.setNodeMarkup(i.bnBlock.beforePos,l,{...i.bnBlock.node.attrs,...n.props})}return!0};function zMe(t,e,n,r,o,i){let s="keep";if(t.content)if(typeof t.content=="string")s=as([t.content],e.schema,n.schema.styleSchema,o.name);else if(Array.isArray(t.content))s=as(t.content,e.schema,n.schema.styleSchema,o.name);else if(t.content.type==="tableContent")s=Mw(t.content,e.schema,n.schema.styleSchema);else throw new oa(t.content.type);else r.spec.content===""||o.spec.content!==r.spec.content&&(s=[]);s==="keep"?e.tr.setNodeMarkup(i.blockContent.beforePos,t.type===void 0?void 0:e.schema.nodes[t.type],{...i.blockContent.node.attrs,...t.props}):e.tr.replaceWith(i.blockContent.beforePos,i.blockContent.afterPos,o.createChecked({...i.blockContent.node.attrs,...t.props},s))}function iV(t,e,n,r){if(t.children!==void 0&&t.children.length>0){const o=t.children.map(i=>yd(i,e.schema,n.schema.styleSchema));if(r.childContainer)e.tr.step(new ar(r.childContainer.beforePos+1,r.childContainer.afterPos-1,new Se(ce.from(o),0,0)));else{if(!r.isBlockContainer)throw new Error("impossible");e.tr.insert(r.blockContent.afterPos,e.schema.nodes.blockGroup.createChecked({},o))}}}function FMe(t,e,n){const r=t._tiptapEditor,o=typeof e=="string"?e:e.id,i=ei(o,r.state.doc);if(!i)throw new Error(`Block with ID ${o} not found`);r.commands.command(({state:a,dispatch:l})=>(Gr(t,i.posBeforeNode,n)({state:a,dispatch:l}),!0));const s=r.state.doc.resolve(i.posBeforeNode+1).node();return $n(s,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function PW(t){const e=[...t.classList].filter(n=>!n.startsWith("bn-"))||[];e.length>0?t.className=e.join(" "):t.removeAttribute("class")}function LW(t,e,n,r){let o;if(e)if(typeof e=="string")o=as([e],t.pmSchema,t.schema.styleSchema);else if(Array.isArray(e))o=as(e,t.pmSchema,t.schema.styleSchema);else if(e.type==="tableContent")o=Mw(e,t.pmSchema,t.schema.styleSchema);else throw new oa(e.type);else throw new Error("blockContent is required");const i=n.serializeFragment(ce.from(o),r);return i.nodeType===1&&PW(i),i}function UMe(t,e,n,r,o,i,s){var a,l,c,f,h,p,y,b;const x=(s==null?void 0:s.document)??document,C=e.pmSchema.nodes.blockContainer;let k=n.props;if(!n.props){k={};for(const[N,O]of Object.entries(e.schema.blockSchema[n.type].propSchema))O.default!==void 0&&(k[N]=O.default)}const E=[...((l=(a=C.spec)==null?void 0:a.toDOM)==null?void 0:l.call(a,C.create({id:n.id,...k}))).dom.attributes],T=e.blockImplementations[n.type].implementation.toExternalHTML({...n,props:k},e),R=x.createDocumentFragment();if(T.dom.classList.contains("bn-block-content")){const N=[...E,...T.dom.attributes].filter(O=>O.name.startsWith("data")&&O.name!=="data-content-type"&&O.name!=="data-file-block"&&O.name!=="data-node-view-wrapper"&&O.name!=="data-node-type"&&O.name!=="data-id"&&O.name!=="data-index"&&O.name!=="data-editable");for(const O of N)T.dom.firstChild.setAttribute(O.name,O.value);PW(T.dom.firstChild),R.append(...T.dom.childNodes)}else R.append(T.dom);if(T.contentDOM&&n.content){const N=LW(e,n.content,r,s);T.contentDOM.appendChild(N)}let A;if(o.has(n.type)?A="OL":i.has(n.type)&&(A="UL"),A){if(((c=t.lastChild)==null?void 0:c.nodeName)!==A){const O=x.createElement(A);A==="OL"&&k!=null&&k.start&&(k==null?void 0:k.start)!==1&&O.setAttribute("start",k.start+""),t.append(O)}const N=x.createElement("li");N.append(R),t.lastChild.appendChild(N)}else t.append(R);if(n.children&&n.children.length>0){const N=x.createDocumentFragment();if(jW(N,e,n.children,r,o,i,s),((f=t.lastChild)==null?void 0:f.nodeName)==="UL"||((h=t.lastChild)==null?void 0:h.nodeName)==="OL")for(;((p=N.firstChild)==null?void 0:p.nodeName)==="UL"||((y=N.firstChild)==null?void 0:y.nodeName)==="OL";)t.lastChild.lastChild.appendChild(N.firstChild);e.pmSchema.nodes[n.type].isInGroup("blockContent")?t.append(N):(b=T.contentDOM)==null||b.append(N)}}const jW=(t,e,n,r,o,i,s)=>{for(const a of n)UMe(t,e,a,r,o,i,s)},GMe=(t,e,n,r,o,i)=>{const s=((i==null?void 0:i.document)??document).createDocumentFragment();return jW(s,t,e,n,r,o,i),s},Aw=(t,e)=>{const n=fl.fromSchema(t);return{exportBlocks:(r,o)=>{const i=GMe(e,r,n,new Set(["numberedListItem"]),new Set(["bulletListItem","checkListItem"]),o),s=document.createElement("div");return s.append(i),s.innerHTML},exportInlineContent:(r,o)=>{const i=LW(e,r,n,o),s=document.createElement("div");return s.append(i.cloneNode(!0)),s.innerHTML}}};function WMe(t,e,n,r,o){let i;if(e)if(typeof e=="string")i=as([e],t.pmSchema,t.schema.styleSchema,r);else if(Array.isArray(e))i=as(e,t.pmSchema,t.schema.styleSchema,r);else if(e.type==="tableContent")i=Mw(e,t.pmSchema,t.schema.styleSchema);else throw new oa(e.type);else throw new Error("blockContent is required");return n.serializeFragment(ce.from(i),o)}function qMe(t,e,n,r,o){var i,s,a,l,c;const f=t.pmSchema.nodes.blockContainer;let h=e.props;if(!e.props){h={};for(const[b,x]of Object.entries(t.schema.blockSchema[e.type].propSchema))x.default!==void 0&&(h[b]=x.default)}const p=t.blockImplementations[e.type].implementation.toInternalHTML({...e,props:h},t);if(e.type==="numberedListItem"&&p.dom.setAttribute("data-index",r.toString()),p.contentDOM&&e.content){const b=WMe(t,e.content,n,e.type,o);p.contentDOM.appendChild(b)}if(t.pmSchema.nodes[e.type].isInGroup("bnBlock")){if(e.children&&e.children.length>0){const b=IW(t,e.children,n,o);(i=p.contentDOM)==null||i.append(b)}return p.dom}const y=(a=(s=f.spec)==null?void 0:s.toDOM)==null?void 0:a.call(s,f.create({id:e.id,...h}));return(l=y.contentDOM)==null||l.appendChild(p.dom),e.children&&e.children.length>0&&((c=y.contentDOM)==null||c.appendChild(VW(t,e.children,n,o))),y.dom}function IW(t,e,n,r){const o=((r==null?void 0:r.document)??document).createDocumentFragment();let i=0;for(const s of e){s.type==="numberedListItem"?i++:i=0;const a=qMe(t,s,n,i,r);o.appendChild(a)}return o}const VW=(t,e,n,r)=>{var o;const i=t.pmSchema.nodes.blockGroup,s=i.spec.toDOM(i.create({})),a=IW(t,e,n,r);return(o=s.contentDOM)==null||o.appendChild(a),s.dom},YMe=(t,e)=>{const n=fl.fromSchema(t);return{serializeBlocks:(r,o)=>VW(e,r,n,o).outerHTML}},Rw=(t,e)=>{const n=t.querySelector(e);if(!n)return;const r=t.querySelector("figcaption"),o=(r==null?void 0:r.textContent)??void 0;return{targetElement:n,caption:o}},KMe=(t,e,n,r)=>{const o=document.createElement("div");o.className="bn-add-file-button";const i=document.createElement("div");i.className="bn-add-file-button-icon",r?i.appendChild(r):i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',o.appendChild(i);const s=document.createElement("p");s.className="bn-add-file-button-text",s.innerHTML=n||e.dictionary.file_blocks.file.add_button_text,o.appendChild(s);const a=c=>{c.preventDefault()},l=()=>{e.dispatch(e._tiptapEditor.state.tr.setMeta(e.filePanel.plugin,{block:t}))};return o.addEventListener("mousedown",a,!0),o.addEventListener("click",l,!0),{dom:o,destroy:()=>{o.removeEventListener("mousedown",a,!0),o.removeEventListener("click",l,!0)}}},ZMe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',XMe=t=>{const e=document.createElement("div");e.className="bn-file-name-with-icon";const n=document.createElement("div");n.className="bn-file-icon",n.innerHTML=ZMe,e.appendChild(n);const r=document.createElement("p");return r.className="bn-file-name",r.textContent=t.props.name,e.appendChild(r),{dom:e}},eN=(t,e,n,r,o)=>{const i=document.createElement("div");if(i.className="bn-file-block-content-wrapper",t.props.url===""){const a=KMe(t,e,r,o);i.appendChild(a.dom);const l=e.onUploadStart(c=>{if(c===t.id){i.removeChild(a.dom);const f=document.createElement("div");f.className="bn-file-loading-preview",f.textContent="Loading...",i.appendChild(f)}});return{dom:i,destroy:()=>{l(),a.destroy()}}}const s={dom:i};if(t.props.showPreview===!1||!n){const a=XMe(t);i.appendChild(a.dom),s.destroy=()=>{var l;(l=a.destroy)==null||l.call(a)}}else i.appendChild(n.dom);if(t.props.caption){const a=document.createElement("p");a.className="bn-file-caption",a.textContent=t.props.caption,i.appendChild(a)}return s},tN=(t,e)=>{const n=document.createElement("figure"),r=document.createElement("figcaption");return r.textContent=e,n.appendChild(t),n.appendChild(r),{dom:n}},Nw=(t,e)=>{const n=document.createElement("div"),r=document.createElement("p");return r.textContent=e,n.appendChild(t),n.appendChild(r),{dom:n}},sV=t=>({url:t.src||void 0}),JMe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"></path></svg>',QMe={backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0}},BW={type:"audio",propSchema:QMe,content:"none",isFileBlock:!0,fileBlockAccept:["audio/*"]},eAe=(t,e)=>{const n=document.createElement("div");n.innerHTML=JMe;const r=document.createElement("audio");return r.className="bn-audio",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(o=>{r.src=o}):r.src=t.props.url,r.controls=!0,r.contentEditable="false",r.draggable=!1,eN(t,e,{dom:r},e.dictionary.file_blocks.audio.add_button_text,n.firstElementChild)},$W=t=>{if(t.tagName==="AUDIO")return sV(t);if(t.tagName==="FIGURE"){const e=Rw(t,"audio");if(!e)return;const{targetElement:n,caption:r}=e;return{...sV(n),caption:r}}},tAe=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add audio",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("audio"),e.src=t.props.url):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?tN(e,t.props.caption):Nw(e,t.props.caption):{dom:e}},nAe=Ey(BW,{render:eAe,parse:$W,toExternalHTML:tAe}),HW=[{id:"text",name:"Plain Text",match:["text","txt","plain"]},...dw.filter(t=>["c","cpp","css","glsl","graphql","haml","html","java","javascript","json","jsonc","jsonl","jsx","julia","less","markdown","mdx","php","postcss","pug","python","r","regexp","sass","scss","shellscript","sql","svelte","typescript","vue","vue-html","wasm","wgsl","xml","yaml"].includes(t.id)).map(t=>({match:[t.id,...t.aliases||[]],id:t.id,name:t.name})),{id:"tsx",name:"TSX",match:["tsx","typescriptreact"]},{id:"haskell",name:"Haskell",match:["haskell","hs"]},{id:"csharp",name:"C#",match:["c#","csharp","cs"]},{id:"latex",name:"LaTeX",match:["latex"]},{id:"lua",name:"Lua",match:["lua"]},{id:"mermaid",name:"Mermaid",match:["mermaid","mmd"]},{id:"ruby",name:"Ruby",match:["ruby","rb"]},{id:"rust",name:"Rust",match:["rust","rs"]},{id:"scala",name:"Scala",match:["scala"]},{id:"swift",name:"Swift",match:["swift"]},{id:"kotlin",name:"Kotlin",match:["kotlin","kt","kts"]},{id:"objective-c",name:"Objective C",match:["objective-c","objc"]}],aV=Symbol.for("blocknote.shikiParser"),Y_=Symbol.for("blocknote.shikiHighlighterPromise"),rAe={language:{default:"javascript",values:[...HW.map(t=>t.id)]}},oAe=ms({name:"codeBlock",content:"inline*",group:"blockContent",marks:"",code:!0,defining:!0,addOptions(){return{defaultLanguage:"javascript",indentLineWithTab:!0,supportedLanguages:HW}},addAttributes(){const t=this.options.supportedLanguages;return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var n;let r=e,o=null;(r==null?void 0:r.tagName)==="DIV"&&(r==null?void 0:r.dataset.contentType)==="codeBlock"&&(r=r.children[0]),(r==null?void 0:r.tagName)==="PRE"&&(r=r==null?void 0:r.children[0]);const i=r==null?void 0:r.getAttribute("data-language");if(i)o=i.toLowerCase();else{const s=[...(r==null?void 0:r.className.split(" "))||[]].filter(a=>a.startsWith("language-")).map(a=>a.replace("language-",""));s.length>0&&(o=s[0].toLowerCase())}return o?((n=t.find(({match:s})=>s.includes(o)))==null?void 0:n.id)||this.options.defaultLanguage:null},renderHTML:e=>e.language&&e.language!=="text"?{class:`language-${e.language}`}:{}}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:"code"},{tag:"pre",contentElement:"code",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:t}){var e,n;const r=document.createElement("pre"),{dom:o,contentDOM:i}=ul(this.name,"code",((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},{...((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{},...t});return o.removeChild(i),o.appendChild(r),r.appendChild(i),{dom:o,contentDOM:i}},addNodeView(){const t=this.options.supportedLanguages;return({editor:e,node:n,getPos:r,HTMLAttributes:o})=>{var i,s;const a=document.createElement("pre"),l=document.createElement("select"),c=document.createElement("div"),{dom:f,contentDOM:h}=ul(this.name,"code",{...((i=this.options.domAttributes)==null?void 0:i.blockContent)||{},...o},((s=this.options.domAttributes)==null?void 0:s.inlineContent)||{}),p=y=>{const b=y.target.value;e.commands.command(({tr:x})=>(x.setNodeAttribute(r(),"language",b),!0))};return t.forEach(({id:y,name:b})=>{const x=document.createElement("option");x.value=y,x.text=b,l.appendChild(x)}),c.contentEditable="false",l.value=n.attrs.language||this.options.defaultLanguage,f.removeChild(h),f.appendChild(c),f.appendChild(a),a.appendChild(h),c.appendChild(l),l.addEventListener("change",p),{dom:f,contentDOM:h,update:y=>y.type===this.type,destroy:()=>{l.removeEventListener("change",p)}}}},addProseMirrorPlugins(){const t=this.options.supportedLanguages,e=globalThis;let n,r;return[awe({parser:o=>{if(!n)return e[Y_]=e[Y_]||hke({themes:["github-dark"],langs:[]}),e[Y_].then(s=>{n=s});const i=o.language;return i&&i!=="text"&&!n.getLoadedLanguages().includes(i)&&t.find(({id:s})=>s===i)&&dw.find(({id:s})=>s===i)?n.loadLanguage(i):(r||(r=e[aV]||pke(n),e[aV]=r),r(o))},languageExtractor:o=>o.attrs.language,nodeTypes:[this.name]})]},addInputRules(){const t=this.options.supportedLanguages;return[new Zu({find:/^```(.*?)\s$/,handler:({state:e,range:n,match:r})=>{var o;const i=e.doc.resolve(n.from),s=r[1].trim(),a={language:((o=t.find(({match:l})=>l.includes(s)))==null?void 0:o.id)||this.options.defaultLanguage};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),this.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,this.type,a).setSelection(He.create(e.tr.doc,n.from))}})]},addKeyboardShortcuts(){return{Delete:({editor:t})=>{const{selection:e}=t.state,{$from:n}=e;if(t.isActive(this.name)&&!n.parent.textContent&&aw(e)){const r=n.pos-n.parentOffset-2;return t.chain().setNodeSelection(r).deleteSelection().run(),!0}return!1},Tab:({editor:t})=>this.options.indentLineWithTab&&t.isActive(this.name)?(t.commands.insertContent("  "),!0):!1,Enter:({editor:t})=>{const{$from:e}=t.state.selection;if(!t.isActive(this.name))return!1;const n=e.parentOffset===e.parent.nodeSize-2,r=e.parent.textContent.endsWith(`

`);return!n||!r?(t.commands.insertContent(`
`),!0):t.chain().command(({tr:o})=>(o.delete(e.pos-2,e.pos),!0)).exitCode().run()},"Shift-Enter":({editor:t})=>{const{$from:e}=t.state.selection;return t.isActive(this.name)?(t.chain().insertContentAt(e.pos-e.parentOffset+e.parent.nodeSize,{type:"paragraph"}).run(),!0):!1}}}}),iAe=Pc(oAe,rAe),lV=t=>({url:t.src||void 0}),sAe={backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""}},zW={type:"file",propSchema:sAe,content:"none",isFileBlock:!0},aAe=(t,e)=>eN(t,e),FW=t=>{if(t.tagName==="EMBED")return lV(t);if(t.tagName==="FIGURE"){const e=Rw(t,"embed");if(!e)return;const{targetElement:n,caption:r}=e;return{...lV(n),caption:r}}},lAe=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add file",{dom:n}}const e=document.createElement("a");return e.href=t.props.url,e.textContent=t.props.name||t.props.url,t.props.caption?Nw(e,t.props.caption):{dom:e}},cAe=Ey(zW,{render:aAe,parse:FW,toExternalHTML:lAe}),UW=(t,e,n,r,o,i)=>{const{dom:s,destroy:a}=eN(t,e,n,o,i),l=s;t.props.url&&t.props.showPreview&&(l.style.width=`${t.props.previewWidth}px`);const c=document.createElement("div");c.className="bn-resize-handle",c.style.left="4px";const f=document.createElement("div");f.className="bn-resize-handle",f.style.right="4px";let h,p=t.props.previewWidth;const y=T=>{if(!h){!e.isEditable&&r.contains(c)&&r.contains(f)&&(r.removeChild(c),r.removeChild(f));return}let R;t.props.textAlignment==="center"?h.handleUsed==="left"?R=h.initialWidth+(h.initialClientX-T.clientX)*2:R=h.initialWidth+(T.clientX-h.initialClientX)*2:h.handleUsed==="left"?R=h.initialWidth+h.initialClientX-T.clientX:R=h.initialWidth+T.clientX-h.initialClientX,p=Math.max(R,64),l.style.width=`${p}px`},b=T=>{(!T.target||!l.contains(T.target)||!e.isEditable)&&r.contains(c)&&r.contains(f)&&(r.removeChild(c),r.removeChild(f)),h&&(h=void 0,e.updateBlock(t,{props:{previewWidth:p}}))},x=()=>{e.isEditable&&(r.appendChild(c),r.appendChild(f))},C=T=>{T.relatedTarget===c||T.relatedTarget===f||h||e.isEditable&&r.contains(c)&&r.contains(f)&&(r.removeChild(c),r.removeChild(f))},k=T=>{T.preventDefault(),h={handleUsed:"left",initialWidth:l.clientWidth,initialClientX:T.clientX}},E=T=>{T.preventDefault(),h={handleUsed:"right",initialWidth:l.clientWidth,initialClientX:T.clientX}};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),l.addEventListener("mouseenter",x),l.addEventListener("mouseleave",C),c.addEventListener("mousedown",k),f.addEventListener("mousedown",E),{dom:l,destroy:()=>{a==null||a(),window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b),l.removeEventListener("mouseenter",x),l.removeEventListener("mouseleave",C),c.removeEventListener("mousedown",k),f.removeEventListener("mousedown",E)}}},cV=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},uAe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"></path></svg>',dAe={textAlignment:cr.textAlignment,backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:512}},GW={type:"image",propSchema:dAe,content:"none",isFileBlock:!0,fileBlockAccept:["image/*"]},fAe=(t,e)=>{const n=document.createElement("div");n.innerHTML=uAe;const r=document.createElement("div");r.className="bn-visual-media-wrapper";const o=document.createElement("img");return o.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(i=>{o.src=i}):o.src=t.props.url,o.alt=t.props.name||t.props.caption||"BlockNote image",o.contentEditable="false",o.draggable=!1,r.appendChild(o),UW(t,e,{dom:r},r,e.dictionary.file_blocks.image.add_button_text,n.firstElementChild)},WW=t=>{if(t.tagName==="IMG")return cV(t);if(t.tagName==="FIGURE"){const e=Rw(t,"img");if(!e)return;const{targetElement:n,caption:r}=e;return{...cV(n),caption:r}}},hAe=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add image",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("img"),e.src=t.props.url,e.alt=t.props.name||t.props.caption||"BlockNote image",e.width=t.props.previewWidth):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?tN(e,t.props.caption):Nw(e,t.props.caption):{dom:e}},pAe=Ey(GW,{render:fAe,parse:WW,toExternalHTML:hAe}),mAe={type:"pageBreak",propSchema:{},content:"none",isFileBlock:!1,isSelectable:!1},gAe=()=>{const t=document.createElement("div");return t.className="bn-page-break",t.setAttribute("data-page-break",""),{dom:t}},yAe=t=>{if(t.tagName==="DIV"&&t.hasAttribute("data-page-break"))return{type:"pageBreak"}},vAe=()=>{const t=document.createElement("div");return t.setAttribute("data-page-break",""),{dom:t}},bAe=Ey(mAe,{render:gAe,parse:yAe,toExternalHTML:vAe}),xAe=Ro.create({name:"backgroundColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-background-color"),renderHTML:t=>({"data-background-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-background-color")?{stringValue:t.getAttribute("data-background-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),wAe=vu(xAe,"string"),SAe=Ro.create({name:"textColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-text-color"),renderHTML:t=>({"data-text-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-text-color")?{stringValue:t.getAttribute("data-text-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),CAe=vu(SAe,"string"),qW={...cr,level:{default:1,values:[1,2,3]}},kAe=ms({name:"heading",content:"inline*",group:"blockContent",addAttributes(){return _y(qW)},addInputRules(){return[...[1,2,3].map(t=>new Zu({find:new RegExp(`^(#{${t}})\\s$`),handler:({state:e,chain:n,range:r})=>{const o=an(e);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||n().command(Gr(this.options.editor,o.bnBlock.beforePos,{type:"heading",props:{level:t}})).deleteRange({from:r.from,to:r.to}).run()}}))]},addKeyboardShortcuts(){return{"Mod-Alt-1":()=>{const t=an(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Gr(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:1}}))},"Mod-Alt-2":()=>{const t=an(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Gr(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:2}}))},"Mod-Alt-3":()=>{const t=an(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Gr(this.options.editor,t.bnBlock.beforePos,{type:"heading",props:{level:3}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"h1",attrs:{level:1},node:"heading"},{tag:"h2",attrs:{level:2},node:"heading"},{tag:"h3",attrs:{level:3},node:"heading"}]},renderHTML({node:t,HTMLAttributes:e}){var n,r;return ul(this.name,`h${t.attrs.level}`,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{})}}),_Ae=Pc(kAe,qW),YW=(t,e,n)=>({state:r,dispatch:o})=>{const i=kc(r.doc,t),s=rd(i);if(!s.isBlockContainer)throw new Error(`BlockContainer expected when calling splitBlock, position ${t}`);const a=[{type:s.bnBlock.node.type,attrs:n?{...s.bnBlock.node.attrs,id:void 0}:{}},{type:e?s.blockContent.node.type:r.schema.nodes.paragraph,attrs:n?{...s.blockContent.node.attrs}:{}}];return o&&r.tr.split(t,2,a),!0},nN=t=>{const e=t._tiptapEditor,n=an(e.state);if(!n.isBlockContainer)return!1;const{bnBlock:r,blockContent:o}=n,i=e.state.selection.anchor===e.state.selection.head;return!(o.node.type.name==="bulletListItem"||o.node.type.name==="numberedListItem"||o.node.type.name==="checkListItem")||!i?!1:e.commands.first(({state:s,chain:a,commands:l})=>[()=>l.command(()=>o.node.childCount===0?l.command(Gr(t,r.beforePos,{type:"paragraph",props:{}})):!1),()=>l.command(()=>o.node.childCount>0?(a().deleteSelection().command(YW(s.selection.from,!0)).run(),!0):!1)])},EAe={...cr},TAe=ms({name:"bulletListItem",content:"inline*",group:"blockContent",priority:90,addInputRules(){return[new Zu({find:new RegExp("^[-+*]\\s$"),handler:({state:t,chain:e,range:n})=>{const r=an(t);!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||e().command(Gr(this.options.editor,r.bnBlock.beforePos,{type:"bulletListItem",props:{}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>nN(this.options.editor),"Mod-Shift-8":()=>{const t=an(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Gr(this.options.editor,t.bnBlock.beforePos,{type:"bulletListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.tagName==="UL"||e.tagName==="DIV"&&e.parentElement.tagName==="UL"?{}:!1},node:"bulletListItem"},{tag:"p",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.getAttribute("data-content-type")==="bulletListItem"?{}:!1},priority:300,node:"bulletListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return ul(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),MAe=Pc(TAe,EAe),KW={...cr,checked:{default:!1}},AAe=ms({name:"checkListItem",content:"inline*",group:"blockContent",addAttributes(){return _y(KW)},addInputRules(){return[new Zu({find:new RegExp("\\[\\s*\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const r=an(t);!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||e().command(Gr(this.options.editor,r.bnBlock.beforePos,{type:"checkListItem",props:{checked:!1}})).deleteRange({from:n.from,to:n.to})}}),new Zu({find:new RegExp("\\[[Xx]\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const r=an(t);!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||e().command(Gr(this.options.editor,r.bnBlock.beforePos,{type:"checkListItem",props:{checked:!0}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>nN(this.options.editor),"Mod-Shift-9":()=>{const t=an(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Gr(this.options.editor,t.bnBlock.beforePos,{type:"checkListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"input",getAttrs:t=>typeof t=="string"?!1:t.type==="checkbox"?{checked:t.checked}:!1,node:"checkListItem"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;if(e===null)return!1;if(e.tagName==="UL"||e.tagName==="DIV"&&e.parentElement.tagName==="UL"){const n=t.querySelector("input[type=checkbox]")||null;return n===null?!1:{checked:n.checked}}return!1},node:"checkListItem"}]},renderHTML({node:t,HTMLAttributes:e}){var n,r;const o=document.createElement("input");o.type="checkbox",o.checked=t.attrs.checked,t.attrs.checked&&o.setAttribute("checked","");const{dom:i,contentDOM:s}=ul(this.name,"p",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{});return i.insertBefore(o,s),{dom:i,contentDOM:s}},addNodeView(){return({node:t,getPos:e,editor:n,HTMLAttributes:r})=>{var o,i;const s=document.createElement("div"),a=document.createElement("div");a.contentEditable="false";const l=document.createElement("input");l.type="checkbox",l.checked=t.attrs.checked,t.attrs.checked&&l.setAttribute("checked","");const c=()=>{if(!n.isEditable){l.checked=!l.checked;return}if(typeof e!="boolean"){const p=kc(n.state.doc,e());if(p.node.type.name!=="blockContainer")throw new Error(`Expected blockContainer node, got ${p.node.type.name}`);this.editor.commands.command(Gr(this.options.editor,p.posBeforeNode,{type:"checkListItem",props:{checked:l.checked}}))}};l.addEventListener("change",c);const{dom:f,contentDOM:h}=ul(this.name,"p",{...((o=this.options.domAttributes)==null?void 0:o.blockContent)||{},...r},((i=this.options.domAttributes)==null?void 0:i.inlineContent)||{});if(typeof e!="boolean"){const p="label-"+this.editor.state.doc.resolve(e()).node().attrs.id;l.setAttribute("aria-labelledby",p),h.id=p}return f.removeChild(h),f.appendChild(s),s.appendChild(a),s.appendChild(h),a.appendChild(l),{dom:f,contentDOM:h,destroy:()=>{l.removeEventListener("change",c)}}}}}),RAe=Pc(AAe,KW),NAe=new Dt("numbered-list-indexing"),OAe=()=>new gt({key:NAe,appendTransaction:(t,e,n)=>{const r=n.tr;r.setMeta("numberedListIndexing",!0);let o=!1;return n.doc.descendants((i,s)=>{var a;if(i.type.name==="blockContainer"&&i.firstChild.type.name==="numberedListItem"){let l=`${i.firstChild.attrs.start||1}`;const c=rd({posBeforeNode:s,node:i});if(!c.isBlockContainer)throw new Error("impossible");const f=r.doc.resolve(c.bnBlock.beforePos).nodeBefore;if(f){const b=rd({posBeforeNode:c.bnBlock.beforePos-f.nodeSize,node:f});if(b.blockNoteType==="numberedListItem"){if(!b.isBlockContainer)throw new Error("impossible");const x=b.blockContent.node.attrs.index;l=(parseInt(x)+1).toString()}}const h=c.blockContent.node,p=h.attrs.index,y=((a=f==null?void 0:f.firstChild)==null?void 0:a.type.name)!=="numberedListItem";if(p!==l||h.attrs.start&&!y){o=!0;const{start:b,...x}=h.attrs;r.setNodeMarkup(c.blockContent.beforePos,void 0,{...x,index:l,...typeof b=="number"&&y&&{start:b}})}}}),o?r:null}}),ZW={...cr,start:{default:void 0,type:"number"}},DAe=ms({name:"numberedListItem",content:"inline*",group:"blockContent",priority:90,addAttributes(){return{..._y(ZW),index:{default:null,parseHTML:t=>t.getAttribute("data-index"),renderHTML:t=>({"data-index":t.index})}}},addInputRules(){return[new Zu({find:new RegExp("^(\\d+)\\.\\s$"),handler:({state:t,chain:e,range:n,match:r})=>{const o=an(t);if(!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||o.blockNoteType==="numberedListItem")return;const i=parseInt(r[1]);e().command(Gr(this.options.editor,o.bnBlock.beforePos,{type:"numberedListItem",props:i===1&&{}||{start:i}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>nN(this.options.editor),"Mod-Shift-7":()=>{const t=an(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Gr(this.options.editor,t.bnBlock.beforePos,{type:"numberedListItem",props:{}}))}}},addProseMirrorPlugins(){return[OAe()]},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"li",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;if(e===null)return!1;if(e.tagName==="OL"||e.tagName==="DIV"&&e.parentElement.tagName==="OL"){const n=parseInt(e.getAttribute("start")||"1")||1;return t.previousSibling||n===1?{}:{start:n}}return!1},node:"numberedListItem"},{tag:"p",getAttrs:t=>{if(typeof t=="string")return!1;const e=t.parentElement;return e===null?!1:e.getAttribute("data-content-type")==="numberedListItem"?{}:!1},priority:300,node:"numberedListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return ul(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),PAe=Pc(DAe,ZW),LAe={...cr},jAe=ms({name:"paragraph",content:"inline*",group:"blockContent",addKeyboardShortcuts(){return{"Mod-Alt-0":()=>{const t=an(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(Gr(this.options.editor,t.bnBlock.beforePos,{type:"paragraph",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]"},{tag:"p",priority:200,getAttrs:t=>{var e;return typeof t=="string"||!((e=t.textContent)!=null&&e.trim())?!1:{}},node:"paragraph"}]},renderHTML({HTMLAttributes:t}){var e,n;return ul(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),IAe=Pc(jAe,LAe),VAe=35,rN=120,BAe=31,$Ae=Jt.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[e_e({cellMinWidth:VAe,defaultCellMinWidth:rN,View:null}),u_e()],addKeyboardShortcuts(){return{Enter:()=>this.editor.state.selection.empty&&this.editor.state.selection.$head.parent.type.name==="tableParagraph"?(this.editor.commands.setHardBreak(),!0):!1,Backspace:()=>{const t=this.editor.state.selection,e=t.empty,n=t.$head.parentOffset===0,r=t.$head.node().type.name==="tableParagraph";return e&&n&&r},Tab:()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>s3(1)(t,e,n)),"Shift-Tab":()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>s3(-1)(t,e,n))}},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:kt(Pe(t,"tableRole",e))}}}),HAe={textColor:cr.textColor},zAe=ms({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",isolating:!0,parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){var e,n;return ul(this.name,"table",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})},addNodeView(){return({node:t,HTMLAttributes:e})=>{var n;class r extends sG{constructor(i,s,a){super(i,s),this.node=i,this.cellMinWidth=s,this.blockContentHTMLAttributes=a;const l=document.createElement("div");l.className=Bn("bn-block-content",a.class),l.setAttribute("data-content-type","table");for(const[p,y]of Object.entries(a))p!=="class"&&l.setAttribute(p,y);const c=this.dom,f=document.createElement("div");f.className="tableWrapper-inner",f.appendChild(c.firstChild),c.appendChild(f),l.appendChild(c);const h=document.createElement("div");h.className="table-widgets-container",h.style.position="relative",c.appendChild(h),this.dom=l}ignoreMutation(i){return!i.target.closest(".tableWrapper-inner")||super.ignoreMutation(i)}}return new r(t,rN,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e})}}}),FAe=ms({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML(){return[{preserveWhitespace:"full",priority:210,context:"tableContent",tag:"p",getAttrs:t=>({})},{tag:"p",getAttrs:t=>{if(typeof t=="string"||!t.textContent)return!1;const e=t.parentElement;return e===null?!1:e.tagName==="TD"?{}:!1}}]},renderHTML({HTMLAttributes:t}){return["p",t,0]}}),UAe=Pc(zAe,HAe,[$Ae,FAe,A_e.extend({content:"tableContent+"}),M_e.extend({content:"tableContent+"}),R_e]),uV=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},GAe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"></path></svg>',WAe={textAlignment:cr.textAlignment,backgroundColor:cr.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:512}},XW={type:"video",propSchema:WAe,content:"none",isFileBlock:!0,fileBlockAccept:["video/*"]},qAe=(t,e)=>{const n=document.createElement("div");n.innerHTML=GAe;const r=document.createElement("div");r.className="bn-visual-media-wrapper";const o=document.createElement("video");return o.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(i=>{o.src=i}):o.src=t.props.url,o.controls=!0,o.contentEditable="false",o.draggable=!1,o.width=t.props.previewWidth,r.appendChild(o),UW(t,e,{dom:r},r,e.dictionary.file_blocks.video.add_button_text,n.firstElementChild)},JW=t=>{if(t.tagName==="VIDEO")return uV(t);if(t.tagName==="FIGURE"){const e=Rw(t,"video");if(!e)return;const{targetElement:n,caption:r}=e;return{...uV(n),caption:r}}},YAe=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add video",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("video"),e.src=t.props.url,e.width=t.props.previewWidth):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?tN(e,t.props.caption):Nw(e,t.props.caption):{dom:e}},KAe=Ey(XW,{render:qAe,parse:JW,toExternalHTML:YAe}),Ow={paragraph:IAe,heading:_Ae,codeBlock:iAe,bulletListItem:MAe,numberedListItem:PAe,checkListItem:RAe,table:UAe,file:cAe,image:pAe,video:KAe,audio:nAe},ZAe=kW(Ow),oN={bold:vu(m_e,"boolean"),italic:vu(C_e,"boolean"),underline:vu(T_e,"boolean"),strike:vu(E_e,"boolean"),code:vu(v_e,"boolean"),textColor:CAe,backgroundColor:wAe};AW(oN);const QW={text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}},XAe=MW(QW);function Ho(t,e){return t in e.schema.blockSchema&&e.schema.blockSchema[t]===ZAe[t]}function JAe(t,e){return t in e.schema.inlineContentSchema&&e.schema.inlineContentSchema[t]===XAe[t]}function QAe(t,e,n){return e.type===t&&e.type in n.schema.blockSchema&&Ho(e.type,n)}function Ty(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock||!1}function eRe(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock&&"showPreview"in e.schema.blockSchema[t.type].propSchema||!1}function My(t,e){return e.schema.blockSchema[t.type].isFileBlock&&!t.props.url}function jf(t,e,n){return e in n.schema.blockSchema&&t in n.schema.blockSchema[e].propSchema&&n.schema.blockSchema[e].propSchema[t]===cr[t]}function C2(t,e,n){return jf(t,e.type,n)}function k2(t){return t instanceof Xt}function tRe(t){let e=t.getTextCursorPosition().block,n=t.schema.blockSchema[e.type].content;for(;n==="none";)e=t.getTextCursorPosition().nextBlock,n=t.schema.blockSchema[e.type].content,t.setTextCursorPosition(e,"end")}function yo(t,e){const n=t.getTextCursorPosition().block;if(n.content===void 0)throw new Error("Slash Menu open in a block that doesn't contain content.");let r;return Array.isArray(n.content)&&(n.content.length===1&&od(n.content[0])&&n.content[0].type==="text"&&n.content[0].text==="/"||n.content.length===0)?(r=t.updateBlock(n,e),t.setTextCursorPosition(r)):(r=t.insertBlocks([e],n,"after")[0],t.setTextCursorPosition(t.getTextCursorPosition().nextBlock)),tRe(t),r}function nRe(t){const e=[];return Ho("heading",t)&&e.push({onItemClick:()=>{yo(t,{type:"heading",props:{level:1}})},badge:Ci("Mod-Alt-1"),key:"heading",...t.dictionary.slash_menu.heading},{onItemClick:()=>{yo(t,{type:"heading",props:{level:2}})},badge:Ci("Mod-Alt-2"),key:"heading_2",...t.dictionary.slash_menu.heading_2},{onItemClick:()=>{yo(t,{type:"heading",props:{level:3}})},badge:Ci("Mod-Alt-3"),key:"heading_3",...t.dictionary.slash_menu.heading_3}),Ho("numberedListItem",t)&&e.push({onItemClick:()=>{yo(t,{type:"numberedListItem"})},badge:Ci("Mod-Shift-7"),key:"numbered_list",...t.dictionary.slash_menu.numbered_list}),Ho("bulletListItem",t)&&e.push({onItemClick:()=>{yo(t,{type:"bulletListItem"})},badge:Ci("Mod-Shift-8"),key:"bullet_list",...t.dictionary.slash_menu.bullet_list}),Ho("checkListItem",t)&&e.push({onItemClick:()=>{yo(t,{type:"checkListItem"})},badge:Ci("Mod-Shift-9"),key:"check_list",...t.dictionary.slash_menu.check_list}),Ho("paragraph",t)&&e.push({onItemClick:()=>{yo(t,{type:"paragraph"})},badge:Ci("Mod-Alt-0"),key:"paragraph",...t.dictionary.slash_menu.paragraph}),Ho("codeBlock",t)&&e.push({onItemClick:()=>{yo(t,{type:"codeBlock"})},badge:Ci("Mod-Alt-c"),key:"code_block",...t.dictionary.slash_menu.code_block}),Ho("table",t)&&e.push({onItemClick:()=>{yo(t,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},badge:void 0,key:"table",...t.dictionary.slash_menu.table}),Ho("image",t)&&e.push({onItemClick:()=>{const n=yo(t,{type:"image"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"image",...t.dictionary.slash_menu.image}),Ho("video",t)&&e.push({onItemClick:()=>{const n=yo(t,{type:"video"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"video",...t.dictionary.slash_menu.video}),Ho("audio",t)&&e.push({onItemClick:()=>{const n=yo(t,{type:"audio"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"audio",...t.dictionary.slash_menu.audio}),Ho("file",t)&&e.push({onItemClick:()=>{const n=yo(t,{type:"file"});t.dispatch(t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin,{block:n}))},key:"file",...t.dictionary.slash_menu.file}),e.push({onItemClick:()=>{t.openSuggestionMenu(":",{deleteTriggerCharacter:!0,ignoreQueryLength:!0})},key:"emoji",...t.dictionary.slash_menu.emoji}),e}function eq(t,e){return t.filter(({title:n,aliases:r})=>n.toLowerCase().includes(e.toLowerCase())||r&&r.filter(o=>o.toLowerCase().includes(e.toLowerCase())).length!==0)}function K_(t){return t&&Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0))}class Lh{constructor(e){te(this,"blockSpecs"),te(this,"inlineContentSpecs"),te(this,"styleSpecs"),te(this,"blockSchema"),te(this,"inlineContentSchema"),te(this,"styleSchema"),te(this,"BlockNoteEditor","only for types"),te(this,"Block","only for types"),te(this,"PartialBlock","only for types"),this.blockSpecs=K_(e==null?void 0:e.blockSpecs)||Ow,this.inlineContentSpecs=K_(e==null?void 0:e.inlineContentSpecs)||QW,this.styleSpecs=K_(e==null?void 0:e.styleSpecs)||oN,this.blockSchema=kW(this.blockSpecs),this.inlineContentSchema=MW(this.inlineContentSpecs),this.styleSchema=AW(this.styleSpecs)}static create(e){return new Lh(e)}}Lh.create({blockSpecs:{pageBreak:bAe}});function rRe(t,e,n,r="before"){const o=typeof n=="string"?n:n.id,i=[];for(const l of e)i.push(yd(l,t.pmSchema,t.schema.styleSchema));const s=ei(o,t._tiptapEditor.state.doc);if(!s)throw new Error(`Block with ID ${o} not found`);r==="before"&&t.dispatch(t._tiptapEditor.state.tr.insert(s.posBeforeNode,i)),r==="after"&&t.dispatch(t._tiptapEditor.state.tr.insert(s.posBeforeNode+s.node.nodeSize,i));const a=[];for(const l of i)a.push($n(l,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));return a}function oRe(t){const e=t._tiptapEditor.state,n=e.selection,r=kc(e.doc,n.anchor);if(n instanceof Xt)return{type:"cell",anchorBlockId:r.node.attrs.id,anchorCellOffset:n.$anchorCell.pos-r.posBeforeNode,headCellOffset:n.$headCell.pos-r.posBeforeNode};if(t._tiptapEditor.state.selection instanceof ze)return{type:"node",anchorBlockId:r.node.attrs.id};{const o=kc(e.doc,n.head);return{type:"text",anchorBlockId:r.node.attrs.id,headBlockId:o.node.attrs.id,anchorOffset:n.anchor-r.posBeforeNode,headOffset:n.head-o.posBeforeNode}}}function iRe(t,e){var n,r;const o=(n=ei(e.anchorBlockId,t._tiptapEditor.state.doc))==null?void 0:n.posBeforeNode;if(o===void 0)throw new Error(`Could not find block with ID ${e.anchorBlockId} to update selection`);let i;if(e.type==="cell")i=Xt.create(t._tiptapEditor.state.doc,o+e.anchorCellOffset,o+e.headCellOffset);else if(e.type==="node")i=ze.create(t._tiptapEditor.state.doc,o+1);else{const s=(r=ei(e.headBlockId,t._tiptapEditor.state.doc))==null?void 0:r.posBeforeNode;if(s===void 0)throw new Error(`Could not find block with ID ${e.headBlockId} to update selection`);i=He.create(t._tiptapEditor.state.doc,o+e.anchorOffset,s+e.headOffset)}t.dispatch(t._tiptapEditor.state.tr.setSelection(i))}function _2(t){return t.map(e=>e.type==="columnList"?e.children.map(n=>_2(n.children)).flat():{...e,children:_2(e.children)}).flat()}function tq(t,e,n){var r;const o=((r=t.getSelection())==null?void 0:r.blocks)||[t.getTextCursorPosition().block],i=oRe(t);t.removeBlocks(o),t.insertBlocks(_2(o),e,n),iRe(t,i)}function nq(t){return!t||t.type!=="columnList"}function rq(t,e,n){let r,o;if(e?e.children.length>0?(r=e.children[e.children.length-1],o="after"):(r=e,o="before"):n&&(r=n,o="before"),!r||!o)return;const i=t.getParentBlock(r);return nq(i)?{referenceBlock:r,placement:o}:rq(t,o==="after"?r:t.getPrevBlock(r),i)}function oq(t,e,n){let r,o;if(e?e.children.length>0?(r=e.children[0],o="before"):(r=e,o="after"):n&&(r=n,o="after"),!r||!o)return;const i=t.getParentBlock(r);return nq(i)?{referenceBlock:r,placement:o}:oq(t,o==="before"?r:t.getNextBlock(r),i)}function sRe(t){const e=t.getSelection(),n=(e==null?void 0:e.blocks[0])||t.getTextCursorPosition().block,r=rq(t,t.getPrevBlock(n),t.getParentBlock(n));r&&tq(t,r.referenceBlock,r.placement)}function aRe(t){const e=t.getSelection(),n=(e==null?void 0:e.blocks[(e==null?void 0:e.blocks.length)-1])||t.getTextCursorPosition().block,r=oq(t,t.getNextBlock(n),t.getParentBlock(n));r&&tq(t,r.referenceBlock,r.placement)}function lRe(t,e){return function({state:n,dispatch:r}){const{$from:o,$to:i}=n.selection,s=o.blockRange(i,c=>c.childCount>0&&(c.type.name==="blockGroup"||c.type.name==="column"));if(!s)return!1;const a=s.startIndex;if(a===0)return!1;const l=s.parent.child(a-1);if(l.type!==t)return!1;if(r){const c=l.lastChild&&l.lastChild.type===e,f=ce.from(c?t.create():null),h=new Se(ce.from(t.create(null,ce.from(e.create(null,f)))),c?3:1,0),p=s.start,y=s.end;r(n.tr.step(new zn(p-(c?3:1),y,p,y,h,1,!0)).scrollIntoView())}return!0}}function iq(t){return t._tiptapEditor.commands.command(lRe(t._tiptapEditor.schema.nodes.blockContainer,t._tiptapEditor.schema.nodes.blockGroup))}function cRe(t){t._tiptapEditor.commands.liftListItem("blockContainer")}function uRe(t){const{bnBlock:e}=an(t._tiptapEditor.state);return t._tiptapEditor.state.doc.resolve(e.beforePos).nodeBefore!==null}function dRe(t){const{bnBlock:e}=an(t._tiptapEditor.state);return t._tiptapEditor.state.doc.resolve(e.beforePos).depth>1}function sq(t,e,n){const r=t._tiptapEditor;let o=r.state.tr;const i=[];for(const h of n)i.push(yd(h,t.pmSchema,t.schema.styleSchema));const s=new Set(e.map(h=>typeof h=="string"?h:h.id)),a=[],l=typeof e[0]=="string"?e[0]:e[0].id;let c=0;if(r.state.doc.descendants((h,p)=>{if(s.size===0)return!1;if(!h.type.isInGroup("bnBlock")||!s.has(h.attrs.id))return!0;if(a.push($n(h,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)),s.delete(h.attrs.id),n.length>0&&h.attrs.id===l){const C=o.doc.nodeSize;o=o.insert(p,i);const k=o.doc.nodeSize;c+=C-k}const y=o.doc.nodeSize,b=o.doc.resolve(p-c);b.node().type.name==="blockGroup"&&b.node(b.depth-1).type.name!=="doc"&&b.node().childCount===1?o=o.delete(b.before(),b.after()):o=o.delete(p-c,p-c+h.nodeSize);const x=o.doc.nodeSize;return c+=y-x,!1}),s.size>0){const h=[...s].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+h)}t.dispatch(o);const f=[];for(const h of i)f.push($n(h,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));return{insertedBlocks:f,removedBlocks:a}}function fRe(t,e,n){return sq(t,e,n)}function hRe(t,e){return sq(t,e,[]).removedBlocks}function pRe(t,e){const n=typeof e=="string"?e:e.id,r=ei(n,t._tiptapEditor.state.doc);if(r)return $n(r.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function mRe(t,e){const n=typeof e=="string"?e:e.id,r=ei(n,t._tiptapEditor.state.doc);if(!r)return;const o=t._tiptapEditor.state.doc.resolve(r.posBeforeNode).nodeBefore;if(o)return $n(o,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function gRe(t,e){const n=typeof e=="string"?e:e.id,r=ei(n,t._tiptapEditor.state.doc);if(!r)return;const o=t._tiptapEditor.state.doc.resolve(r.posBeforeNode+r.node.nodeSize).nodeAfter;if(o)return $n(o,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function yRe(t,e){const n=typeof e=="string"?e:e.id,r=ei(n,t._tiptapEditor.state.doc);if(!r)return;const o=t._tiptapEditor.state.doc.resolve(r.posBeforeNode),i=o.node(),s=o.node(-1),a=s.type.name!=="doc"?i.type.name==="blockGroup"?s:i:void 0;if(a)return $n(a,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}function vRe(t,e,n,r={updateSelection:!0}){const o=n._tiptapEditor.state.tr;let{from:i,to:s}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},a=!0,l=!0,c="";if(e.forEach(f=>{f.check(),a&&f.isText&&f.marks.length===0?c+=f.text:a=!1,l=l?f.isBlock:!1}),i===s&&l){const{parent:f}=o.doc.resolve(i);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(i-=1,s+=1)}return a?o.insertText(c,i,s):o.replaceWith(i,s,e),r.updateSelection&&XF(o,o.steps.length-1,-1),n.dispatch(o),!0}function bRe(t){const e=t._tiptapEditor.state;if(e.selection.empty||"node"in e.selection)return;const n=e.doc.resolve(kc(e.doc,e.selection.from).posBeforeNode),r=e.doc.resolve(kc(e.doc,e.selection.to).posBeforeNode),o=(c,f)=>{const h=n.posAtIndex(c,f),p=e.doc.resolve(h).nodeAfter;if(!p)throw new Error(`Error getting selection - node not found at position ${h}`);return $n(p,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)},i=[],s=n.sharedDepth(r.pos),a=n.index(s),l=r.index(s);if(n.depth>s){i.push($n(n.nodeAfter,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache));for(let c=n.depth;c>s;c--)if(n.node(c).type.isInGroup("childContainer")){const f=n.index(c)+1,h=n.node(c).childCount;for(let p=f;p<h;p++)i.push(o(p,c))}}else i.push(o(a,s));for(let c=a+1;c<=l;c++)i.push(o(c,s));if(i.length===0)throw new Error(`Error getting selection - selection doesn't span any blocks (${e.selection})`);return{blocks:i}}function xRe(t,e,n){const r=typeof e=="string"?e:e.id,o=typeof n=="string"?n:n.id;if(r===o)throw new Error(`Attempting to set selection with the same anchor and head blocks (id ${r})`);const i=t._tiptapEditor.state.doc,s=ei(r,i);if(!s)throw new Error(`Block with ID ${r} not found`);const a=ei(o,i);if(!a)throw new Error(`Block with ID ${o} not found`);const l=rd(s),c=rd(a),f=t.schema.blockSchema[l.blockNoteType],h=t.schema.blockSchema[c.blockNoteType];if(!l.isBlockContainer||f.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${r})`);if(!c.isBlockContainer||h.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${o})`);let p,y;if(f.content==="table"){const b=xn.get(l.blockContent.node);p=l.blockContent.beforePos+b.positionAt(0,0,l.blockContent.node)+1+2}else p=l.blockContent.beforePos+1;if(h.content==="table"){const b=xn.get(c.blockContent.node),x=c.blockContent.beforePos+b.positionAt(b.height-1,b.width-1,c.blockContent.node)+1,C=i.resolve(x).nodeAfter.nodeSize;y=x+C-2}else y=c.blockContent.afterPos-1;t._tiptapEditor.dispatch(t._tiptapEditor.state.tr.setSelection(He.create(t._tiptapEditor.state.doc,p,y)))}function wRe(t){const{bnBlock:e}=an(t._tiptapEditor.state),n=t._tiptapEditor.state.doc.resolve(e.beforePos),r=n.nodeBefore,o=t._tiptapEditor.state.doc.resolve(e.afterPos).nodeAfter;let i;return n.depth>1&&(i=n.node(),i.type.isInGroup("bnBlock")||(i=n.node(n.depth-1))),{block:$n(e.node,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),prevBlock:r===null?void 0:$n(r,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),nextBlock:o===null?void 0:$n(o,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache),parentBlock:i===void 0?void 0:$n(i,t.schema.blockSchema,t.schema.inlineContentSchema,t.schema.styleSchema,t.blockCache)}}function aq(t,e,n="start"){const r=typeof e=="string"?e:e.id,o=ei(r,t._tiptapEditor.state.doc);if(!o)throw new Error(`Block with ID ${r} not found`);const i=rd(o),s=t.schema.blockSchema[i.blockNoteType].content;if(i.isBlockContainer){const a=i.blockContent;if(s==="none"){t._tiptapEditor.commands.setNodeSelection(a.beforePos);return}if(s==="inline")n==="start"?t._tiptapEditor.commands.setTextSelection(a.beforePos+1):t._tiptapEditor.commands.setTextSelection(a.afterPos-1);else if(s==="table")n==="start"?t._tiptapEditor.commands.setTextSelection(a.beforePos+4):t._tiptapEditor.commands.setTextSelection(a.afterPos-4);else throw new oa(s)}else{const a=n==="start"?i.childContainer.node.firstChild:i.childContainer.node.lastChild;aq(t,a.attrs.id,n)}}let If;async function iN(){if(If)return If;const t=await Promise.all([I(()=>import("./index-fPWOxJft.js"),__vite__mapDeps([93,94,95])),I(()=>import("./index-DPW-W-EU.js"),__vite__mapDeps([96,94])),I(()=>import("./index-DMOF2JQ0.js"),__vite__mapDeps([97,98,99])),I(()=>import("./index-CTBKYPz4.js"),__vite__mapDeps([100,95,94])),I(()=>import("./index-Cz2EFvpz.js"),__vite__mapDeps([101,98,102,103,104])),I(()=>import("./index-DQ088uqa.js"),__vite__mapDeps([105,106,107,108,109])),I(()=>import("./index-ChyhdTBI.js"),__vite__mapDeps([110,108,109,103,104,102])),I(()=>import("./index-BiP7EpHt.js"),__vite__mapDeps([111,106,107,109,99,104])),I(()=>import("./index-CHHYbbld.js"),__vite__mapDeps([112,107,103])),I(()=>import("./index-CQdBS8-M.js"),[])]);return If={rehypeParse:t[0],rehypeStringify:t[1],unified:t[2],hastUtilFromDom:t[3],rehypeRemark:t[4],remarkGfm:t[5],remarkStringify:t[6],remarkParse:t[7],remarkRehype:t[8],rehypeFormat:t[9]},If}function SRe(){const t=e=>{let n=e.children.length;for(let r=0;r<n;r++){const o=e.children[r];if(o.type==="element"&&(t(o),o.tagName==="u"))if(o.children.length>0){e.children.splice(r,1,...o.children);const i=o.children.length-1;n+=i,r+=i}else e.children.splice(r,1),n--,r--}};return t}function CRe(){const t=If;if(!t)throw new Error("addSpacesToCheckboxes requires ESM dependencies to be initialized");const e=n=>{var r;if(n.children&&"length"in n.children&&n.children.length)for(let o=n.children.length-1;o>=0;o--){const i=n.children[o],s=o+1<n.children.length?n.children[o+1]:void 0;i.type==="element"&&i.tagName==="input"&&((r=i.properties)==null?void 0:r.type)==="checkbox"&&(s==null?void 0:s.type)==="element"&&s.tagName==="p"?(s.tagName="span",s.children.splice(0,0,t.hastUtilFromDom.fromDom(document.createTextNode(" ")))):e(i)}};return e}function sN(t){const e=If;if(!e)throw new Error("cleanHTMLToMarkdown requires ESM dependencies to be initialized");return e.unified.unified().use(e.rehypeParse.default,{fragment:!0}).use(SRe).use(CRe).use(e.rehypeRemark.default).use(e.remarkGfm.default).use(e.remarkStringify.default,{handlers:{text:n=>n.value}}).processSync(t).value}async function kRe(t,e,n,r){await iN();const o=Aw(e,n).exportBlocks(t,r);return sN(o)}function _Re(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function ERe(t){return t.nodeType===3&&!/\S/.test(t.nodeValue||"")}function TRe(t){t.querySelectorAll("li > ul, li > ol").forEach(e=>{const n=_Re(e),r=e.parentElement,o=Array.from(r.childNodes).slice(n+1);e.remove(),o.forEach(i=>{i.remove()}),r.insertAdjacentElement("afterend",e),o.reverse().forEach(i=>{if(ERe(i))return;const s=document.createElement("li");s.append(i),e.insertAdjacentElement("afterend",s)}),r.childNodes.length===0&&r.remove()})}function MRe(t){t.querySelectorAll("li + ul, li + ol").forEach(e=>{var n,r;const o=e.previousElementSibling,i=document.createElement("div");o.insertAdjacentElement("afterend",i),i.append(o);const s=document.createElement("div");for(s.setAttribute("data-node-type","blockGroup"),i.append(s);((n=i.nextElementSibling)==null?void 0:n.nodeName)==="UL"||((r=i.nextElementSibling)==null?void 0:r.nodeName)==="OL";)s.append(i.nextElementSibling)})}let dV=null;function ARe(){return dV||(dV=document.implementation.createHTMLDocument("title"))}function lq(t){if(typeof t=="string"){const e=ARe().createElement("div");e.innerHTML=t,t=e}return TRe(t),MRe(t),t}async function cq(t,e,n,r,o){const i=lq(t),s=Lu.fromSchema(o).parse(i,{topNode:o.nodes.blockGroup.create()}),a=[];for(let l=0;l<s.childCount;l++)a.push($n(s.child(l),e,n,r));return a}function RRe(t,e){const n=e.value?e.value:"",r={};e.lang&&(r["data-language"]=e.lang);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}async function NRe(t,e,n,r,o){const i=await iN(),s=i.unified.unified().use(i.remarkParse.default).use(i.remarkGfm.default).use(i.remarkRehype.default,{handlers:{...i.remarkRehype.defaultHandlers,code:RRe}}).use(i.rehypeStringify.default).processSync(t);return cq(s.value,e,n,r,o)}const aN=["vscode-editor-data","blocknote/html","text/html","text/plain","Files"];function ORe(t,e){if(!t.startsWith(".")||!e.startsWith("."))throw new Error("The strings provided are not valid file extensions.");return t===e}function DRe(t,e){const n=t.split("/"),r=e.split("/");if(n.length!==2)throw new Error(`The string ${t} is not a valid MIME type.`);if(r.length!==2)throw new Error(`The string ${e} is not a valid MIME type.`);return n[1]==="*"||r[1]==="*"?n[0]===r[0]:(n[0]==="*"||r[0]==="*"||n[0]===r[0])&&n[1]===r[1]}function fV(t,e,n){let r;return Array.isArray(e.content)&&e.content.length===0?r=t.updateBlock(e,n).id:r=t.insertBlocks([n],e,"after")[0].id,r}async function uq(t,e){var n;if(!e.uploadFile){console.warn("Attempted ot insert file, but uploadFile is not set in the BlockNote editor options");return}const r="dataTransfer"in t?t.dataTransfer:t.clipboardData;if(r===null)return;let o=null;for(const a of aN)if(r.types.includes(a)){o=a;break}if(o!=="Files")return;const i=r.items;if(!i)return;t.preventDefault();const s=Object.values(e.schema.blockSchema).filter(a=>a.isFileBlock);for(let a=0;a<i.length;a++){let l="file";for(const f of s)for(const h of f.fileBlockAccept||[]){const p=h.startsWith("."),y=i[a].getAsFile();if(y&&(!p&&y.type&&DRe(i[a].type,h)||p&&ORe("."+y.name.split(".").pop(),h))){l=f.type;break}}const c=i[a].getAsFile();if(c){const f={type:l,props:{name:c.name}};let h;if(t.type==="paste"){const b=e.getTextCursorPosition().block;h=fV(e,b,f)}else if(t.type==="drop"){const b={left:t.clientX,top:t.clientY},x=(n=e.prosemirrorView)==null?void 0:n.posAtCoords(b);if(!x)return;const C=kc(e._tiptapEditor.state.doc,x.pos);h=fV(e,e.getBlock(C.node.attrs.id),f)}else return;const p=await e.uploadFile(c,h),y=typeof p=="string"?{props:{url:p}}:{...p};e.updateBlock(h,y)}}}const PRe=t=>Jt.create({name:"dropFile",addProseMirrorPlugins(){return[new gt({props:{handleDOMEvents:{drop(e,n){if(!t.isEditable)return;let r=null;for(const o of aN)if(n.dataTransfer.types.includes(o)){r=o;break}return r===null?!0:r==="Files"?(uq(n,t),!0):!1}}}})]}});async function LRe(t,e){const{schema:n}=e.state;if(!t.clipboardData)return!1;const r=t.clipboardData.getData("text/plain");if(!r)return!1;if(!n.nodes.codeBlock)return e.pasteText(r),!0;const o=t.clipboardData.getData("vscode-editor-data"),i=o?JSON.parse(o):void 0,s=i==null?void 0:i.mode;return s?(e.pasteHTML(`<pre><code class="language-${s}">${r.replace(/\r\n?/g,`
`)}</code></pre>`),!0):!1}const jRe=t=>Jt.create({name:"pasteFromClipboard",addProseMirrorPlugins(){return[new gt({props:{handleDOMEvents:{paste(e,n){if(n.preventDefault(),!t.isEditable)return;let r;for(const i of aN)if(n.clipboardData.types.includes(i)){r=i;break}if(!r)return!0;if(r==="vscode-editor-data")return LRe(n,e),!0;if(r==="Files")return uq(n,t),!0;let o=n.clipboardData.getData(r);return r==="blocknote/html"?(e.pasteHTML(o),!0):r==="text/html"?(o=lq(o.trim()).innerHTML,e.pasteHTML(o),!0):(e.pasteText(o),!0)}}}})]}});function dq(t,e){const n=[];return t.descendants(r=>{var o,i;return r.type.name==="blockContainer"&&((o=r.firstChild)==null?void 0:o.type.name)==="blockGroup"?!0:r.type.name==="columnList"&&r.childCount===1?((i=r.firstChild)==null||i.forEach(s=>{n.push($n(s,e.blockSchema,e.inlineContentSchema,e.styleSchema))}),!1):r.type.isInGroup("bnBlock")?(n.push($n(r,e.blockSchema,e.inlineContentSchema,e.styleSchema)),!1):!0}),n}function IRe(t,e,n){var r;let o=!1;const i=t.state.selection instanceof Xt;if(!i){const l=t.state.doc.slice(t.state.selection.from,t.state.selection.to,!1).content,c=[];for(let f=0;f<l.childCount;f++)c.push(l.child(f));o=c.find(f=>f.type.isInGroup("bnBlock")||f.type.name==="blockGroup"||f.type.spec.group==="blockContent")===void 0,o&&(e=l)}let s;const a=Aw(t.state.schema,n);if(i){((r=e.firstChild)==null?void 0:r.type.name)==="table"&&(e=e.firstChild.content);const l=TW(e,n.schema.inlineContentSchema,n.schema.styleSchema);s=`<table>${a.exportInlineContent(l,{})}</table>`}else if(o){const l=Tw(e,n.schema.inlineContentSchema,n.schema.styleSchema);s=a.exportInlineContent(l,{})}else{const l=dq(e,n.schema);s=a.exportBlocks(l,{})}return s}function fq(t,e){"node"in t.state.selection&&t.state.selection.node.type.spec.group==="blockContent"&&e.dispatch(e._tiptapEditor.state.tr.setSelection(new ze(t.state.doc.resolve(t.state.selection.from-1))));const n=t.serializeForClipboard(t.state.selection.content()).dom.innerHTML,r=t.state.selection.content().content,o=IRe(t,r,e),i=sN(o);return{clipboardHTML:n,externalHTML:o,markdown:i}}const hV=()=>{const t=window.getSelection();if(!t||t.isCollapsed)return!0;let e=t.focusNode;for(;e;){if(e instanceof HTMLElement&&e.getAttribute("contenteditable")==="false")return!0;e=e.parentElement}return!1},pV=(t,e,n)=>{n.preventDefault(),n.clipboardData.clearData();const{clipboardHTML:r,externalHTML:o,markdown:i}=fq(e,t);n.clipboardData.setData("blocknote/html",r),n.clipboardData.setData("text/html",o),n.clipboardData.setData("text/plain",i)},VRe=t=>Jt.create({name:"copyToClipboard",addProseMirrorPlugins(){return[new gt({props:{handleDOMEvents:{copy(e,n){return hV()||pV(t,e,n),!0},cut(e,n){return hV()||(pV(t,e,n),e.editable&&e.dispatch(e.state.tr.deleteSelection())),!0},dragstart(e,n){if(!("node"in e.state.selection)||e.state.selection.node.type.spec.group!=="blockContent")return;t.dispatch(t._tiptapEditor.state.tr.setSelection(new ze(e.state.doc.resolve(e.state.selection.from-1)))),n.preventDefault(),n.dataTransfer.clearData();const{clipboardHTML:r,externalHTML:o,markdown:i}=fq(e,t);return n.dataTransfer.setData("blocknote/html",r),n.dataTransfer.setData("text/html",o),n.dataTransfer.setData("text/plain",i),!0}}}})]}}),BRe=Jt.create({name:"blockBackgroundColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{backgroundColor:{default:cr.backgroundColor.default,parseHTML:t=>t.hasAttribute("data-background-color")?t.getAttribute("data-background-color"):cr.backgroundColor.default,renderHTML:t=>t.backgroundColor===cr.backgroundColor.default?{}:{"data-background-color":t.backgroundColor}}}}]}}),$Re=t=>{var e;const n=[];n.push(kMe.configure({fragment:t.fragment}));const r=(e=t.provider)==null?void 0:e.awareness;if(r){const o=new Map;t.showCursorLabels!=="always"&&r.on("change",({updated:a})=>{for(const l of a){const c=o.get(l);c&&(c.element.setAttribute("data-active",""),c.hideTimeout&&clearTimeout(c.hideTimeout),o.set(l,{element:c.element,hideTimeout:setTimeout(()=>{c.element.removeAttribute("data-active")},2e3)}))}});const i=a=>{const l=document.createElement("span");l.classList.add("bn-collaboration-cursor__base");const c=document.createElement("span");c.setAttribute("contentedEditable","false"),c.classList.add("bn-collaboration-cursor__caret"),c.setAttribute("style",`background-color: ${a.color}`);const f=document.createElement("span");return f.classList.add("bn-collaboration-cursor__label"),f.setAttribute("style",`background-color: ${a.color}`),f.insertBefore(document.createTextNode(a.name),null),c.insertBefore(f,null),l.insertBefore(document.createTextNode("⁠"),null),l.insertBefore(c,null),l.insertBefore(document.createTextNode("⁠"),null),l},s=(a,l)=>{var c;let f=o.get(l);if(!f){const h=((c=t==null?void 0:t.renderCursor)==null?void 0:c.call(t,a))||i(a);(t==null?void 0:t.showCursorLabels)!=="always"&&(h.addEventListener("mouseenter",()=>{const p=o.get(l);p.element.setAttribute("data-active",""),p.hideTimeout&&(clearTimeout(p.hideTimeout),o.set(l,{element:p.element,hideTimeout:void 0}))}),h.addEventListener("mouseleave",()=>{const p=o.get(l);o.set(l,{element:p.element,hideTimeout:setTimeout(()=>{p.element.removeAttribute("data-active")},2e3)})})),f={element:h,hideTimeout:void 0},o.set(l,f)}return f.element};n.push(_Me.configure({user:t.user,render:s,provider:t.provider}))}return n},hq=Ro.create({name:"comment",excludes:"",inclusive:!1,keepOnSplit:!0,group:"blocknoteIgnore",addAttributes(){return{orphan:{parseHTML:t=>!!t.getAttribute("data-orphan"),renderHTML:t=>t.orphan?{"data-orphan":"true"}:{},default:!1},threadId:{parseHTML:t=>t.getAttribute("data-bn-thread-id"),renderHTML:t=>({"data-bn-thread-id":t.threadId}),default:""}}},renderHTML({HTMLAttributes:t}){return["span",Jo(t,{class:"bn-thread-mark"})]},parseHTML(){return[{tag:"span.bn-thread-mark"}]},extendMarkSchema(t){return t.name==="comment"?{blocknoteIgnore:!0}:{}}});class ml{constructor(){te(this,"callbacks",{})}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),()=>this.off(e,n)}emit(e,...n){const r=this.callbacks[e];r&&r.forEach(o=>o.apply(this,n))}off(e,n){const r=this.callbacks[e];r&&(n?this.callbacks[e]=r.filter(o=>o!==n):delete this.callbacks[e])}removeAllListeners(){this.callbacks={}}}class HRe extends ml{constructor(e){super(),te(this,"userCache",new Map),te(this,"loadingUsers",new Set),this.resolveUsers=e}async loadUsers(e){const n=e.filter(r=>!this.userCache.has(r)&&!this.loadingUsers.has(r));if(n.length!==0){for(const r of n)this.loadingUsers.add(r);try{const r=await this.resolveUsers(n);for(const o of r)this.userCache.set(o.id,o);this.emit("update",this.userCache)}finally{for(const r of n)this.loadingUsers.delete(r)}}}getUser(e){return this.userCache.get(e)}subscribe(e){return this.on("update",e)}}const Pb=new Dt("blocknote-comments"),zRe="SET_SELECTED_THREAD_ID";function FRe(t,e,n){const r=new Map,o=[];return t.descendants((i,s)=>{i.marks.forEach(a=>{if(a.type.name===n){const l=a.attrs.threadId;if(!l)return;const c=s,f=c+i.nodeSize,h=r.get(l)??{from:1/0,to:0};r.set(l,{from:Math.min(c,h.from),to:Math.max(f,h.to)}),e===l&&o.push(nn.inline(c,f,{class:"bn-thread-mark-selected"}))}})}),{decorations:St.create(t,o),threadPositions:r}}class URe extends ml{constructor(e,n,r){if(super(),te(this,"plugin"),te(this,"userStore"),te(this,"pendingComment",!1),te(this,"selectedThreadId"),te(this,"updateMarksFromThreads",i=>{const s=this.editor._tiptapEditor;s.state.doc.descendants((a,l)=>{a.marks.forEach(c=>{if(c.type.name===this.markType){const f=c.type,h=c.attrs.threadId,p=i.get(h),y=!!(!p||p.resolved||p.deletedAt);if(y!==c.attrs.orphan){const{tr:b}=s.state,x=Math.max(l,0),C=Math.min(l+a.nodeSize,s.state.doc.content.size-1);b.removeMark(x,C,f),b.addMark(x,C,f.create({...c.attrs,orphan:y})),s.dispatch(b),y&&this.selectedThreadId===h&&(this.selectedThreadId=void 0,this.emitStateUpdate())}}})})}),this.editor=e,this.threadStore=n,this.markType=r,!e.resolveUsers)throw new Error("resolveUsers is required for comments");this.userStore=new HRe(e.resolveUsers),this.threadStore.subscribe(this.updateMarksFromThreads),e.onCreate(()=>{this.updateMarksFromThreads(this.threadStore.getThreads()),e.onSelectionChange(()=>{this.pendingComment&&(this.pendingComment=!1,this.emitStateUpdate())})});const o=this;this.plugin=new gt({key:Pb,state:{init(){return{threadPositions:new Map,decorations:St.empty}},apply(i,s){const a=i.getMeta(Pb);return!i.docChanged&&!a?s:FRe(i.doc,o.selectedThreadId,r)}},props:{decorations(i){var s;return((s=Pb.getState(i))==null?void 0:s.decorations)??St.empty},handleClick:(i,s,a)=>{if(a.button!==0)return;const l=i.state.doc.nodeAt(s);if(!l){o.selectThread(void 0);return}const c=l.marks.find(h=>h.type.name===r&&h.attrs.orphan!==!0),f=c==null?void 0:c.attrs.threadId;o.selectThread(f)}}})}emitStateUpdate(){this.emit("update",{selectedThreadId:this.selectedThreadId,pendingComment:this.pendingComment})}onUpdate(e){return this.on("update",e)}selectThread(e){this.selectedThreadId!==e&&(this.selectedThreadId=e,this.emitStateUpdate(),this.editor.dispatch(this.editor.prosemirrorView.state.tr.setMeta(Pb,{name:zRe})))}startPendingComment(){this.pendingComment=!0,this.emitStateUpdate()}stopPendingComment(){this.pendingComment=!1,this.emitStateUpdate()}async createThread(e){const n=await this.threadStore.createThread(e);if(this.threadStore.addThreadToDocument){const r=this.editor.prosemirrorView,o=r.state.selection,i=pn.getState(r.state),s={prosemirror:{head:o.head,anchor:o.anchor},yjs:Q1(i.binding,r.state)};await this.threadStore.addThreadToDocument({threadId:n.id,selection:s})}else this.editor._tiptapEditor.commands.setMark(this.markType,{orphan:!1,threadId:n.id})}}class GRe{constructor(e,n,r,o){te(this,"state"),te(this,"emitUpdate"),te(this,"mouseDownHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),te(this,"dragstartHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),te(this,"scrollHandler",()=>{var i;if((i=this.state)!=null&&i.show){const s=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);if(!s)return;this.state.referencePos=s.getBoundingClientRect(),this.emitUpdate()}}),te(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pluginKey=n,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized file panel");o(this.state)},r.dom.addEventListener("mousedown",this.mouseDownHandler),r.dom.addEventListener("dragstart",this.dragstartHandler),r.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var r,o;const i=this.pluginKey.getState(e.state);if(!((r=this.state)!=null&&r.show)&&i.block&&this.editor.isEditable){const s=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${i.block.id}"]`);if(!s)return;this.state={show:!0,referencePos:s.getBoundingClientRect(),block:i.block},this.emitUpdate();return}(!e.state.selection.eq(n.selection)||!e.state.doc.eq(n.doc)||!this.editor.isEditable)&&(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}}const Z_=new Dt("FilePanelPlugin");class WRe extends ml{constructor(e){super(),te(this,"view"),te(this,"plugin"),te(this,"closeMenu",()=>{var n;return(n=this.view)==null?void 0:n.closeMenu()}),this.plugin=new gt({key:Z_,view:n=>(this.view=new GRe(e,Z_,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>{var o;return r.key==="Escape"&&this.shown?((o=this.view)==null||o.closeMenu(),!0):!1}},state:{init:()=>({block:void 0}),apply:n=>{var r;return{block:(r=n.getMeta(Z_))==null?void 0:r.block}}}})}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}class qRe{constructor(e,n,r){te(this,"state"),te(this,"emitUpdate"),te(this,"preventHide",!1),te(this,"preventShow",!1),te(this,"shouldShow",({state:o,from:i,to:s})=>{const{doc:a,selection:l}=o,{empty:c}=l,f=!a.textBetween(i,s).length&&aw(o.selection);return l.$from.parent.type.spec.code||OT(l)&&l.node.type.spec.code?!1:!(c||f)}),te(this,"blurHandler",o=>{var i;if(this.preventHide){this.preventHide=!1;return}const s=this.pmView.dom.parentElement;o&&o.relatedTarget&&(s===o.relatedTarget||s.contains(o.relatedTarget)||o.relatedTarget.matches(".bn-ui-container, .bn-ui-container *"))||(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),te(this,"viewMousedownHandler",()=>{this.preventShow=!0}),te(this,"mouseupHandler",()=>{this.preventShow&&(this.preventShow=!1,setTimeout(()=>this.update(this.pmView)))}),te(this,"dragHandler",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),te(this,"scrollHandler",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),te(this,"closeMenu",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized formatting toolbar");r(this.state)},n.dom.addEventListener("mousedown",this.viewMousedownHandler),n.root.addEventListener("mouseup",this.mouseupHandler),n.dom.addEventListener("dragstart",this.dragHandler),n.dom.addEventListener("dragover",this.dragHandler),n.dom.addEventListener("blur",this.blurHandler),n.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var r;const{state:o,composing:i}=e,{selection:s}=o,a=n&&n.selection.from===o.selection.from&&n.selection.to===o.selection.to;if(i||a)return;const{ranges:l}=s,c=Math.min(...l.map(y=>y.$from.pos)),f=Math.max(...l.map(y=>y.$to.pos)),h=this.shouldShow({view:e,state:o,from:c,to:f}),p=typeof Range.prototype.getClientRects>"u";if(!this.preventShow&&(h||this.preventHide)&&!p){this.state={show:!0,referencePos:this.getSelectionBoundingBox()},this.emitUpdate();return}if((r=this.state)!=null&&r.show&&!this.preventHide&&(!h||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("mouseup",this.mouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}getSelectionBoundingBox(){const{state:e}=this.pmView,{selection:n}=e,{ranges:r}=n,o=Math.min(...r.map(s=>s.$from.pos)),i=Math.max(...r.map(s=>s.$to.pos));if(OT(n)){const s=this.pmView.nodeDOM(o);if(s)return s.getBoundingClientRect()}return s1(this.pmView,o,i)}}const YRe=new Dt("FormattingToolbarPlugin");class KRe extends ml{constructor(e){super(),te(this,"view"),te(this,"plugin"),te(this,"closeMenu",()=>this.view.closeMenu()),this.plugin=new gt({key:YRe,view:n=>(this.view=new qRe(e,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}})}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}const mV=(t,e)=>{const n=t.resolve(e);if(n.depth<=1)return;const r=n.posAtIndex(n.index(n.depth-1),n.depth-1);return ky(t.resolve(r))},E2=(t,e)=>{const n=t.resolve(e),r=n.index();if(r===0)return;const o=n.posAtIndex(r-1);return ky(t.resolve(o))},pq=(t,e)=>{for(;e.childContainer;){const n=e.childContainer.node,r=t.resolve(e.childContainer.beforePos+1).posAtIndex(n.childCount-1);e=ky(t.resolve(r))}return e},ZRe=(t,e)=>t.isBlockContainer&&t.blockContent.node.type.spec.content==="inline*"&&t.blockContent.node.childCount>0&&e.isBlockContainer&&e.blockContent.node.type.spec.content==="inline*",XRe=(t,e,n,r)=>{if(!r.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but next block is not a block container`);if(r.childContainer){const o=t.doc.resolve(r.childContainer.beforePos+1),i=t.doc.resolve(r.childContainer.afterPos-1),s=o.blockRange(i);if(e){const a=t.doc.resolve(r.bnBlock.beforePos);t.tr.lift(s,a.depth)}}if(e){if(!n.isBlockContainer)throw new Error(`Attempted to merge block at position ${r.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but previous block is not a block container`);e(t.tr.delete(n.blockContent.afterPos-1,r.blockContent.beforePos+1))}return!0},gV=t=>({state:e,dispatch:n})=>{const r=e.doc.resolve(t),o=ky(r),i=E2(e.doc,o.bnBlock.beforePos);if(!i)return!1;const s=pq(e.doc,i);return ZRe(s,o)?XRe(e,n,s,o):!1},JRe=Jt.create({priority:50,addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.first(({chain:t,commands:e})=>[()=>e.deleteSelection(),()=>e.undoInputRule(),()=>e.command(({state:n})=>{const r=an(n);if(!r.isBlockContainer)return!1;const o=n.selection.from===r.blockContent.beforePos+1,i=r.blockContent.node.type.name==="paragraph";return o&&!i?e.command(Gr(this.options.editor,r.bnBlock.beforePos,{type:"paragraph",props:{}})):!1}),()=>e.command(({state:n})=>{const r=an(n);if(!r.isBlockContainer)return!1;const{blockContent:o}=r;return n.selection.from===o.beforePos+1?e.liftListItem("blockContainer"):!1}),()=>e.command(({state:n})=>{const r=an(n);if(!r.isBlockContainer)return!1;const{bnBlock:o,blockContent:i}=r,s=n.selection.from===i.beforePos+1,a=n.selection.empty,l=o.beforePos;return s&&a?t().command(gV(l)).scrollIntoView().run():!1}),()=>e.command(({state:n,dispatch:r})=>{const o=an(n);if(!o.isBlockContainer||n.selection.from!==o.blockContent.beforePos+1||E2(n.doc,o.bnBlock.beforePos))return!1;const i=mV(n.doc,o.bnBlock.beforePos);if((i==null?void 0:i.blockNoteType)!=="column")return!1;const s=i,a=mV(n.doc,s.bnBlock.beforePos);if((a==null?void 0:a.blockNoteType)!=="columnList")throw new Error("parent of column is not a column list");const l=s.childContainer.node.childCount===1,c=l&&a.childContainer.node.childCount===2,f=a.childContainer.node.firstChild===s.bnBlock.node;if(r){const h=n.doc.slice(o.bnBlock.beforePos,o.bnBlock.afterPos,!1);if(c)if(f){n.tr.step(new zn(a.bnBlock.beforePos,a.bnBlock.afterPos,s.bnBlock.afterPos+1,a.bnBlock.afterPos-2,h,h.size,!1));const p=n.tr.doc.resolve(s.bnBlock.beforePos);n.tr.setSelection(He.between(p,p))}else{n.tr.step(new zn(a.bnBlock.beforePos,a.bnBlock.afterPos,a.bnBlock.beforePos+2,s.bnBlock.beforePos-1,h,0,!1));const p=n.tr.doc.resolve(n.tr.mapping.map(s.bnBlock.beforePos-1));n.tr.setSelection(He.between(p,p))}else if(l)if(f){n.tr.delete(s.bnBlock.beforePos,s.bnBlock.afterPos),n.tr.insert(a.bnBlock.beforePos,h.content);const p=n.tr.doc.resolve(a.bnBlock.beforePos);n.tr.setSelection(He.between(p,p))}else n.tr.delete(s.bnBlock.beforePos-1,s.bnBlock.beforePos+1);else{n.tr.delete(o.bnBlock.beforePos,o.bnBlock.afterPos),f?n.tr.insert(a.bnBlock.beforePos-1,h.content):n.tr.insert(s.bnBlock.beforePos-1,h.content);const p=n.tr.doc.resolve(s.bnBlock.beforePos-1);n.tr.setSelection(He.between(p,p))}}return!0}),()=>e.command(({state:n})=>{const r=an(n);if(!r.isBlockContainer)throw new Error("todo");const o=n.selection.from===r.blockContent.beforePos+1,i=n.selection.empty,s=E2(n.doc,r.bnBlock.beforePos);if(s&&o&&i){const a=pq(n.doc,s);if(!a.isBlockContainer)throw new Error("todo");if(a.blockContent.node.type.spec.content===""||a.blockContent.node.type.spec.content==="inline*"&&a.blockContent.node.childCount===0)return t().cut({from:r.bnBlock.beforePos,to:r.bnBlock.afterPos},a.bnBlock.afterPos).deleteRange({from:a.bnBlock.beforePos,to:a.bnBlock.afterPos}).run()}return!1})]),Delete:()=>this.editor.commands.first(({commands:t})=>[()=>t.deleteSelection(),()=>t.command(({state:e})=>{const n=an(e);if(!n.isBlockContainer)return!1;const{bnBlock:r,blockContent:o,childContainer:i}=n,{depth:s}=e.doc.resolve(r.beforePos),a=r.afterPos===e.doc.nodeSize-3,l=e.selection.from===o.afterPos-1,c=e.selection.empty;if(!a&&l&&c&&i===void 0){let f=s,h=r.afterPos+1,p=e.doc.resolve(h).depth;for(;p<f;)f=p,h+=2,p=e.doc.resolve(h).depth;return t.command(gV(h-1))}return!1})]),Enter:()=>this.editor.commands.first(({commands:t})=>[()=>t.command(({state:e})=>{const n=an(e);if(!n.isBlockContainer)return!1;const{bnBlock:r,blockContent:o}=n,{depth:i}=e.doc.resolve(r.beforePos),s=e.selection.$anchor.parentOffset===0,a=e.selection.anchor===e.selection.head,l=o.node.childCount===0,c=i>1;return s&&a&&l&&c?t.liftListItem("blockContainer"):!1}),()=>t.command(({state:e,dispatch:n})=>{const r=an(e);if(!r.isBlockContainer)return!1;const{bnBlock:o,blockContent:i}=r,s=e.selection.$anchor.parentOffset===0,a=e.selection.anchor===e.selection.head,l=i.node.childCount===0;if(s&&a&&l){const c=o.afterPos,f=c+2;if(n){const h=e.schema.nodes.blockContainer.createAndFill();e.tr.insert(c,h).scrollIntoView(),e.tr.setSelection(new He(e.doc.resolve(f)))}return!0}return!1}),()=>t.command(({state:e,chain:n})=>{const r=an(e);if(!r.isBlockContainer)return!1;const{blockContent:o}=r,i=e.selection.$anchor.parentOffset===0;return o.node.childCount===0?!1:(n().deleteSelection().command(YW(e.selection.from,i,i)).run(),!0)})]),Tab:()=>{var t,e,n;return this.options.tabBehavior!=="prefer-indent"&&((t=this.options.editor.formattingToolbar)!=null&&t.shown||(e=this.options.editor.linkToolbar)!=null&&e.shown||(n=this.options.editor.filePanel)!=null&&n.shown)?!1:iq(this.options.editor)},"Shift-Tab":()=>{var t,e,n;return this.options.tabBehavior!=="prefer-indent"&&((t=this.options.editor.formattingToolbar)!=null&&t.shown||(e=this.options.editor.linkToolbar)!=null&&e.shown||(n=this.options.editor.filePanel)!=null&&n.shown)?!1:(this.editor.commands.liftListItem("blockContainer"),!0)},"Shift-Mod-ArrowUp":()=>(this.options.editor.moveBlocksUp(),!0),"Shift-Mod-ArrowDown":()=>(this.options.editor.moveBlocksDown(),!0)}}});class QRe{constructor(e,n,r){te(this,"state"),te(this,"emitUpdate"),te(this,"menuUpdateTimer"),te(this,"startMenuUpdateTimer"),te(this,"stopMenuUpdateTimer"),te(this,"mouseHoveredLinkMark"),te(this,"mouseHoveredLinkMarkRange"),te(this,"keyboardHoveredLinkMark"),te(this,"keyboardHoveredLinkMarkRange"),te(this,"linkMark"),te(this,"linkMarkRange"),te(this,"mouseOverHandler",o=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),o.target instanceof HTMLAnchorElement&&o.target.nodeName==="A"){const i=o.target,s=this.pmView.posAtDOM(i,0)+1,a=this.pmView.state.doc.resolve(s),l=a.marks();for(const c of l)if(c.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=c,this.mouseHoveredLinkMarkRange=yg(a,c.type,c.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),te(this,"clickHandler",o=>{var i;const s=this.pmView.dom.parentElement;this.linkMark&&o&&o.target&&!(s===o.target||s.contains(o.target))&&(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),te(this,"scrollHandler",()=>{var o;this.linkMark!==void 0&&(o=this.state)!=null&&o.show&&(this.state.referencePos=s1(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),te(this,"closeMenu",()=>{var o;(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized link toolbar");r(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update(this.pmView,void 0,!0)},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),this.pmView.root.addEventListener("click",this.clickHandler,!0),this.pmView.root.addEventListener("scroll",this.scrollHandler,!0)}editLink(e,n){var r;const o=this.pmView.state.tr.insertText(n,this.linkMarkRange.from,this.linkMarkRange.to);o.addMark(this.linkMarkRange.from,this.linkMarkRange.from+n.length,this.pmView.state.schema.mark("link",{href:e})),this.editor.dispatch(o),this.pmView.focus(),(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var e;this.editor.dispatch(this.pmView.state.tr.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate())}update(e,n,r=!1){var o;const{state:i}=e;if(n&&n.selection.from===i.selection.from&&n.selection.to===i.selection.to||!this.pmView.hasFocus())return;const s=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){const a=this.pmView.state.selection.$from.marks();for(const l of a)if(l.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=l,this.keyboardHoveredLinkMarkRange=yg(this.pmView.state.selection.$from,l.type,l.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&r&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:s1(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if((o=this.state)!=null&&o.show&&s&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0),this.pmView.root.removeEventListener("click",this.clickHandler,!0)}}const eNe=new Dt("LinkToolbarPlugin");class tNe extends ml{constructor(e){super(),te(this,"view"),te(this,"plugin"),te(this,"editLink",(n,r)=>{this.view.editLink(n,r)}),te(this,"deleteLink",()=>{this.view.deleteLink()}),te(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),te(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),te(this,"closeMenu",()=>this.view.closeMenu()),this.plugin=new gt({key:eNe,view:n=>(this.view=new QRe(e,n,r=>{this.emit("update",r)}),this.view),props:{handleKeyDown:(n,r)=>r.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}})}onUpdate(e){return this.on("update",e)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}const mq=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"],gq="https",nNe=new Dt("node-selection-keyboard");class rNe{constructor(){te(this,"plugin"),this.plugin=new gt({key:nNe,props:{handleKeyDown:(e,n)=>{if("node"in e.state.selection){if(n.ctrlKey||n.metaKey)return!1;if(n.key.length===1)return n.preventDefault(),!0;if(n.key==="Enter"&&!n.shiftKey&&!n.altKey&&!n.ctrlKey&&!n.metaKey){const r=e.state.tr;return e.dispatch(r.insert(e.state.tr.selection.$to.after(),e.state.schema.nodes.paragraph.createChecked()).setSelection(new He(r.doc.resolve(e.state.tr.selection.$to.after()+1)))),!0}}return!1}}})}}const oNe=new Dt("blocknote-placeholder");class iNe{constructor(e,n){te(this,"plugin"),this.plugin=new gt({key:oNe,view:r=>{var o,i;const s=`placeholder-selector-${dU()}`;r.dom.classList.add(s);const a=document.createElement("style"),l=e._tiptapEditor.options.injectNonce;l&&a.setAttribute("nonce",l),((o=e.prosemirrorView)==null?void 0:o.root)instanceof ShadowRoot?e.prosemirrorView.root.append(a):(i=e.prosemirrorView)==null||i.root.head.appendChild(a);const c=a.sheet,f=(h="")=>`.${s} .bn-block-content${h} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`;try{const{default:h,emptyDocument:p,...y}=n;for(const[C,k]of Object.entries(y)){const E=`[data-content-type="${C}"]`;c.insertRule(`${f(E)} { content: ${JSON.stringify(k)}; }`)}c.insertRule(`${f("[data-is-only-empty-block]")} { content: ${JSON.stringify(p)}; }`),c.insertRule(`${f("[data-is-empty-and-focused]")} { content: ${JSON.stringify(h)}; }`)}catch(h){console.warn("Failed to insert placeholder CSS rule - this is likely due to the browser not supporting certain CSS pseudo-element selectors (:has, :only-child:, or :before)",h)}return{destroy:()=>{var h,p;((h=e.prosemirrorView)==null?void 0:h.root)instanceof ShadowRoot?e.prosemirrorView.root.removeChild(a):(p=e.prosemirrorView)==null||p.root.head.removeChild(a)}}},props:{decorations:r=>{const{doc:o,selection:i}=r;if(!e.isEditable||!i.empty||i.$from.parent.type.spec.code)return;const s=[];r.doc.content.size===6&&s.push(nn.node(2,4,{"data-is-only-empty-block":"true"}));const a=i.$anchor,l=a.parent;if(l.content.size===0){const c=a.before();s.push(nn.node(c,c+l.nodeSize,{"data-is-empty-and-focused":"true"}))}return St.create(o,s)}}})}}const yV=new Dt("previous-blocks"),sNe={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"};class aNe{constructor(){te(this,"plugin");let e;this.plugin=new gt({key:yV,view(n){return{update:async(r,o)=>{var i;((i=this.key)==null?void 0:i.getState(r.state).updatedBlocks.size)>0&&(e=setTimeout(()=>{r.dispatch(r.state.tr.setMeta(yV,{clearUpdate:!0}))},0))},destroy:()=>{e&&clearTimeout(e)}}},state:{init(){return{prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}},apply(n,r,o,i){if(r.currentTransactionOldBlockAttrs={},r.updatedBlocks.clear(),!n.docChanged||o.doc.eq(i.doc))return r;const s={},a=O5(o.doc,f=>f.attrs.id),l=new Map(a.map(f=>[f.node.attrs.id,f])),c=O5(i.doc,f=>f.attrs.id);for(const f of c){const h=l.get(f.node.attrs.id),p=h==null?void 0:h.node.firstChild,y=f.node.firstChild;if(h&&p&&y){const b={index:y.attrs.index,level:y.attrs.level,type:y.type.name,depth:i.doc.resolve(f.pos).depth};let x={index:p.attrs.index,level:p.attrs.level,type:p.type.name,depth:o.doc.resolve(h.pos).depth};s[f.node.attrs.id]=x,n.getMeta("numberedListIndexing")&&(f.node.attrs.id in r.prevTransactionOldBlockAttrs&&(x=r.prevTransactionOldBlockAttrs[f.node.attrs.id]),b.type==="numberedListItem"&&(x.index=b.index)),r.currentTransactionOldBlockAttrs[f.node.attrs.id]=x,JSON.stringify(x)!==JSON.stringify(b)&&(x["depth-change"]=x.depth-b.depth,r.updatedBlocks.add(f.node.attrs.id))}}return r.prevTransactionOldBlockAttrs=s,r}},props:{decorations(n){const r=this.getState(n);if(r.updatedBlocks.size===0)return;const o=[];return n.doc.descendants((i,s)=>{if(!i.attrs.id||!r.updatedBlocks.has(i.attrs.id))return;const a=r.currentTransactionOldBlockAttrs[i.attrs.id],l={};for(const[f,h]of Object.entries(a))l["data-prev-"+sNe[f]]=h||"none";const c=nn.node(s,s+i.nodeSize,{...l});o.push(c)}),St.create(n.doc,o)}}})}}const vV=new Dt("blocknote-show-selection");class lNe{constructor(e){te(this,"plugin"),te(this,"enabled",!1),this.editor=e,this.plugin=new gt({key:vV,props:{decorations:n=>{const{doc:r,selection:o}=n;if(!this.enabled)return St.empty;const i=nn.inline(o.from,o.to,{"data-show-selection":"true"});return St.create(r,[i])}}})}setEnabled(e){var n,r;this.enabled!==e&&(this.enabled=e,(r=this.editor.prosemirrorView)==null||r.dispatch((n=this.editor.prosemirrorView)==null?void 0:n.state.tr.setMeta(vV,{})))}getEnabled(){return this.enabled}}function yq(t,e){for(var n,r;t&&t.parentElement&&t.parentElement!==e.dom&&((n=t.getAttribute)==null?void 0:n.call(t,"data-node-type"))!=="blockContainer";)t=t.parentElement;if(((r=t.getAttribute)==null?void 0:r.call(t,"data-node-type"))==="blockContainer")return{node:t,id:t.getAttribute("data-id")}}let bV=class f0 extends Ke{constructor(e,n){super(e,n),te(this,"nodes");const r=e.node();this.nodes=[],e.doc.nodesBetween(e.pos,n.pos,(o,i,s)=>{if(s!==null&&s.eq(r))return this.nodes.push(o),!1})}static create(e,n,r=n){return new f0(e.resolve(n),e.resolve(r))}content(){return new Se(ce.from(this.nodes),0,0)}eq(e){if(!(e instanceof f0)||this.nodes.length!==e.nodes.length||this.from!==e.from||this.to!==e.to)return!1;for(let n=0;n<this.nodes.length;n++)if(!this.nodes[n].eq(e.nodes[n]))return!1;return!0}map(e,n){const r=n.mapResult(this.from),o=n.mapResult(this.to);return o.deleted?Ke.near(e.resolve(r.pos)):r.deleted?Ke.near(e.resolve(o.pos)):new f0(e.resolve(r.pos),e.resolve(o.pos))}toJSON(){return{type:"node",anchor:this.anchor,head:this.head}}},Os;function cNe(t,e){let n,r;const o=e.resolve(t.from).node().type.spec.group==="blockContent",i=e.resolve(t.to).node().type.spec.group==="blockContent",s=Math.min(t.$anchor.depth,t.$head.depth);if(o&&i){const a=t.$from.start(s-1),l=t.$to.end(s-1);n=e.resolve(a-1).pos,r=e.resolve(l+1).pos}else n=t.from,r=t.to;return{from:n,to:r}}function xV(t,e,n=e){e===n&&(n+=t.state.doc.resolve(e+1).node().nodeSize);const r=t.domAtPos(e).node.cloneNode(!0),o=t.domAtPos(e).node,i=(c,f)=>Array.prototype.indexOf.call(c.children,f),s=i(o,t.domAtPos(e+1).node.parentElement),a=i(o,t.domAtPos(n-1).node.parentElement);for(let c=o.childElementCount-1;c>=0;c--)(c>a||c<s)&&r.removeChild(r.children[c]);vq(t.root),Os=r;const l=t.dom.className.split(" ").filter(c=>c!=="ProseMirror"&&c!=="bn-root"&&c!=="bn-editor").join(" ");Os.className=Os.className+" bn-drag-preview "+l,t.root instanceof ShadowRoot?t.root.appendChild(Os):t.root.body.appendChild(Os)}function vq(t){Os!==void 0&&(t instanceof ShadowRoot?t.removeChild(Os):t.body.removeChild(Os),Os=void 0)}function uNe(t,e,n){if(!t.dataTransfer)return;const r=n.prosemirrorView;if(!r)return;const o=ei(e.id,r.state.doc);if(!o)throw new Error(`Block with ID ${e.id} not found`);const i=o.posBeforeNode;if(i!=null){const s=r.state.selection,a=r.state.doc,{from:l,to:c}=cNe(s,a),f=l<=i&&i<c,h=s.$anchor.node()!==s.$head.node()||s instanceof bV;f&&h?(r.dispatch(r.state.tr.setSelection(bV.create(a,l,c))),xV(r,l,c)):(r.dispatch(r.state.tr.setSelection(ze.create(r.state.doc,i))),xV(r,i));const p=r.state.selection.content(),y=n.pmSchema,b=r.serializeForClipboard(p).dom.innerHTML,x=Aw(y,n),C=dq(p.content,n.schema),k=x.exportBlocks(C,{}),E=sN(k);t.dataTransfer.clearData(),t.dataTransfer.setData("blocknote/html",b),t.dataTransfer.setData("text/html",k),t.dataTransfer.setData("text/plain",E),t.dataTransfer.effectAllowed="move",t.dataTransfer.setDragImage(Os,0,0)}}const em=.1;function T2(t,e,n,r=!0){const o=t.root.elementsFromPoint(e.left+(n==="editor"?50:0),e.top);for(const i of o)if(t.dom.contains(i))return r&&i.closest("[data-node-type=columnList]")?T2(t,{left:e.left+50,top:e.top},n,!1):yq(i,t)}function dNe(t,e,n){if(!e.dom.firstChild)return;const r=e.dom.firstChild.getBoundingClientRect(),o={left:t.x,top:t.y},i=o.left<r.left,s=o.left>r.right;n==="viewport"&&(i&&(o.left=r.left+10),s&&(o.left=r.right-10));let a=T2(e,o,n);if(!s&&a){const l=a.node.getBoundingClientRect();o.left=l.right-10,a=T2(e,o,"viewport",!1)}return a}class fNe{constructor(e,n,r,o){te(this,"state"),te(this,"emitUpdate"),te(this,"mousePos"),te(this,"hoveredBlock"),te(this,"menuFrozen",!1),te(this,"isDragOrigin",!1),te(this,"updateState",i=>{this.state=i,this.emitUpdate(this.state)}),te(this,"updateStateFromMousePos",()=>{var i,s,a,l;if(this.menuFrozen||!this.mousePos)return;const c=dNe(this.mousePos,this.pmView,this.sideMenuDetection);if(!c||!this.editor.isEditable){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.updateState(this.state));return}if((s=this.state)!=null&&s.show&&(a=this.hoveredBlock)!=null&&a.hasAttribute("data-id")&&((l=this.hoveredBlock)==null?void 0:l.getAttribute("data-id"))===c.id)return;this.hoveredBlock=c.node;const f=c.node.firstChild;if(f&&this.editor.isEditable){const h=f.getBoundingClientRect(),p=c.node.closest("[data-node-type=column]");this.updateState({show:!0,referencePos:new DOMRect(p?p.firstElementChild.getBoundingClientRect().x:this.pmView.dom.firstChild.getBoundingClientRect().x,h.y,h.width,h.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))})}}),te(this,"onDrop",i=>{var s,a;if(this.pmView.dragging===null)return;this.editor._tiptapEditor.commands.blur();const l=i.target instanceof Node&&((s=i.target instanceof HTMLElement?i.target:i.target.parentElement)==null?void 0:s.closest(".bn-editor"))||null;if(l&&(!this.isDragOrigin&&this.pmView.dom===l?this.pmView.dispatch(this.pmView.state.tr.setSelection(He.create(this.pmView.state.tr.doc,this.pmView.state.tr.selection.to))):this.isDragOrigin&&this.pmView.dom!==l&&setTimeout(()=>this.pmView.dispatch(this.pmView.state.tr.deleteSelection()),0)),this.sideMenuDetection==="editor"||i.synthetic||!((a=i.dataTransfer)!=null&&a.types.includes("blocknote/html")))return;const c=this.pmView.posAtCoords({left:i.clientX,top:i.clientY});if(!c||c.inside===-1){const f=this.createSyntheticEvent(i);this.pmView.dom.dispatchEvent(f)}}),te(this,"onDragEnd",()=>{this.pmView.dragging=null}),te(this,"onDragStart",i=>{var s;const a=(s=i.dataTransfer)==null?void 0:s.getData("blocknote/html");if(!a)return;if(this.pmView.dragging)throw new Error("New drag was started while an existing drag is ongoing");const l=document.createElement("div");l.innerHTML=a;const c=Lu.fromSchema(this.pmView.state.schema).parse(l,{topNode:this.pmView.state.schema.nodes.blockGroup.create()});this.pmView.dragging={slice:new Se(c.content,0,0),move:!0}}),te(this,"onDragOver",i=>{var s;if(this.sideMenuDetection==="editor"||i.synthetic||!((s=i.dataTransfer)!=null&&s.types.includes("blocknote/html")))return;const a=this.pmView.posAtCoords({left:i.clientX,top:i.clientY});if(!a||a.inside===-1&&this.pmView.dom.firstChild){const l=this.createSyntheticEvent(i);this.pmView.dom.dispatchEvent(l)}}),te(this,"onKeyDown",i=>{var s;(s=this.state)!=null&&s.show&&this.editor.isFocused()&&(this.state.show=!1,this.emitUpdate(this.state))}),te(this,"onMouseMove",i=>{var s;if(this.menuFrozen)return;this.mousePos={x:i.clientX,y:i.clientY};const a=this.pmView.dom.getBoundingClientRect(),l=this.mousePos.x>a.left&&this.mousePos.x<a.right&&this.mousePos.y>a.top&&this.mousePos.y<a.bottom,c=this.pmView.dom.parentElement;if(l&&i&&i.target&&!(c===i.target||c.contains(i.target))){(s=this.state)!=null&&s.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.updateStateFromMousePos()}),te(this,"onScroll",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.referencePos=this.hoveredBlock.getBoundingClientRect(),this.emitUpdate(this.state))}),this.editor=e,this.sideMenuDetection=n,this.pmView=r,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized side menu");o(this.state)},this.pmView.root.addEventListener("dragstart",this.onDragStart),this.pmView.root.addEventListener("dragover",this.onDragOver),this.pmView.root.addEventListener("drop",this.onDrop,!0),this.pmView.root.addEventListener("dragend",this.onDragEnd,!0),iN(),this.pmView.root.addEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.addEventListener("keydown",this.onKeyDown,!0),r.root.addEventListener("scroll",this.onScroll,!0)}createSyntheticEvent(e){const n=new Event(e.type,e),r=this.pmView.dom.firstChild.getBoundingClientRect();return n.clientX=e.clientX,n.clientY=e.clientY,e.clientX<r.left&&e.clientX>r.left-r.width*em?n.clientX=r.left+r.width*em/2:e.clientX>r.right&&e.clientX<r.right+r.width*em?n.clientX=r.right-r.width*em/2:(e.clientX<r.left||e.clientX>r.right)&&(n.clientX=r.left+em*r.width*2),n.clientY=Math.min(Math.max(e.clientY,r.top),r.top+r.height),n.dataTransfer=e.dataTransfer,n.preventDefault=()=>e.preventDefault(),n.synthetic=!0,n}update(e,n){var r;!n.doc.eq(this.pmView.state.doc)&&(r=this.state)!=null&&r.show&&this.updateStateFromMousePos()}destroy(){var e;(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.pmView.root.removeEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.removeEventListener("dragstart",this.onDragStart),this.pmView.root.removeEventListener("dragover",this.onDragOver),this.pmView.root.removeEventListener("drop",this.onDrop,!0),this.pmView.root.removeEventListener("dragend",this.onDragEnd,!0),this.pmView.root.removeEventListener("keydown",this.onKeyDown,!0),this.pmView.root.removeEventListener("scroll",this.onScroll,!0)}}const hNe=new Dt("SideMenuPlugin");class pNe extends ml{constructor(e,n){super(),te(this,"view"),te(this,"plugin"),te(this,"blockDragStart",(r,o)=>{this.view&&(this.view.isDragOrigin=!0),uNe(r,o,this.editor)}),te(this,"blockDragEnd",()=>{this.editor.prosemirrorView&&vq(this.editor.prosemirrorView.root),this.view&&(this.view.isDragOrigin=!1)}),te(this,"freezeMenu",()=>{this.view.menuFrozen=!0,this.view.state.show=!0,this.view.emitUpdate(this.view.state)}),te(this,"unfreezeMenu",()=>{this.view.menuFrozen=!1,this.view.state.show=!1,this.view.emitUpdate(this.view.state)}),this.editor=e,this.plugin=new gt({key:hNe,view:r=>(this.view=new fNe(e,n,r,o=>{this.emit("update",o)}),this.view)})}onUpdate(e){return this.on("update",e)}}const mNe=uw(t=>t.type.name==="blockContainer");class gNe{constructor(e,n){te(this,"state"),te(this,"emitUpdate"),te(this,"rootEl"),te(this,"pluginState"),te(this,"handleScroll",()=>{var i,s;if((i=this.state)!=null&&i.show){const a=(s=this.rootEl)==null?void 0:s.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);if(!a)return;this.state.referencePos=a.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),te(this,"closeMenu",()=>{this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(Xf,null))}),te(this,"clearQuery",()=>{this.pluginState!==void 0&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos-(this.pluginState.deleteTriggerCharacter?this.pluginState.triggerCharacter.length:0),to:this.editor._tiptapEditor.state.selection.from}).run()});var r,o;this.editor=e,this.pluginState=void 0,this.emitUpdate=i=>{var s;if(!this.state)throw new Error("Attempting to update uninitialized suggestions menu");n(i,{...this.state,ignoreQueryLength:(s=this.pluginState)==null?void 0:s.ignoreQueryLength})},this.rootEl=(r=this.editor.prosemirrorView)==null?void 0:r.root,(o=this.rootEl)==null||o.addEventListener("scroll",this.handleScroll,!0)}update(e,n){var r;const o=Xf.getState(n),i=Xf.getState(e.state),s=o===void 0&&i!==void 0,a=o!==void 0&&i===void 0;if(!s&&!(o!==void 0&&i!==void 0)&&!a)return;if(this.pluginState=a?o:i,a||!this.editor.isEditable){this.state.show=!1,this.emitUpdate(this.pluginState.triggerCharacter);return}const l=(r=this.rootEl)==null?void 0:r.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&l&&(this.state={show:!0,referencePos:l.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){var e;(e=this.rootEl)==null||e.removeEventListener("scroll",this.handleScroll,!0)}}const Xf=new Dt("SuggestionMenuPlugin");class yNe extends ml{constructor(e){super(),te(this,"view"),te(this,"plugin"),te(this,"triggerCharacters",[]),te(this,"addTriggerCharacter",r=>{this.triggerCharacters.push(r)}),te(this,"removeTriggerCharacter",r=>{this.triggerCharacters=this.triggerCharacters.filter(o=>o!==r)}),te(this,"closeMenu",()=>this.view.closeMenu()),te(this,"clearQuery",()=>this.view.clearQuery());const n=this.triggerCharacters;this.plugin=new gt({key:Xf,view:()=>(this.view=new gNe(e,(r,o)=>{this.emit(`update ${r}`,o)}),this.view),state:{init(){},apply(r,o,i,s){if(r.getMeta("orderedListIndexing")!==void 0||r.selection.$from.parent.type.spec.code)return o;const a=r.getMeta(Xf);if(typeof a=="object"&&a!==null&&o===void 0)return{triggerCharacter:a.triggerCharacter,deleteTriggerCharacter:a.deleteTriggerCharacter!==!1,queryStartPos:s.selection.from,query:"",decorationId:`id_${Math.floor(Math.random()*4294967295)}`,ignoreQueryLength:a==null?void 0:a.ignoreQueryLength};if(o===void 0)return o;if(s.selection.from!==s.selection.to||a===null||r.getMeta("focus")||r.getMeta("blur")||r.getMeta("pointer")||o.triggerCharacter!==void 0&&s.selection.from<o.queryStartPos)return;const l={...o};return l.query=s.doc.textBetween(o.queryStartPos,s.selection.from),l}},props:{handleTextInput(r,o,i,s){const a=this.getState(r.state);return n.includes(s)&&a===void 0?(r.dispatch(r.state.tr.insertText(s).scrollIntoView().setMeta(Xf,{triggerCharacter:s})),!0):!1},decorations(r){const o=this.getState(r);if(o===void 0)return null;if(!o.deleteTriggerCharacter){const i=mNe(r.selection);if(i)return St.create(r.doc,[nn.node(i.pos,i.pos+i.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":o.decorationId})])}return St.create(r.doc,[nn.inline(o.queryStartPos-o.triggerCharacter.length,o.queryStartPos,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":o.decorationId})])}}})}onUpdate(e,n){return this.triggerCharacters.includes(e)||this.addTriggerCharacter(e),this.on(`update ${e}`,n)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}let wo;function wV(t){wo||(wo=document.createElement("div"),wo.innerHTML="_",wo.style.opacity="0",wo.style.height="1px",wo.style.width="1px",t instanceof Document?t.body.appendChild(wo):t.appendChild(wo))}function vNe(t){wo&&(t instanceof Document?t.body.removeChild(wo):t.removeChild(wo),wo=void 0)}function Lb(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function bNe(t){let e=t;for(;e&&e.nodeName!=="TD"&&e.nodeName!=="TH"&&!e.classList.contains("tableWrapper");){if(e.classList.contains("ProseMirror"))return;const n=e.parentNode;if(!n||!(n instanceof Element))return;e=n}return e.nodeName==="TD"||e.nodeName==="TH"?{type:"cell",domNode:e,tbodyNode:e.closest("tbody")}:{type:"wrapper",domNode:e,tbodyNode:e.querySelector("tbody")}}function xNe(t,e){const n=e.querySelectorAll(t);for(let r=0;r<n.length;r++)n[r].style.visibility="hidden"}class wNe{constructor(e,n,r){te(this,"state"),te(this,"emitUpdate"),te(this,"tableId"),te(this,"tablePos"),te(this,"tableElement"),te(this,"menuFrozen",!1),te(this,"mouseState","up"),te(this,"prevWasEditable",null),te(this,"viewMousedownHandler",()=>{this.mouseState="down"}),te(this,"mouseUpHandler",o=>{this.mouseState="up",this.mouseMoveHandler(o)}),te(this,"mouseMoveHandler",o=>{var i,s,a,l,c,f,h;if(this.menuFrozen||this.mouseState==="selecting"||!(o.target instanceof Element)||!this.pmView.dom.contains(o.target))return;const p=bNe(o.target);if((p==null?void 0:p.type)==="cell"&&this.mouseState==="down"&&!((i=this.state)!=null&&i.draggingState)){this.mouseState="selecting",(s=this.state)!=null&&s.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!p||!this.editor.isEditable){(a=this.state)!=null&&a.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!p.tbodyNode)return;const y=p.tbodyNode.getBoundingClientRect(),b=yq(p.domNode,this.pmView);if(!b)return;this.tableElement=b.node;let x;const C=ei(b.id,this.editor._tiptapEditor.state.doc);if(!C)throw new Error(`Block with ID ${b.id} not found`);const k=$n(C.node,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema,this.editor.blockCache);if(QAe("table",k,this.editor)&&(this.tablePos=C.posBeforeNode+1,x=k),!x)return;this.tableId=b.id;const E=(l=p.domNode.closest(".tableWrapper"))==null?void 0:l.querySelector(".table-widgets-container");if((p==null?void 0:p.type)==="wrapper"){const T=o.clientY>=y.bottom-1&&o.clientY<y.bottom+20,R=o.clientX>=y.right-1&&o.clientX<y.right+20,A=o.clientX>y.right||o.clientY>y.bottom;this.state={...this.state,show:!0,showAddOrRemoveRowsButton:T,showAddOrRemoveColumnsButton:R,referencePosTable:y,block:x,widgetContainer:E,colIndex:A||(c=this.state)==null?void 0:c.colIndex,rowIndex:A||(f=this.state)==null?void 0:f.rowIndex,referencePosCell:A||(h=this.state)==null?void 0:h.referencePosCell}}else{const T=Lb(p.domNode),R=Lb(p.domNode.parentElement),A=p.domNode.getBoundingClientRect();if(this.state!==void 0&&this.state.show&&this.tableId===b.id&&this.state.rowIndex===R&&this.state.colIndex===T)return;this.state={show:!0,showAddOrRemoveColumnsButton:T===x.content.rows[0].cells.length-1,showAddOrRemoveRowsButton:R===x.content.rows.length-1,referencePosTable:y,block:x,draggingState:void 0,referencePosCell:A,colIndex:T,rowIndex:R,widgetContainer:E}}return this.emitUpdate(),!1}),te(this,"dragOverHandler",o=>{var i;if(((i=this.state)==null?void 0:i.draggingState)===void 0)return;o.preventDefault(),o.dataTransfer.dropEffect="move",xNe(".prosemirror-dropcursor-block, .prosemirror-dropcursor-inline",this.pmView.root);const s={left:Math.min(Math.max(o.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(o.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},a=this.pmView.root.elementsFromPoint(s.left,s.top).filter(x=>x.tagName==="TD"||x.tagName==="TH");if(a.length===0)throw new Error("Could not find table cell element that the mouse cursor is hovering over.");const l=a[0];let c=!1;const f=Lb(l.parentElement),h=Lb(l),p=this.state.draggingState.draggedCellOrientation==="row"?this.state.rowIndex:this.state.colIndex,y=(this.state.draggingState.draggedCellOrientation==="row"?f:h)!==p;(this.state.rowIndex!==f||this.state.colIndex!==h)&&(this.state.rowIndex=f,this.state.colIndex=h,this.state.referencePosCell=l.getBoundingClientRect(),c=!0);const b=this.state.draggingState.draggedCellOrientation==="row"?s.top:s.left;this.state.draggingState.mousePos!==b&&(this.state.draggingState.mousePos=b,c=!0),c&&this.emitUpdate(),y&&this.editor.dispatch(this.pmView.state.tr.setMeta(gm,!0))}),te(this,"dropHandler",o=>{if(this.mouseState="up",this.state===void 0||this.state.draggingState===void 0)return!1;if(this.state.rowIndex===void 0||this.state.colIndex===void 0)throw new Error("Attempted to drop table row or column, but no table block was hovered prior.");o.preventDefault();const{draggingState:i,colIndex:s,rowIndex:a}=this.state,l=this.state.block.content.columnWidths;if(i.draggedCellOrientation==="row"){if(!NW(this.state.block,i.originalIndex,a))return!1;const c=IMe(this.state.block,i.originalIndex,a);this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,rows:c}})}else{if(!OW(this.state.block,i.originalIndex,s))return!1;const c=jMe(this.state.block,i.originalIndex,s),[f]=l.splice(i.originalIndex,1);l.splice(s,0,f),this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,columnWidths:l,rows:c}})}return this.editor.setTextCursorPosition(this.state.block.id),!0}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized image toolbar");r(this.state)},n.dom.addEventListener("mousemove",this.mouseMoveHandler),n.dom.addEventListener("mousedown",this.viewMousedownHandler),window.addEventListener("mouseup",this.mouseUpHandler),n.root.addEventListener("dragover",this.dragOverHandler),n.root.addEventListener("drop",this.dropHandler)}update(){if(!this.state||!this.state.show)return;if(this.state.block=this.editor.getBlock(this.state.block.id),!this.state.block){this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate();return}const{height:e,width:n}=QR(this.state.block);this.state.rowIndex!==void 0&&this.state.colIndex!==void 0&&(this.state.rowIndex>=e&&(this.state.rowIndex=e-1),this.state.colIndex>=n&&(this.state.colIndex=n-1));const r=this.tableElement.querySelector("tbody");if(!r)throw new Error("Table block does not contain a 'tbody' HTML element. This should never happen.");if(this.state.rowIndex!==void 0&&this.state.colIndex!==void 0){const o=r.children[this.state.rowIndex].children[this.state.colIndex];o?this.state.referencePosCell=o.getBoundingClientRect():(this.state.rowIndex=void 0,this.state.colIndex=void 0)}this.state.referencePosTable=r.getBoundingClientRect(),this.emitUpdate()}destroy(){this.pmView.dom.removeEventListener("mousemove",this.mouseMoveHandler),window.removeEventListener("mouseup",this.mouseUpHandler),this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("dragover",this.dragOverHandler),this.pmView.root.removeEventListener("drop",this.dropHandler)}}const gm=new Dt("TableHandlesPlugin");let SNe=class extends ml{constructor(e){super(),te(this,"view"),te(this,"plugin"),te(this,"colDragStart",n=>{if(this.view.state===void 0||this.view.state.colIndex===void 0)throw new Error("Attempted to drag table column, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:n.clientX},this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(gm,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");wV(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(wo,0,0),n.dataTransfer.effectAllowed="move"}),te(this,"rowDragStart",n=>{if(this.view.state===void 0||this.view.state.rowIndex===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:n.clientY},this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(gm,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");wV(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(wo,0,0),n.dataTransfer.effectAllowed="copyMove"}),te(this,"dragEnd",()=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor.dispatch(this.editor._tiptapEditor.state.tr.setMeta(gm,null)),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");vNe(this.editor.prosemirrorView.root)}),te(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),te(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),te(this,"getCellsAtRowHandle",(n,r)=>b2(n,r)),te(this,"getCellsAtColumnHandle",(n,r)=>x2(n,r)),te(this,"setCellSelection",(n,r=n)=>{const o=this.view;if(!o)throw new Error("Table handles view not initialized");const i=this.editor.prosemirrorState,s=i.doc.resolve(o.tablePos+1),a=i.doc.resolve(s.posAtIndex(n.row)+1),l=i.doc.resolve(a.posAtIndex(n.col)),c=i.doc.resolve(s.posAtIndex(r.row)+1),f=i.doc.resolve(c.posAtIndex(r.col)),h=i.tr;return h.setSelection(new Xt(l,f)),i.apply(h)}),te(this,"addRowOrColumn",(n,r)=>{const o=this.setCellSelection(r.orientation==="row"?{row:n,col:0}:{row:0,col:n});return r.orientation==="row"?r.side==="above"?jke(o,this.editor.dispatch):Ike(o,this.editor.dispatch):r.side==="left"?Nke(o,this.editor.dispatch):Oke(o,this.editor.dispatch)}),te(this,"removeRowOrColumn",(n,r)=>{const o=this.setCellSelection(r==="row"?{row:n,col:0}:{row:0,col:n});return r==="row"?Bke(o,this.editor.dispatch):Pke(o,this.editor.dispatch)}),te(this,"mergeCells",n=>{const r=n?this.setCellSelection(n.relativeStartCell,n.relativeEndCell):this.editor.prosemirrorState;return Hke(r,this.editor.dispatch)}),te(this,"splitCell",n=>{const r=n?this.setCellSelection(n):this.editor.prosemirrorState;return zke(r,this.editor.dispatch)}),te(this,"getCellSelection",()=>{const n=this.editor.prosemirrorState,r=n.selection;let o=r.$from,i=r.$to;if(k2(r)){const{ranges:b}=r;b.forEach(x=>{o=x.$from.min(o??x.$from),i=x.$to.max(i??x.$to)})}else if(o=n.doc.resolve(r.$from.pos-r.$from.parentOffset-1),i=n.doc.resolve(r.$to.pos-r.$to.parentOffset-1),o.pos===0||i.pos===0)return;const s=n.doc.resolve(o.pos-o.parentOffset-1),a=n.doc.resolve(i.pos-i.parentOffset-1),l=n.doc.resolve(s.pos-s.parentOffset-1),c=o.index(s.depth),f=s.index(l.depth),h=i.index(a.depth),p=a.index(l.depth),y=[];for(let b=f;b<=p;b++)for(let x=c;x<=h;x++)y.push({row:b,col:x});return{from:{row:f,col:c},to:{row:p,col:h},cells:y}}),te(this,"getMergeDirection",n=>{const r=k2(this.editor.prosemirrorState.selection)?this.editor.prosemirrorState.selection:void 0;if(!r||!n||r.ranges.length<=1)return;const o=this.getCellSelection();if(o)return $Me(o.from,o.to,n)?"vertical":"horizontal"}),te(this,"cropEmptyRowsOrColumns",(n,r)=>VMe(n,r)),te(this,"addRowsOrColumns",(n,r,o)=>BMe(n,r,o)),this.editor=e,this.plugin=new gt({key:gm,view:n=>(this.view=new wNe(e,n,r=>{this.emit("update",r)}),this.view),props:{decorations:n=>{if(this.view===void 0||this.view.state===void 0||this.view.state.draggingState===void 0||this.view.tablePos===void 0)return;const r=this.view.state.draggingState.draggedCellOrientation==="row"?this.view.state.rowIndex:this.view.state.colIndex;if(r===void 0)return;const o=[];if(r===this.view.state.draggingState.originalIndex||this.view.state.draggingState.draggedCellOrientation==="row"&&!NW(this.view.state.block,this.view.state.draggingState.originalIndex,r)||this.view.state.draggingState.draggedCellOrientation==="col"&&!OW(this.view.state.block,this.view.state.draggingState.originalIndex,r))return St.create(n.doc,o);const i=n.doc.resolve(this.view.tablePos+1),s=this.view.state.draggingState.originalIndex;return this.view.state.draggingState.draggedCellOrientation==="row"?b2(this.view.state.block,r).forEach(({row:a,col:l})=>{const c=n.doc.resolve(i.posAtIndex(a)+1),f=n.doc.resolve(c.posAtIndex(l)+1),h=f.node(),p=f.pos+(r>s?h.nodeSize-2:0);o.push(nn.widget(p,()=>{const y=document.createElement("div");return y.className="bn-table-drop-cursor",y.style.left="0",y.style.right="0",r>s?y.style.bottom="-2px":y.style.top="-3px",y.style.height="4px",y}))}):x2(this.view.state.block,r).forEach(({row:a,col:l})=>{const c=n.doc.resolve(i.posAtIndex(a)+1),f=n.doc.resolve(c.posAtIndex(l)+1),h=f.node(),p=f.pos+(r>s?h.nodeSize-2:0);o.push(nn.widget(p,()=>{const y=document.createElement("div");return y.className="bn-table-drop-cursor",y.style.top="0",y.style.bottom="0",r>s?y.style.right="-2px":y.style.left="-3px",y.style.width="4px",y}))}),St.create(n.doc,o)}}})}onUpdate(e){return this.on("update",e)}};const CNe=Jt.create({name:"textAlignment",addGlobalAttributes(){return[{types:["paragraph","heading","bulletListItem","numberedListItem","checkListItem","tableCell","tableHeader"],attributes:{textAlignment:{default:"left",parseHTML:t=>t.getAttribute("data-text-alignment"),renderHTML:t=>t.textAlignment==="left"?{}:{"data-text-alignment":t.textAlignment}}}}]}}),kNe=Jt.create({name:"blockTextColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{textColor:{default:cr.textColor.default,parseHTML:t=>t.hasAttribute("data-text-color")?t.getAttribute("data-text-color"):cr.textColor.default,renderHTML:t=>t.textColor===cr.textColor.default?{}:{"data-text-color":t.textColor}}}}]}}),_Ne=Jt.create({name:"trailingNode",addProseMirrorPlugins(){const t=new Dt(this.name);return[new gt({key:t,appendTransaction:(e,n,r)=>{const{doc:o,tr:i,schema:s}=r,a=t.getState(r),l=o.content.size-2,c=s.nodes.blockContainer,f=s.nodes.paragraph;if(a)return i.insert(l,c.create(void 0,f.create()))},state:{init:(e,n)=>{},apply:(e,n)=>{if(!e.docChanged)return n;let r=e.doc.lastChild;if(!r||r.type.name!=="blockGroup")throw new Error("Expected blockGroup");if(r=r.lastChild,!r||r.type.name!=="blockContainer")return!0;const o=r.firstChild;if(!o)throw new Error("Expected blockContent");return r.nodeSize>4||o.type.spec.content!=="inline*"}}})]}}),ENe={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},TNe=la.create({name:"blockContainer",group:"blockGroupChild bnBlock",content:"blockContent blockGroup?",priority:50,defining:!0,parseHTML(){return[{tag:"div",getAttrs:t=>{if(typeof t=="string")return!1;const e={};for(const[n,r]of Object.entries(ENe))t.getAttribute(r)&&(e[n]=t.getAttribute(r));return t.getAttribute("data-node-type")==="blockContainer"?e:!1}}]},renderHTML({HTMLAttributes:t}){var e;const n=document.createElement("div");n.className="bn-block-outer",n.setAttribute("data-node-type","blockOuter");for(const[i,s]of Object.entries(t))i!=="class"&&n.setAttribute(i,s);const r={...((e=this.options.domAttributes)==null?void 0:e.block)||{},...t},o=document.createElement("div");o.className=Bn("bn-block",r.class),o.setAttribute("data-node-type",this.name);for(const[i,s]of Object.entries(r))i!=="class"&&o.setAttribute(i,s);return n.appendChild(o),{dom:n,contentDOM:o}}}),MNe=la.create({name:"blockGroup",group:"childContainer",content:"blockGroupChild+",parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")==="blockGroup"?null:!1}]},renderHTML({HTMLAttributes:t}){var e;const n={...((e=this.options.domAttributes)==null?void 0:e.blockGroup)||{},...t},r=document.createElement("div");r.className=Bn("bn-block-group",n.class),r.setAttribute("data-node-type","blockGroup");for(const[o,i]of Object.entries(n))o!=="class"&&r.setAttribute(o,i);return{dom:r,contentDOM:r}}}),ANe=la.create({name:"doc",topNode:!0,content:"blockGroup"}),RNe=t=>{const e={},n=NNe(t);for(const o of n)e[o.name]=o;e.formattingToolbar=new KRe(t.editor),e.linkToolbar=new tNe(t.editor),e.sideMenu=new pNe(t.editor,t.sideMenuDetection),e.suggestionMenus=new yNe(t.editor),e.filePanel=new WRe(t.editor),e.placeholder=new iNe(t.editor,t.placeholders),(t.animations??!0)&&(e.animations=new aNe),t.tableHandles&&(e.tableHandles=new SNe(t.editor)),e.dropCursor={plugin:t.dropCursor({width:5,color:"#ddeeff",editor:t.editor})},e.nodeSelectionKeyboard=new rNe,e.showSelection=new lNe(t.editor),t.comments&&(e.comments=new URe(t.editor,t.comments.threadStore,hq.name));const r=t.disableExtensions||[];for(const o of r)delete e[o];return e};let SV=!1;const NNe=t=>{const e=[Zp.ClipboardTextSerializer,Zp.Commands,Zp.Editable,Zp.FocusEvents,Zp.Tabindex,V_e,Ew.configure({types:["blockContainer","columnList","column"],setIdAttribute:t.setIdAttribute}),B_e.extend({priority:10}),bEe,vEe.extend({inclusive:!1}).configure({defaultProtocol:gq,protocols:SV?[]:mq}),...Object.values(t.styleSpecs).map(n=>n.implementation.mark.configure({editor:t.editor})),kNe,BRe,CNe,Jt.create({name:"OverrideEscape",addKeyboardShortcuts(){return{Escape:()=>t.editor.suggestionMenus.shown?!1:this.editor.commands.blur()}}}),ANe,TNe.configure({editor:t.editor,domAttributes:t.domAttributes}),JRe.configure({editor:t.editor,tabBehavior:t.tabBehavior}),MNe.configure({domAttributes:t.domAttributes}),...Object.values(t.inlineContentSpecs).filter(n=>n.config!=="link"&&n.config!=="text").map(n=>n.implementation.node.configure({editor:t.editor})),...Object.values(t.blockSpecs).flatMap(n=>[...(n.implementation.requiredExtensions||[]).map(r=>r.configure({editor:t.editor,domAttributes:t.domAttributes})),n.implementation.node.configure({editor:t.editor,domAttributes:t.domAttributes})]),VRe(t.editor),jRe(t.editor),PRe(t.editor),...t.trailingBlock===void 0||t.trailingBlock?[_Ne]:[],...t.comments?[hq]:[]];return SV=!0,t.collaboration?e.push(...$Re(t.collaboration)):e.push(K_e),e};function ONe(t,e){const n=[];return t.forEach((r,o,i)=>{i!==e&&n.push(r)}),ce.from(n)}function DNe(t,e){const n=[];for(let r=0;r<t.childCount;r++)if(t.child(r).type.name==="tableRow")if(n.length>0&&n[n.length-1].type.name==="table"){const o=n[n.length-1],i=o.copy(o.content.addToEnd(t.child(r)));n[n.length-1]=i}else{const o=e.nodes.table.createChecked(void 0,t.child(r));n.push(o)}else n.push(t.child(r));return t=ce.from(n),t}function PNe(t,e){let n=ce.from(t.content);if(n=DNe(n,e.state.schema),!LNe(n,e))return new Se(n,t.openStart,t.openEnd);for(let r=0;r<n.childCount;r++)if(n.child(r).type.spec.group==="blockContent"){const o=[n.child(r)];if(r+1<n.childCount&&n.child(r+1).type.name==="blockGroup"){const s=n.child(r+1).child(0).child(0);(s.type.name==="bulletListItem"||s.type.name==="numberedListItem"||s.type.name==="checkListItem")&&(o.push(n.child(r+1)),n=ONe(n,r+1))}const i=e.state.schema.nodes.blockContainer.createChecked(void 0,o);n=n.replaceChild(r,i)}return new Se(n,t.openStart,t.openEnd)}function LNe(t,e){var n,r;const o=t.childCount===1,i=((n=t.firstChild)==null?void 0:n.type.spec.content)==="inline*",s=((r=t.firstChild)==null?void 0:r.type.spec.content)==="tableRow+";if(o){if(i)return!1;if(s){const a=an(e.state);if(a.isBlockContainer)return a.blockContent.node.type.spec.content!=="tableRow+"}}return!0}const M2=class extends Qxe{constructor(e,n){super({...e,content:void 0}),te(this,"_state"),te(this,"mount",(a,l)=>{a?(this.options.element=a,this.createViewAlternative(l)):this.destroy()});const r=this.schema;let o;const i=r.nodes.doc.createAndFill;r.nodes.doc.createAndFill=(...a)=>{if(o)return o;const l=i.apply(r.nodes.doc,a),c=JSON.parse(JSON.stringify(l.toJSON()));return c.content[0].content[0].attrs.id="initialBlockId",o=Ja.fromJSON(r,c),o};let s;try{const a=e==null?void 0:e.content.map(l=>yd(l,this.schema,n).toJSON());s=i1({type:"doc",content:[{type:"blockGroup",content:a}]},this.schema,this.options.parseOptions)}catch(a){throw console.error("Error creating document from blocks passed as `initialContent`. Caused by exception: ",a),new Error("Error creating document from blocks passed as `initialContent`:\n"+ +JSON.stringify(e.content))}this._state=wu.create({doc:s,schema:this.schema})}get state(){return this.view&&(this._state=this.view.state),this._state}dispatch(e){this.view?this.view.dispatch(e):this._state=this.state.apply(e)}createViewAlternative(e){this.contentComponent=e;const n={};this.extensionManager.extensions.forEach(o=>{o.type==="mark"&&o.config.addMarkView&&(n[o.name]=o.config.addMarkView)}),this.view=new MF({mount:this.options.element},{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:this.state,markViews:n});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.commands.focus(this.options.autofocus||this.options.element.getAttribute("data-bn-autofocus")==="true",{scrollIntoView:!1}),this.emit("create",{editor:this}),this.isInitialized=!0}};te(M2,"create",(t,e)=>{var n,r;const o=(n=globalThis==null?void 0:globalThis.window)==null?void 0:n.setTimeout;typeof((r=globalThis==null?void 0:globalThis.window)==null?void 0:r.setTimeout)<"u"&&(globalThis.window.setTimeout=()=>0);try{return new M2(t,e)}finally{o&&(globalThis.window.setTimeout=o)}});let bq=M2;bq.prototype.createView=function(){this.options.onPaste=this.options.onDrop=void 0};const jNe={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};let INe=class xq extends ml{constructor(e){var n,r,o,i,s,a,l,c,f,h,p;super(),te(this,"pmSchema"),te(this,"extensions",{}),te(this,"headless",!1),te(this,"_tiptapEditor"),te(this,"elementRenderer",null),te(this,"blockCache",new WeakMap),te(this,"dictionary"),te(this,"schema"),te(this,"blockImplementations"),te(this,"inlineContentImplementations"),te(this,"styleImplementations"),te(this,"formattingToolbar"),te(this,"linkToolbar"),te(this,"sideMenu"),te(this,"suggestionMenus"),te(this,"filePanel"),te(this,"tableHandles"),te(this,"comments"),te(this,"showSelectionPlugin"),te(this,"uploadFile"),te(this,"onUploadStartCallbacks",[]),te(this,"onUploadEndCallbacks",[]),te(this,"resolveFileUrl"),te(this,"resolveUsers"),te(this,"settings"),te(this,"dispatch",T=>{this._tiptapEditor.dispatch(T)}),te(this,"mount",(T,R)=>{this._tiptapEditor.mount(T,R)}),this.options=e;const y=e;if(y.onEditorContentChange)throw new Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(y.onTextCursorPositionChange)throw new Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(y.onEditorReady)throw new Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(y.editable)throw new Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");this.dictionary=e.dictionary||RMe,this.settings={tables:{splitCells:((n=e==null?void 0:e.tables)==null?void 0:n.splitCells)??!1,cellBackgroundColor:((r=e==null?void 0:e.tables)==null?void 0:r.cellBackgroundColor)??!1,cellTextColor:((o=e==null?void 0:e.tables)==null?void 0:o.cellTextColor)??!1,headers:((i=e==null?void 0:e.tables)==null?void 0:i.headers)??!1}};const b={defaultStyles:!0,schema:e.schema||Lh.create(),_headless:!1,...e,placeholders:{...this.dictionary.placeholders,...e.placeholders}};if(b.comments&&!b.resolveUsers)throw new Error("resolveUsers is required when using comments");if(this.resolveUsers=b.resolveUsers,this.schema=b.schema,this.blockImplementations=b.schema.blockSpecs,this.inlineContentImplementations=b.schema.inlineContentSpecs,this.styleImplementations=b.schema.styleSpecs,this.extensions=RNe({editor:this,domAttributes:b.domAttributes||{},blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:b.collaboration,trailingBlock:b.trailingBlock,disableExtensions:b.disableExtensions,setIdAttribute:b.setIdAttribute,animations:b.animations??!0,tableHandles:Ho("table",this),dropCursor:this.options.dropCursor??EMe,placeholders:b.placeholders,tabBehavior:b.tabBehavior,sideMenuDetection:b.sideMenuDetection||"viewport",comments:b.comments}),(((s=b._tiptapOptions)==null?void 0:s.extensions)||[]).forEach(T=>{this.extensions[T.name]=T}),Object.entries(b._extensions||{}).forEach(([T,R])=>{typeof R=="function"&&(R=R(this)),this.extensions[T]=R}),this.formattingToolbar=this.extensions.formattingToolbar,this.linkToolbar=this.extensions.linkToolbar,this.sideMenu=this.extensions.sideMenu,this.suggestionMenus=this.extensions.suggestionMenus,this.filePanel=this.extensions.filePanel,this.tableHandles=this.extensions.tableHandles,this.comments=this.extensions.comments,this.showSelectionPlugin=this.extensions.showSelection,b.uploadFile){const T=b.uploadFile;this.uploadFile=async(R,A)=>{this.onUploadStartCallbacks.forEach(N=>N.apply(this,[A]));try{return await T(R,A)}finally{this.onUploadEndCallbacks.forEach(N=>N.apply(this,[A]))}}}this.resolveFileUrl=b.resolveFileUrl,this.headless=b._headless;const x="collaboration"in this.extensions||"liveblocksExtension"in this.extensions;if(x&&b.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider"),b.comments&&!x)throw new Error("Comments are only supported when collaboration is enabled, please set the collaboration option");const C=b.initialContent||(x?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:Ew.options.generateID()}]);if(!Array.isArray(C)||C.length===0)throw new Error("initialContent must be a non-empty array of blocks, received: "+C);const k=[...Object.entries(this.extensions).map(([T,R])=>{if(R instanceof Jt||R instanceof la||R instanceof Ro)return R;if(!R.plugin)throw new Error("Extension should either be a TipTap extension or a ProseMirror plugin in a plugin property");return Jt.create({name:T,addProseMirrorPlugins:()=>[R.plugin]})})],E={...jNe,...b._tiptapOptions,content:C,extensions:k,editorProps:{...(a=b._tiptapOptions)==null?void 0:a.editorProps,attributes:{tabIndex:"0",...(c=(l=b._tiptapOptions)==null?void 0:l.editorProps)==null?void 0:c.attributes,...(f=b.domAttributes)==null?void 0:f.editor,class:Bn("bn-editor",b.defaultStyles?"bn-default-styles":"",((p=(h=b.domAttributes)==null?void 0:h.editor)==null?void 0:p.class)||"")},transformPasted:PNe}};this.headless?this.pmSchema=_xe(E.extensions):(this._tiptapEditor=bq.create(E,this.schema.styleSchema),this.pmSchema=this._tiptapEditor.schema),this.emit("create")}static create(e={}){return new xq(e)}get prosemirrorView(){return this._tiptapEditor.view}get prosemirrorState(){return this._tiptapEditor.state}get domElement(){var e;return(e=this.prosemirrorView)==null?void 0:e.dom}isFocused(){var e;return((e=this.prosemirrorView)==null?void 0:e.hasFocus())||!1}focus(){var e;(e=this.prosemirrorView)==null||e.focus()}onUploadStart(e){return this.onUploadStartCallbacks.push(e),()=>{const n=this.onUploadStartCallbacks.indexOf(e);n>-1&&this.onUploadStartCallbacks.splice(n,1)}}onUploadEnd(e){return this.onUploadEndCallbacks.push(e),()=>{const n=this.onUploadEndCallbacks.indexOf(e);n>-1&&this.onUploadEndCallbacks.splice(n,1)}}get topLevelBlocks(){return this.document}get document(){const e=[];return this.prosemirrorState.doc.firstChild.descendants(n=>(e.push($n(n,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.blockCache)),!1)),e}getBlock(e){return pRe(this,e)}getPrevBlock(e){return mRe(this,e)}getNextBlock(e){return gRe(this,e)}getParentBlock(e){return yRe(this,e)}forEachBlock(e,n=!1){const r=this.document.slice();n&&r.reverse();function o(i){for(const s of i){if(e(s)===!1)return!1;const a=n?s.children.slice().reverse():s.children;if(!o(a))return!1}return!0}o(r)}onEditorContentChange(e){this._tiptapEditor.on("update",e)}onEditorSelectionChange(e){this._tiptapEditor.on("selectionUpdate",e)}getTextCursorPosition(){return wRe(this)}setTextCursorPosition(e,n="start"){aq(this,e,n)}getSelection(){return bRe(this)}setSelection(e,n){xRe(this,e,n)}get isEditable(){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return!1}return this._tiptapEditor.isEditable===void 0?!0:this._tiptapEditor.isEditable}set isEditable(e){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return}this._tiptapEditor.options.editable!==e&&this._tiptapEditor.setEditable(e)}insertBlocks(e,n,r="before"){return rRe(this,e,n,r)}updateBlock(e,n){return FMe(this,e,n)}removeBlocks(e){return hRe(this,e)}replaceBlocks(e,n){return fRe(this,e,n)}insertInlineContent(e){const n=as(e,this.pmSchema,this.schema.styleSchema);vRe({from:this._tiptapEditor.state.selection.from,to:this._tiptapEditor.state.selection.to},n,this)}getActiveStyles(){const e={},n=this._tiptapEditor.state.selection.$to.marks();for(const r of n){const o=this.schema.styleSchema[r.type.name];if(!o){r.type.name!=="link"&&!r.type.spec.blocknoteIgnore&&console.warn("mark not found in styleschema",r.type.name);continue}o.propSchema==="boolean"?e[o.type]=!0:e[o.type]=r.attrs.stringValue}return e}addStyles(e){for(const[n,r]of Object.entries(e)){const o=this.schema.styleSchema[n];if(!o)throw new Error(`style ${n} not found in styleSchema`);if(o.propSchema==="boolean")this._tiptapEditor.commands.setMark(n);else if(o.propSchema==="string")this._tiptapEditor.commands.setMark(n,{stringValue:r});else throw new oa(o.propSchema)}}removeStyles(e){for(const n of Object.keys(e))this._tiptapEditor.commands.unsetMark(n)}toggleStyles(e){for(const[n,r]of Object.entries(e)){const o=this.schema.styleSchema[n];if(!o)throw new Error(`style ${n} not found in styleSchema`);if(o.propSchema==="boolean")this._tiptapEditor.commands.toggleMark(n);else if(o.propSchema==="string")this._tiptapEditor.commands.toggleMark(n,{stringValue:r});else throw new oa(o.propSchema)}}getSelectedText(){return this._tiptapEditor.state.doc.textBetween(this._tiptapEditor.state.selection.from,this._tiptapEditor.state.selection.to)}getSelectedLinkUrl(){return this._tiptapEditor.getAttributes("link").href}createLink(e,n){if(e==="")return;const{from:r,to:o}=this._tiptapEditor.state.selection;n||(n=this._tiptapEditor.state.doc.textBetween(r,o));const i=this.pmSchema.mark("link",{href:e});this.dispatch(this._tiptapEditor.state.tr.insertText(n,r,o).addMark(r,r+n.length,i))}canNestBlock(){return uRe(this)}nestBlock(){iq(this)}canUnnestBlock(){return dRe(this)}unnestBlock(){cRe(this)}moveBlocksUp(){sRe(this)}moveBlocksDown(){aRe(this)}async blocksToHTMLLossy(e=this.document){return Aw(this.pmSchema,this).exportBlocks(e,{})}async blocksToFullHTML(e){return YMe(this.pmSchema,this).serializeBlocks(e,{})}async tryParseHTMLToBlocks(e){return cq(e,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.pmSchema)}async blocksToMarkdownLossy(e=this.document){return kRe(e,this.pmSchema,this,{})}async tryParseMarkdownToBlocks(e){return NRe(e,this.schema.blockSchema,this.schema.inlineContentSchema,this.schema.styleSchema,this.pmSchema)}updateCollaborationUserInfo(e){if(!this.options.collaboration)throw new Error("Cannot update collaboration user info when collaboration is disabled.");this._tiptapEditor.commands.updateUser(e)}onChange(e){if(this.headless)return;const n=()=>{e(this)};return this._tiptapEditor.on("update",n),()=>{this._tiptapEditor.off("update",n)}}onSelectionChange(e,n){if(this.headless)return;const r=o=>{o.transaction.getMeta(pn)&&!n||e(this)};return this._tiptapEditor.on("selectionUpdate",r),()=>{this._tiptapEditor.off("selectionUpdate",r)}}onCreate(e){return this.on("create",e),()=>{this.off("create",e)}}getSelectionBoundingBox(){var e;if(!this.prosemirrorView)return;const n=(e=this.prosemirrorView)==null?void 0:e.state,{selection:r}=n,{ranges:o}=r,i=Math.min(...o.map(a=>a.$from.pos)),s=Math.max(...o.map(a=>a.$to.pos));if(OT(r)){const a=this.prosemirrorView.nodeDOM(i);if(a)return a.getBoundingClientRect()}return s1(this.prosemirrorView,i,s)}get isEmpty(){const e=this.document;return e.length===0||e.length===1&&e[0].type==="paragraph"&&e[0].content.length===0}openSuggestionMenu(e,n){var r;const o=(r=this.prosemirrorView)==null?void 0:r.state.tr;if(!o)return;const i=n&&n.deleteTriggerCharacter?o.insertText(e):o;this.prosemirrorView.focus(),this.prosemirrorView.dispatch(i.scrollIntoView().setMeta(this.suggestionMenus.plugin,{triggerCharacter:e,deleteTriggerCharacter:(n==null?void 0:n.deleteTriggerCharacter)||!1,ignoreQueryLength:(n==null?void 0:n.ignoreQueryLength)||!1}))}getForceSelectionVisible(){return this.showSelectionPlugin.getEnabled()}setForceSelectionVisible(e){this.showSelectionPlugin.setEnabled(e)}};const VNe={gray:{text:"#9b9a97",background:"#ebeced"},brown:{text:"#64473a",background:"#e9e5e3"},red:{text:"#e03e3e",background:"#fbe4e4"},orange:{text:"#d9730d",background:"#f6e9d9"},yellow:{text:"#dfab01",background:"#fbf3db"},green:{text:"#4d6461",background:"#ddedea"},blue:{text:"#0b6e99",background:"#ddebf1"},purple:{text:"#6940a5",background:"#eae4f2"},pink:{text:"#ad1a72",background:"#f4dfeb"}},BNe={gray:{text:"#bebdb8",background:"#9b9a97"},brown:{text:"#8e6552",background:"#64473a"},red:{text:"#ec4040",background:"#be3434"},orange:{text:"#e3790d",background:"#b7600a"},yellow:{text:"#dfab01",background:"#b58b00"},green:{text:"#6b8b87",background:"#4d6461"},blue:{text:"#0e87bc",background:"#0b6e99"},purple:{text:"#8552d7",background:"#6940a5"},pink:{text:"#da208f",background:"#ad1a72"}};let X_;async function $Ne(){return X_||(X_=(async()=>{const[t,e]=await Promise.all([I(()=>import("./module-BvCTiNll.js"),[]),I(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in t?t.default:t,r="default"in e?e.default:e;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),X_)}async function HNe(t,e){if(!JAe("text",t))return[];const{emojiData:n,emojiMart:r}=await $Ne();return(e.trim()===""?Object.values(n.emojis):await r.SearchIndex.search(e)).map(o=>({id:o.skins[0].native,onItemClick:()=>t.insertInlineContent(o.skins[0].native+" ")}))}function A2(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function vh(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&tT(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function wq(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function Sq(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function zNe(t){return UNe()?!1:!CV()&&t.width===0&&t.height===0||CV()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function Cq(){return/apple/i.test(navigator.vendor)}function CV(){const t=/android/i;return t.test(wq())||t.test(Sq())}function FNe(){return wq().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function UNe(){return Sq().includes("jsdom/")}function R2(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}function GNe(t){return"nativeEvent"in t}function WNe(t){return t.matches("html,body")}function ic(t){return(t==null?void 0:t.ownerDocument)||document}function J_(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Sf(t){return"composedPath"in t?t.composedPath()[0]:t.target}const qNe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function YNe(t){return Zo(t)&&t.matches(qNe)}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var KNe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],N2=KNe.join(","),kq=typeof Element>"u",Hg=kq?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,rx=!kq&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},ox=function t(e,n){var r;n===void 0&&(n=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),i=o===""||o==="true",s=i||n&&e&&t(e.parentNode);return s},ZNe=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},XNe=function(e,n,r){if(ox(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(N2));return n&&Hg.call(e,N2)&&o.unshift(e),o=o.filter(r),o},JNe=function t(e,n,r){for(var o=[],i=Array.from(e);i.length;){var s=i.shift();if(!ox(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,c=t(l,!0,r);r.flatten?o.push.apply(o,c):o.push({scopeParent:s,candidates:c})}else{var f=Hg.call(s,N2);f&&r.filter(s)&&(n||!e.includes(s))&&o.push(s);var h=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),p=!ox(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(h&&p){var y=t(h===!0?s.children:h.children,!0,r);r.flatten?o.push.apply(o,y):o.push({scopeParent:s,candidates:y})}else i.unshift.apply(i,s.children)}}return o},_q=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Eq=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ZNe(e))&&!_q(e)?0:e.tabIndex},QNe=function(e,n){var r=Eq(e);return r<0&&n&&!_q(e)?0:r},eOe=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Tq=function(e){return e.tagName==="INPUT"},tOe=function(e){return Tq(e)&&e.type==="hidden"},nOe=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},rOe=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},oOe=function(e){if(!e.name)return!0;var n=e.form||rx(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=rOe(o,e.form);return!i||i===e},iOe=function(e){return Tq(e)&&e.type==="radio"},sOe=function(e){return iOe(e)&&!oOe(e)},aOe=function(e){var n,r=e&&rx(e),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==e){var s,a,l;for(i=!!((s=o)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(o)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!i&&o;){var c,f,h;r=rx(o),o=(c=r)===null||c===void 0?void 0:c.host,i=!!((f=o)!==null&&f!==void 0&&(h=f.ownerDocument)!==null&&h!==void 0&&h.contains(o))}}return i},kV=function(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},lOe=function(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=Hg.call(e,"details>summary:first-of-type"),s=i?e.parentElement:e;if(Hg.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var a=e;e;){var l=e.parentElement,c=rx(e);if(l&&!l.shadowRoot&&o(l)===!0)return kV(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=a}if(aOe(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return kV(e);return!1},cOe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Hg.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},uOe=function(e,n){return!(n.disabled||ox(n)||tOe(n)||lOe(n,e)||nOe(n)||cOe(n))},_V=function(e,n){return!(sOe(n)||Eq(n)<0||!uOe(e,n))},dOe=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},fOe=function t(e){var n=[],r=[];return e.forEach(function(o,i){var s=!!o.scopeParent,a=s?o.scopeParent:o,l=QNe(a,s),c=s?t(o.candidates):a;l===0?s?n.push.apply(n,c):n.push(a):r.push({documentOrder:i,tabIndex:l,item:o,isScope:s,content:c})}),r.sort(eOe).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},Mq=function(e,n){n=n||{};var r;return n.getShadowRoot?r=JNe([e],n.includeContainer,{filter:_V.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:dOe}):r=XNe(e,n.includeContainer,_V.bind(null,n)),fOe(r)};const Aq={...HB},hOe=Aq.useInsertionEffect,pOe=hOe||(t=>t());function Ha(t){const e=w.useRef(()=>{});return pOe(()=>{e.current=t}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}var qr=typeof document<"u"?w.useLayoutEffect:w.useEffect;function O2(){return O2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O2.apply(this,arguments)}let EV=!1,mOe=0;const TV=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+mOe++;function gOe(){const[t,e]=w.useState(()=>EV?TV():void 0);return qr(()=>{t==null&&e(TV())},[]),w.useEffect(()=>{EV=!0},[]),t}const yOe=Aq.useId,lN=yOe||gOe;function vOe(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(o=>o(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(o=>o!==n))||[])}}}const bOe=w.createContext(null),xOe=w.createContext(null),cN=()=>{var t;return((t=w.useContext(bOe))==null?void 0:t.id)||null},uN=()=>w.useContext(xOe);function Ay(t){return"data-floating-ui-"+t}function Mu(t){const e=w.useRef(t);return qr(()=>{e.current=t}),e}const MV=Ay("safe-polygon");function h0(t,e,n){return n&&!R2(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function wOe(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:s}=t,{enabled:a=!0,delay:l=0,handleClose:c=null,mouseOnly:f=!1,restMs:h=0,move:p=!0}=e,y=uN(),b=cN(),x=Mu(c),C=Mu(l),k=Mu(n),E=w.useRef(),T=w.useRef(-1),R=w.useRef(),A=w.useRef(-1),N=w.useRef(!0),O=w.useRef(!1),j=w.useRef(()=>{}),P=w.useRef(!1),z=w.useCallback(()=>{var $;const V=($=o.current.openEvent)==null?void 0:$.type;return(V==null?void 0:V.includes("mouse"))&&V!=="mousedown"},[o]);w.useEffect(()=>{if(!a)return;function $(V){let{open:G}=V;G||(clearTimeout(T.current),clearTimeout(A.current),N.current=!0,P.current=!1)}return i.on("openchange",$),()=>{i.off("openchange",$)}},[a,i]),w.useEffect(()=>{if(!a||!x.current||!n)return;function $(G){z()&&r(!1,G,"hover")}const V=ic(s.floating).documentElement;return V.addEventListener("mouseleave",$),()=>{V.removeEventListener("mouseleave",$)}},[s.floating,n,r,a,x,z]);const X=w.useCallback(function($,V,G){V===void 0&&(V=!0),G===void 0&&(G="hover");const L=h0(C.current,"close",E.current);L&&!R.current?(clearTimeout(T.current),T.current=window.setTimeout(()=>r(!1,$,G),L)):V&&(clearTimeout(T.current),r(!1,$,G))},[C,r]),Z=Ha(()=>{j.current(),R.current=void 0}),q=Ha(()=>{if(O.current){const $=ic(s.floating).body;$.style.pointerEvents="",$.removeAttribute(MV),O.current=!1}}),re=Ha(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);w.useEffect(()=>{if(!a)return;function $(W){if(clearTimeout(T.current),N.current=!1,f&&!R2(E.current)||h>0&&!h0(C.current,"open"))return;const se=h0(C.current,"open",E.current);se?T.current=window.setTimeout(()=>{k.current||r(!0,W,"hover")},se):n||r(!0,W,"hover")}function V(W){if(re())return;j.current();const se=ic(s.floating);if(clearTimeout(A.current),P.current=!1,x.current&&o.current.floatingContext){n||clearTimeout(T.current),R.current=x.current({...o.current.floatingContext,tree:y,x:W.clientX,y:W.clientY,onClose(){q(),Z(),re()||X(W,!0,"safe-polygon")}});const fe=R.current;se.addEventListener("mousemove",fe),j.current=()=>{se.removeEventListener("mousemove",fe)};return}(E.current==="touch"?!vh(s.floating,W.relatedTarget):!0)&&X(W)}function G(W){re()||o.current.floatingContext&&(x.current==null||x.current({...o.current.floatingContext,tree:y,x:W.clientX,y:W.clientY,onClose(){q(),Z(),re()||X(W)}})(W))}if(ln(s.domReference)){var L;const W=s.domReference;return n&&W.addEventListener("mouseleave",G),(L=s.floating)==null||L.addEventListener("mouseleave",G),p&&W.addEventListener("mousemove",$,{once:!0}),W.addEventListener("mouseenter",$),W.addEventListener("mouseleave",V),()=>{var se;n&&W.removeEventListener("mouseleave",G),(se=s.floating)==null||se.removeEventListener("mouseleave",G),p&&W.removeEventListener("mousemove",$),W.removeEventListener("mouseenter",$),W.removeEventListener("mouseleave",V)}}},[s,a,t,f,h,p,X,Z,q,r,n,k,y,C,x,o,re]),qr(()=>{var $;if(a&&n&&($=x.current)!=null&&$.__options.blockPointerEvents&&z()){O.current=!0;const G=s.floating;if(ln(s.domReference)&&G){var V;const L=ic(s.floating).body;L.setAttribute(MV,"");const W=s.domReference,se=y==null||(V=y.nodesRef.current.find(ae=>ae.id===b))==null||(V=V.context)==null?void 0:V.elements.floating;return se&&(se.style.pointerEvents=""),L.style.pointerEvents="none",W.style.pointerEvents="auto",G.style.pointerEvents="auto",()=>{L.style.pointerEvents="",W.style.pointerEvents="",G.style.pointerEvents=""}}}},[a,n,b,s,y,x,z]),qr(()=>{n||(E.current=void 0,P.current=!1,Z(),q())},[n,Z,q]),w.useEffect(()=>()=>{Z(),clearTimeout(T.current),clearTimeout(A.current),q()},[a,s.domReference,Z,q]);const ee=w.useMemo(()=>{function $(V){E.current=V.pointerType}return{onPointerDown:$,onPointerEnter:$,onMouseMove(V){const{nativeEvent:G}=V;function L(){!N.current&&!k.current&&r(!0,G,"hover")}f&&!R2(E.current)||n||h===0||P.current&&V.movementX**2+V.movementY**2<2||(clearTimeout(A.current),E.current==="touch"?L():(P.current=!0,A.current=window.setTimeout(L,h)))}}},[f,r,n,k,h]),B=w.useMemo(()=>({onMouseEnter(){clearTimeout(T.current)},onMouseLeave($){re()||X($.nativeEvent,!1)}}),[X,re]);return w.useMemo(()=>a?{reference:ee,floating:B}:{},[a,ee,B])}const D2=()=>{},Rq=w.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:D2,setState:D2,isInstantPhase:!1}),SOe=()=>w.useContext(Rq);function COe(t){const{children:e,delay:n,timeoutMs:r=0}=t,[o,i]=w.useReducer((l,c)=>({...l,...c}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=w.useRef(null),a=w.useCallback(l=>{i({currentId:l})},[]);return qr(()=>{o.currentId?s.current===null?s.current=o.currentId:o.isInstantPhase||i({isInstantPhase:!0}):(o.isInstantPhase&&i({isInstantPhase:!1}),s.current=null)},[o.currentId,o.isInstantPhase]),w.createElement(Rq.Provider,{value:w.useMemo(()=>({...o,setState:i,setCurrentId:a}),[o,a])},e)}function kOe(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,floatingId:o}=t,{id:i,enabled:s=!0}=e,a=i??o,l=SOe(),{currentId:c,setCurrentId:f,initialDelay:h,setState:p,timeoutMs:y}=l;return qr(()=>{s&&c&&(p({delay:{open:1,close:h0(h,"close")}}),c!==a&&r(!1))},[s,a,r,p,c,h]),qr(()=>{function b(){r(!1),p({delay:h,currentId:null})}if(s&&c&&!n&&c===a){if(y){const x=window.setTimeout(b,y);return()=>{clearTimeout(x)}}b()}},[s,n,p,c,a,r,h,y]),qr(()=>{s&&(f===D2||!n||f(a))},[s,n,f,a]),l}function Q_(t,e){let n=t.filter(o=>{var i;return o.parentId===e&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=t.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var a;return o.parentId===s.id&&((a=o.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const Nq=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Oq(t,e){const n=Mq(t,Nq());e==="prev"&&n.reverse();const r=n.indexOf(A2(ic(t)));return n.slice(r+1)[0]}function _Oe(){return Oq(document.body,"next")}function EOe(){return Oq(document.body,"prev")}function eE(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!vh(n,r)}function TOe(t){Mq(t,Nq()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function AV(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Dq={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let MOe;function RV(t){t.key==="Tab"&&(t.target,clearTimeout(MOe))}const NV=w.forwardRef(function(e,n){const[r,o]=w.useState();qr(()=>(Cq()&&o("button"),document.addEventListener("keydown",RV),()=>{document.removeEventListener("keydown",RV)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Ay("focus-guard")]:"",style:Dq};return w.createElement("span",O2({},e,i))}),Pq=w.createContext(null),OV=Ay("portal");function AOe(t){t===void 0&&(t={});const{id:e,root:n}=t,r=lN(),o=NOe(),[i,s]=w.useState(null),a=w.useRef(null);return qr(()=>()=>{i==null||i.remove(),queueMicrotask(()=>{a.current=null})},[i]),qr(()=>{if(!r||a.current)return;const l=e?document.getElementById(e):null;if(!l)return;const c=document.createElement("div");c.id=r,c.setAttribute(OV,""),l.appendChild(c),a.current=c,s(c)},[e,r]),qr(()=>{if(n===null||!r||a.current)return;let l=n||(o==null?void 0:o.portalNode);l&&!ln(l)&&(l=l.current),l=l||document.body;let c=null;e&&(c=document.createElement("div"),c.id=e,l.appendChild(c));const f=document.createElement("div");f.id=r,f.setAttribute(OV,""),l=c||l,l.appendChild(f),a.current=f,s(f)},[e,n,r,o]),i}function ROe(t){const{children:e,id:n,root:r,preserveTabOrder:o=!0}=t,i=AOe({id:n,root:r}),[s,a]=w.useState(null),l=w.useRef(null),c=w.useRef(null),f=w.useRef(null),h=w.useRef(null),p=s==null?void 0:s.modal,y=s==null?void 0:s.open,b=!!s&&!s.modal&&s.open&&o&&!!(r||i);return w.useEffect(()=>{if(!i||!o||p)return;function x(C){i&&eE(C)&&(C.type==="focusin"?AV:TOe)(i)}return i.addEventListener("focusin",x,!0),i.addEventListener("focusout",x,!0),()=>{i.removeEventListener("focusin",x,!0),i.removeEventListener("focusout",x,!0)}},[i,o,p]),w.useEffect(()=>{i&&(y||AV(i))},[y,i]),w.createElement(Pq.Provider,{value:w.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:f,afterInsideRef:h,portalNode:i,setFocusManagerState:a}),[o,i])},b&&i&&w.createElement(NV,{"data-type":"outside",ref:l,onFocus:x=>{if(eE(x,i)){var C;(C=f.current)==null||C.focus()}else{const k=EOe()||(s==null?void 0:s.refs.domReference.current);k==null||k.focus()}}}),b&&i&&w.createElement("span",{"aria-owns":i.id,style:Dq}),i&&Di.createPortal(e,i),b&&i&&w.createElement(NV,{"data-type":"outside",ref:c,onFocus:x=>{if(eE(x,i)){var C;(C=h.current)==null||C.focus()}else{const k=_Oe()||(s==null?void 0:s.refs.domReference.current);k==null||k.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,x.nativeEvent,"focus-out"))}}}))}const NOe=()=>w.useContext(Pq),OOe="data-floating-ui-focusable",DOe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},POe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},DV=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function Lq(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=t,{enabled:s=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:p=!1,bubbles:y,capture:b}=e,x=uN(),C=Ha(typeof l=="function"?l:()=>!1),k=typeof l=="function"?C:l,E=w.useRef(!1),T=w.useRef(!1),{escapeKey:R,outsidePress:A}=DV(y),{escapeKey:N,outsidePress:O}=DV(b),j=w.useRef(!1),P=Ha(ee=>{var B;if(!n||!s||!a||ee.key!=="Escape"||j.current)return;const $=(B=i.current.floatingContext)==null?void 0:B.nodeId,V=x?Q_(x.nodesRef.current,$):[];if(!R&&(ee.stopPropagation(),V.length>0)){let G=!0;if(V.forEach(L=>{var W;if((W=L.context)!=null&&W.open&&!L.context.dataRef.current.__escapeKeyBubbles){G=!1;return}}),!G)return}r(!1,GNe(ee)?ee.nativeEvent:ee,"escape-key")}),z=Ha(ee=>{var B;const $=()=>{var V;P(ee),(V=Sf(ee))==null||V.removeEventListener("keydown",$)};(B=Sf(ee))==null||B.addEventListener("keydown",$)}),X=Ha(ee=>{var B;const $=E.current;E.current=!1;const V=T.current;if(T.current=!1,c==="click"&&V||$||typeof k=="function"&&!k(ee))return;const G=Sf(ee),L="["+Ay("inert")+"]",W=ic(o.floating).querySelectorAll(L);let se=ln(G)?G:null;for(;se&&!yc(se);){const pe=ll(se);if(yc(pe)||!ln(pe))break;se=pe}if(W.length&&ln(G)&&!WNe(G)&&!vh(G,o.floating)&&Array.from(W).every(pe=>!vh(se,pe)))return;if(Zo(G)&&re){const pe=G.clientWidth>0&&G.scrollWidth>G.clientWidth,Ne=G.clientHeight>0&&G.scrollHeight>G.clientHeight;let Oe=Ne&&ee.offsetX>G.clientWidth;if(Ne&&Pi(G).direction==="rtl"&&(Oe=ee.offsetX<=G.offsetWidth-G.clientWidth),Oe||pe&&ee.offsetY>G.clientHeight)return}const ae=(B=i.current.floatingContext)==null?void 0:B.nodeId,fe=x&&Q_(x.nodesRef.current,ae).some(pe=>{var Ne;return J_(ee,(Ne=pe.context)==null?void 0:Ne.elements.floating)});if(J_(ee,o.floating)||J_(ee,o.domReference)||fe)return;const Ee=x?Q_(x.nodesRef.current,ae):[];if(Ee.length>0){let pe=!0;if(Ee.forEach(Ne=>{var Oe;if((Oe=Ne.context)!=null&&Oe.open&&!Ne.context.dataRef.current.__outsidePressBubbles){pe=!1;return}}),!pe)return}r(!1,ee,"outside-press")}),Z=Ha(ee=>{var B;const $=()=>{var V;X(ee),(V=Sf(ee))==null||V.removeEventListener(c,$)};(B=Sf(ee))==null||B.addEventListener(c,$)});w.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=R,i.current.__outsidePressBubbles=A;let ee=-1;function B(W){r(!1,W,"ancestor-scroll")}function $(){window.clearTimeout(ee),j.current=!0}function V(){ee=window.setTimeout(()=>{j.current=!1},Ix()?5:0)}const G=ic(o.floating);a&&(G.addEventListener("keydown",N?z:P,N),G.addEventListener("compositionstart",$),G.addEventListener("compositionend",V)),k&&G.addEventListener(c,O?Z:X,O);let L=[];return p&&(ln(o.domReference)&&(L=Xa(o.domReference)),ln(o.floating)&&(L=L.concat(Xa(o.floating))),!ln(o.reference)&&o.reference&&o.reference.contextElement&&(L=L.concat(Xa(o.reference.contextElement)))),L=L.filter(W=>{var se;return W!==((se=G.defaultView)==null?void 0:se.visualViewport)}),L.forEach(W=>{W.addEventListener("scroll",B,{passive:!0})}),()=>{a&&(G.removeEventListener("keydown",N?z:P,N),G.removeEventListener("compositionstart",$),G.removeEventListener("compositionend",V)),k&&G.removeEventListener(c,O?Z:X,O),L.forEach(W=>{W.removeEventListener("scroll",B)}),window.clearTimeout(ee)}},[i,o,a,k,c,n,r,p,s,R,A,P,N,z,X,O,Z]),w.useEffect(()=>{E.current=!1},[k,c]);const q=w.useMemo(()=>({onKeyDown:P,[DOe[h]]:ee=>{f&&r(!1,ee.nativeEvent,"reference-press")}}),[P,r,f,h]),re=w.useMemo(()=>({onKeyDown:P,onMouseDown(){T.current=!0},onMouseUp(){T.current=!0},[POe[c]]:()=>{E.current=!0}}),[P,c]);return w.useMemo(()=>s?{reference:q,floating:re}:{},[s,q,re])}function LOe(t){const{open:e=!1,onOpenChange:n,elements:r}=t,o=lN(),i=w.useRef({}),[s]=w.useState(()=>vOe()),a=cN()!=null,[l,c]=w.useState(r.reference),f=Ha((y,b,x)=>{i.current.openEvent=y?b:void 0,s.emit("openchange",{open:y,event:b,reason:x,nested:a}),n==null||n(y,b,x)}),h=w.useMemo(()=>({setPositionReference:c}),[]),p=w.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return w.useMemo(()=>({dataRef:i,open:e,onOpenChange:f,elements:p,events:s,floatingId:o,refs:h}),[e,f,p,s,o,h])}function jh(t){t===void 0&&(t={});const{nodeId:e}=t,n=LOe({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,o=r.elements,[i,s]=w.useState(null),[a,l]=w.useState(null),f=(o==null?void 0:o.domReference)||i,h=w.useRef(null),p=uN();qr(()=>{f&&(h.current=f)},[f]);const y=N9({...t,elements:{...o,...a&&{reference:a}}}),b=w.useCallback(T=>{const R=ln(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),contextElement:T}:T;l(R),y.refs.setReference(R)},[y.refs]),x=w.useCallback(T=>{(ln(T)||T===null)&&(h.current=T,s(T)),(ln(y.refs.reference.current)||y.refs.reference.current===null||T!==null&&!ln(T))&&y.refs.setReference(T)},[y.refs]),C=w.useMemo(()=>({...y.refs,setReference:x,setPositionReference:b,domReference:h}),[y.refs,x,b]),k=w.useMemo(()=>({...y.elements,domReference:f}),[y.elements,f]),E=w.useMemo(()=>({...y,...r,refs:C,elements:k,nodeId:e}),[y,C,k,e,r]);return qr(()=>{r.dataRef.current.floatingContext=E;const T=p==null?void 0:p.nodesRef.current.find(R=>R.id===e);T&&(T.context=E)}),w.useMemo(()=>({...y,context:E,refs:C,elements:k}),[y,C,k,E])}function jOe(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:o,dataRef:i,elements:s}=t,{enabled:a=!0,visibleOnly:l=!0}=e,c=w.useRef(!1),f=w.useRef(),h=w.useRef(!0);w.useEffect(()=>{if(!a)return;const y=_o(s.domReference);function b(){!n&&Zo(s.domReference)&&s.domReference===A2(ic(s.domReference))&&(c.current=!0)}function x(){h.current=!0}return y.addEventListener("blur",b),y.addEventListener("keydown",x,!0),()=>{y.removeEventListener("blur",b),y.removeEventListener("keydown",x,!0)}},[s.domReference,n,a]),w.useEffect(()=>{if(!a)return;function y(b){let{reason:x}=b;(x==="reference-press"||x==="escape-key")&&(c.current=!0)}return o.on("openchange",y),()=>{o.off("openchange",y)}},[o,a]),w.useEffect(()=>()=>{clearTimeout(f.current)},[]);const p=w.useMemo(()=>({onPointerDown(y){zNe(y.nativeEvent)||(h.current=!1)},onMouseLeave(){c.current=!1},onFocus(y){if(c.current)return;const b=Sf(y.nativeEvent);if(l&&ln(b))try{if(Cq()&&FNe())throw Error();if(!b.matches(":focus-visible"))return}catch{if(!h.current&&!YNe(b))return}r(!0,y.nativeEvent,"focus")},onBlur(y){c.current=!1;const b=y.relatedTarget,x=y.nativeEvent,C=ln(b)&&b.hasAttribute(Ay("focus-guard"))&&b.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var k;const E=A2(s.domReference?s.domReference.ownerDocument:document);!b&&E===s.domReference||vh((k=i.current.floatingContext)==null?void 0:k.refs.floating.current,E)||vh(s.domReference,E)||C||r(!1,x,"focus")})}}),[i,s.domReference,r,l]);return w.useMemo(()=>a?{reference:p}:{},[a,p])}const PV="active",LV="selected";function tE(t,e,n){const r=new Map,o=n==="item";let i=t;if(o&&t){const{[PV]:s,[LV]:a,...l}=t;i=l}return{...n==="floating"&&{tabIndex:-1,[OOe]:""},...i,...e.map(s=>{const a=s?s[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[c,f]=l;if(!(o&&[PV,LV].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof f=="function"){var h;(h=r.get(c))==null||h.push(f),s[c]=function(){for(var p,y=arguments.length,b=new Array(y),x=0;x<y;x++)b[x]=arguments[x];return(p=r.get(c))==null?void 0:p.map(C=>C(...b)).find(C=>C!==void 0)}}}else s[c]=f}),s),{})}}function jq(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),o=w.useCallback(a=>tE(a,t,"reference"),e),i=w.useCallback(a=>tE(a,t,"floating"),n),s=w.useCallback(a=>tE(a,t,"item"),r);return w.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}const IOe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function VOe(t,e){var n;e===void 0&&(e={});const{open:r,floatingId:o}=t,{enabled:i=!0,role:s="dialog"}=e,a=(n=IOe.get(s))!=null?n:s,l=lN(),f=cN()!=null,h=w.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?o:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&f&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,o,f,r,l,s]),p=w.useMemo(()=>{const b={id:o,...a&&{role:a}};return a==="tooltip"||s==="label"?b:{...b,...a==="menu"&&{"aria-labelledby":l}}},[a,o,l,s]),y=w.useCallback(b=>{let{active:x,selected:C}=b;const k={role:"option",...x&&{id:o+"-option"}};switch(s){case"select":return{...k,"aria-selected":x&&C};case"combobox":return{...k,...x&&{"aria-selected":!0}}}return{}},[o,s]);return w.useMemo(()=>i?{reference:h,floating:p,item:y}:{},[i,h,p,y])}const jV=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function ff(t,e){return typeof t=="function"?t(e):t}function BOe(t,e){const[n,r]=w.useState(t);return t&&!n&&r(!0),w.useEffect(()=>{if(!t&&n){const o=setTimeout(()=>r(!1),e);return()=>clearTimeout(o)}},[t,n,e]),n}function $Oe(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:o=250}=e,s=(typeof o=="number"?o:o.close)||0,[a,l]=w.useState("unmounted"),c=BOe(n,s);return!c&&a==="close"&&l("unmounted"),qr(()=>{if(r){if(n){l("initial");const f=requestAnimationFrame(()=>{l("open")});return()=>{cancelAnimationFrame(f)}}l("close")}},[n,r]),{isMounted:c,status:a}}function dN(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:o,common:i,duration:s=250}=e,a=t.placement,l=a.split("-")[0],c=w.useMemo(()=>({side:l,placement:a}),[l,a]),f=typeof s=="number",h=(f?s:s.open)||0,p=(f?s:s.close)||0,[y,b]=w.useState(()=>({...ff(i,c),...ff(n,c)})),{isMounted:x,status:C}=$Oe(t,{duration:s}),k=Mu(n),E=Mu(r),T=Mu(o),R=Mu(i);return qr(()=>{const A=ff(k.current,c),N=ff(T.current,c),O=ff(R.current,c),j=ff(E.current,c)||Object.keys(A).reduce((P,z)=>(P[z]="",P),{});if(C==="initial"&&b(P=>({transitionProperty:P.transitionProperty,...O,...A})),C==="open"&&b({transitionProperty:Object.keys(j).map(jV).join(","),transitionDuration:h+"ms",...O,...j}),C==="close"){const P=N||A;b({transitionProperty:Object.keys(P).map(jV).join(","),transitionDuration:p+"ms",...O,...P})}},[p,T,k,E,R,h,C,c]),{isMounted:x,styles:y}}var Iq={exports:{}},nE={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IV;function HOe(){if(IV)return nE;IV=1;var t=U;function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function a(h,p){var y=p(),b=r({inst:{value:y,getSnapshot:p}}),x=b[0].inst,C=b[1];return i(function(){x.value=y,x.getSnapshot=p,l(x)&&C({inst:x})},[h,y,p]),o(function(){return l(x)&&C({inst:x}),h(function(){l(x)&&C({inst:x})})},[h]),s(y),y}function l(h){var p=h.getSnapshot;h=h.value;try{var y=p();return!n(h,y)}catch{return!0}}function c(h,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return nE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,nE}Iq.exports=HOe();var Vq=Iq.exports;const zOe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},FOe=({contentComponent:t})=>{const e=Vq.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return U.createElement(U.Fragment,null,Object.values(e))};function UOe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:kx.createPortal(r.reactElement,r.element,n)},t.forEach(o=>o())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(o=>o())}}}class GOe extends U.Component{constructor(e){var n;super(e),this.editorContentRef=U.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=UOe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return U.createElement(U.Fragment,null,U.createElement("div",{ref:zOe(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&U.createElement(FOe,{contentComponent:e.contentComponent}))}}const WOe=w.forwardRef((t,e)=>{const n=U.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return U.createElement(GOe,{key:n,innerRef:e,...t})});U.memo(WOe);var rE={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VV;function qOe(){if(VV)return rE;VV=1;var t=U,e=Vq;function n(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return rE.useSyncExternalStoreWithSelector=function(c,f,h,p,y){var b=i(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=a(function(){function k(N){if(!E){if(E=!0,T=N,N=p(N),y!==void 0&&x.hasValue){var O=x.value;if(y(O,N))return R=O}return R=N}if(O=R,r(T,N))return O;var j=p(N);return y!==void 0&&y(O,j)?O:(T=N,R=j)}var E=!1,T,R,A=h===void 0?null:h;return[function(){return k(f())},A===null?void 0:function(){return k(A())}]},[f,h,p,y]);var C=o(c,b[0],b[1]);return s(function(){x.hasValue=!0,x.value=C},[C]),l(C),C},rE}qOe();const YOe=w.createContext({editor:null});YOe.Consumer;const Bq=w.createContext({onDragStart:void 0}),$q=()=>w.useContext(Bq),KOe=U.forwardRef((t,e)=>{const{onDragStart:n}=$q(),r=t.as||"div";return U.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function ZOe(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function XOe(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class JOe{constructor(e,{editor:n,props:r={},as:o="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(o),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?Di.flushSync(()=>{this.render()}):this.render()}render(){var e;const n=this.component,r=this.props,o=this.editor;(ZOe(n)||XOe(n))&&(r.ref=i=>{this.ref=i}),this.reactElement=U.createElement(n,{...r}),(e=o==null?void 0:o.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const n=this.editor;(e=n==null?void 0:n.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(n=>{this.element.setAttribute(n,e[n])})}}class QOe extends ewe{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(c={})=>this.updateAttributes(c),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const c=f=>f.charAt(0).toUpperCase()+f.substring(1);this.component.displayName=c(this.extension.name)}const o={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:c=>{c&&this.contentDOMElement&&c.firstChild!==this.contentDOMElement&&c.appendChild(this.contentDOMElement)}},i=this.component,s=U.memo(c=>U.createElement(Bq.Provider,{value:o},U.createElement(i,c)));s.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);const{className:l=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new JOe(s,{editor:this.editor,props:e,as:a,className:`node-${this.node.type.name} ${l}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&n>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,r){const o=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,s=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=r,this.options.update({oldNode:i,oldDecorations:s,newNode:e,newDecorations:n,oldInnerDecorations:a,innerDecorations:r,updateProps:()=>o({node:e,decorations:n,innerDecorations:r})})}return e===this.node&&this.decorations===n&&this.innerDecorations===r||(this.node=e,this.decorations=n,this.innerDecorations=r,o({node:e,decorations:n,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,r=n1(this.node,n);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function eDe(t,e){return n=>n.editor.contentComponent?new QOe(t,n,e):{}}const Hq=w.createContext(void 0);function da(t){return w.useContext(Hq)}function Ze(t){const e=da();if(!(e!=null&&e.editor))throw new Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return e.editor}function fN(t,e,n){const r=da();e||(e=r==null?void 0:r.editor),w.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onSelectionChange(t,n)},[t,e,n])}function tDe(t,e){const n=Ze();e=e||n;const[r,o]=w.useState(()=>{if(t)return e.getSelectionBoundingBox()}),i=w.useCallback(()=>{if(!t)return;const s=e.getSelectionBoundingBox();o(s)},[e,t]);return fN(i,e,!0),w.useEffect(()=>{o(t?e.getSelectionBoundingBox():void 0)},[t,e]),r}function jc(t,e,n,r){const{refs:o,update:i,context:s,floatingStyles:a}=jh({open:t,...r}),{isMounted:l,styles:c}=dN(s),f=Lq(s),{getReferenceProps:h,getFloatingProps:p}=jq([f]);return w.useEffect(()=>{i()},[e,i]),w.useEffect(()=>{e!==null&&o.setReference({getBoundingClientRect:()=>e})},[e,o]),w.useMemo(()=>({isMounted:l,ref:o.setFloating,setReference:o.setReference,style:{display:"flex",...c,...a,zIndex:n},getFloatingProps:p,getReferenceProps:h}),[a,l,o.setFloating,o.setReference,c,n,p,h])}function gl(t){const[e,n]=w.useState();return w.useEffect(()=>t(r=>{n({...r})}),[t]),e}const zq=w.createContext(void 0);function qe(){return w.useContext(zq)}const Dw=(t={},e=[])=>w.useMemo(()=>{const n=INe.create(t);return window&&(window.ProseMirror=n._tiptapEditor),n},e);function ft(){return da().editor.dictionary}function hN(t,e){const n=da();e||(e=n==null?void 0:n.editor),w.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onChange(t)},[t,e])}const pN=t=>{const[e,n]=w.useState(!1),[r,o]=w.useState(t.editor.isEmpty),i=qe();hN(()=>{o(t.editor.isEmpty)},t.editor);const s=w.useCallback(()=>{n(!0)},[]),a=w.useCallback(()=>{n(!1)},[]);return w.useEffect(()=>{t.editable&&t.editor.focus()},[t.editable,t.editor]),g.jsxs(g.Fragment,{children:[g.jsx(i.Comments.Editor,{className:"bn-comment-editor",editor:t.editor,onFocus:s,onBlur:a,editable:t.editable}),t.actions&&g.jsx("div",{className:"bn-comment-actions-wrapper",children:g.jsx(t.actions,{isFocused:e,isEmpty:r})})]})},nDe=Pc(ms(Ow.paragraph.implementation.node.config),{}),{textColor:SVe,backgroundColor:CVe,...rDe}=oN,mN=Lh.create({blockSpecs:{paragraph:nDe},styleSpecs:rDe});function oDe(){const t=Ze();if(!t.comments)throw new Error("Comments plugin not found");const e=t.comments,n=qe(),r=ft(),o=Dw({trailingBlock:!1,dictionary:{...r,placeholders:{emptyDocument:r.placeholders.new_comment}},schema:mN});return g.jsx(n.Comments.Card,{className:"bn-thread",children:g.jsx(pN,{editable:!0,editor:o,actions:({isEmpty:i})=>g.jsx(n.Generic.Toolbar.Root,{className:Bn("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:g.jsx(n.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Save",variant:"compact",isDisabled:i,onClick:async()=>{await e.createThread({initialComment:{body:o.document}}),e.stopPendingComment()},children:"Save"})})})})}const iDe=t=>{const e=Ze();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=e.comments;w.useEffect(()=>{const f=n.onUpdate(h=>e.setForceSelectionVisible(h.pendingComment));return()=>f()},[n,e]);const r=gl(n.onUpdate.bind(n)),o=tDe(r==null?void 0:r.pendingComment),{isMounted:i,ref:s,style:a,getFloatingProps:l}=jc((r==null?void 0:r.pendingComment)||!1,o||null,5e3,{placement:"bottom",middleware:[hs(10),Nc(),Li()],onOpenChange:f=>{f||(n.stopPendingComment(),e.focus())},...t.floatingOptions});if(!i||!r)return null;const c=t.floatingComposer||oDe;return g.jsx("div",{ref:s,style:a,...l(),children:g.jsx(c,{})})};var Fq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},BV=U.createContext&&U.createContext(Fq),sDe=["attr","size","title"];function aDe(t,e){if(t==null)return{};var n=lDe(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(this,arguments)}function $V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$V(Object(n),!0).forEach(function(r){cDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$V(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cDe(t,e,n){return e=uDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uDe(t){var e=dDe(t,"string");return typeof e=="symbol"?e:e+""}function dDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uq(t){return t&&t.map((e,n)=>U.createElement(e.tag,sx({key:n},e.attr),Uq(e.child)))}function ot(t){return e=>U.createElement(fDe,ix({attr:sx({},t.attr)},e),Uq(t.child))}function fDe(t){var e=n=>{var{attr:r,size:o,title:i}=t,s=aDe(t,sDe),a=o||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),U.createElement("svg",ix({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:sx(sx({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&U.createElement("title",null,i),t.children)};return BV!==void 0?U.createElement(BV.Consumer,null,n=>e(n)):e(Fq)}function hDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(t)}function Gq(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"},child:[]}]})(t)}function pDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"},child:[]}]})(t)}function mDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z"},child:[]}]})(t)}function gN(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"},child:[]}]})(t)}function gDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"},child:[]}]})(t)}function yDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"},child:[]}]})(t)}function vDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"},child:[]}]})(t)}function bDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"},child:[]}]})(t)}function xDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(t)}function wDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"},child:[]}]})(t)}function HV(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z"},child:[]}]})(t)}function Wq(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"},child:[]}]})(t)}function qq(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"},child:[]}]})(t)}function Yq(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(t)}function SDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"},child:[]}]})(t)}function CDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"},child:[]}]})(t)}function zV(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z"},child:[]}]})(t)}function kDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"},child:[]}]})(t)}function _De(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"},child:[]}]})(t)}function Kq(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z"},child:[]}]})(t)}function Zq(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(t)}function Xq(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function Jq(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function EDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"},child:[]}]})(t)}function TDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"},child:[]}]})(t)}function MDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"},child:[]}]})(t)}function ADe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(t)}function yN(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(t)}function RDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"},child:[]}]})(t)}function NDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(t)}function Qq(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"},child:[]}]})(t)}function ODe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(t)}function DDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(t)}function PDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3.9934C3 3.44476 3.44495 3 3.9934 3H20.0066C20.5552 3 21 3.44495 21 3.9934V20.0066C21 20.5552 20.5551 21 20.0066 21H3.9934C3.44476 21 3 20.5551 3 20.0066V3.9934ZM10.6219 8.41459C10.5562 8.37078 10.479 8.34741 10.4 8.34741C10.1791 8.34741 10 8.52649 10 8.74741V15.2526C10 15.3316 10.0234 15.4088 10.0672 15.4745C10.1897 15.6583 10.4381 15.708 10.6219 15.5854L15.5008 12.3328C15.5447 12.3035 15.5824 12.2658 15.6117 12.2219C15.7343 12.0381 15.6846 11.7897 15.5008 11.6672L10.6219 8.41459Z"},child:[]}]})(t)}function eY(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"},child:[]}]})(t)}function LDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(t)}function jDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(t)}function IDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function VDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function BDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z"},child:[]}]})(t)}function $De(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"},child:[]}]})(t)}function HDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(t)}function zDe(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM8 13C8 15.2091 9.79086 17 12 17C14.2091 17 16 15.2091 16 13H8ZM8 11C8.82843 11 9.5 10.3284 9.5 9.5C9.5 8.67157 8.82843 8 8 8C7.17157 8 6.5 8.67157 6.5 9.5C6.5 10.3284 7.17157 11 8 11ZM16 11C16.8284 11 17.5 10.3284 17.5 9.5C17.5 8.67157 16.8284 8 16 8C15.1716 8 14.5 8.67157 14.5 9.5C14.5 10.3284 15.1716 11 16 11Z"},child:[]}]})(t)}function FV(t){return ot({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"},child:[]}]})(t)}let oE;async function FDe(){return oE||(oE=(async()=>{const[t,e]=await Promise.all([I(()=>import("./module-BvCTiNll.js"),[]),I(()=>import("./native-48B9X9Wg.js"),[])]),n="default"in t?t.default:t,r="default"in e?e.default:e;return await n.init({data:r}),{emojiMart:n,emojiData:r}})(),oE)}function UDe(t){const e=w.useRef(null),n=w.useRef(null);return n.current&&n.current.update(t),w.useEffect(()=>((async()=>{const{emojiMart:r}=await FDe();n.current=new r.Picker({...t,ref:e})})(),()=>{n.current=null}),[]),U.createElement("div",{ref:e})}const UV=t=>{const[e,n]=w.useState(!1),r=qe(),o=da();return g.jsxs(r.Generic.Popover.Root,{opened:e,children:[g.jsx(r.Generic.Popover.Trigger,{children:g.jsx("div",{onClick:i=>{i.preventDefault(),i.stopPropagation(),n(!e)},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:t.children})}),g.jsx(r.Generic.Popover.Content,{variant:"panel-popover",children:g.jsx(UDe,{onClickOutside:()=>n(!1),onEmojiSelect:i=>{t.onEmojiSelect(i),n(!1)},theme:o==null?void 0:o.colorSchemePreference})})]})};function GDe(t,e){return vN(t,[e]).get(e)}function vN(t,e){const n=t.comments;if(!n)throw new Error("Comments plugin not found");const r=n.userStore,o=w.useCallback(()=>{const a=new Map;for(const l of e){const c=r.getUser(l);c&&a.set(l,c)}return a},[r,e]),i=w.useMemo(()=>({current:o()}),[o]),s=w.useCallback(a=>{const l=r.subscribe(c=>{i.current=o(),a()});return r.loadUsers(e),l},[r,o,e,i]);return w.useSyncExternalStore(s,()=>i.current)}const WDe=t=>{const e=qe(),n=ft(),r=Ze();if(!r.comments)throw new Error("ReactionBadge must be used inside a BlockNote editor with comments enabled");const o=t.comment.reactions.find(l=>l.emoji===t.emoji);if(!o)throw new Error("Trying to render reaction badge for non-existing reaction");const[i,s]=w.useState([]),a=vN(r,i);return g.jsx(e.Generic.Badge.Root,{className:Bn("bn-badge","bn-comment-reaction"),text:o.userIds.length.toString(),icon:o.emoji,isSelected:r.comments.threadStore.auth.canDeleteReaction(t.comment,o.emoji),onClick:()=>t.onReactionSelect(o.emoji),onMouseEnter:()=>s(o.userIds),mainTooltip:n.comments.reactions.reacted_by,secondaryTooltip:`${Array.from(a.values()).map(l=>l.username).join(`
`)}`},o.emoji)},qDe=({comment:t,thread:e,showDeleted:n,showActions:r="hover",showReactions:o=!0,showResolveAction:i=!1,className:s})=>{const a=ft(),l=Dw({initialContent:t.body,trailingBlock:!1,dictionary:{...a,placeholders:{emptyDocument:a.placeholders.edit_comment}},schema:mN},[t.body]),c=qe(),[f,h]=w.useState(!1),p=Ze();if(!p.comments)throw new Error("Comments plugin not found");const y=p.comments.threadStore,b=w.useCallback(()=>{h(!0)},[]),x=w.useCallback(()=>{l.replaceBlocks(l.document,t.body),h(!1)},[l,t.body]),C=w.useCallback(async Z=>{await y.updateComment({commentId:t.id,comment:{body:l.document},threadId:e.id}),h(!1)},[t,e.id,l,y]),k=w.useCallback(async()=>{await y.deleteComment({commentId:t.id,threadId:e.id})},[t,e.id,y]),E=w.useCallback(async Z=>{y.auth.canAddReaction(t,Z)?await y.addReaction({threadId:e.id,commentId:t.id,emoji:Z}):y.auth.canDeleteReaction(t,Z)&&await y.deleteReaction({threadId:e.id,commentId:t.id,emoji:Z})},[y,t,e.id]),T=w.useCallback(async()=>{await y.resolveThread({threadId:e.id})},[e.id,y]),R=w.useCallback(async()=>{await y.unresolveThread({threadId:e.id})},[e.id,y]),A=GDe(p,t.userId);if(!n&&!t.body)return null;let N;const O=y.auth.canAddReaction(t),j=y.auth.canDeleteComment(t),P=y.auth.canUpdateComment(t),z=i&&(e.resolved?y.auth.canUnresolveThread(e):y.auth.canResolveThread(e));r&&!f&&(N=g.jsxs(c.Generic.Toolbar.Root,{className:Bn("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:[O&&g.jsx(UV,{onEmojiSelect:Z=>E(Z.native),children:g.jsx(c.Generic.Toolbar.Button,{mainTooltip:a.comments.actions.add_reaction,variant:"compact",children:g.jsx(FV,{size:16})},"add-reaction")}),z&&(e.resolved?g.jsx(c.Generic.Toolbar.Button,{mainTooltip:"Re-open",variant:"compact",onClick:R,children:g.jsx(hDe,{size:16})},"reopen"):g.jsx(c.Generic.Toolbar.Button,{mainTooltip:a.comments.actions.resolve,variant:"compact",onClick:T,children:g.jsx(jDe,{size:16})},"resolve")),(j||P)&&g.jsxs(c.Generic.Menu.Root,{position:"bottom-start",children:[g.jsx(c.Generic.Menu.Trigger,{children:g.jsx(c.Generic.Toolbar.Button,{mainTooltip:a.comments.actions.more_actions,variant:"compact",children:g.jsx(HDe,{size:16})},"more-actions")}),g.jsxs(c.Generic.Menu.Dropdown,{className:"bn-menu-dropdown",children:[P&&g.jsx(c.Generic.Menu.Item,{icon:g.jsx(pDe,{}),onClick:b,children:a.comments.actions.edit_comment},"edit-comment"),j&&g.jsx(c.Generic.Menu.Item,{icon:g.jsx(VDe,{}),onClick:k,children:a.comments.actions.delete_comment},"delete-comment")]})]})]}));const X=t.createdAt.toLocaleDateString(void 0,{month:"short",day:"numeric"})+(t.updatedAt.getTime()!==t.createdAt.getTime()?" (edited)":"");if(!t.body)throw new Error("soft deletes are not yet supported");return g.jsx(c.Comments.Comment,{authorInfo:A??"loading",timeString:X,showActions:r,actions:N,className:s,children:g.jsx(pN,{editor:l,editable:f,actions:o&&t.reactions.length>0||f?({isEmpty:Z})=>g.jsxs(g.Fragment,{children:[o&&t.reactions.length>0&&!f&&g.jsxs(c.Generic.Badge.Group,{className:Bn("bn-badge-group","bn-comment-reactions"),children:[t.reactions.map(q=>g.jsx(WDe,{comment:t,emoji:q.emoji,onReactionSelect:E})),g.jsx(UV,{onEmojiSelect:q=>E(q.native),children:g.jsx(c.Generic.Badge.Root,{className:Bn("bn-badge","bn-comment-add-reaction"),text:"+",icon:g.jsx(FV,{size:16}),mainTooltip:a.comments.actions.add_reaction})})]}),f&&g.jsxs(c.Generic.Toolbar.Root,{variant:"action-toolbar",className:Bn("bn-action-toolbar","bn-comment-actions"),children:[g.jsx(c.Generic.Toolbar.Button,{mainTooltip:"Save",variant:"compact",onClick:C,isDisabled:Z,children:"Save"}),g.jsx(c.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Cancel",variant:"compact",onClick:x,children:"Cancel"})]})]}):void 0})})};function YDe(t){const e=t.comments;if(!e)throw new Error("Comments plugin not found");const n=e.threadStore,r=w.useRef();r.current||(r.current=n.getThreads());const o=w.useCallback(i=>n.subscribe(s=>{r.current=s,i()}),[n]);return w.useSyncExternalStore(o,()=>r.current)}const KDe=({threadId:t,showActions:e="hover",showDeletedComments:n,showResolveAction:r=!0,showReactions:o=!0,showComposer:i=!0,className:s,...a})=>{const l=Ze(),c=l.comments;if(!c)throw new Error("Comments plugin not found");const f=qe(),h=ft(),p=YDe(l).get(t);if(!p)throw new Error("Thread not found");const y=w.useMemo(()=>p.comments.flatMap(k=>[k.userId,...k.reactions.flatMap(E=>E.userIds)]),[p.comments]);vN(l,y);const b=Dw({trailingBlock:!1,dictionary:{...h,placeholders:{emptyDocument:h.placeholders.comment_reply}},schema:mN}),x=w.useMemo(()=>n?0:p.comments.findIndex(k=>k.body),[n,p.comments]),C=w.useCallback(async()=>{await c.threadStore.addComment({comment:{body:b.document},threadId:p.id}),b.removeBlocks(b.document)},[c,b,p.id]);return i=i&&c.threadStore.auth.canAddComment(p),g.jsxs(f.Comments.Card,{className:Bn("bn-thread",s),...a,children:[g.jsx(f.Comments.CardSection,{className:"bn-thread-comments",children:p.comments.map((k,E)=>g.jsx(qDe,{thread:p,className:"bn-thread-comment",comment:k,showDeleted:n,showActions:e,showReactions:o,showResolveAction:E===x},k.id))}),i&&g.jsx(f.Comments.CardSection,{children:g.jsx(pN,{editable:!0,editor:b,actions:({isFocused:k,isEmpty:E})=>!k&&E?null:g.jsx(f.Generic.Toolbar.Root,{variant:"action-toolbar",className:Bn("bn-action-toolbar","bn-comment-actions"),children:g.jsx(f.Generic.Toolbar.Button,{mainTooltip:"Save",variant:"compact",isDisabled:E,onClick:C,children:"Save"})})})})]})},ZDe=t=>{const e=Ze();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=gl(e.comments.onUpdate.bind(e.comments)),{isMounted:r,ref:o,style:i,getFloatingProps:s,setReference:a}=jc(!!(n!=null&&n.selectedThreadId),null,5e3,{placement:"bottom",middleware:[hs(10),Nc(),Li()],onOpenChange:f=>{var h;f||((h=e.comments)==null||h.selectThread(void 0),e.focus())},...t.floatingOptions}),l=w.useCallback(()=>{var f;if(!(n!=null&&n.selectedThreadId))return;const h=(f=e.domElement)==null?void 0:f.querySelector(`[data-bn-thread-id="${n==null?void 0:n.selectedThreadId}"]`);h&&a(h)},[a,e,n==null?void 0:n.selectedThreadId]);if(w.useEffect(()=>{if(n!=null&&n.selectedThreadId)return e.onChange(()=>{l()})},[e,l,n==null?void 0:n.selectedThreadId]),w.useLayoutEffect(l,[l]),!r||!n||!n.selectedThreadId)return null;const c=t.floatingThread||KDe;return g.jsx("div",{ref:o,style:i,...s(),children:g.jsx(c,{threadId:n.selectedThreadId})})},XDe=t=>{const e=qe(),n=ft(),{block:r}=t,o=Ze(),[i,s]=w.useState(""),a=w.useCallback(f=>{s(f.currentTarget.value)},[]),l=w.useCallback(f=>{f.key==="Enter"&&(f.preventDefault(),o.updateBlock(r,{props:{name:rV(i),url:i}}))},[o,r,i]),c=w.useCallback(()=>{o.updateBlock(r,{props:{name:rV(i),url:i}})},[o,r,i]);return g.jsxs(e.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(e.FilePanel.TextInput,{className:"bn-text-input",placeholder:n.file_panel.embed.url_placeholder,value:i,onChange:a,onKeyDown:l,"data-test":"embed-input"}),g.jsx(e.FilePanel.Button,{className:"bn-button",onClick:c,"data-test":"embed-input-button",children:n.file_panel.embed.embed_button[r.type]||n.file_panel.embed.embed_button.file})]})},JDe=t=>{var e;const n=qe(),r=ft(),{block:o,setLoading:i}=t,s=Ze(),[a,l]=w.useState(!1);w.useEffect(()=>{a&&setTimeout(()=>{l(!1)},3e3)},[a]);const c=w.useCallback(p=>{if(p===null)return;async function y(b){if(i(!0),s.uploadFile!==void 0)try{let x=await s.uploadFile(b);typeof x=="string"&&(x={props:{name:b.name,url:x}}),s.updateBlock(o,x)}catch{l(!0)}finally{i(!1)}}y(p)},[o,s,i]),f=s.schema.blockSchema[o.type],h=f.isFileBlock&&(e=f.fileBlockAccept)!=null&&e.length?f.fileBlockAccept.join(","):"*/*";return g.jsxs(n.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(n.FilePanel.FileInput,{className:"bn-file-input","data-test":"upload-input",accept:h,placeholder:r.file_panel.upload.file_placeholder[o.type]||r.file_panel.upload.file_placeholder.file,value:null,onChange:c}),a&&g.jsx("div",{className:"bn-error-text",children:r.file_panel.upload.upload_error})]})},tY=t=>{const e=qe(),n=ft(),r=Ze(),[o,i]=w.useState(!1),s=t.tabs??[...r.uploadFile!==void 0?[{name:n.file_panel.upload.title,tabPanel:g.jsx(JDe,{block:t.block,setLoading:i})}]:[],{name:n.file_panel.embed.title,tabPanel:g.jsx(XDe,{block:t.block})}],[a,l]=w.useState(t.defaultOpenTab||s[0].name);return g.jsx(e.FilePanel.Root,{className:"bn-panel",defaultOpenTab:a,openTab:a,setOpenTab:l,tabs:s,loading:o})},QDe=t=>{const e=Ze();if(!e.filePanel)throw new Error("FileToolbarController can only be used when BlockNote editor schema contains file block");const n=gl(e.filePanel.onUpdate.bind(e.filePanel)),{isMounted:r,ref:o,style:i,getFloatingProps:s}=jc((n==null?void 0:n.show)||!1,(n==null?void 0:n.referencePos)||null,5e3,{placement:"bottom",middleware:[hs(10),Li()],onOpenChange:h=>{h||(e.filePanel.closeMenu(),e.focus())},...t.floatingOptions});if(!r||!n)return null;const{show:a,referencePos:l,...c}=n,f=t.filePanel||tY;return g.jsx("div",{ref:o,style:i,...s(),children:g.jsx(f,{...c})})};function Ic(t,e){hN(t,e),fN(t,e)}function nY(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function Oo(t){const e=da();if(t||(t=e==null?void 0:e.editor),!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");const n=t,[r,o]=w.useState(()=>{var i;return((i=n.getSelection())==null?void 0:i.blocks)||[n.getTextCursorPosition().block]});return Ic(()=>{var i;return o(((i=n.getSelection())==null?void 0:i.blocks)||[n.getTextCursorPosition().block])},n),r}const ePe={bold:xDe,italic:kDe,underline:RDe,strike:MDe,code:mDe};function tPe(t,e){return t in e.schema.styleSchema&&e.schema.styleSchema[t].type===t&&e.schema.styleSchema[t].propSchema==="boolean"}const jb=t=>{const e=ft(),n=qe(),r=Ze(),o=tPe(t.basicTextStyle,r),i=Oo(r),[s,a]=w.useState(t.basicTextStyle in r.getActiveStyles());Ic(()=>{o&&a(t.basicTextStyle in r.getActiveStyles())},r);const l=f=>{if(r.focus(),!!o){if(r.schema.styleSchema[f].propSchema!=="boolean")throw new Error("can only toggle boolean styles");r.toggleStyles({[f]:!0})}};if(!w.useMemo(()=>o?!!i.find(f=>f.content!==void 0):!1,[o,i])||!r.isEditable)return null;const c=ePe[t.basicTextStyle];return g.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":t.basicTextStyle,onClick:()=>l(t.basicTextStyle),isSelected:s,label:e.formatting_toolbar[t.basicTextStyle].tooltip,mainTooltip:e.formatting_toolbar[t.basicTextStyle].tooltip,secondaryTooltip:Ci(e.formatting_toolbar[t.basicTextStyle].secondary_tooltip,e.generic.ctrl_shortcut),icon:g.jsx(c,{})})},P2=t=>{const e=t.textColor||"default",n=t.backgroundColor||"default",r=t.size||16,o=w.useMemo(()=>({pointerEvents:"none",fontSize:(r*.75).toString()+"px",height:r.toString()+"px",lineHeight:r.toString()+"px",textAlign:"center",width:r.toString()+"px"}),[r]);return g.jsx("div",{className:"bn-color-icon","data-background-color":n,"data-text-color":e,style:o,children:"A"})},GV=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],Pw=t=>{const e=qe(),n=ft();return g.jsxs(g.Fragment,{children:[g.jsx(()=>t.text?g.jsxs(g.Fragment,{children:[g.jsx(e.Generic.Menu.Label,{children:n.color_picker.text_title}),GV.map(r=>g.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.text.setColor(r)},"data-test":"text-color-"+r,icon:g.jsx(P2,{textColor:r,size:t.iconSize}),checked:t.text.color===r,children:n.color_picker.colors[r]},"text-color-"+r))]}):null,{}),g.jsx(()=>t.background?g.jsxs(g.Fragment,{children:[g.jsx(e.Generic.Menu.Label,{children:n.color_picker.background_title}),GV.map(r=>g.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.background.setColor(r)},"data-test":"background-color-"+r,icon:g.jsx(P2,{backgroundColor:r,size:t.iconSize}),checked:t.background.color===r,children:n.color_picker.colors[r]},"background-color-"+r))]}):null,{})]})};function WV(t,e){return`${t}Color`in e.schema.styleSchema&&e.schema.styleSchema[`${t}Color`].type===`${t}Color`&&e.schema.styleSchema[`${t}Color`].propSchema==="string"}const nPe=()=>{const t=qe(),e=ft(),n=Ze(),r=WV("text",n),o=WV("background",n),i=Oo(n),[s,a]=w.useState(r&&n.getActiveStyles().textColor||"default"),[l,c]=w.useState(o&&n.getActiveStyles().backgroundColor||"default");Ic(()=>{r&&a(n.getActiveStyles().textColor||"default"),o&&c(n.getActiveStyles().backgroundColor||"default")},n);const f=w.useCallback(p=>{if(!r)throw Error("Tried to set text color, but style does not exist in editor schema.");p==="default"?n.removeStyles({textColor:p}):n.addStyles({textColor:p}),setTimeout(()=>{n.focus()})},[n,r]),h=w.useCallback(p=>{if(!o)throw Error("Tried to set background color, but style does not exist in editor schema.");p==="default"?n.removeStyles({backgroundColor:p}):n.addStyles({backgroundColor:p}),setTimeout(()=>{n.focus()})},[o,n]);return!w.useMemo(()=>{if(!r&&!o)return!1;for(const p of i)if(p.content!==void 0)return!0;return!1},[o,i,r])||!n.isEditable?null:g.jsxs(t.Generic.Menu.Root,{children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"colors",label:e.formatting_toolbar.colors.tooltip,mainTooltip:e.formatting_toolbar.colors.tooltip,icon:g.jsx(P2,{textColor:s,backgroundColor:l,size:20})})}),g.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(Pw,{text:r?{color:s,setColor:f}:void 0,background:o?{color:l,setColor:h}:void 0})})]})},qV=t=>{for(const e of mq)if(t.startsWith(e))return t;return`${gq}://${t}`},rY=t=>{const e=qe(),n=ft(),{url:r,text:o,editLink:i}=t,[s,a]=w.useState(r),[l,c]=w.useState(o);w.useEffect(()=>{a(r),c(o)},[o,r]);const f=w.useCallback(b=>{b.key==="Enter"&&(b.preventDefault(),i(qV(s),l))},[i,s,l]),h=w.useCallback(b=>a(b.currentTarget.value),[]),p=w.useCallback(b=>c(b.currentTarget.value),[]),y=w.useCallback(()=>i(qV(s),l),[i,s,l]);return g.jsxs(e.Generic.Form.Root,{children:[g.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"url",icon:g.jsx(Kq,{}),autoFocus:!0,placeholder:n.link_toolbar.form.url_placeholder,value:s,onKeyDown:f,onChange:h,onSubmit:y}),g.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"title",icon:g.jsx(yN,{}),placeholder:n.link_toolbar.form.title_placeholder,value:l,onKeyDown:f,onChange:p,onSubmit:y})]})};function rPe(t){return"link"in t.schema.inlineContentSchema&&t.schema.inlineContentSchema.link==="link"}const oPe=()=>{var t;const e=Ze(),n=qe(),r=ft(),o=rPe(e),i=Oo(e),[s,a]=w.useState(!1),[l,c]=w.useState(e.getSelectedLinkUrl()||""),[f,h]=w.useState(e.getSelectedText());Ic(()=>{a(!1),h(e.getSelectedText()||""),c(e.getSelectedLinkUrl()||"")},e),w.useEffect(()=>{var y;const b=x=>{(x.ctrlKey||x.metaKey)&&x.key==="k"&&(a(!0),x.preventDefault())};return(y=e.prosemirrorView)==null||y.dom.addEventListener("keydown",b),()=>{var x;(x=e.prosemirrorView)==null||x.dom.removeEventListener("keydown",b)}},[(t=e.prosemirrorView)==null?void 0:t.dom]);const p=w.useCallback((y,b)=>{e.createLink(y,b),e.focus()},[e]);return!w.useMemo(()=>{if(!o)return!1;for(const y of i)if(y.content===void 0)return!1;return!k2(e.prosemirrorState.selection)},[o,i,e.prosemirrorState.selection])||!("link"in e.schema.inlineContentSchema)||!e.isEditable?null:g.jsxs(n.Generic.Popover.Root,{opened:s,children:[g.jsx(n.Generic.Popover.Trigger,{children:g.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":"createLink",label:r.formatting_toolbar.link.tooltip,mainTooltip:r.formatting_toolbar.link.tooltip,secondaryTooltip:Ci(r.formatting_toolbar.link.secondary_tooltip,r.generic.ctrl_shortcut),icon:g.jsx(Kq,{}),onClick:()=>a(!0)})}),g.jsx(n.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(rY,{url:l,text:f,editLink:p})})]})},iPe=()=>{const t=ft(),e=qe(),n=Ze(),[r,o]=w.useState(),i=Oo(n),s=w.useMemo(()=>{if(i.length!==1)return;const c=i[0];if(Ty(c,n))return o(c.props.caption),c},[n,i]),a=w.useCallback(c=>{s&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(s,{props:{caption:r}}))},[r,n,s]),l=w.useCallback(c=>o(c.currentTarget.value),[]);return!s||My(s,n)||!n.isEditable?null:g.jsxs(e.Generic.Popover.Root,{children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_caption.tooltip,mainTooltip:t.formatting_toolbar.file_caption.tooltip,icon:g.jsx(zV,{}),isSelected:s.props.caption!==""})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(e.Generic.Form.Root,{children:g.jsx(e.Generic.Form.TextInput,{name:"file-caption",icon:g.jsx(zV,{}),value:r||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_caption.input_placeholder,onKeyDown:a,onChange:l})})})]})},sPe=()=>{const t=ft(),e=qe(),n=Ze(),r=Oo(n),o=w.useMemo(()=>{if(r.length!==1)return;const s=r[0];if(Ty(s,n))return s},[n,r]),i=w.useCallback(()=>{n.focus(),n.removeBlocks([o])},[n,o]);return!o||My(o,n)||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_delete.tooltip[o.type]||t.formatting_toolbar.file_delete.tooltip.file,mainTooltip:t.formatting_toolbar.file_delete.tooltip[o.type]||t.formatting_toolbar.file_delete.tooltip.file,icon:g.jsx(IDe,{}),onClick:i})},aPe=()=>{const t=ft(),e=qe(),n=Ze(),[r,o]=w.useState(),i=Oo(n),s=w.useMemo(()=>{if(i.length!==1)return;const c=i[0];if(Ty(c,n))return o(c.props.name),c},[n,i]),a=w.useCallback(c=>{s&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(s,{props:{name:r}}))},[r,n,s]),l=w.useCallback(c=>o(c.currentTarget.value),[]);return!s||My(s,n)||!n.isEditable?null:g.jsxs(e.Generic.Popover.Root,{children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_rename.tooltip[s.type]||t.formatting_toolbar.file_rename.tooltip.file,mainTooltip:t.formatting_toolbar.file_rename.tooltip[s.type]||t.formatting_toolbar.file_rename.tooltip.file,icon:g.jsx(HV,{})})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(e.Generic.Form.Root,{children:g.jsx(e.Generic.Form.TextInput,{name:"file-name",icon:g.jsx(HV,{}),value:r||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_rename.input_placeholder[s.type]||t.formatting_toolbar.file_rename.input_placeholder.file,onKeyDown:a,onChange:l})})})]})},lPe=()=>{const t=ft(),e=qe(),n=Ze(),r=Oo(n),[o,i]=w.useState(!1);w.useEffect(()=>{i(!1)},[r]);const s=r.length===1?r[0]:void 0;return s===void 0||!Ty(s,n)||!n.isEditable?null:g.jsxs(e.Generic.Popover.Root,{opened:o,position:"bottom",children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",onClick:()=>i(!o),isSelected:o,mainTooltip:t.formatting_toolbar.file_replace.tooltip[s.type]||t.formatting_toolbar.file_replace.tooltip.file,label:t.formatting_toolbar.file_replace.tooltip[s.type]||t.formatting_toolbar.file_replace.tooltip.file,icon:g.jsx(DDe,{})})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-panel-popover",variant:"panel-popover",children:g.jsx(tY,{block:s})})]})},cPe=()=>{const t=ft(),e=qe(),n=Ze(),r=Oo(n),[o,i]=w.useState(()=>n.canNestBlock());Ic(()=>{i(n.canNestBlock())},n);const s=w.useCallback(()=>{n.focus(),n.nestBlock()},[n]);return!w.useMemo(()=>!r.find(a=>n.schema.blockSchema[a.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"nestBlock",onClick:s,isDisabled:!o,label:t.formatting_toolbar.nest.tooltip,mainTooltip:t.formatting_toolbar.nest.tooltip,secondaryTooltip:Ci(t.formatting_toolbar.nest.secondary_tooltip,t.generic.ctrl_shortcut),icon:g.jsx(CDe,{})})},uPe=()=>{const t=ft(),e=qe(),n=Ze(),r=Oo(n),[o,i]=w.useState(()=>n.canUnnestBlock());Ic(()=>{i(n.canUnnestBlock())},n);const s=w.useCallback(()=>{n.focus(),n.unnestBlock()},[n]);return!w.useMemo(()=>!r.find(a=>n.schema.blockSchema[a.type].content!=="inline"),[n.schema.blockSchema,r])||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"unnestBlock",onClick:s,isDisabled:!o,label:t.formatting_toolbar.unnest.tooltip,mainTooltip:t.formatting_toolbar.unnest.tooltip,secondaryTooltip:Ci(t.formatting_toolbar.unnest.secondary_tooltip,t.generic.ctrl_shortcut),icon:g.jsx(SDe,{})})},dPe=t=>[{name:t.slash_menu.paragraph.title,type:"paragraph",icon:yN,isSelected:e=>e.type==="paragraph"},{name:t.slash_menu.heading.title,type:"heading",props:{level:1},icon:Wq,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===1},{name:t.slash_menu.heading_2.title,type:"heading",props:{level:2},icon:qq,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===2},{name:t.slash_menu.heading_3.title,type:"heading",props:{level:3},icon:Yq,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===3},{name:t.slash_menu.bullet_list.title,type:"bulletListItem",icon:Jq,isSelected:e=>e.type==="bulletListItem"},{name:t.slash_menu.numbered_list.title,type:"numberedListItem",icon:Xq,isSelected:e=>e.type==="numberedListItem"},{name:t.slash_menu.check_list.title,type:"checkListItem",icon:Zq,isSelected:e=>e.type==="checkListItem"}],fPe=t=>{const e=qe(),n=ft(),r=Ze(),o=Oo(r),[i,s]=w.useState(r.getTextCursorPosition().block),a=w.useMemo(()=>(t.items||dPe(n)).filter(f=>f.type in r.schema.blockSchema),[r,n,t.items]),l=w.useMemo(()=>a.find(f=>f.type===i.type)!==void 0,[i.type,a]),c=w.useMemo(()=>{const f=h=>{r.focus();for(const p of o)r.updateBlock(p,{type:h.type,props:h.props})};return a.map(h=>{const p=h.icon;return{text:h.name,icon:g.jsx(p,{size:16}),onClick:()=>f(h),isSelected:h.isSelected(i)}})},[i,a,r,o]);return Ic(()=>{s(r.getTextCursorPosition().block)},r),!l||!r.isEditable?null:g.jsx(e.FormattingToolbar.Select,{className:"bn-select",items:c})},hPe=()=>{const t=ft(),e=qe(),n=Ze(),r=w.useCallback(()=>{var o;(o=n.comments)==null||o.startPendingComment(),n.formattingToolbar.closeMenu()},[n]);return n.comments?g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:g.jsx(Gq,{}),onClick:r}):null},pPe=()=>{const t=ft(),e=qe(),n=Ze(),r=w.useCallback(()=>{n._tiptapEditor.chain().focus().addPendingComment().run()},[n]);return!n._tiptapEditor.commands.addPendingComment||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:g.jsx(Gq,{}),onClick:r})};function L2(t,e){try{const n=new URL(t,e);if(n.protocol!=="javascript:")return n.href}catch{}return"#"}const mPe=()=>{const t=ft(),e=qe(),n=Ze(),r=Oo(n),o=w.useMemo(()=>{if(r.length!==1)return;const s=r[0];if(Ty(s,n))return s},[n,r]),i=w.useCallback(()=>{o&&o.props.url&&(n.focus(),n.resolveFileUrl?n.resolveFileUrl(o.props.url).then(s=>window.open(L2(s,window.location.href))):window.open(L2(o.props.url,window.location.href)))},[n,o]);return!o||My(o,n)?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_download.tooltip[o.type]||t.formatting_toolbar.file_download.tooltip.file,mainTooltip:t.formatting_toolbar.file_download.tooltip[o.type]||t.formatting_toolbar.file_download.tooltip.file,icon:g.jsx(BDe,{}),onClick:i})},gPe=()=>{const t=ft(),e=qe(),n=Ze(),r=Oo(n),o=w.useMemo(()=>{if(r.length!==1)return;const s=r[0];if(eRe(s,n))return s},[n,r]),i=w.useCallback(()=>{o&&n.updateBlock(o,{props:{showPreview:!o.props.showPreview}})},[n,o]);return!o||My(o,n)||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:"Toggle preview",mainTooltip:t.formatting_toolbar.file_preview_toggle.tooltip,icon:g.jsx(ODe,{}),isSelected:o.props.showPreview,onClick:i})},yPe=()=>{const t=ft(),e=qe(),n=Ze(),r=Oo(n),o=w.useMemo(()=>{var s;if(r.length!==1)return;const a=r[0];if(a.type==="table")return(s=n.tableHandles)==null?void 0:s.getMergeDirection(a)},[n,r]),i=w.useCallback(()=>{var s;(s=n.tableHandles)==null||s.mergeCells()},[n]);return!n.isEditable||o===void 0||!n.settings.tables.splitCells?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.table_cell_merge.tooltip,mainTooltip:t.formatting_toolbar.table_cell_merge.tooltip,icon:o==="horizontal"?g.jsx(EDe,{}):g.jsx(TDe,{}),onClick:i})},vPe={left:vDe,center:gDe,right:bDe,justify:yDe},iE=t=>{const e=qe(),n=ft(),r=Ze(),o=Oo(r),i=w.useMemo(()=>{var l;const c=o[0];if(C2("textAlignment",c,r))return c.props.textAlignment;if(c.type==="table"){const f=(l=r.tableHandles)==null?void 0:l.getCellSelection();if(!f)return;const h=f.cells.map(({row:y,col:b})=>_c(c.content.rows[y].cells[b]).props.textAlignment),p=h[0];if(h.every(y=>y===p))return p}},[r,o]),s=w.useCallback(l=>{var c;r.focus();for(const f of o)if(jf("textAlignment",f.type,r))r.updateBlock(f,{props:{textAlignment:l}});else if(f.type==="table"){const h=(c=r.tableHandles)==null?void 0:c.getCellSelection();if(!h)continue;const p=f.content.rows.map(y=>({...y,cells:y.cells.map(b=>_c(b))}));h.cells.forEach(({row:y,col:b})=>{p[y].cells[b].props.textAlignment=l}),r.updateBlock(f,{type:"table",content:{...f.content,type:"tableContent",rows:p}}),r.setTextCursorPosition(f)}},[r,o]);if(!w.useMemo(()=>!!o.find(l=>"textAlignment"in l.props||l.type==="table"&&l.children),[o])||!r.isEditable)return null;const a=vPe[t.textAlignment];return g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":`alignText${t.textAlignment.slice(0,1).toUpperCase()+t.textAlignment.slice(1)}`,onClick:()=>s(t.textAlignment),isSelected:i===t.textAlignment,label:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,mainTooltip:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,icon:g.jsx(a,{})})},oY=t=>[g.jsx(fPe,{items:t},"blockTypeSelect"),g.jsx(yPe,{},"tableCellMergeButton"),g.jsx(iPe,{},"fileCaptionButton"),g.jsx(lPe,{},"replaceFileButton"),g.jsx(aPe,{},"fileRenameButton"),g.jsx(sPe,{},"fileDeleteButton"),g.jsx(mPe,{},"fileDownloadButton"),g.jsx(gPe,{},"filePreviewButton"),g.jsx(jb,{basicTextStyle:"bold"},"boldStyleButton"),g.jsx(jb,{basicTextStyle:"italic"},"italicStyleButton"),g.jsx(jb,{basicTextStyle:"underline"},"underlineStyleButton"),g.jsx(jb,{basicTextStyle:"strike"},"strikeStyleButton"),g.jsx(iE,{textAlignment:"left"},"textAlignLeftButton"),g.jsx(iE,{textAlignment:"center"},"textAlignCenterButton"),g.jsx(iE,{textAlignment:"right"},"textAlignRightButton"),g.jsx(nPe,{},"colorStyleButton"),g.jsx(cPe,{},"nestBlockButton"),g.jsx(uPe,{},"unnestBlockButton"),g.jsx(oPe,{},"createLinkButton"),g.jsx(hPe,{},"addCommentButton"),g.jsx(pPe,{},"addTiptapCommentButton")],iY=t=>{const e=qe();return g.jsx(e.FormattingToolbar.Root,{className:"bn-toolbar bn-formatting-toolbar",children:t.children||oY(t.blockTypeSelectItems)})},YV=t=>{switch(t){case"left":return"top-start";case"center":return"top";case"right":return"top-end";default:return"top-start"}},sY=t=>{const e=w.useRef(null),n=Ze(),[r,o]=w.useState(()=>{const p=n.getTextCursorPosition().block;return"textAlignment"in p.props?YV(p.props.textAlignment):"top-start"});Ic(()=>{const p=n.getTextCursorPosition().block;"textAlignment"in p.props?o(YV(p.props.textAlignment)):o("top-start")},n);const i=gl(n.formattingToolbar.onUpdate.bind(n.formattingToolbar)),{isMounted:s,ref:a,style:l,getFloatingProps:c}=jc((i==null?void 0:i.show)||!1,(i==null?void 0:i.referencePos)||null,3e3,{placement:r,middleware:[hs(10),Nc(),Li()],onOpenChange:(p,y)=>{p||(n.formattingToolbar.closeMenu(),n.focus())},...t.floatingOptions}),f=w.useMemo(()=>nY([e,a]),[e,a]);if(!s||!i)return null;if(!i.show&&e.current)return g.jsx("div",{ref:f,style:l,dangerouslySetInnerHTML:{__html:e.current.innerHTML}});const h=t.formattingToolbar||iY;return g.jsx("div",{ref:f,style:l,...c(),children:g.jsx(h,{})})},bPe=t=>{const e=qe(),n=ft();return g.jsx(e.LinkToolbar.Button,{className:"bn-button",label:n.link_toolbar.delete.tooltip,mainTooltip:n.link_toolbar.delete.tooltip,isSelected:!1,onClick:t.deleteLink,icon:g.jsx(_De,{})})},xPe=t=>{const e=qe(),n=ft();return g.jsxs(e.Generic.Popover.Root,{children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.edit.tooltip,isSelected:!1,children:n.link_toolbar.edit.text})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(rY,{...t})})]})},wPe=t=>{const e=qe(),n=ft();return g.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.open.tooltip,label:n.link_toolbar.open.tooltip,isSelected:!1,onClick:()=>{window.open(L2(t.url,window.location.href),"_blank")},icon:g.jsx($De,{})})},SPe=t=>{const e=qe();return t.children?g.jsx(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",children:t.children}):g.jsxs(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",onMouseEnter:t.stopHideTimer,onMouseLeave:t.startHideTimer,children:[g.jsx(xPe,{url:t.url,text:t.text,editLink:t.editLink}),g.jsx(wPe,{url:t.url}),g.jsx(bPe,{deleteLink:t.deleteLink})]})},CPe=t=>{const e=Ze(),n={deleteLink:e.linkToolbar.deleteLink,editLink:e.linkToolbar.editLink,startHideTimer:e.linkToolbar.startHideTimer,stopHideTimer:e.linkToolbar.stopHideTimer},r=gl(e.linkToolbar.onUpdate.bind(e.linkToolbar)),{isMounted:o,ref:i,style:s,getFloatingProps:a}=jc((r==null?void 0:r.show)||!1,(r==null?void 0:r.referencePos)||null,4e3,{placement:"top-start",middleware:[hs(10),Li()],onOpenChange:p=>{p||(e.linkToolbar.closeMenu(),e.focus())},...t.floatingOptions});if(!o||!r)return null;const{show:l,referencePos:c,...f}=r,h=t.linkToolbar||SPe;return g.jsx("div",{ref:i,style:s,...a(),children:g.jsx(h,{...f,...n})})};function kPe(t){return ot({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(t)}const _Pe=t=>{const e=qe(),n=ft(),r=Ze(),o=w.useCallback(()=>{const i=t.block.content;if(i!==void 0&&Array.isArray(i)&&i.length===0)r.setTextCursorPosition(t.block),r.openSuggestionMenu("/");else{const s=r.insertBlocks([{type:"paragraph"}],t.block,"after")[0];r.setTextCursorPosition(s),r.openSuggestionMenu("/")}},[r,t.block]);return g.jsx(e.SideMenu.Button,{className:"bn-button",label:n.side_menu.add_block_label,icon:g.jsx(kPe,{size:24,onClick:o,"data-test":"dragHandleAdd"})})};function aY(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function EPe(t){return ot({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(t)}const TPe=t=>{const e=qe(),n=Ze();return!jf("textColor",t.block.type,n)&&!jf("backgroundColor",t.block.type,n)?null:g.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(e.Generic.Menu.Trigger,{sub:!0,children:g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children})}),g.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(Pw,{iconSize:18,text:jf("textColor",t.block.type,n)&&C2("textColor",t.block,n)?{color:t.block.props.textColor,setColor:r=>n.updateBlock(t.block,{type:t.block.type,props:{textColor:r}})}:void 0,background:jf("backgroundColor",t.block.type,n)&&C2("backgroundColor",t.block,n)?{color:t.block.props.backgroundColor,setColor:r=>n.updateBlock(t.block,{props:{backgroundColor:r}})}:void 0})})]})},MPe=t=>{const e=qe(),n=Ze();return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",onClick:()=>n.removeBlocks([t.block]),children:t.children})},APe=t=>{const e=qe(),n=Ze();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!t.block.content.headerRows;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const o=n.getBlock(t.block.id);o&&n.updateBlock(o,{...o,content:{...o.content,headerRows:r?void 0:1}})},children:t.children})},RPe=t=>{const e=qe(),n=Ze();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const r=!!t.block.content.headerCols;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{n.updateBlock(t.block,{type:"table",content:{...t.block.content,type:"tableContent",headerCols:r?void 0:1}})},children:t.children})},NPe=t=>{const e=qe(),n=ft();return g.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(MPe,{...t,children:n.drag_handle.delete_menuitem}),g.jsx(TPe,{...t,children:n.drag_handle.colors_menuitem}),g.jsx(APe,{...t,children:n.drag_handle.header_row_menuitem}),g.jsx(RPe,{...t,children:n.drag_handle.header_column_menuitem})]})})},OPe=t=>{const e=qe(),n=ft(),r=t.dragHandleMenu||NPe;return g.jsxs(e.Generic.Menu.Root,{onOpenChange:o=>{o?t.freezeMenu():t.unfreezeMenu()},position:"left",children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.SideMenu.Button,{label:n.side_menu.drag_handle_label,draggable:!0,onDragStart:o=>t.blockDragStart(o,t.block),onDragEnd:t.blockDragEnd,className:"bn-button",icon:g.jsx(aY,{size:24,"data-test":"dragHandle"})})}),g.jsx(r,{block:t.block})]})},DPe=t=>{const e=qe(),n=w.useMemo(()=>{const r={"data-block-type":t.block.type};return t.block.type==="heading"&&(r["data-level"]=t.block.props.level.toString()),t.editor.schema.blockSchema[t.block.type].isFileBlock&&(t.block.props.url?r["data-url"]="true":r["data-url"]="false"),r},[t.block,t.editor.schema.blockSchema]);return g.jsx(e.SideMenu.Root,{className:"bn-side-menu",...n,children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(_Pe,{...t}),g.jsx(OPe,{...t})]})})},PPe=t=>{const e=Ze(),n={blockDragStart:e.sideMenu.blockDragStart,blockDragEnd:e.sideMenu.blockDragEnd,freezeMenu:e.sideMenu.freezeMenu,unfreezeMenu:e.sideMenu.unfreezeMenu},r=gl(e.sideMenu.onUpdate.bind(e.sideMenu)),{isMounted:o,ref:i,style:s,getFloatingProps:a}=jc((r==null?void 0:r.show)||!1,(r==null?void 0:r.referencePos)||null,1e3,{placement:"left-start",...t.floatingOptions});if(!o||!r)return null;const{show:l,referencePos:c,...f}=r,h=t.sideMenu||DPe;return g.jsx("div",{ref:i,style:s,...a(),children:g.jsx(h,{...f,...n,editor:e})})};async function LPe(t,e){return(await HNe(t,e)).map(({id:n,onItemClick:r})=>({id:n,onItemClick:r,icon:n}))}function jPe(t){const e=qe(),n=ft(),{items:r,loadingState:o,selectedIndex:i,onItemClick:s,columns:a}=t,l=o==="loading-initial"||o==="loading"?g.jsx(e.GridSuggestionMenu.Loader,{className:"bn-grid-suggestion-menu-loader",columns:a,children:n.suggestion_menu.loading}):null,c=w.useMemo(()=>{const f=[];for(let h=0;h<r.length;h++){const p=r[h];f.push(g.jsx(e.GridSuggestionMenu.Item,{className:"bn-grid-suggestion-menu-item",item:p,id:`bn-grid-suggestion-menu-item-${h}`,isSelected:h===i,onClick:()=>s==null?void 0:s(p)},p.id))}return f},[e,r,s,i]);return g.jsxs(e.GridSuggestionMenu.Root,{id:"bn-grid-suggestion-menu",columns:a,className:"bn-grid-suggestion-menu",children:[l,c,c.length===0&&t.loadingState==="loaded"&&g.jsx(e.GridSuggestionMenu.EmptyItem,{className:"bn-grid-suggestion-menu-empty-item",columns:a,children:n.suggestion_menu.no_items_title})]})}function lY(t,e,n,r=3){const o=w.useRef(0);w.useEffect(()=>{e!==void 0&&(t.length>0?o.current=e.length:e.length-o.current>r&&n())},[n,r,t.length,e])}function cY(t,e){const[n,r]=w.useState([]),[o,i]=w.useState(!1),s=w.useRef(),a=w.useRef();return w.useEffect(()=>{const l=t;s.current=t,i(!0),e(t).then(c=>{s.current===l&&(r(c),i(!1),a.current=l)})},[t,e]),{items:n||[],usedQuery:a.current,loadingState:a.current===void 0?"loading-initial":o?"loading":"loaded"}}function IPe(t,e,n,r,o){const[i,s]=w.useState(0),a=r!==void 0&&r>1;return w.useEffect(()=>{var l;const c=f=>(f.key==="ArrowLeft"&&(f.preventDefault(),n.length&&s((i-1+n.length)%n.length)),f.key==="ArrowRight"&&(f.preventDefault(),n.length&&s((i+1+n.length)%n.length)),f.key==="ArrowUp"?(f.preventDefault(),n.length&&s((i-r+n.length)%n.length),!0):f.key==="ArrowDown"?(f.preventDefault(),n.length&&s((i+r)%n.length),!0):f.key==="Enter"&&!f.isComposing?(f.preventDefault(),n.length&&(o==null||o(n[i])),!0):!1);return(l=t.domElement)==null||l.addEventListener("keydown",c,!0),()=>{var f;(f=t.domElement)==null||f.removeEventListener("keydown",c,!0)}},[t.domElement,n,i,o,r,a]),w.useEffect(()=>{s(0)},[e]),{selectedIndex:n.length===0?void 0:i}}function VPe(t){const e=da().setContentEditableProps,n=Ze(),{getItems:r,gridSuggestionMenuComponent:o,query:i,clearQuery:s,closeMenu:a,onItemClick:l,columns:c}=t,f=w.useCallback(x=>{a(),s(),l==null||l(x)},[l,a,s]),{items:h,usedQuery:p,loadingState:y}=cY(i,r);lY(h,p,a);const{selectedIndex:b}=IPe(n,i,h,c,f);return w.useEffect(()=>(e(x=>({...x,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(x=>({...x,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),w.useEffect(()=>(e(x=>({...x,"aria-activedescendant":b?"bn-suggestion-menu-item-"+b:void 0})),()=>{e(x=>({...x,"aria-activedescendant":void 0}))}),[e,b]),g.jsx(o,{items:h,onItemClick:f,loadingState:y,selectedIndex:b,columns:c})}function uY(t){const e=Ze(),{triggerCharacter:n,gridSuggestionMenuComponent:r,columns:o,minQueryLength:i,onItemClick:s,getItems:a,floatingOptions:l}=t,c=w.useMemo(()=>s||(E=>{E.onItemClick(e)}),[e,s]),f=w.useMemo(()=>a||(async E=>await LPe(e,E)),[e,a]),h={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},p=w.useCallback(E=>e.suggestionMenus.onUpdate(n,E),[e.suggestionMenus,n]),y=gl(p),{isMounted:b,ref:x,style:C,getFloatingProps:k}=jc((y==null?void 0:y.show)||!1,(y==null?void 0:y.referencePos)||null,2e3,{placement:"bottom-start",middleware:[hs(10),Li(),ny({apply({availableHeight:E,elements:T}){Object.assign(T.floating.style,{maxHeight:`${E-10}px`})}})],onOpenChange(E){E||e.suggestionMenus.closeMenu()},...l});return!b||!y||!(y!=null&&y.ignoreQueryLength)&&i&&(y.query.startsWith(" ")||y.query.length<i)?null:g.jsx("div",{ref:x,style:C,...k(),children:g.jsx(VPe,{query:y.query,closeMenu:h.closeMenu,clearQuery:h.clearQuery,getItems:f,columns:o,gridSuggestionMenuComponent:r||jPe,onItemClick:c})})}function BPe(t){const e=qe(),n=ft(),{items:r,loadingState:o,selectedIndex:i,onItemClick:s}=t,a=o==="loading-initial"||o==="loading"?g.jsx(e.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader",children:n.suggestion_menu.loading}):null,l=w.useMemo(()=>{let c;const f=[];for(let h=0;h<r.length;h++){const p=r[h];p.group!==c&&(c=p.group,f.push(g.jsx(e.SuggestionMenu.Label,{className:"bn-suggestion-menu-label",children:c},c))),f.push(g.jsx(e.SuggestionMenu.Item,{className:"bn-suggestion-menu-item",item:p,id:`bn-suggestion-menu-item-${h}`,isSelected:h===i,onClick:()=>s==null?void 0:s(p)},p.title))}return f},[e,r,s,i]);return g.jsxs(e.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu",children:[l,l.length===0&&(t.loadingState==="loading"||t.loadingState==="loaded")&&g.jsx(e.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),a]})}function $Pe(t,e,n,r){const[o,i]=w.useState(0);return w.useEffect(()=>{var s;const a=l=>l.key==="ArrowUp"?(l.preventDefault(),n.length&&i((o-1+n.length)%n.length),!0):l.key==="ArrowDown"?(l.preventDefault(),n.length&&i((o+1)%n.length),!0):l.key==="Enter"&&!l.isComposing?(l.preventDefault(),l.stopPropagation(),n.length&&(r==null||r(n[o])),!0):!1;return(s=t.domElement)==null||s.addEventListener("keydown",a,!0),()=>{var l;(l=t.domElement)==null||l.removeEventListener("keydown",a,!0)}},[t.domElement,n,o,r]),w.useEffect(()=>{i(0)},[e]),{selectedIndex:n.length===0?void 0:o}}function HPe(t){const e=da().setContentEditableProps,n=Ze(),{getItems:r,suggestionMenuComponent:o,query:i,clearQuery:s,closeMenu:a,onItemClick:l}=t,c=w.useCallback(b=>{a(),s(),l==null||l(b)},[l,a,s]),{items:f,usedQuery:h,loadingState:p}=cY(i,r);lY(f,h,a);const{selectedIndex:y}=$Pe(n,i,f,c);return w.useEffect(()=>(e(b=>({...b,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(b=>({...b,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),w.useEffect(()=>(e(b=>({...b,"aria-activedescendant":y?"bn-suggestion-menu-item-"+y:void 0})),()=>{e(b=>({...b,"aria-activedescendant":void 0}))}),[e,y]),g.jsx(o,{items:f,onItemClick:c,loadingState:p,selectedIndex:y})}const zPe={heading:Wq,heading_2:qq,heading_3:Yq,numbered_list:Xq,bullet_list:Jq,check_list:Zq,paragraph:yN,table:ADe,image:Qq,video:NDe,audio:eY,file:gN,emoji:zDe,code_block:wDe};function dY(t){return nRe(t).map(e=>{const n=zPe[e.key];return{...e,icon:g.jsx(n,{size:18})}})}function fY(t){const e=Ze(),{triggerCharacter:n,suggestionMenuComponent:r,minQueryLength:o,onItemClick:i,getItems:s,floatingOptions:a}=t,l=w.useMemo(()=>i||(k=>{k.onItemClick(e)}),[e,i]),c=w.useMemo(()=>s||(async k=>eq(dY(e),k)),[e,s]),f={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},h=w.useCallback(k=>e.suggestionMenus.onUpdate(n,k),[e.suggestionMenus,n]),p=gl(h),{isMounted:y,ref:b,style:x,getFloatingProps:C}=jc((p==null?void 0:p.show)||!1,(p==null?void 0:p.referencePos)||null,2e3,{placement:"bottom-start",middleware:[hs(10),Li({mainAxis:!0,crossAxis:!1}),Nc(),ny({apply({availableHeight:k,elements:E}){Object.assign(E.floating.style,{maxHeight:`${k-10}px`})}})],onOpenChange(k){k||e.suggestionMenus.closeMenu()},...a});return!y||!p||!(p!=null&&p.ignoreQueryLength)&&o&&(p.query.startsWith(" ")||p.query.length<o)?null:g.jsx("div",{ref:b,style:x,...C(),children:g.jsx(HPe,{query:p.query,closeMenu:f.closeMenu,clearQuery:f.clearQuery,getItems:c,suggestionMenuComponent:r||BPe,onItemClick:l})})}const FPe=(t,e=.3)=>{const n=Math.floor(t)+e,r=Math.ceil(t)-e;return t>=n&&t<=r?Math.round(t):t<n?Math.floor(t):Math.ceil(t)},UPe=t=>{const e=qe(),n=w.useRef(!1),[r,o]=w.useState(),i=w.useCallback(a=>{t.onMouseDown(),o({originalContent:t.block.content,originalCroppedContent:{rows:t.editor.tableHandles.cropEmptyRowsOrColumns(t.block,t.orientation==="addOrRemoveColumns"?"columns":"rows")},startPos:t.orientation==="addOrRemoveColumns"?a.clientX:a.clientY}),n.current=!1,a.preventDefault()},[t]),s=w.useCallback(()=>{n.current||t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns(t.block,"columns",1):t.editor.tableHandles.addRowsOrColumns(t.block,"rows",1)}})},[t.block,t.orientation,t.editor]);return w.useEffect(()=>{const a=l=>{var c,f;if(!r)throw new Error("editingState is undefined");n.current=!0;const h=(t.orientation==="addOrRemoveColumns"?l.clientX:l.clientY)-r.startPos,p=t.orientation==="addOrRemoveColumns"?((c=r.originalCroppedContent.rows[0])==null?void 0:c.cells.length)??0:r.originalCroppedContent.rows.length,y=t.orientation==="addOrRemoveColumns"?((f=r.originalContent.rows[0])==null?void 0:f.cells.length)??0:r.originalContent.rows.length,b=t.orientation==="addOrRemoveColumns"?t.block.content.rows[0].cells.length:t.block.content.rows.length,x=y+FPe(h/(t.orientation==="addOrRemoveColumns"?rN:BAe),.3);x>=p&&x>0&&x!==b&&(t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"columns",x-p):t.editor.tableHandles.addRowsOrColumns({type:"table",content:r.originalCroppedContent},"rows",x-p)}}),t.block.content&&t.editor.setTextCursorPosition(t.block))};return r&&window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a)}},[r,t.block,t.editor,t.orientation]),w.useEffect(()=>{const a=t.onMouseUp,l=()=>{o(void 0),a()};return r&&window.addEventListener("mouseup",l),()=>{window.removeEventListener("mouseup",l)}},[r,t.onMouseUp]),g.jsx(e.TableHandle.ExtendButton,{className:Bn("bn-extend-button",t.orientation==="addOrRemoveColumns"?"bn-extend-button-add-remove-columns":"bn-extend-button-add-remove-rows",r!==null?"bn-extend-button-editing":""),onClick:s,onMouseDown:i,children:t.children||g.jsx(LDe,{size:18,"data-test":"extendButton"})})},KV=t=>{const e=qe(),n=ft(),r=Ze().tableHandles;return r?g.jsx(e.Generic.Menu.Item,{onClick:()=>{r.addRowOrColumn(t.index,t.orientation==="row"?{orientation:"row",side:t.side}:{orientation:"column",side:t.side})},children:n.table_handle[`add_${t.side}_menuitem`]}):null},GPe=t=>{const e=qe(),n=ft(),r=Ze().tableHandles;return r?g.jsx(e.Generic.Menu.Item,{onClick:()=>{r.removeRowOrColumn(t.index,t.orientation)},children:t.orientation==="row"?n.table_handle.delete_row_menuitem:n.table_handle.delete_column_menuitem}):null},WPe=t=>{const e=qe(),n=ft(),r=Ze(),o=r.tableHandles,i=w.useMemo(()=>!o||!t.block?[]:t.orientation==="row"?o.getCellsAtRowHandle(t.block,t.index):o.getCellsAtColumnHandle(t.block,t.index),[t.block,t.index,t.orientation,o]),s=(l,c)=>{const f=t.block.content.rows.map(h=>({...h,cells:h.cells.map(p=>_c(p))}));i.forEach(({row:h,col:p})=>{c==="text"?f[h].cells[p].props.textColor=l:f[h].cells[p].props.backgroundColor=l}),r.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:f}}),r.setTextCursorPosition(t.block)};if(!i||!i[0]||!o||r.settings.tables.cellTextColor===!1&&r.settings.tables.cellBackgroundColor===!1)return null;const a=_c(i[0].cell);return g.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(e.Generic.Menu.Trigger,{sub:!0,children:g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||n.drag_handle.colors_menuitem})}),g.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(Pw,{iconSize:18,text:r.settings.tables.cellTextColor?{color:i.every(({cell:l})=>Ec(l)&&l.props.textColor===a.props.textColor)?a.props.textColor:"default",setColor:l=>{s(l,"text")}}:void 0,background:r.settings.tables.cellBackgroundColor?{color:i.every(({cell:l})=>Ec(l)&&l.props.backgroundColor===a.props.backgroundColor)?a.props.backgroundColor:"default",setColor:l=>s(l,"background")}:void 0})})]})},qPe=t=>{const e=qe(),n=ft(),r=Ze();if(!r.tableHandles||t.index!==0||t.orientation!=="row"||!r.settings.tables.headers)return null;const o=!!t.block.content.headerRows;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{const i=r.getBlock(t.block.id);i&&r.updateBlock(i,{...i,content:{...i.content,headerRows:o?void 0:1}})},children:n.drag_handle.header_row_menuitem})},YPe=t=>{const e=qe(),n=ft(),r=Ze();if(!r.tableHandles||t.index!==0||t.orientation!=="column"||!r.settings.tables.headers)return null;const o=!!t.block.content.headerCols;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{const i=r.getBlock(t.block.id);i&&r.updateBlock(i,{...i,content:{...i.content,headerCols:o?void 0:1}})},children:n.drag_handle.header_column_menuitem})},KPe=t=>{const e=qe();return g.jsx(e.Generic.Menu.Dropdown,{className:"bn-table-handle-menu",children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(GPe,{orientation:t.orientation,block:t.block,index:t.index}),g.jsx(KV,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"above":"left"}),g.jsx(KV,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"below":"right"}),g.jsx(qPe,{orientation:t.orientation,block:t.block,index:t.index}),g.jsx(YPe,{orientation:t.orientation,block:t.block,index:t.index}),g.jsx(WPe,{orientation:t.orientation,block:t.block,index:t.index})]})})},ZPe=t=>{const e=qe(),[n,r]=w.useState(!1),o=t.tableHandleMenu||KPe,i=w.useMemo(()=>{const s=t.editor.tableHandles;return!s||!t.block?!1:t.orientation==="column"?s.getCellsAtColumnHandle(t.block,t.index).every(({cell:a})=>id(a)===1):s.getCellsAtRowHandle(t.block,t.index).every(({cell:a})=>Bg(a)===1)},[t.block,t.editor.tableHandles,t.index,t.orientation]);return g.jsxs(e.Generic.Menu.Root,{onOpenChange:s=>{s?(t.freezeHandles(),t.hideOtherSide()):(t.unfreezeHandles(),t.showOtherSide(),t.editor.focus())},position:"right",children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.TableHandle.Root,{className:Bn("bn-table-handle",n?"bn-table-handle-dragging":"",i?"":"bn-table-handle-not-draggable"),draggable:i,onDragStart:s=>{r(!0),t.dragStart(s)},onDragEnd:()=>{t.dragEnd(),r(!1)},style:t.orientation==="column"?{transform:"rotate(0.25turn)"}:void 0,children:t.children||g.jsx(aY,{size:24,"data-test":"tableHandle"})})}),Di.createPortal(g.jsx(o,{orientation:t.orientation,block:t.block,index:t.index}),t.menuContainer)]})};function ZV(t,e,n){const{refs:r,update:o,context:i,floatingStyles:s}=jh({open:e,placement:t==="addOrRemoveColumns"?"right":"bottom",middleware:[ny({apply({rects:c,elements:f}){Object.assign(f.floating.style,t==="addOrRemoveColumns"?{height:`${c.reference.height}px`}:{width:`${c.reference.width}px`})}})]}),{isMounted:a,styles:l}=dN(i);return w.useEffect(()=>{o()},[n,o]),w.useEffect(()=>{n!==null&&r.setReference({getBoundingClientRect:()=>n})},[t,n,r]),w.useMemo(()=>({isMounted:a,ref:r.setFloating,style:{display:"flex",...l,...s}}),[s,a,r.setFloating,l])}function XPe(t,e,n){const r=ZV("addOrRemoveRows",e,n),o=ZV("addOrRemoveColumns",t,n);return w.useMemo(()=>({addOrRemoveRowsButton:r,addOrRemoveColumnsButton:o}),[o,r])}function JPe(t,e,n){return n&&n.draggedCellOrientation==="row"?new DOMRect(e.x,n.mousePos,e.width,0):new DOMRect(e.x,t.y,e.width,t.height)}function QPe(t,e,n){return n&&n.draggedCellOrientation==="col"?new DOMRect(n.mousePos,e.y,0,e.height):new DOMRect(t.x,e.y,t.width,e.height)}function eLe(t){return new DOMRect(t.x,t.y,t.width,0)}function sE(t,e,n,r,o){const{refs:i,update:s,context:a,floatingStyles:l}=jh({open:e,placement:t==="row"?"left":t==="col"?"top":"bottom-end",middleware:[hs(t==="row"?-10:t==="col"?-12:{mainAxis:1,crossAxis:-1})]}),{isMounted:c,styles:f}=dN(a);return w.useEffect(()=>{s()},[n,r,s]),w.useEffect(()=>{n===null||r===null||o&&t==="cell"||i.setReference({getBoundingClientRect:()=>(t==="row"?JPe:t==="col"?QPe:eLe)(n,r,o)})},[o,t,n,r,i]),w.useMemo(()=>({isMounted:c,ref:i.setFloating,style:{display:"flex",...f,...l}}),[l,c,i.setFloating,f])}function tLe(t,e,n,r){const o=sE("row",t,e,n,r),i=sE("col",t,e,n,r),s=sE("cell",t,e,n,r);return w.useMemo(()=>({rowHandle:o,colHandle:i,cellHandle:s}),[i,o,s])}const nLe=t=>{var e,n;const r=qe(),o=ft(),i=Ze(),s=(l,c)=>{const f=t.block.content.rows.map(h=>({...h,cells:h.cells.map(p=>_c(p))}));c==="text"?f[t.rowIndex].cells[t.colIndex].props.textColor=l:f[t.rowIndex].cells[t.colIndex].props.backgroundColor=l,i.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:f}}),i.setTextCursorPosition(t.block)},a=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!a||i.settings.tables.cellTextColor===!1&&i.settings.tables.cellBackgroundColor===!1?null:g.jsxs(r.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(r.Generic.Menu.Trigger,{sub:!0,children:g.jsx(r.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||o.drag_handle.colors_menuitem})}),g.jsx(r.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(Pw,{iconSize:18,text:i.settings.tables.cellTextColor?{color:Ec(a)?a.props.textColor:"default",setColor:l=>s(l,"text")}:void 0,background:i.settings.tables.cellBackgroundColor?{color:Ec(a)?a.props.backgroundColor:"default",setColor:l=>s(l,"background")}:void 0})})]})},rLe=t=>{var e,n;const r=qe(),o=ft(),i=Ze(),s=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!s||!Ec(s)||Bg(s)===1&&id(s)===1||!i.settings.tables.splitCells?null:g.jsx(r.Generic.Menu.Item,{onClick:()=>{var a;(a=i.tableHandles)==null||a.splitCell({row:t.rowIndex,col:t.colIndex})},children:o.table_handle.split_cell_menuitem})},oLe=t=>{const e=qe();return g.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(rLe,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),g.jsx(nLe,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex})]})})},iLe=t=>{const e=qe(),n=t.tableCellMenu||oLe;return!t.editor.settings.tables.splitCells&&!t.editor.settings.tables.cellBackgroundColor&&!t.editor.settings.tables.cellTextColor?null:g.jsxs(e.Generic.Menu.Root,{onOpenChange:r=>{r?t.freezeHandles():(t.unfreezeHandles(),t.editor.focus())},position:"right",children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.Generic.Menu.Button,{className:"bn-table-cell-handle",children:t.children||g.jsx(EPe,{size:12,"data-test":"tableCellHandle"})})}),Di.createPortal(g.jsx(n,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),t.menuContainer)]})},sLe=t=>{var e,n;const r=Ze(),[o,i]=w.useState(null);if(!r.tableHandles)throw new Error("TableHandlesController can only be used when BlockNote editor schema contains table block");const s={rowDragStart:r.tableHandles.rowDragStart,colDragStart:r.tableHandles.colDragStart,dragEnd:r.tableHandles.dragEnd,freezeHandles:r.tableHandles.freezeHandles,unfreezeHandles:r.tableHandles.unfreezeHandles},{freezeHandles:a,unfreezeHandles:l}=s,c=w.useCallback(()=>{a(),A(!0),T(!0)},[a]),f=w.useCallback(()=>{l(),A(!1),T(!1)},[l]),h=gl(r.tableHandles.onUpdate.bind(r.tableHandles)),p=w.useMemo(()=>{var P,z;return h!=null&&h.draggingState?{draggedCellOrientation:(P=h==null?void 0:h.draggingState)==null?void 0:P.draggedCellOrientation,mousePos:(z=h==null?void 0:h.draggingState)==null?void 0:z.mousePos}:void 0},[h==null?void 0:h.draggingState,(e=h==null?void 0:h.draggingState)==null?void 0:e.draggedCellOrientation,(n=h==null?void 0:h.draggingState)==null?void 0:n.mousePos]),{rowHandle:y,colHandle:b,cellHandle:x}=tLe((h==null?void 0:h.show)||!1,(h==null?void 0:h.referencePosCell)||null,(h==null?void 0:h.referencePosTable)||null,p),{addOrRemoveColumnsButton:C,addOrRemoveRowsButton:k}=XPe((h==null?void 0:h.showAddOrRemoveColumnsButton)||!1,(h==null?void 0:h.showAddOrRemoveRowsButton)||!1,(h==null?void 0:h.referencePosTable)||null),[E,T]=w.useState(!1),[R,A]=w.useState(!1);if(!h)return null;const N=t.tableHandle||ZPe,O=t.extendButton||UPe,j=t.tableCellHandle||iLe;return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:i}),g.jsxs(ROe,{root:h.widgetContainer,children:[!E&&o&&y.isMounted&&h.rowIndex!==void 0&&g.jsx("div",{ref:y.ref,style:y.style,children:g.jsx(N,{editor:r,orientation:"row",showOtherSide:()=>A(!1),hideOtherSide:()=>A(!0),index:h.rowIndex,block:h.block,dragStart:s.rowDragStart,dragEnd:s.dragEnd,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles,menuContainer:o})}),!R&&o&&b.isMounted&&h.colIndex!==void 0&&g.jsx("div",{ref:b.ref,style:b.style,children:g.jsx(N,{editor:r,orientation:"column",showOtherSide:()=>T(!1),hideOtherSide:()=>T(!0),index:h.colIndex,block:h.block,dragStart:s.colDragStart,dragEnd:s.dragEnd,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles,menuContainer:o})}),o&&x.isMounted&&h.colIndex!==void 0&&h.rowIndex!==void 0&&g.jsx("div",{ref:x.ref,style:x.style,children:g.jsx(j,{editor:r,block:h.block,rowIndex:h.rowIndex,colIndex:h.colIndex,menuContainer:o,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles})}),g.jsx("div",{ref:k.ref,style:k.style,children:g.jsx(O,{editor:r,orientation:"addOrRemoveRows",block:h.block,onMouseDown:c,onMouseUp:f})}),g.jsx("div",{ref:C.ref,style:C.style,children:g.jsx(O,{editor:r,orientation:"addOrRemoveColumns",block:h.block,onMouseDown:c,onMouseUp:f})})]})]})};function aLe(t){const e=Ze();if(!e)throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return g.jsxs(g.Fragment,{children:[t.formattingToolbar!==!1&&g.jsx(sY,{}),t.linkToolbar!==!1&&g.jsx(CPe,{}),t.slashMenu!==!1&&g.jsx(fY,{triggerCharacter:"/"}),t.emojiPicker!==!1&&g.jsx(uY,{triggerCharacter:":",columns:10,minQueryLength:2}),t.sideMenu!==!1&&g.jsx(PPe,{}),e.filePanel&&t.filePanel!==!1&&g.jsx(QDe,{}),e.tableHandles&&t.tableHandles!==!1&&g.jsx(sLe,{}),e.comments&&t.comments!==!1&&g.jsxs(g.Fragment,{children:[g.jsx(iDe,{}),g.jsx(ZDe,{})]})]})}const hY=()=>{const t=w.useMemo(()=>{var s;return(s=window.matchMedia)==null?void 0:s.call(window,"(prefers-color-scheme: dark)")},[]),e=w.useMemo(()=>{var s;return(s=window.matchMedia)==null?void 0:s.call(window,"(prefers-color-scheme: light)")},[]),n=t==null?void 0:t.matches,r=e==null?void 0:e.matches,[o,i]=w.useState(n?"dark":r?"light":"no-preference");return w.useEffect(()=>{i(n?"dark":r?"light":"no-preference")},[n,r]),w.useEffect(()=>{if(typeof(t==null?void 0:t.addEventListener)=="function"){const s=({matches:l})=>l&&i("dark"),a=({matches:l})=>l&&i("light");return t==null||t.addEventListener("change",s),e==null||e.addEventListener("change",a),()=>{t==null||t.removeEventListener("change",s),e==null||e.removeEventListener("change",a)}}else{const s=()=>i(t.matches?"dark":e.matches?"light":"no-preference");return t==null||t.addEventListener("change",s),e==null||e.addEventListener("change",s),()=>{t==null||t.removeEventListener("change",s),e==null||e.removeEventListener("change",s)}}},[t,e]),o},pY=w.createContext(void 0);function lLe(){return w.useContext(pY)}function cLe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Di.createPortal(r.reactElement,r.element,n)},t.forEach(o=>o())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(o=>o())}}}const uLe=({contentComponent:t})=>{const e=w.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return g.jsx(g.Fragment,{children:Object.values(e)})},dLe=w.forwardRef((t,e)=>{const[n,r]=w.useState();return w.useImperativeHandle(e,()=>(o,i)=>{Di.flushSync(()=>{r({node:o,container:i})}),r(void 0)},[]),g.jsx(g.Fragment,{children:n&&Di.createPortal(n.node,n.container)})}),XV=()=>{};function fLe(t,e){const{editor:n,className:r,theme:o,children:i,editable:s,onSelectionChange:a,onChange:l,formattingToolbar:c,linkToolbar:f,slashMenu:h,emojiPicker:p,sideMenu:y,filePanel:b,tableHandles:x,autoFocus:C,renderEditor:k=!n.headless,...E}=t,[T,R]=w.useState(),A=da(),N=hY(),O=(A==null?void 0:A.colorSchemePreference)||N,j=o||(O==="dark"?"dark":"light");hN(l||XV,n),fN(a||XV,n),w.useEffect(()=>{n.isEditable=s!==!1},[s,n]);const P=w.useCallback(q=>{n.elementRenderer=q},[n]),z=w.useMemo(()=>({...A,editor:n,setContentEditableProps:R}),[A,n]),X={formattingToolbar:c,linkToolbar:f,slashMenu:h,emojiPicker:p,sideMenu:y,filePanel:b,tableHandles:x},Z={autoFocus:C,className:r,editorColorScheme:j,contentEditableProps:T,...E};return g.jsx(Hq.Provider,{value:z,children:g.jsxs(pY.Provider,{value:{editorProps:Z,defaultUIProps:X},children:[g.jsx(dLe,{ref:P}),k?g.jsx(pLe,{ref:e,children:i}):i]})})}const hLe=U.forwardRef(fLe),pLe=U.forwardRef((t,e)=>{const n=lLe(),r=Ze(),o=w.useMemo(()=>cLe(),[]),i=w.useCallback(s=>{r.mount(s,o)},[r,o]);return g.jsxs(g.Fragment,{children:[g.jsx(uLe,{contentComponent:o}),g.jsxs(mLe,{...n.editorProps,...t,mount:i,ref:e,children:[g.jsx(aLe,{...n.defaultUIProps}),t.children]})]})}),mLe=U.forwardRef((t,e)=>{const{className:n,editorColorScheme:r,autoFocus:o,mount:i,children:s,contentEditableProps:a,...l}=t;return g.jsxs("div",{className:Bn("bn-container",r,n),"data-color-scheme":r,...l,ref:e,children:[g.jsx("div",{"aria-autocomplete":"list","aria-haspopup":"listbox","data-bn-autofocus":o,ref:i,...a}),s]})});function JV(t,e){let n;const r=document.createElement("div");let o;if(e!=null&&e.elementRenderer)e.elementRenderer(t(l=>n=l||void 0),r);else{if(!(e!=null&&e.headless))throw new Error("elementRenderer not available, expected headless editor");o=FB.createRoot(r),Di.flushSync(()=>{o.render(t(l=>n=l||void 0))})}if(!r.childElementCount)return console.warn("ReactInlineContentSpec: renderHTML() failed"),{dom:document.createElement("span")};n==null||n.setAttribute("data-tmp-find","true");const i=r.cloneNode(!0),s=i.firstElementChild,a=i.querySelector("[data-tmp-find]");return a==null||a.removeAttribute("data-tmp-find"),o==null||o.unmount(),{dom:s,contentDOM:a||void 0}}function aE(t){var e;return g.jsx(KOe,{...Object.fromEntries(Object.entries(t.domAttributes||{}).filter(([n])=>n!=="class")),className:Bn("bn-block-content",((e=t.domAttributes)==null?void 0:e.class)||""),"data-content-type":t.blockType,...Object.fromEntries(Object.entries(t.blockProps).filter(([n,r])=>{const o=t.propSchema[n];return!XR.includes(n)&&r!==o.default}).map(([n,r])=>[nx(n),r])),"data-file-block":t.isFileBlock===!0||void 0,children:t.children})}function Ry(t,e){const n=ms({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return _y(t.propSchema)},parseHTML(){return EW(t,e.parse)},renderHTML({HTMLAttributes:r}){const o=document.createElement("div");return mm({dom:o,contentDOM:t.content==="inline"?o:void 0},t.type,{},t.propSchema,t.isFileBlock,r)},addNodeView(){return r=>{const o=eDe(i=>{var s;const a=this.options.editor,l=CW(i.getPos,a,this.editor,t.type),c=((s=this.options.domAttributes)==null?void 0:s.blockContent)||{},f=$q().nodeViewContentRef;if(!f)throw new Error("nodeViewContentRef is not set");const h=e.render;return g.jsx(aE,{blockType:l.type,blockProps:l.props,propSchema:t.propSchema,isFileBlock:t.isFileBlock,domAttributes:c,children:g.jsx(h,{block:l,editor:a,contentRef:f})})},{className:"bn-react-node-view-renderer"})(r);return t.isSelectable===!1&&_W(o,this.editor),o}}});return JR(t,{node:n,toInternalHTML:(r,o)=>{var i,s;const a=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},l=e.render,c=JV(f=>g.jsx(aE,{blockType:r.type,blockProps:r.props,propSchema:t.propSchema,domAttributes:a,children:g.jsx(l,{block:r,editor:o,contentRef:f})}),o);return(s=c.contentDOM)==null||s.setAttribute("data-editable",""),c},toExternalHTML:(r,o)=>{var i,s;const a=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},l=e.toExternalHTML||e.render,c=JV(f=>g.jsx(aE,{blockType:r.type,blockProps:r.props,propSchema:t.propSchema,domAttributes:a,children:g.jsx(l,{block:r,editor:o,contentRef:f})}),o);return(s=c.contentDOM)==null||s.setAttribute("data-editable",""),c}})}function bN(t){const e=Ze(),[n,r]=w.useState("loading"),[o,i]=w.useState();if(w.useEffect(()=>{let s=!0;return(async()=>{let a="";r("loading");try{a=e.resolveFileUrl?await e.resolveFileUrl(t):t}catch{r("error");return}s&&(r("loaded"),i(a))})(),()=>{s=!1}},[e,t]),n!=="loaded")return{loadingState:n};if(!o)throw new Error("Finished fetching file but did not get download URL.");return{loadingState:n,downloadUrl:o}}const xN=t=>g.jsxs("figure",{children:[t.children,g.jsx("figcaption",{children:t.caption})]});function gLe(t){const e=Ze();w.useEffect(()=>e.onUploadEnd(t),[t,e])}function yLe(t){const e=Ze();w.useEffect(()=>e.onUploadStart(t),[t,e])}function mY(t){const[e,n]=w.useState(!1);return yLe(r=>{r===t&&n(!0)}),gLe(r=>{r===t&&n(!1)}),e}const vLe=t=>{const e=ft(),n=w.useCallback(o=>{o.preventDefault()},[]),r=w.useCallback(()=>{t.editor.dispatch(t.editor._tiptapEditor.state.tr.setMeta(t.editor.filePanel.plugin,{block:t.block}))},[t.block,t.editor]);return g.jsxs("div",{className:"bn-add-file-button",onMouseDown:n,onClick:r,children:[g.jsx("div",{className:"bn-add-file-button-icon",children:t.buttonIcon||g.jsx(gN,{size:24})}),g.jsx("div",{className:"bn-add-file-button-text",children:t.buttonText||e.file_blocks.file.add_button_text})]})},bLe=t=>g.jsxs("div",{className:"bn-file-name-with-icon",contentEditable:!1,draggable:!1,children:[g.jsx("div",{className:"bn-file-icon",children:g.jsx(gN,{size:24})}),g.jsx("p",{className:"bn-file-name",children:t.block.props.name})]}),wN=t=>{const e=mY(t.block.id);return g.jsx("div",{className:"bn-file-block-content-wrapper",onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:t.style,children:e?g.jsx("div",{className:"bn-file-loading-preview",children:"Loading..."}):t.block.props.url===""?g.jsx(vLe,{...t}):g.jsxs(g.Fragment,{children:[t.block.props.showPreview===!1||!t.children?g.jsx(bLe,{...t}):t.children,t.block.props.caption&&g.jsx("p",{className:"bn-file-caption",children:t.block.props.caption})]})})},Lw=t=>g.jsxs("div",{children:[t.children,g.jsx("p",{children:t.caption})]}),xLe=t=>{const e=bN(t.block.props.url);return g.jsx("audio",{className:"bn-audio",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},wLe=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add audio"});const e=t.block.props.showPreview?g.jsx("audio",{src:t.block.props.url}):g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?g.jsx(xN,{caption:t.block.props.caption,children:e}):g.jsx(Lw,{caption:t.block.props.caption,children:e}):e},SLe=t=>g.jsx(wN,{...t,buttonText:t.editor.dictionary.file_blocks.audio.add_button_text,buttonIcon:g.jsx(eY,{size:24}),children:g.jsx(xLe,{...t})});Ry(BW,{render:SLe,parse:$W,toExternalHTML:wLe});const CLe=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add file"});const e=g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?g.jsx(Lw,{caption:t.block.props.caption,children:e}):e},kLe=t=>g.jsx(wN,{...t});Ry(zW,{render:kLe,parse:FW,toExternalHTML:CLe});const gY=t=>{const[e,n]=w.useState(void 0),[r,o]=w.useState(t.block.props.previewWidth),[i,s]=w.useState(!1),a=w.useRef(null);w.useEffect(()=>{const y=x=>{let C;t.block.props.textAlignment==="center"?e.handleUsed==="left"?C=e.initialWidth+(e.initialClientX-x.clientX)*2:C=e.initialWidth+(x.clientX-e.initialClientX)*2:e.handleUsed==="left"?C=e.initialWidth+e.initialClientX-x.clientX:C=e.initialWidth+x.clientX-e.initialClientX;const k=64;C<k?o(k):o(C)},b=()=>{n(void 0),t.editor.updateBlock(t.block,{props:{previewWidth:r}})};return e&&(window.addEventListener("mousemove",y),window.addEventListener("mouseup",b)),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[t,e,r]);const l=w.useCallback(()=>{t.editor.isEditable&&s(!0)},[t.editor.isEditable]),c=w.useCallback(()=>{s(!1)},[]),f=w.useCallback(y=>{y.preventDefault(),n({handleUsed:"left",initialWidth:a.current.clientWidth,initialClientX:y.clientX})},[]),h=w.useCallback(y=>{y.preventDefault(),n({handleUsed:"right",initialWidth:a.current.clientWidth,initialClientX:y.clientX})},[]),p=mY(t.block.id);return g.jsx(wN,{...t,onMouseEnter:l,onMouseLeave:c,style:t.block.props.url&&!p&&t.block.props.showPreview?{width:`${r}px`}:void 0,children:g.jsxs("div",{className:"bn-visual-media-wrapper",ref:a,children:[t.children,(i||e)&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bn-resize-handle",style:{left:"4px"},onMouseDown:f}),g.jsx("div",{className:"bn-resize-handle",style:{right:"4px"},onMouseDown:h})]})]})})},_Le=t=>{const e=bN(t.block.props.url);return g.jsx("img",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,alt:t.block.props.caption||"BlockNote image",contentEditable:!1,draggable:!1})},ELe=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add image"});const e=t.block.props.showPreview?g.jsx("img",{src:t.block.props.url,alt:t.block.props.name||t.block.props.caption||"BlockNote image",width:t.block.props.previewWidth}):g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?g.jsx(xN,{caption:t.block.props.caption,children:e}):g.jsx(Lw,{caption:t.block.props.caption,children:e}):e},TLe=t=>g.jsx(gY,{...t,buttonText:t.editor.dictionary.file_blocks.image.add_button_text,buttonIcon:g.jsx(Qq,{size:24}),children:g.jsx(_Le,{...t})});Ry(GW,{render:TLe,parse:WW,toExternalHTML:ELe});const MLe=t=>{const e=bN(t.block.props.url);return g.jsx("video",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},ALe=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add video"});const e=t.block.props.showPreview?g.jsx("video",{src:t.block.props.url}):g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?g.jsx(xN,{caption:t.block.props.caption,children:e}):g.jsx(Lw,{caption:t.block.props.caption,children:e}):e},RLe=t=>g.jsx(gY,{...t,buttonText:t.editor.dictionary.file_blocks.video.add_button_text,buttonIcon:g.jsx(PDe,{size:24}),children:g.jsx(MLe,{...t})});Ry(XW,{render:RLe,parse:JW,toExternalHTML:ALe});function yY(t,e){const n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=n.top<r.top,i=n.bottom>r.bottom;return o&&i?"both":o?"top":i?"bottom":"none"}function Ks(t){return Object.keys(t)}function lE(t){return t&&typeof t=="object"&&!Array.isArray(t)}function SN(t,e){const n={...t},r=e;return lE(t)&&lE(e)&&Object.keys(e).forEach(o=>{lE(r[o])&&o in t?n[o]=SN(n[o],r[o]):n[o]=r[o]}),n}function NLe(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function OLe(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function DLe(t){const e=OLe(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function cE(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function vY(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const o=`${r/16}${t}`;return e?cE(o):o}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(i=>n(i)).join(",");if(r.includes(" "))return r.split(" ").map(i=>n(i)).join(" ");if(r.includes(t))return e?cE(r):r;const o=r.replace("px","");if(!Number.isNaN(Number(o))){const i=`${Number(o)/16}${t}`;return e?cE(i):i}}return r}return n}const ge=vY("rem",{shouldScale:!0}),QV=vY("em");function jw(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function bY(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(r=>e.test(r))}return!1}function Ny(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==w.Fragment:!1}function Iw(t){const e=w.createContext(null);return[({children:o,value:i})=>g.jsx(e.Provider,{value:i,children:o}),()=>{const o=w.useContext(e);if(o===null)throw new Error(t);return o}]}function CN(t=null){const e=w.createContext(t);return[({children:o,value:i})=>g.jsx(e.Provider,{value:i,children:o}),()=>w.useContext(e)]}function eB(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function ax(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function PLe(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].disabled)return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].disabled)return r}return t}function LLe(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].disabled)return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].disabled)return r}return t}function jLe(t,e,n){return ax(t,n)===ax(e,n)}function xY({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:r=!0,activateOnFocus:o=!1,dir:i="rtl",orientation:s}){return a=>{var b;n==null||n(a);const l=Array.from(((b=ax(a.currentTarget,t))==null?void 0:b.querySelectorAll(e))||[]).filter(x=>jLe(a.currentTarget,x,t)),c=l.findIndex(x=>a.currentTarget===x),f=LLe(c,l,r),h=PLe(c,l,r),p=i==="rtl"?h:f,y=i==="rtl"?f:h;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),o&&l[p].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[y].focus(),o&&l[y].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),o&&l[h].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),o&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const x=l.length-1;!l[x].disabled&&l[x].focus();break}}}}const ILe={app:100,modal:200,popover:300,overlay:400,max:9999};function Oy(t){return ILe[t]}const VLe=()=>{};function BLe(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||VLe:n=>{var r;n.key==="Escape"&&(t(n),(r=e.onTrigger)==null||r.call(e))}}function mn(t,e="size",n=!0){if(t!==void 0)return bY(t)?n?ge(t):t:`var(--${e}-${t})`}function Dy(t){return mn(t,"mantine-spacing")}function Xr(t){return t===void 0?"var(--mantine-radius-default)":mn(t,"mantine-radius")}function Ao(t){return mn(t,"mantine-font-size")}function $Le(t){return mn(t,"mantine-line-height",!1)}function wY(t){if(t)return mn(t,"mantine-shadow",!1)}function Hs(t,e){return n=>{t==null||t(n),e==null||e(n)}}function HLe(t,e,n){var r;return n?Array.from(((r=ax(n,e))==null?void 0:r.querySelectorAll(t))||[]).findIndex(o=>o===n):null}function zLe(){const[t,e]=w.useState(-1);return[t,{setHovered:e,resetHovered:()=>e(-1)}]}function FLe(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}const tB=["mousedown","touchstart"];function ULe(t,e,n){const r=w.useRef(null);return w.useEffect(()=>{const o=i=>{const{target:s}=i??{};if(Array.isArray(n)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(c=>!!c&&!i.composedPath().includes(c))&&!a&&t()}else r.current&&!r.current.contains(s)&&t()};return(e||tB).forEach(i=>document.addEventListener(i,o)),()=>{(e||tB).forEach(i=>document.removeEventListener(i,o))}},[r,t,n]),r}function GLe(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function WLe(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function qLe(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=w.useState(n?e:WLe(t)),i=w.useRef(null);return w.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(t),o(i.current.matches),GLe(i.current,s=>o(s.matches))},[t]),r}const Vw=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Tc(t,e){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function YLe({opened:t,shouldReturnFocus:e=!0}){const n=w.useRef(null),r=()=>{var o;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((o=n.current)==null||o.focus({preventScroll:!0}))};return Tc(()=>{let o=-1;const i=s=>{s.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",i),t?n.current=document.activeElement:e&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",i)}},[t,e]),r}const KLe=/input|select|textarea|button|object/,SY="a, input, select, textarea, button, object, [tabindex]";function ZLe(t){return t.style.display==="none"}function XLe(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(ZLe(n))return!1;n=n.parentNode}return!0}function CY(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function j2(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(CY(t));return(KLe.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&XLe(t)}function kY(t){const e=CY(t);return(Number.isNaN(e)||e>=0)&&j2(t)}function JLe(t){return Array.from(t.querySelectorAll(SY)).filter(kY)}function QLe(t,e){const n=JLe(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],o=t.getRootNode();let i=r===o.activeElement||t===o.activeElement;const s=o.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(i=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===s.getAttribute("name")).includes(r)),!i)return;e.preventDefault();const l=n[e.shiftKey?n.length-1:0];l&&l.focus()}function _Y(t=!0){const e=w.useRef(null),n=o=>{let i=o.querySelector("[data-autofocus]");if(!i){const s=Array.from(o.querySelectorAll(SY));i=s.find(kY)||s.find(j2)||null,!i&&j2(o)&&(i=o)}i&&i.focus({preventScroll:!0})},r=w.useCallback(o=>{t&&o!==null&&e.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&n(o)}),e.current=o):e.current=null)},[t]);return w.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const o=i=>{i.key==="Tab"&&e.current&&QLe(e.current,i)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[t]),r}const eje=U.useId||(()=>{});function tje(){const t=eje();return t?`mantine-${t.replace(/:/g,"")}`:""}function Py(t){const e=tje(),[n,r]=w.useState(e);return Vw(()=>{r(FLe())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function lx(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function Ly(...t){const e=new Map;return n=>{if(t.forEach(r=>{const o=lx(r,n);o&&e.set(r,o)}),e.size>0)return()=>{t.forEach(r=>{const o=e.get(r);o?o():lx(r,null)}),e.clear()}}}function yl(...t){return w.useCallback(Ly(...t),t)}function Ih({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[o,i]=w.useState(e!==void 0?e:n),s=(a,...l)=>{i(a),r==null||r(a,...l)};return t!==void 0?[t,r,!0]:[o,s,!1]}function nje(t,e){return qLe("(prefers-reduced-motion: reduce)",t,e)}function rje(){const[t,e]=w.useState(!1),n=w.useRef(null),r=w.useCallback(()=>e(!0),[]),o=w.useCallback(()=>e(!1),[]);return w.useEffect(()=>{const i=n.current;if(i)return i.addEventListener("mouseenter",r),i.addEventListener("mouseleave",o),()=>{i==null||i.removeEventListener("mouseenter",r),i==null||i.removeEventListener("mouseleave",o)}},[n.current]),{ref:n,hovered:t}}function oje(t){return t.currentTarget instanceof HTMLElement&&t.relatedTarget instanceof HTMLElement?t.currentTarget.contains(t.relatedTarget):!1}function EY({onBlur:t,onFocus:e}={}){const n=w.useRef(null),[r,o]=w.useState(!1),i=w.useRef(!1),s=c=>{o(c),i.current=c},a=c=>{i.current||(s(!0),e==null||e(c))},l=c=>{i.current&&!oje(c)&&(s(!1),t==null||t(c))};return w.useEffect(()=>{const c=n.current;if(c)return c.addEventListener("focusin",a),c.addEventListener("focusout",l),()=>{c==null||c.removeEventListener("focusin",a),c==null||c.removeEventListener("focusout",l)}},[a,l]),{ref:n,focused:r}}function kN(t){var n;const e=U.version;return typeof U.version!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}const ije={};function sje(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([r,o])=>{e[r]?e[r]=us(e[r],o):e[r]=o})}),e}function Bw({theme:t,classNames:e,props:n,stylesCtx:r}){const i=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,r):s||ije);return sje(i)}function cx({theme:t,styles:e,props:n,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((i,s)=>typeof s=="function"?{...i,...s(t,n,r)}:{...i,...s},{})}const TY=w.createContext(null);function Vc(){const t=w.useContext(TY);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function aje(){return Vc().cssVariablesResolver}function lje(){return Vc().classNamesPrefix}function _N(){return Vc().getStyleNonce}function cje(){return Vc().withStaticClasses}function uje(){return Vc().headless}function dje(){var t;return(t=Vc().stylesTransform)==null?void 0:t.sx}function fje(){var t;return(t=Vc().stylesTransform)==null?void 0:t.styles}function MY(){return Vc().env||"default"}function hje(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function pje(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),r=n>>16&255,o=n>>8&255,i=n&255;return{r,g:o,b:i,a:1}}function mje(t){const[e,n,r,o]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:o||1}}function gje(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),o=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*i-1))*o,l=r/60,c=a*(1-Math.abs(l%2-1)),f=i-a/2;let h,p,y;return l>=0&&l<1?(h=a,p=c,y=0):l>=1&&l<2?(h=c,p=a,y=0):l>=2&&l<3?(h=0,p=a,y=c):l>=3&&l<4?(h=0,p=c,y=a):l>=4&&l<5?(h=c,p=0,y=a):(h=a,p=0,y=c),{r:Math.round((h+f)*255),g:Math.round((p+f)*255),b:Math.round((y+f)*255),a:s||1}}function EN(t){return hje(t)?pje(t):t.startsWith("rgb")?mje(t):t.startsWith("hsl")?gje(t):{r:0,g:0,b:0,a:1}}function Ib(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:o,a:i}=EN(t),s=1-e,a=l=>Math.round(l*s);return`rgba(${a(n)}, ${a(r)}, ${a(o)}, ${i})`}function zg(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function uE(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function yje(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function vje(t){if(t.startsWith("oklch("))return(yje(t)||0)/100;const{r:e,g:n,b:r}=EN(t),o=e/255,i=n/255,s=r/255,a=uE(o),l=uE(i),c=uE(s);return .2126*a+.7152*l+.0722*c}function tm(t,e=.179){return t.startsWith("var(")?!1:vje(t)>e}function Vh({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:tm(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:tm(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:tm(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,o]=t.split("."),i=o?Number(o):void 0,s=r in e.colors;if(s){const a=i!==void 0?e.colors[r][i]:e.colors[r][zg(e,n||"light")];return{color:r,value:a,shade:i,isThemeColor:s,isLight:tm(a,e.luminanceThreshold),variable:o?`--mantine-color-${r}-${i}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:tm(t,e.luminanceThreshold),shade:i,variable:void 0}}function dl(t,e){const n=Vh({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function I2(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)??e.defaultGradient.deg??0},r=dl(n.from,e),o=dl(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${o} 100%)`}function As(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const i=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${i}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:o}=EN(t);return`rgba(${n}, ${r}, ${o}, ${e})`}const hf=As,bje=({color:t,theme:e,variant:n,gradient:r,autoContrast:o})=>{const i=Vh({color:t,theme:e}),s=typeof o=="boolean"?o:e.autoContrast;if(n==="filled"){const a=s&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${ge(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:a,border:`${ge(1)} solid transparent`}:{background:t,hover:Ib(t,.1),color:a,border:`${ge(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${ge(1)} solid transparent`};const a=e.colors[i.color][i.shade];return{background:As(a,.1),hover:As(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ge(1)} solid transparent`}}return{background:As(t,.1),hover:As(t,.12),color:t,border:`${ge(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${ge(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:As(e.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${ge(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:As(t,.05),color:t,border:`${ge(1)} solid ${t}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${ge(1)} solid transparent`};const a=e.colors[i.color][i.shade];return{background:"transparent",hover:As(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ge(1)} solid transparent`}}return{background:"transparent",hover:As(t,.12),color:t,border:`${ge(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${ge(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${ge(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${ge(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:Ib(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${ge(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ib(e.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${ge(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ib(e.white,.01),color:t,border:`${ge(1)} solid transparent`}:n==="gradient"?{background:I2(r,e),hover:I2(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${ge(1)} solid var(--mantine-color-default-border)`}:{}},xje={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},nB="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",TN={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:xje,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:bje,autoContrast:!1,luminanceThreshold:.3,fontFamily:nB,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:nB,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:ge(34),lineHeight:"1.3"},h2:{fontSize:ge(26),lineHeight:"1.35"},h3:{fontSize:ge(22),lineHeight:"1.4"},h4:{fontSize:ge(18),lineHeight:"1.45"},h5:{fontSize:ge(16),lineHeight:"1.5"},h6:{fontSize:ge(14),lineHeight:"1.5"}}},fontSizes:{xs:ge(12),sm:ge(14),md:ge(16),lg:ge(18),xl:ge(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:ge(2),sm:ge(4),md:ge(8),lg:ge(16),xl:ge(32)},spacing:{xs:ge(10),sm:ge(12),md:ge(16),lg:ge(20),xl:ge(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${ge(1)} ${ge(3)} rgba(0, 0, 0, 0.05), 0 ${ge(1)} ${ge(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${ge(1)} ${ge(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ge(10)} ${ge(15)} ${ge(-5)}, rgba(0, 0, 0, 0.04) 0 ${ge(7)} ${ge(7)} ${ge(-5)}`,md:`0 ${ge(1)} ${ge(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ge(20)} ${ge(25)} ${ge(-5)}, rgba(0, 0, 0, 0.04) 0 ${ge(10)} ${ge(10)} ${ge(-5)}`,lg:`0 ${ge(1)} ${ge(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ge(28)} ${ge(23)} ${ge(-7)}, rgba(0, 0, 0, 0.04) 0 ${ge(12)} ${ge(12)} ${ge(-7)}`,xl:`0 ${ge(1)} ${ge(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${ge(36)} ${ge(28)} ${ge(-7)}, rgba(0, 0, 0, 0.04) 0 ${ge(17)} ${ge(17)} ${ge(-7)}`},other:{},components:{}};function rB(t){return t==="auto"||t==="dark"||t==="light"}function wje({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return rB(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&rB(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const Sje="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",oB="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function dE(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function iB(t){if(!(t.primaryColor in t.colors))throw new Error(Sje);if(typeof t.primaryShade=="object"&&(!dE(t.primaryShade.dark)||!dE(t.primaryShade.light)))throw new Error(oB);if(typeof t.primaryShade=="number"&&!dE(t.primaryShade))throw new Error(oB)}function Cje(t,e){var r;if(!e)return iB(t),t;const n=SN(t,e);return e.fontFamily&&!((r=e.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=e.fontFamily),iB(n),n}const MN=w.createContext(null),kje=()=>w.useContext(MN)||TN;function ni(){const t=w.useContext(MN);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function AY({theme:t,children:e,inherit:n=!0}){const r=kje(),o=w.useMemo(()=>Cje(n?r:TN,t),[t,r,n]);return g.jsx(MN.Provider,{value:o,children:e})}AY.displayName="@mantine/core/MantineThemeProvider";function _je(){const t=ni(),e=_N(),n=Ks(t.breakpoints).reduce((r,o)=>{const i=t.breakpoints[o].includes("px"),s=DLe(t.breakpoints[o]),a=i?`${s-.1}px`:QV(s-.1),l=i?`${s}px`:QV(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return g.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function fE(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function nm(t,e){return(Array.isArray(t)?t:[t]).reduce((r,o)=>`${o}{${r}}`,e)}function Eje(t,e){const n=fE(t.variables),r=n?nm(e,n):"",o=fE(t.dark),i=fE(t.light),s=o?nm(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,o):"",a=i?nm(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,i):"";return`${r}${s}${a}`}function RY({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&Vh({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function sB(t,e){return RY({color:t.colors[t.primaryColor][zg(t,e)],theme:t,autoContrast:null})}function Vb({theme:t,color:e,colorScheme:n,name:r=e,withColorValues:o=!0}){if(!t.colors[e])return{};if(n==="light"){const a=zg(t,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:hf(t.colors[e][a],.1),[`--mantine-color-${r}-light-hover`]:hf(t.colors[e][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:hf(t.colors[e][a],.05)};return o?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...l}:l}const i=zg(t,"dark"),s={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${i})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${i===9?8:i+1})`,[`--mantine-color-${r}-light`]:hf(t.colors[e][Math.max(0,i-2)],.15),[`--mantine-color-${r}-light-hover`]:hf(t.colors[e][Math.max(0,i-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(i-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(i-4,0)})`,[`--mantine-color-${r}-outline-hover`]:hf(t.colors[e][Math.max(i-4,0)],.05)};return o?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...s}:s}function Tje(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function pf(t,e,n){Ks(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const NY=t=>{const e=zg(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:ge(t.defaultRadius),r={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":sB(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":sB(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};pf(r.variables,t.breakpoints,"breakpoint"),pf(r.variables,t.spacing,"spacing"),pf(r.variables,t.fontSizes,"font-size"),pf(r.variables,t.lineHeights,"line-height"),pf(r.variables,t.shadows,"shadow"),pf(r.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((i,s)=>{r.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),Ks(t.colors).forEach(i=>{const s=t.colors[i];if(Tje(s)){Object.assign(r.light,Vb({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,Vb({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,l)=>{r.variables[`--mantine-color-${i}-${l}`]=a}),Object.assign(r.light,Vb({theme:t,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,Vb({theme:t,color:i,colorScheme:"dark",withColorValues:!1}))});const o=t.headings.sizes;return Ks(o).forEach(i=>{r.variables[`--mantine-${i}-font-size`]=o[i].fontSize,r.variables[`--mantine-${i}-line-height`]=o[i].lineHeight,r.variables[`--mantine-${i}-font-weight`]=o[i].fontWeight||t.headings.fontWeight}),r};function Mje({theme:t,generator:e}){const n=NY(t),r=e==null?void 0:e(t);return r?SN(n,r):n}const hE=NY(TN);function Aje(t){const e={variables:{},light:{},dark:{}};return Ks(t.variables).forEach(n=>{hE.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),Ks(t.light).forEach(n=>{hE.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),Ks(t.dark).forEach(n=>{hE.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function Rje(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function OY({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=ni(),r=_N(),o=aje(),i=Mje({theme:n,generator:o}),s=t===":root"&&e,a=s?Aje(i):i,l=Eje(a,t);return l?g.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${s?"":Rje(t)}`}}):null}OY.displayName="@mantine/CssVariables";function Nje(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function mf(t,e){var o,i;const n=typeof window<"u"&&"matchMedia"in window&&((o=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:o.matches),r=t!=="auto"?t:n?"dark":"light";(i=e())==null||i.setAttribute("data-mantine-color-scheme",r)}function Oje({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const o=w.useRef(null),[i,s]=w.useState(()=>t.get(e)),a=r||i,l=w.useCallback(f=>{r||(mf(f,n),s(f),t.set(f))},[t.set,a,r]),c=w.useCallback(()=>{s(e),mf(e,n),t.clear()},[t.clear,e]);return w.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),Vw(()=>{mf(t.get(e),n)},[]),w.useEffect(()=>{var h;if(r)return mf(r,n),()=>{};r===void 0&&mf(i,n),typeof window<"u"&&"matchMedia"in window&&(o.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=p=>{i==="auto"&&mf(p.matches?"dark":"light",n)};return(h=o.current)==null||h.addEventListener("change",f),()=>{var p;return(p=o.current)==null?void 0:p.removeEventListener("change",f)}},[i,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:c}}function Dje({respectReducedMotion:t,getRootElement:e}){Vw(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}Nje();function DY({theme:t,children:e,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:o=!0,deduplicateCssVariables:i=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=wje(),defaultColorScheme:f="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:p,forceColorScheme:y,stylesTransform:b,env:x}){const{colorScheme:C,setColorScheme:k,clearColorScheme:E}=Oje({defaultColorScheme:f,forceColorScheme:y,manager:c,getRootElement:h});return Dje({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:h}),g.jsx(TY.Provider,{value:{colorScheme:C,setColorScheme:k,clearColorScheme:E,getRootElement:h,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:p,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:b,env:x},children:g.jsxs(AY,{theme:t,children:[s&&g.jsx(OY,{cssVariablesSelector:a,deduplicateCssVariables:i}),o&&g.jsx(_je,{}),e]})})}DY.displayName="@mantine/core/MantineProvider";function $w({classNames:t,styles:e,props:n,stylesCtx:r}){const o=ni();return{resolvedClassNames:Bw({theme:o,classNames:t,props:n,stylesCtx:r||void 0}),resolvedStyles:cx({theme:o,styles:e,props:n,stylesCtx:r||void 0})}}const Pje={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Lje({theme:t,options:e,unstyled:n}){return us((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||Pje[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function jje({selector:t,stylesCtx:e,options:n,props:r,theme:o}){return Bw({theme:o,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:e})[t]}function aB({selector:t,stylesCtx:e,theme:n,classNames:r,props:o}){return Bw({theme:n,classNames:r,props:o,stylesCtx:e})[t]}function Ije({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function Vje({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function Bje({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:r}){return r===!1?[]:t.map(o=>`${e}-${o}-${n}`)}function $je({themeName:t,theme:e,selector:n,props:r,stylesCtx:o}){return t.map(i=>{var s,a;return(a=Bw({theme:e,classNames:(s=e.components[i])==null?void 0:s.classNames,props:r,stylesCtx:o}))==null?void 0:a[n]})}function Hje({options:t,classes:e,selector:n,unstyled:r}){return t!=null&&t.variant&&!r?e[`${n}--${t.variant}`]:void 0}function zje({theme:t,options:e,themeName:n,selector:r,classNamesPrefix:o,classNames:i,classes:s,unstyled:a,className:l,rootSelector:c,props:f,stylesCtx:h,withStaticClasses:p,headless:y,transformedStyles:b}){return us(Lje({theme:t,options:e,unstyled:a||y}),$je({theme:t,themeName:n,selector:r,props:f,stylesCtx:h}),Hje({options:e,classes:s,selector:r,unstyled:a}),aB({selector:r,stylesCtx:h,theme:t,classNames:i,props:f}),aB({selector:r,stylesCtx:h,theme:t,classNames:b,props:f}),jje({selector:r,stylesCtx:h,options:e,props:f,theme:t}),Ije({rootSelector:c,selector:r,className:l}),Vje({selector:r,classes:s,unstyled:a||y}),p&&!y&&Bje({themeName:n,classNamesPrefix:o,selector:r,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function Fje({theme:t,themeName:e,props:n,stylesCtx:r,selector:o}){return e.map(i=>{var s;return cx({theme:t,styles:(s=t.components[i])==null?void 0:s.styles,props:n,stylesCtx:r})[o]}).reduce((i,s)=>({...i,...s}),{})}function V2({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...V2({style:r,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function Uje(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{e[r]={...e[r],...jw(n[r])}}),e),{})}function Gje({vars:t,varsResolver:e,theme:n,props:r,stylesCtx:o,selector:i,themeName:s,headless:a}){var l;return(l=Uje([a?{}:e==null?void 0:e(n,r,o),...s.map(c=>{var f,h,p;return(p=(h=(f=n.components)==null?void 0:f[c])==null?void 0:h.vars)==null?void 0:p.call(h,n,r,o)}),t==null?void 0:t(n,r,o)]))==null?void 0:l[i]}function Wje({theme:t,themeName:e,selector:n,options:r,props:o,stylesCtx:i,rootSelector:s,styles:a,style:l,vars:c,varsResolver:f,headless:h,withStylesTransform:p}){return{...!p&&Fje({theme:t,themeName:e,props:o,stylesCtx:i,selector:n}),...!p&&cx({theme:t,styles:a,props:o,stylesCtx:i})[n],...!p&&cx({theme:t,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||o,stylesCtx:i})[n],...Gje({theme:t,props:o,stylesCtx:i,vars:c,varsResolver:f,selector:n,themeName:e,headless:h}),...s===n?V2({style:l,theme:t}):null,...V2({style:r==null?void 0:r.style,theme:t})}}function qje({props:t,stylesCtx:e,themeName:n}){var s;const r=ni(),o=(s=fje())==null?void 0:s();return{getTransformedStyles:a=>o?[...a.map(c=>o(c,{props:t,theme:r,ctx:e})),...n.map(c=>{var f;return o((f=r.components[c])==null?void 0:f.styles,{props:t,theme:r,ctx:e})})].filter(Boolean):[],withStylesTransform:!!o}}function Pt({name:t,classes:e,props:n,stylesCtx:r,className:o,style:i,rootSelector:s="root",unstyled:a,classNames:l,styles:c,vars:f,varsResolver:h}){const p=ni(),y=lje(),b=cje(),x=uje(),C=(Array.isArray(t)?t:[t]).filter(T=>T),{withStylesTransform:k,getTransformedStyles:E}=qje({props:n,stylesCtx:r,themeName:C});return(T,R)=>({className:zje({theme:p,options:R,themeName:C,selector:T,classNamesPrefix:y,classNames:l,classes:e,unstyled:a,className:o,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:b,headless:x,transformedStyles:E([R==null?void 0:R.styles,c])}),style:Wje({theme:p,themeName:C,selector:T,options:R,props:n,stylesCtx:r,rootSelector:s,styles:c,style:i,vars:f,varsResolver:h,headless:x,withStylesTransform:k})})}function Yje(t,e){return typeof t=="boolean"?t:e.autoContrast}function Be(t,e,n){var s;const r=ni(),o=(s=r.components[t])==null?void 0:s.defaultProps,i=typeof o=="function"?o(r):o;return{...e,...i,...jw(n)}}function pE(t){return Ks(t).reduce((e,n)=>t[n]!==void 0?`${e}${NLe(n)}:${t[n]};`:e,"").trim()}function Kje({selector:t,styles:e,media:n,container:r}){const o=e?pE(e):"",i=Array.isArray(n)?n.map(a=>`@media${a.query}{${t}{${pE(a.styles)}}}`):[],s=Array.isArray(r)?r.map(a=>`@container ${a.query}{${t}{${pE(a.styles)}}}`):[];return`${o?`${t}{${o}}`:""}${i.join("")}${s.join("")}`.trim()}function PY(t){const e=_N();return g.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:Kje(t)}})}function Hw(t){const{m:e,mx:n,my:r,mt:o,mb:i,ml:s,mr:a,me:l,ms:c,p:f,px:h,py:p,pt:y,pb:b,pl:x,pr:C,pe:k,ps:E,bd:T,bg:R,c:A,opacity:N,ff:O,fz:j,fw:P,lts:z,ta:X,lh:Z,fs:q,tt:re,td:ee,w:B,miw:$,maw:V,h:G,mih:L,mah:W,bgsz:se,bgp:ae,bgr:fe,bga:Ee,pos:pe,top:Ne,left:Oe,bottom:Ie,right:Ue,inset:At,display:Tn,flex:zt,hiddenFrom:Ve,visibleFrom:dr,lightHidden:Jn,darkHidden:Fn,sx:F,...Q}=t;return{styleProps:jw({m:e,mx:n,my:r,mt:o,mb:i,ml:s,mr:a,me:l,ms:c,p:f,px:h,py:p,pt:y,pb:b,pl:x,pr:C,pe:k,ps:E,bd:T,bg:R,c:A,opacity:N,ff:O,fz:j,fw:P,lts:z,ta:X,lh:Z,fs:q,tt:re,td:ee,w:B,miw:$,maw:V,h:G,mih:L,mah:W,bgsz:se,bgp:ae,bgr:fe,bga:Ee,pos:pe,top:Ne,left:Oe,bottom:Ie,right:Ue,inset:At,display:Tn,flex:zt,hiddenFrom:Ve,visibleFrom:dr,lightHidden:Jn,darkHidden:Fn,sx:F}),rest:Q}}const Zje={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function AN(t,e){const n=Vh({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function Xje(t,e){const n=Vh({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:AN(t,e)}function Jje(t,e){if(typeof t=="number")return ge(t);if(typeof t=="string"){const[n,r,...o]=t.split(" ").filter(s=>s.trim()!=="");let i=`${ge(n)}`;return r&&(i+=` ${r}`),o.length>0&&(i+=` ${AN(o.join(" "),e)}`),i.trim()}return t}const lB={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Qje(t){return typeof t=="string"&&t in lB?lB[t]:t}const eIe=["h1","h2","h3","h4","h5","h6"];function tIe(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&eIe.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?ge(t):t}function nIe(t){return t}const rIe=["h1","h2","h3","h4","h5","h6"];function oIe(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&rIe.includes(t)?`var(--mantine-${t}-line-height)`:t}function iIe(t){return typeof t=="number"?ge(t):t}function sIe(t,e){if(typeof t=="number")return ge(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return ge(t);const r=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return t}const mE={color:AN,textColor:Xje,fontSize:tIe,spacing:sIe,identity:nIe,size:iIe,lineHeight:oIe,fontFamily:Qje,border:Jje};function cB(t){return t.replace("(min-width: ","").replace("em)","")}function aIe({media:t,...e}){const r=Object.keys(t).sort((o,i)=>Number(cB(o))-Number(cB(i))).map(o=>({query:o,styles:t[o]}));return{...e,media:r}}function lIe(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function cIe(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function uIe(t){return typeof t=="object"&&t!==null?Ks(t).filter(e=>e!=="base"):[]}function dIe(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function LY({styleProps:t,data:e,theme:n}){return aIe(Ks(t).reduce((r,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return r;const i=e[o],s=Array.isArray(i.property)?i.property:[i.property],a=cIe(t[o]);if(!lIe(t[o]))return s.forEach(c=>{r.inlineStyles[c]=mE[i.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=uIe(t[o]);return s.forEach(c=>{a&&(r.styles[c]=mE[i.type](a,n)),l.forEach(f=>{const h=`(min-width: ${n.breakpoints[f]})`;r.media[h]={...r.media[h],[c]:mE[i.type](dIe(t[o],f),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function jY(){return`__m__-${w.useId().replace(/:/g,"")}`}function IY(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...IY(r,e)}),{}):typeof t=="function"?t(e):t??{}}function VY(t){return t.startsWith("data-")?t:`data-${t}`}function fIe(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r===void 0||r===""||r===!1||r===null||(e[VY(n)]=t[n]),e},{})}function BY(t){return t?typeof t=="string"?{[VY(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...BY(n)}),{}):fIe(t):null}function B2(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...B2(r,e)}),{}):typeof t=="function"?t(e):t??{}}function hIe({theme:t,style:e,vars:n,styleProps:r}){const o=B2(e,t),i=B2(n,t);return{...o,...i,...r}}const $Y=w.forwardRef(({component:t,style:e,__vars:n,className:r,variant:o,mod:i,size:s,hiddenFrom:a,visibleFrom:l,lightHidden:c,darkHidden:f,renderRoot:h,__size:p,...y},b)=>{var j;const x=ni(),C=t||"div",{styleProps:k,rest:E}=Hw(y),T=dje(),R=(j=T==null?void 0:T())==null?void 0:j(k.sx),A=jY(),N=LY({styleProps:k,theme:x,data:Zje}),O={ref:b,style:hIe({theme:x,style:e,vars:n,styleProps:N.inlineStyles}),className:us(r,R,{[A]:N.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":f,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":o,"data-size":bY(s)?void 0:s||void 0,size:p,...BY(i),...E};return g.jsxs(g.Fragment,{children:[N.hasResponsiveStyles&&g.jsx(PY,{selector:`.${A}`,styles:N.styles,media:N.media}),typeof h=="function"?h(O):g.jsx(C,{...O})]})});$Y.displayName="@mantine/core/Box";const st=$Y;function HY(t){return t}function Vt(t){const e=w.forwardRef(t);return e.extend=HY,e.withProps=n=>{const r=w.forwardRef((o,i)=>g.jsx(e,{...n,...o,ref:i}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e}function ho(t){const e=w.forwardRef(t);return e.withProps=n=>{const r=w.forwardRef((o,i)=>g.jsx(e,{...n,...o,ref:i}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e.extend=HY,e}const pIe=w.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function jy(){return w.useContext(pIe)}var zY={root:"m_87cf2631"};const mIe={__staticSelector:"UnstyledButton"},vd=ho((t,e)=>{const n=Be("UnstyledButton",mIe,t),{className:r,component:o="button",__staticSelector:i,unstyled:s,classNames:a,styles:l,style:c,...f}=n,h=Pt({name:i,props:n,classes:zY,className:r,style:c,classNames:a,styles:l,unstyled:s});return g.jsx(st,{...h("root",{focusable:!0}),component:o,ref:e,type:o==="button"?"button":void 0,...f})});vd.classes=zY;vd.displayName="@mantine/core/UnstyledButton";var FY={root:"m_515a97f8"};const gIe={},RN=Vt((t,e)=>{const n=Be("VisuallyHidden",gIe,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,...c}=n,f=Pt({name:"VisuallyHidden",classes:FY,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a});return g.jsx(st,{component:"span",ref:e,...f("root"),...c})});RN.classes=FY;RN.displayName="@mantine/core/VisuallyHidden";var UY={root:"m_1b7284a3"};const yIe={},vIe=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:Xr(e),"--paper-shadow":wY(n)}}),NN=ho((t,e)=>{const n=Be("Paper",yIe,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,withBorder:l,vars:c,radius:f,shadow:h,variant:p,mod:y,...b}=n,x=Pt({name:"Paper",props:n,classes:UY,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:vIe});return g.jsx(st,{ref:e,mod:[{"data-with-border":l},y],...x("root"),variant:p,...b})});NN.classes=UY;NN.displayName="@mantine/core/Paper";function GY(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,r]=e.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return e}function uB(t,e,n,r){return t==="center"||r==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function dB(t,e,n,r,o){return t==="center"||r==="center"?{left:e}:t==="end"?{[o==="ltr"?"right":"left"]:n}:t==="start"?{[o==="ltr"?"left":"right"]:n}:{}}const bIe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function xIe({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:i,arrowY:s,dir:a}){const[l,c="center"]=t.split("-"),f={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[bIe[l]]:r},h=-e/2;return l==="left"?{...f,...uB(c,s,n,o),right:h,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...f,...uB(c,s,n,o),left:h,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...f,...dB(c,i,n,o,a),bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...f,...dB(c,i,n,o,a),top:h,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const ON=w.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:o,visible:i,arrowX:s,arrowY:a,style:l,...c},f)=>{const{dir:h}=jy();return i?g.jsx("div",{...c,ref:f,style:{...l,...xIe({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:o,dir:h,arrowX:s,arrowY:a})}}):null});ON.displayName="@mantine/core/FloatingArrow";var WY={root:"m_9814e45f"};const wIe={zIndex:Oy("modal")},SIe=(t,{gradient:e,color:n,backgroundOpacity:r,blur:o,radius:i,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||r!==void 0)&&As(n||"#000",r??.6)||void 0,"--overlay-filter":o?`blur(${ge(o)})`:void 0,"--overlay-radius":i===void 0?void 0:Xr(i),"--overlay-z-index":s==null?void 0:s.toString()}}),Fg=ho((t,e)=>{const n=Be("Overlay",wIe,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,fixed:c,center:f,children:h,radius:p,zIndex:y,gradient:b,blur:x,color:C,backgroundOpacity:k,mod:E,...T}=n,R=Pt({name:"Overlay",props:n,classes:WY,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:SIe});return g.jsx(st,{ref:e,...R("root"),mod:[{center:f,fixed:c},E],...T,children:h})});Fg.classes=WY;Fg.displayName="@mantine/core/Overlay";function gE(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function CIe({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||gE(n):t;if(e){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const o=gE(n);return o.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(o),o}return gE(n)}const kIe={},qY=Vt((t,e)=>{const{children:n,target:r,reuseTargetNode:o,...i}=Be("Portal",kIe,t),[s,a]=w.useState(!1),l=w.useRef(null);return Vw(()=>(a(!0),l.current=CIe({target:r,reuseTargetNode:o,...i}),lx(e,l.current),!r&&!o&&l.current&&document.body.appendChild(l.current),()=>{!r&&!o&&l.current&&document.body.removeChild(l.current)}),[r]),!s||!l.current?null:Di.createPortal(g.jsx(g.Fragment,{children:n}),l.current)});qY.displayName="@mantine/core/Portal";const Iy=Vt(({withinPortal:t=!0,children:e,...n},r)=>MY()==="test"||!t?g.jsx(g.Fragment,{children:e}):g.jsx(qY,{ref:r,...n,children:e}));Iy.displayName="@mantine/core/OptionalPortal";const rm=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Bb={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...rm("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...rm("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...rm("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...rm("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...rm("top"),common:{transformOrigin:"top right"}}},fB={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function _Ie({transition:t,state:e,duration:n,timingFunction:r}){const o={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in Bb?{transitionProperty:Bb[t].transitionProperty,...o,...Bb[t].common,...Bb[t][fB[e]]}:{}:{transitionProperty:t.transitionProperty,...o,...t.common,...t[fB[e]]}}function EIe({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:o,onExit:i,onEntered:s,onExited:a,enterDelay:l,exitDelay:c}){const f=ni(),h=nje(),p=f.respectReducedMotion?h:!1,[y,b]=w.useState(p?0:t),[x,C]=w.useState(r?"entered":"exited"),k=w.useRef(-1),E=w.useRef(-1),T=w.useRef(-1),R=N=>{const O=N?o:i,j=N?s:a;window.clearTimeout(k.current);const P=p?0:N?t:e;b(P),P===0?(typeof O=="function"&&O(),typeof j=="function"&&j(),C(N?"entered":"exited")):T.current=requestAnimationFrame(()=>{kx.flushSync(()=>{C(N?"pre-entering":"pre-exiting")}),T.current=requestAnimationFrame(()=>{typeof O=="function"&&O(),C(N?"entering":"exiting"),k.current=window.setTimeout(()=>{typeof j=="function"&&j(),C(N?"entered":"exited")},P)})})},A=N=>{if(window.clearTimeout(E.current),typeof(N?l:c)!="number"){R(N);return}E.current=window.setTimeout(()=>{R(N)},N?l:c)};return Tc(()=>{A(r)},[r]),w.useEffect(()=>()=>{window.clearTimeout(k.current),cancelAnimationFrame(T.current)},[]),{transitionDuration:y,transitionStatus:x,transitionTimingFunction:n||"ease"}}function bd({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:r=n,mounted:o,children:i,timingFunction:s="ease",onExit:a,onEntered:l,onEnter:c,onExited:f,enterDelay:h,exitDelay:p}){const y=MY(),{transitionDuration:b,transitionStatus:x,transitionTimingFunction:C}=EIe({mounted:o,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:l,onEnter:c,onExited:f,enterDelay:h,exitDelay:p});return b===0||y==="test"?o?g.jsx(g.Fragment,{children:i({})}):t?i({display:"none"}):null:x==="exited"?t?i({display:"none"}):null:g.jsx(g.Fragment,{children:i(_Ie({transition:e,duration:b,state:x,timingFunction:C}))})}bd.displayName="@mantine/core/Transition";const[TIe,YY]=Iw("Popover component was not found in the tree");function DN({children:t,active:e=!0,refProp:n="ref",innerRef:r}){const o=_Y(e),i=yl(o,r);return Ny(t)?w.cloneElement(t,{[n]:i}):t}function KY(t){return g.jsx(RN,{tabIndex:-1,"data-autofocus":!0,...t})}DN.displayName="@mantine/core/FocusTrap";KY.displayName="@mantine/core/FocusTrapInitialFocus";DN.InitialFocus=KY;var ZY={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const MIe={},zw=Vt((t,e)=>{var C,k,E,T;const n=Be("PopoverDropdown",MIe,t),{className:r,style:o,vars:i,children:s,onKeyDownCapture:a,variant:l,classNames:c,styles:f,...h}=n,p=YY(),y=YLe({opened:p.opened,shouldReturnFocus:p.returnFocus}),b=p.withRoles?{"aria-labelledby":p.getTargetId(),id:p.getDropdownId(),role:"dialog",tabIndex:-1}:{},x=yl(e,p.floating);return p.disabled?null:g.jsx(Iy,{...p.portalProps,withinPortal:p.withinPortal,children:g.jsx(bd,{mounted:p.opened,...p.transitionProps,transition:((C=p.transitionProps)==null?void 0:C.transition)||"fade",duration:((k=p.transitionProps)==null?void 0:k.duration)??150,keepMounted:p.keepMounted,exitDuration:typeof((E=p.transitionProps)==null?void 0:E.exitDuration)=="number"?p.transitionProps.exitDuration:(T=p.transitionProps)==null?void 0:T.duration,children:R=>g.jsx(DN,{active:p.trapFocus&&p.opened,innerRef:x,children:g.jsxs(st,{...b,...h,variant:l,onKeyDownCapture:BLe(()=>{var A,N;(A=p.onClose)==null||A.call(p),(N=p.onDismiss)==null||N.call(p)},{active:p.closeOnEscape,onTrigger:y,onKeyDown:a}),"data-position":p.placement,"data-fixed":p.floatingStrategy==="fixed"||void 0,...p.getStyles("dropdown",{className:r,props:n,classNames:c,styles:f,style:[{...R,zIndex:p.zIndex,top:p.y??0,left:p.x??0,width:p.width==="target"?void 0:ge(p.width)},p.resolvedStyles.dropdown,f==null?void 0:f.dropdown,o]}),children:[s,g.jsx(ON,{ref:p.arrowRef,arrowX:p.arrowX,arrowY:p.arrowY,visible:p.withArrow,position:p.placement,arrowSize:p.arrowSize,arrowRadius:p.arrowRadius,arrowOffset:p.arrowOffset,arrowPosition:p.arrowPosition,...p.getStyles("arrow",{props:n,classNames:c,styles:f})})]})})})})});zw.classes=ZY;zw.displayName="@mantine/core/PopoverDropdown";const AIe={refProp:"ref",popupType:"dialog"},PN=Vt((t,e)=>{const{children:n,refProp:r,popupType:o,...i}=Be("PopoverTarget",AIe,t);if(!Ny(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=i,a=YY(),l=yl(a.reference,kN(n),e),c=a.withRoles?{"aria-haspopup":o,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return w.cloneElement(n,{...s,...c,...a.targetProps,className:us(a.targetProps.className,s.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});PN.displayName="@mantine/core/PopoverTarget";function XY({opened:t,floating:e,position:n,positionDependencies:r}){const[o,i]=w.useState(0);w.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current&&t)return A9(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,o,n]),Tc(()=>{e.update()},r),Tc(()=>{i(s=>s+1)},[t])}function RIe(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function NIe(t,e){const n=RIe(t.middlewares),r=[hs(t.offset)];return n.shift&&r.push(Nc(typeof n.shift=="boolean"?{limiter:rT(),padding:5}:{limiter:rT(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?Li():Li(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?Sm():Sm(n.inline)),r.push(nA({element:t.arrowRef,padding:t.arrowOffset})),(n.size||t.width==="target")&&r.push(ny({...typeof n.size=="boolean"?{}:n.size,apply({rects:o,availableWidth:i,availableHeight:s,...a}){var f;const c=((f=e().refs.floating.current)==null?void 0:f.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:o,availableWidth:i,availableHeight:s,...a}):Object.assign(c,{maxWidth:`${i}px`,maxHeight:`${s}px`})),t.width==="target"&&Object.assign(c,{width:`${o.reference.width}px`})}})),r}function OIe(t){const[e,n]=Ih({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),r=w.useRef(e),o=()=>{e&&n(!1)},i=()=>n(!e),s=jh({strategy:t.strategy,placement:t.position,middleware:NIe(t,()=>s)});return XY({opened:e,position:t.position,positionDependencies:t.positionDependencies||[],floating:s}),Tc(()=>{var a;(a=t.onPositionChange)==null||a.call(t,s.placement)},[s.placement]),Tc(()=>{var a,l;e!==r.current&&(e?(l=t.onOpen)==null||l.call(t):(a=t.onClose)==null||a.call(t)),r.current=e},[e,t.onClose,t.onOpen]),{floating:s,controlled:typeof t.opened=="boolean",opened:e,onClose:o,onToggle:i}}const DIe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Oy("popover"),__staticSelector:"Popover",width:"max-content"},PIe=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:Xr(e),"--popover-shadow":wY(n)}});function Bc(t){var et,Ht,qt,yn,ri,Qn;const e=Be("Popover",DIe,t),{children:n,position:r,offset:o,onPositionChange:i,positionDependencies:s,opened:a,transitionProps:l,onExitTransitionEnd:c,onEnterTransitionEnd:f,width:h,middlewares:p,withArrow:y,arrowSize:b,arrowOffset:x,arrowRadius:C,arrowPosition:k,unstyled:E,classNames:T,styles:R,closeOnClickOutside:A,withinPortal:N,portalProps:O,closeOnEscape:j,clickOutsideEvents:P,trapFocus:z,onClose:X,onDismiss:Z,onOpen:q,onChange:re,zIndex:ee,radius:B,shadow:$,id:V,defaultOpened:G,__staticSelector:L,withRoles:W,disabled:se,returnFocus:ae,variant:fe,keepMounted:Ee,vars:pe,floatingStrategy:Ne,withOverlay:Oe,overlayProps:Ie,...Ue}=e,At=Pt({name:L,props:e,classes:ZY,classNames:T,styles:R,unstyled:E,rootSelector:"dropdown",vars:pe,varsResolver:PIe}),{resolvedStyles:Tn}=$w({classNames:T,styles:R,props:e}),zt=w.useRef(null),[Ve,dr]=w.useState(null),[Jn,Fn]=w.useState(null),{dir:F}=jy(),Q=Py(V),oe=OIe({middlewares:p,width:h,position:GY(F,r),offset:typeof o=="number"?o+(y?b/2:0):o,arrowRef:zt,arrowOffset:x,onPositionChange:i,positionDependencies:s,opened:a,defaultOpened:G,onChange:re,onOpen:q,onClose:X,onDismiss:Z,strategy:Ne});ULe(()=>{A&&(oe.onClose(),Z==null||Z())},P,[Ve,Jn]);const Ce=w.useCallback(vn=>{dr(vn),oe.floating.refs.setReference(vn)},[oe.floating.refs.setReference]),ve=w.useCallback(vn=>{Fn(vn),oe.floating.refs.setFloating(vn)},[oe.floating.refs.setFloating]),ye=w.useCallback(()=>{var vn;(vn=l==null?void 0:l.onExited)==null||vn.call(l),c==null||c()},[l==null?void 0:l.onExited,c]),Re=w.useCallback(()=>{var vn;(vn=l==null?void 0:l.onEntered)==null||vn.call(l),f==null||f()},[l==null?void 0:l.onEntered,f]);return g.jsxs(TIe,{value:{returnFocus:ae,disabled:se,controlled:oe.controlled,reference:Ce,floating:ve,x:oe.floating.x,y:oe.floating.y,arrowX:(qt=(Ht=(et=oe.floating)==null?void 0:et.middlewareData)==null?void 0:Ht.arrow)==null?void 0:qt.x,arrowY:(Qn=(ri=(yn=oe.floating)==null?void 0:yn.middlewareData)==null?void 0:ri.arrow)==null?void 0:Qn.y,opened:oe.opened,arrowRef:zt,transitionProps:{...l,onExited:ye,onEntered:Re},width:h,withArrow:y,arrowSize:b,arrowOffset:x,arrowRadius:C,arrowPosition:k,placement:oe.floating.placement,trapFocus:z,withinPortal:N,portalProps:O,zIndex:ee,radius:B,shadow:$,closeOnEscape:j,onDismiss:Z,onClose:oe.onClose,onToggle:oe.onToggle,getTargetId:()=>`${Q}-target`,getDropdownId:()=>`${Q}-dropdown`,withRoles:W,targetProps:Ue,__staticSelector:L,classNames:T,styles:R,unstyled:E,variant:fe,keepMounted:Ee,getStyles:At,resolvedStyles:Tn,floatingStrategy:Ne},children:[n,Oe&&g.jsx(bd,{transition:"fade",mounted:oe.opened,duration:(l==null?void 0:l.duration)||250,exitDuration:(l==null?void 0:l.exitDuration)||250,children:vn=>g.jsx(Iy,{withinPortal:N,children:g.jsx(Fg,{...Ie,...At("overlay",{className:Ie==null?void 0:Ie.className,style:[vn,Ie==null?void 0:Ie.style]})})})})]})}Bc.Target=PN;Bc.Dropdown=zw;Bc.displayName="@mantine/core/Popover";Bc.extend=t=>t;var Yi={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const JY=w.forwardRef(({className:t,...e},n)=>g.jsxs(st,{component:"span",className:us(Yi.barsLoader,t),...e,ref:n,children:[g.jsx("span",{className:Yi.bar}),g.jsx("span",{className:Yi.bar}),g.jsx("span",{className:Yi.bar})]}));JY.displayName="@mantine/core/Bars";const QY=w.forwardRef(({className:t,...e},n)=>g.jsxs(st,{component:"span",className:us(Yi.dotsLoader,t),...e,ref:n,children:[g.jsx("span",{className:Yi.dot}),g.jsx("span",{className:Yi.dot}),g.jsx("span",{className:Yi.dot})]}));QY.displayName="@mantine/core/Dots";const eK=w.forwardRef(({className:t,...e},n)=>g.jsx(st,{component:"span",className:us(Yi.ovalLoader,t),...e,ref:n}));eK.displayName="@mantine/core/Oval";const tK={bars:JY,oval:eK,dots:QY},LIe={loaders:tK,type:"oval"},jIe=(t,{size:e,color:n})=>({root:{"--loader-size":mn(e,"loader-size"),"--loader-color":n?dl(n,t):void 0}}),$c=Vt((t,e)=>{const n=Be("Loader",LIe,t),{size:r,color:o,type:i,vars:s,className:a,style:l,classNames:c,styles:f,unstyled:h,loaders:p,variant:y,children:b,...x}=n,C=Pt({name:"Loader",props:n,classes:Yi,className:a,style:l,classNames:c,styles:f,unstyled:h,vars:s,varsResolver:jIe});return b?g.jsx(st,{...C("root"),ref:e,...x,children:b}):g.jsx(st,{...C("root"),ref:e,component:p[i],variant:y,size:r,...x})});$c.defaultLoaders=tK;$c.classes=Yi;$c.displayName="@mantine/core/Loader";var Bh={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const hB={orientation:"horizontal"},IIe=(t,{borderWidth:e})=>({group:{"--ai-border-width":ge(e)}}),LN=Vt((t,e)=>{const n=Be("ActionIconGroup",hB,t),{className:r,style:o,classNames:i,styles:s,unstyled:a,orientation:l,vars:c,borderWidth:f,variant:h,mod:p,...y}=Be("ActionIconGroup",hB,t),b=Pt({name:"ActionIconGroup",props:n,classes:Bh,className:r,style:o,classNames:i,styles:s,unstyled:a,vars:c,varsResolver:IIe,rootSelector:"group"});return g.jsx(st,{...b("group"),ref:e,variant:h,mod:[{"data-orientation":l},p],role:"group",...y})});LN.classes=Bh;LN.displayName="@mantine/core/ActionIconGroup";const pB={},VIe=(t,{radius:e,color:n,gradient:r,variant:o,autoContrast:i,size:s})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:o||"filled",autoContrast:i});return{groupSection:{"--section-height":mn(s,"section-height"),"--section-padding-x":mn(s,"section-padding-x"),"--section-fz":Ao(s),"--section-radius":e===void 0?void 0:Xr(e),"--section-bg":n||o?a.background:void 0,"--section-color":a.color,"--section-bd":n||o?a.border:void 0}}},jN=Vt((t,e)=>{const n=Be("ActionIconGroupSection",pB,t),{className:r,style:o,classNames:i,styles:s,unstyled:a,vars:l,variant:c,gradient:f,radius:h,autoContrast:p,...y}=Be("ActionIconGroupSection",pB,t),b=Pt({name:"ActionIconGroupSection",props:n,classes:Bh,className:r,style:o,classNames:i,styles:s,unstyled:a,vars:l,varsResolver:VIe,rootSelector:"groupSection"});return g.jsx(st,{...b("groupSection"),ref:e,variant:c,...y})});jN.classes=Bh;jN.displayName="@mantine/core/ActionIconGroupSection";const BIe={},$Ie=(t,{size:e,radius:n,variant:r,gradient:o,color:i,autoContrast:s})=>{const a=t.variantColorResolver({color:i||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":mn(e,"ai-size"),"--ai-radius":n===void 0?void 0:Xr(n),"--ai-bg":i||r?a.background:void 0,"--ai-hover":i||r?a.hover:void 0,"--ai-hover-color":i||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":i||r?a.border:void 0}}},xd=ho((t,e)=>{const n=Be("ActionIcon",BIe,t),{className:r,unstyled:o,variant:i,classNames:s,styles:a,style:l,loading:c,loaderProps:f,size:h,color:p,radius:y,__staticSelector:b,gradient:x,vars:C,children:k,disabled:E,"data-disabled":T,autoContrast:R,mod:A,...N}=n,O=Pt({name:["ActionIcon",b],props:n,className:r,style:l,classes:Bh,classNames:s,styles:a,unstyled:o,vars:C,varsResolver:$Ie});return g.jsxs(vd,{...O("root",{active:!E&&!c&&!T}),...N,unstyled:o,variant:i,size:h,disabled:E||c,ref:e,mod:[{loading:c,disabled:E||T},A],children:[g.jsx(bd,{mounted:!!c,transition:"slide-down",duration:150,children:j=>g.jsx(st,{component:"span",...O("loader",{style:j}),"aria-hidden":!0,children:g.jsx($c,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...f})})}),g.jsx(st,{component:"span",mod:{loading:c},...O("icon"),children:k})]})});xd.classes=Bh;xd.displayName="@mantine/core/ActionIcon";xd.Group=LN;xd.GroupSection=jN;const nK=w.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},r)=>g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:r,...n,children:g.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));nK.displayName="@mantine/core/CloseIcon";var rK={root:"m_86a44da5","root--subtle":"m_220c80f2"};const HIe={variant:"subtle"},zIe=(t,{size:e,radius:n,iconSize:r})=>({root:{"--cb-size":mn(e,"cb-size"),"--cb-radius":n===void 0?void 0:Xr(n),"--cb-icon-size":ge(r)}}),Fw=ho((t,e)=>{const n=Be("CloseButton",HIe,t),{iconSize:r,children:o,vars:i,radius:s,className:a,classNames:l,style:c,styles:f,unstyled:h,"data-disabled":p,disabled:y,variant:b,icon:x,mod:C,__staticSelector:k,...E}=n,T=Pt({name:k||"CloseButton",props:n,className:a,style:c,classes:rK,classNames:l,styles:f,unstyled:h,vars:i,varsResolver:zIe});return g.jsxs(vd,{ref:e,...E,unstyled:h,variant:b,disabled:y,mod:[{disabled:y||p},C],...T("root",{variant:b,active:!y&&!p}),children:[x||g.jsx(nK,{}),o]})});Fw.classes=rK;Fw.displayName="@mantine/core/CloseButton";function FIe(t){return w.Children.toArray(t).filter(Boolean)}var oK={root:"m_4081bf90"};const UIe={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},GIe=(t,{grow:e,preventGrowOverflow:n,gap:r,align:o,justify:i,wrap:s},{childWidth:a})=>({root:{"--group-child-width":e&&n?a:void 0,"--group-gap":Dy(r),"--group-align":o,"--group-justify":i,"--group-wrap":s}}),Pr=Vt((t,e)=>{const n=Be("Group",UIe,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,children:l,gap:c,align:f,justify:h,wrap:p,grow:y,preventGrowOverflow:b,vars:x,variant:C,__size:k,mod:E,...T}=n,R=FIe(l),A=R.length,N=Dy(c??"md"),j={childWidth:`calc(${100/A}% - (${N} - ${N} / ${A}))`},P=Pt({name:"Group",props:n,stylesCtx:j,className:o,style:i,classes:oK,classNames:r,styles:s,unstyled:a,vars:x,varsResolver:GIe});return g.jsx(st,{...P("root"),ref:e,variant:C,mod:[{grow:y},E],size:k,...T,children:R})});Pr.classes=oK;Pr.displayName="@mantine/core/Group";const[WIe,qIe]=CN({size:"sm"}),YIe={},iK=Vt((t,e)=>{const n=Be("InputClearButton",YIe,t),{size:r,variant:o,vars:i,classNames:s,styles:a,...l}=n,c=qIe(),{resolvedClassNames:f,resolvedStyles:h}=$w({classNames:s,styles:a,props:n});return g.jsx(Fw,{variant:o||"transparent",ref:e,size:r||(c==null?void 0:c.size)||"sm",classNames:f,styles:h,__staticSelector:"InputClearButton",...l})});iK.displayName="@mantine/core/InputClearButton";const[KIe,Uw]=CN({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Ii={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const mB={},ZIe=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${Ao(e)} - ${ge(2)})`}}),Gw=Vt((t,e)=>{const n=Be("InputDescription",mB,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,size:c,__staticSelector:f,__inheritStyles:h=!0,variant:p,...y}=Be("InputDescription",mB,n),b=Uw(),x=Pt({name:["InputWrapper",f],props:n,classes:Ii,className:o,style:i,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:l,varsResolver:ZIe}),C=h&&(b==null?void 0:b.getStyles)||x;return g.jsx(st,{component:"p",ref:e,variant:p,size:c,...C("description",b!=null&&b.getStyles?{className:o,style:i}:void 0),...y})});Gw.classes=Ii;Gw.displayName="@mantine/core/InputDescription";const XIe={},JIe=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${Ao(e)} - ${ge(2)})`}}),Ww=Vt((t,e)=>{const n=Be("InputError",XIe,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,size:c,__staticSelector:f,__inheritStyles:h=!0,variant:p,...y}=n,b=Pt({name:["InputWrapper",f],props:n,classes:Ii,className:o,style:i,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:l,varsResolver:JIe}),x=Uw(),C=h&&(x==null?void 0:x.getStyles)||b;return g.jsx(st,{component:"p",ref:e,variant:p,size:c,...C("error",x!=null&&x.getStyles?{className:o,style:i}:void 0),...y})});Ww.classes=Ii;Ww.displayName="@mantine/core/InputError";const gB={labelElement:"label"},QIe=(t,{size:e})=>({label:{"--input-label-size":Ao(e),"--input-asterisk-color":void 0}}),qw=Vt((t,e)=>{const n=Be("InputLabel",gB,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,labelElement:c,size:f,required:h,htmlFor:p,onMouseDown:y,children:b,__staticSelector:x,variant:C,mod:k,...E}=Be("InputLabel",gB,n),T=Pt({name:["InputWrapper",x],props:n,classes:Ii,className:o,style:i,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:l,varsResolver:QIe}),R=Uw(),A=(R==null?void 0:R.getStyles)||T;return g.jsxs(st,{...A("label",R!=null&&R.getStyles?{className:o,style:i}:void 0),component:c,variant:C,size:f,ref:e,htmlFor:c==="label"?p:void 0,mod:[{required:h},k],onMouseDown:N=>{y==null||y(N),!N.defaultPrevented&&N.detail>1&&N.preventDefault()},...E,children:[b,h&&g.jsx("span",{...A("required"),"aria-hidden":!0,children:" *"})]})});qw.classes=Ii;qw.displayName="@mantine/core/InputLabel";const yB={},IN=Vt((t,e)=>{const n=Be("InputPlaceholder",yB,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,__staticSelector:c,variant:f,error:h,mod:p,...y}=Be("InputPlaceholder",yB,n),b=Pt({name:["InputPlaceholder",c],props:n,classes:Ii,className:o,style:i,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return g.jsx(st,{...b("placeholder"),mod:[{error:!!h},p],component:"span",variant:f,ref:e,...y})});IN.classes=Ii;IN.displayName="@mantine/core/InputPlaceholder";function e4e(t,{hasDescription:e,hasError:n}){const r=t.findIndex(l=>l==="input"),o=t.slice(0,r),i=t.slice(r+1),s=e&&o.includes("description")||n&&o.includes("error");return{offsetBottom:e&&i.includes("description")||n&&i.includes("error"),offsetTop:s}}const t4e={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},n4e=(t,{size:e})=>({label:{"--input-label-size":Ao(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${Ao(e)} - ${ge(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${Ao(e)} - ${ge(2)})`}}),VN=Vt((t,e)=>{const n=Be("InputWrapper",t4e,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,size:c,variant:f,__staticSelector:h,inputContainer:p,inputWrapperOrder:y,label:b,error:x,description:C,labelProps:k,descriptionProps:E,errorProps:T,labelElement:R,children:A,withAsterisk:N,id:O,required:j,__stylesApiProps:P,mod:z,...X}=n,Z=Pt({name:["InputWrapper",h],props:P||n,classes:Ii,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:n4e}),q={size:c,variant:f,__staticSelector:h},re=Py(O),ee=typeof N=="boolean"?N:j,B=(T==null?void 0:T.id)||`${re}-error`,$=(E==null?void 0:E.id)||`${re}-description`,V=re,G=!!x&&typeof x!="boolean",L=!!C,W=`${G?B:""} ${L?$:""}`,se=W.trim().length>0?W.trim():void 0,ae=(k==null?void 0:k.id)||`${re}-label`,fe=b&&g.jsx(qw,{labelElement:R,id:ae,htmlFor:V,required:ee,...q,...k,children:b},"label"),Ee=L&&g.jsx(Gw,{...E,...q,size:(E==null?void 0:E.size)||q.size,id:(E==null?void 0:E.id)||$,children:C},"description"),pe=g.jsx(w.Fragment,{children:p(A)},"input"),Ne=G&&w.createElement(Ww,{...T,...q,size:(T==null?void 0:T.size)||q.size,key:"error",id:(T==null?void 0:T.id)||B},x),Oe=y.map(Ie=>{switch(Ie){case"label":return fe;case"input":return pe;case"description":return Ee;case"error":return Ne;default:return null}});return g.jsx(KIe,{value:{getStyles:Z,describedBy:se,inputId:V,labelId:ae,...e4e(y,{hasDescription:L,hasError:G})},children:g.jsx(st,{ref:e,variant:f,size:c,mod:[{error:!!x},z],...Z("root"),...X,children:Oe})})});VN.classes=Ii;VN.displayName="@mantine/core/InputWrapper";const r4e={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},o4e=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":mn(e.size,"input-height"),"--input-fz":Ao(e.size),"--input-radius":e.radius===void 0?void 0:Xr(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?ge(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?ge(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?mn(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),ti=ho((t,e)=>{const n=Be("Input",r4e,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,required:l,__staticSelector:c,__stylesApiProps:f,size:h,wrapperProps:p,error:y,disabled:b,leftSection:x,leftSectionProps:C,leftSectionWidth:k,rightSection:E,rightSectionProps:T,rightSectionWidth:R,rightSectionPointerEvents:A,leftSectionPointerEvents:N,variant:O,vars:j,pointer:P,multiline:z,radius:X,id:Z,withAria:q,withErrorStyles:re,mod:ee,inputSize:B,__clearSection:$,__clearable:V,__defaultRightSection:G,...L}=n,{styleProps:W,rest:se}=Hw(L),ae=Uw(),fe={offsetBottom:ae==null?void 0:ae.offsetBottom,offsetTop:ae==null?void 0:ae.offsetTop},Ee=Pt({name:["Input",c],props:f||n,classes:Ii,className:o,style:i,classNames:r,styles:s,unstyled:a,stylesCtx:fe,rootSelector:"wrapper",vars:j,varsResolver:o4e}),pe=q?{required:l,disabled:b,"aria-invalid":!!y,"aria-describedby":ae==null?void 0:ae.describedBy,id:(ae==null?void 0:ae.inputId)||Z}:{},Ne=E||V&&$||G;return g.jsx(WIe,{value:{size:h||"sm"},children:g.jsxs(st,{...Ee("wrapper"),...W,...p,mod:[{error:!!y&&re,pointer:P,disabled:b,multiline:z,"data-with-right-section":!!Ne,"data-with-left-section":!!x},ee],variant:O,size:h,children:[x&&g.jsx("div",{...C,"data-position":"left",...Ee("section",{className:C==null?void 0:C.className,style:C==null?void 0:C.style}),children:x}),g.jsx(st,{component:"input",...se,...pe,ref:e,required:l,mod:{disabled:b,error:!!y&&re},variant:O,__size:B,...Ee("input")}),Ne&&g.jsx("div",{...T,"data-position":"right",...Ee("section",{className:T==null?void 0:T.className,style:T==null?void 0:T.style}),children:Ne})]})})});ti.classes=Ii;ti.Wrapper=VN;ti.Label=qw;ti.Error=Ww;ti.Description=Gw;ti.Placeholder=IN;ti.ClearButton=iK;ti.displayName="@mantine/core/Input";function i4e(t,e,n){const r=Be(t,e,n),{label:o,description:i,error:s,required:a,classNames:l,styles:c,className:f,unstyled:h,__staticSelector:p,__stylesApiProps:y,errorProps:b,labelProps:x,descriptionProps:C,wrapperProps:k,id:E,size:T,style:R,inputContainer:A,inputWrapperOrder:N,withAsterisk:O,variant:j,vars:P,mod:z,...X}=r,{styleProps:Z,rest:q}=Hw(X),re={label:o,description:i,error:s,required:a,classNames:l,className:f,__staticSelector:p,__stylesApiProps:y||r,errorProps:b,labelProps:x,descriptionProps:C,unstyled:h,styles:c,size:T,style:R,inputContainer:A,inputWrapperOrder:N,withAsterisk:O,variant:j,id:E,mod:z,...k};return{...q,classNames:l,styles:c,unstyled:h,wrapperProps:{...re,...Z},inputProps:{required:a,classNames:l,styles:c,unstyled:h,size:T,__staticSelector:p,__stylesApiProps:y||r,error:s,variant:j,id:E}}}const s4e={__staticSelector:"InputBase",withAria:!0},$h=ho((t,e)=>{const{inputProps:n,wrapperProps:r,...o}=i4e("InputBase",s4e,t);return g.jsx(ti.Wrapper,{...r,children:g.jsx(ti,{...n,...o,ref:e})})});$h.classes={...ti.classes,...ti.Wrapper.classes};$h.displayName="@mantine/core/InputBase";const a4e={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var sK={root:"m_8bffd616"};const l4e={},BN=ho((t,e)=>{const n=Be("Flex",l4e,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,gap:c,rowGap:f,columnGap:h,align:p,justify:y,wrap:b,direction:x,...C}=n,k=Pt({name:"Flex",classes:sK,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:l}),E=ni(),T=jY(),R=LY({styleProps:{gap:c,rowGap:f,columnGap:h,align:p,justify:y,wrap:b,direction:x},theme:E,data:a4e});return g.jsxs(g.Fragment,{children:[R.hasResponsiveStyles&&g.jsx(PY,{selector:`.${T}`,styles:R.styles,media:R.media}),g.jsx(st,{ref:e,...k("root",{className:T,style:jw(R.inlineStyles)}),...C})]})});BN.classes=sK;BN.displayName="@mantine/core/Flex";var aK={root:"m_b6d8b162"};function c4e(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const u4e={inherit:!1},d4e=(t,{variant:e,lineClamp:n,gradient:r,size:o,color:i})=>({root:{"--text-fz":Ao(o),"--text-lh":$Le(o),"--text-gradient":e==="gradient"?I2(r,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":i?dl(i,t):void 0}}),Mc=ho((t,e)=>{const n=Be("Text",u4e,t),{lineClamp:r,truncate:o,inline:i,inherit:s,gradient:a,span:l,__staticSelector:c,vars:f,className:h,style:p,classNames:y,styles:b,unstyled:x,variant:C,mod:k,size:E,...T}=n,R=Pt({name:["Text",c],props:n,classes:aK,className:h,style:p,classNames:y,styles:b,unstyled:x,vars:f,varsResolver:d4e});return g.jsx(st,{...R("root",{focusable:!0}),ref:e,component:l?"span":"p",variant:C,mod:[{"data-truncate":c4e(o),"data-line-clamp":typeof r=="number","data-inline":i,"data-inherit":s},k],size:E,...T})});Mc.classes=aK;Mc.displayName="@mantine/core/Text";function $N({size:t,style:e,...n}){const r=t!==void 0?{width:ge(t),height:ge(t),...e}:e;return g.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:g.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const lK=w.createContext(null),f4e=lK.Provider;function h4e(){return{withinGroup:!!w.useContext(lK)}}var Yw={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const p4e={},m4e=(t,{spacing:e})=>({group:{"--ag-spacing":Dy(e)}}),HN=Vt((t,e)=>{const n=Be("AvatarGroup",p4e,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,spacing:c,...f}=n,h=Pt({name:"AvatarGroup",classes:Yw,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:m4e,rootSelector:"group"});return g.jsx(f4e,{value:!0,children:g.jsx(st,{ref:e,...h("group"),...f})})});HN.classes=Yw;HN.displayName="@mantine/core/AvatarGroup";function g4e(t){return g.jsx("svg",{...t,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function y4e(t){let e=0;for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n);e=(e<<5)-e+r,e|=0}return e}const v4e=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function b4e(t,e=v4e){const n=y4e(t),r=Math.abs(n)%e.length;return e[r]}function x4e(t,e=2){const n=t.split(" ");return n.length===1?t.slice(0,e).toUpperCase():n.map(r=>r[0]).slice(0,e).join("").toUpperCase()}const w4e={},S4e=(t,{size:e,radius:n,variant:r,gradient:o,color:i,autoContrast:s,name:a,allowedInitialsColors:l})=>{const c=i==="initials"&&typeof a=="string"?b4e(a,l):i,f=t.variantColorResolver({color:c||"gray",theme:t,gradient:o,variant:r||"light",autoContrast:s});return{root:{"--avatar-size":mn(e,"avatar-size"),"--avatar-radius":n===void 0?void 0:Xr(n),"--avatar-bg":c||r?f.background:void 0,"--avatar-color":c||r?f.color:void 0,"--avatar-bd":c||r?f.border:void 0}}},Kw=ho((t,e)=>{const n=Be("Avatar",w4e,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,src:c,alt:f,radius:h,color:p,gradient:y,imageProps:b,children:x,autoContrast:C,mod:k,name:E,allowedInitialsColors:T,...R}=n,A=h4e(),[N,O]=w.useState(!c),j=Pt({name:"Avatar",props:n,classes:Yw,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:S4e});return w.useEffect(()=>O(!c),[c]),g.jsx(st,{...j("root"),mod:[{"within-group":A.withinGroup},k],ref:e,...R,children:N?g.jsx("span",{...j("placeholder"),title:f,children:x||typeof E=="string"&&x4e(E)||g.jsx(g4e,{})}):g.jsx("img",{...b,...j("image"),src:c,alt:f,onError:P=>{var z;O(!0),(z=b==null?void 0:b.onError)==null||z.call(b,P)}})})});Kw.classes=Yw;Kw.displayName="@mantine/core/Avatar";Kw.Group=HN;var cK={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const C4e={},k4e=(t,{radius:e,color:n,gradient:r,variant:o,size:i,autoContrast:s})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:o||"filled",autoContrast:s});return{root:{"--badge-height":mn(i,"badge-height"),"--badge-padding-x":mn(i,"badge-padding-x"),"--badge-fz":mn(i,"badge-fz"),"--badge-radius":e===void 0?void 0:Xr(e),"--badge-bg":n||o?a.background:void 0,"--badge-color":n||o?a.color:void 0,"--badge-bd":n||o?a.border:void 0,"--badge-dot-color":o==="dot"?dl(n,t):void 0}}},zN=ho((t,e)=>{const n=Be("Badge",C4e,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,radius:c,color:f,gradient:h,leftSection:p,rightSection:y,children:b,variant:x,fullWidth:C,autoContrast:k,circle:E,mod:T,...R}=n,A=Pt({name:"Badge",props:n,classes:cK,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:k4e});return g.jsxs(st,{variant:x,mod:[{block:C,circle:E,"with-right-section":!!y,"with-left-section":!!p},T],...A("root",{variant:x}),ref:e,...R,children:[p&&g.jsx("span",{...A("section"),"data-position":"left",children:p}),g.jsx("span",{...A("label"),children:b}),y&&g.jsx("span",{...A("section"),"data-position":"right",children:y})]})});zN.classes=cK;zN.displayName="@mantine/core/Badge";var Hh={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const vB={orientation:"horizontal"},_4e=(t,{borderWidth:e})=>({group:{"--button-border-width":ge(e)}}),FN=Vt((t,e)=>{const n=Be("ButtonGroup",vB,t),{className:r,style:o,classNames:i,styles:s,unstyled:a,orientation:l,vars:c,borderWidth:f,variant:h,mod:p,...y}=Be("ButtonGroup",vB,t),b=Pt({name:"ButtonGroup",props:n,classes:Hh,className:r,style:o,classNames:i,styles:s,unstyled:a,vars:c,varsResolver:_4e,rootSelector:"group"});return g.jsx(st,{...b("group"),ref:e,variant:h,mod:[{"data-orientation":l},p],role:"group",...y})});FN.classes=Hh;FN.displayName="@mantine/core/ButtonGroup";const bB={},E4e=(t,{radius:e,color:n,gradient:r,variant:o,autoContrast:i,size:s})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:o||"filled",autoContrast:i});return{groupSection:{"--section-height":mn(s,"section-height"),"--section-padding-x":mn(s,"section-padding-x"),"--section-fz":s!=null&&s.includes("compact")?Ao(s.replace("compact-","")):Ao(s),"--section-radius":e===void 0?void 0:Xr(e),"--section-bg":n||o?a.background:void 0,"--section-color":a.color,"--section-bd":n||o?a.border:void 0}}},UN=Vt((t,e)=>{const n=Be("ButtonGroupSection",bB,t),{className:r,style:o,classNames:i,styles:s,unstyled:a,vars:l,variant:c,gradient:f,radius:h,autoContrast:p,...y}=Be("ButtonGroupSection",bB,t),b=Pt({name:"ButtonGroupSection",props:n,classes:Hh,className:r,style:o,classNames:i,styles:s,unstyled:a,vars:l,varsResolver:E4e,rootSelector:"groupSection"});return g.jsx(st,{...b("groupSection"),ref:e,variant:c,...y})});UN.classes=Hh;UN.displayName="@mantine/core/ButtonGroupSection";const T4e={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${ge(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},M4e={},A4e=(t,{radius:e,color:n,gradient:r,variant:o,size:i,justify:s,autoContrast:a})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:o||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":mn(i,"button-height"),"--button-padding-x":mn(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?Ao(i.replace("compact-","")):Ao(i),"--button-radius":e===void 0?void 0:Xr(e),"--button-bg":n||o?l.background:void 0,"--button-hover":n||o?l.hover:void 0,"--button-color":l.color,"--button-bd":n||o?l.border:void 0,"--button-hover-color":n||o?l.hoverColor:void 0}}},gs=ho((t,e)=>{const n=Be("Button",M4e,t),{style:r,vars:o,className:i,color:s,disabled:a,children:l,leftSection:c,rightSection:f,fullWidth:h,variant:p,radius:y,loading:b,loaderProps:x,gradient:C,classNames:k,styles:E,unstyled:T,"data-disabled":R,autoContrast:A,mod:N,...O}=n,j=Pt({name:"Button",props:n,classes:Hh,className:i,style:r,classNames:k,styles:E,unstyled:T,vars:o,varsResolver:A4e}),P=!!c,z=!!f;return g.jsxs(vd,{ref:e,...j("root",{active:!a&&!b&&!R}),unstyled:T,variant:p,disabled:a||b,mod:[{disabled:a||R,loading:b,block:h,"with-left-section":P,"with-right-section":z},N],...O,children:[g.jsx(bd,{mounted:!!b,transition:T4e,duration:150,children:X=>g.jsx(st,{component:"span",...j("loader",{style:X}),"aria-hidden":!0,children:g.jsx($c,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...x})})}),g.jsxs("span",{...j("inner"),children:[c&&g.jsx(st,{component:"span",...j("section"),mod:{position:"left"},children:c}),g.jsx(st,{component:"span",mod:{loading:b},...j("label"),children:l}),f&&g.jsx(st,{component:"span",...j("section"),mod:{position:"right"},children:f})]})]})});gs.classes=Hh;gs.displayName="@mantine/core/Button";gs.Group=FN;gs.GroupSection=UN;const[R4e,N4e]=Iw("Card component was not found in tree");var GN={root:"m_e615b15f",section:"m_599a2148"};const O4e={},Zw=ho((t,e)=>{const n=Be("CardSection",O4e,t),{classNames:r,className:o,style:i,styles:s,vars:a,withBorder:l,inheritPadding:c,mod:f,...h}=n,p=N4e();return g.jsx(st,{ref:e,mod:[{"with-border":l,"inherit-padding":c},f],...p.getStyles("section",{className:o,style:i,styles:s,classNames:r}),...h})});Zw.classes=GN;Zw.displayName="@mantine/core/CardSection";const D4e={},P4e=(t,{padding:e})=>({root:{"--card-padding":Dy(e)}}),Vy=ho((t,e)=>{const n=Be("Card",D4e,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,children:c,padding:f,...h}=n,p=Pt({name:"Card",props:n,classes:GN,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:P4e}),y=w.Children.toArray(c),b=y.map((x,C)=>typeof x=="object"&&x&&"type"in x&&x.type===Zw?w.cloneElement(x,{"data-first-section":C===0||void 0,"data-last-section":C===y.length-1||void 0}):x);return g.jsx(R4e,{value:{getStyles:p},children:g.jsx(NN,{ref:e,unstyled:a,...p("root"),...h,children:b})})});Vy.classes=GN;Vy.displayName="@mantine/core/Card";Vy.Section=Zw;const[L4e,j4e]=CN(),I4e={};function uK(t){const{value:e,defaultValue:n,onChange:r,multiple:o,children:i}=Be("ChipGroup",I4e,t),[s,a]=Ih({value:e,defaultValue:n,finalValue:o?[]:null,onChange:r}),l=f=>Array.isArray(s)?s.includes(f):f===s,c=f=>{const h=f.currentTarget.value;Array.isArray(s)?a(s.includes(h)?s.filter(p=>p!==h):[...s,h]):a(h)};return g.jsx(L4e,{value:{isChipSelected:l,onChange:c,multiple:o},children:i})}uK.displayName="@mantine/core/ChipGroup";var dK={root:"m_f59ffda3",label:"m_be049a53","label--outline":"m_3904c1af","label--filled":"m_fa109255","label--light":"m_f7e165c3",iconWrapper:"m_9ac86df9",checkIcon:"m_d6d72580",input:"m_bde07329"};const V4e={type:"checkbox"},B4e=(t,{size:e,radius:n,variant:r,color:o,autoContrast:i})=>{const s=t.variantColorResolver({color:o||t.primaryColor,theme:t,variant:r||"filled",autoContrast:i});return{root:{"--chip-fz":Ao(e),"--chip-size":mn(e,"chip-size"),"--chip-radius":n===void 0?void 0:Xr(n),"--chip-checked-padding":mn(e,"chip-checked-padding"),"--chip-padding":mn(e,"chip-padding"),"--chip-icon-size":mn(e,"chip-icon-size"),"--chip-bg":o||r?s.background:void 0,"--chip-hover":o||r?s.hover:void 0,"--chip-color":o||r?s.color:void 0,"--chip-bd":o||r?s.border:void 0,"--chip-spacing":mn(e,"chip-spacing")}}},Xw=Vt((t,e)=>{const n=Be("Chip",V4e,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,id:c,checked:f,defaultChecked:h,onChange:p,value:y,wrapperProps:b,type:x,disabled:C,children:k,size:E,variant:T,icon:R,rootRef:A,autoContrast:N,mod:O,...j}=n,P=Pt({name:"Chip",classes:dK,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:B4e}),z=j4e(),X=Py(c),{styleProps:Z,rest:q}=Hw(j),[re,ee]=Ih({value:f,defaultValue:h,finalValue:!1,onChange:p}),B=z?{checked:z.isChipSelected(y),onChange:V=>{z.onChange(V),p==null||p(V.currentTarget.checked)},type:z.multiple?"checkbox":"radio"}:{},$=B.checked||re;return g.jsxs(st,{size:E,variant:T,ref:A,mod:O,...P("root"),...Z,...b,children:[g.jsx("input",{type:x,...P("input"),checked:$,onChange:V=>ee(V.currentTarget.checked),id:X,disabled:C,ref:e,value:y,...B,...q}),g.jsxs("label",{htmlFor:X,"data-checked":$||void 0,"data-disabled":C||void 0,...P("label",{variant:T||"filled"}),children:[$&&g.jsx("span",{...P("iconWrapper"),children:R||g.jsx($N,{...P("checkIcon")})}),g.jsx("span",{children:k})]})]})});Xw.classes=dK;Xw.displayName="@mantine/core/Chip";Xw.Group=uK;const $4e={multiple:!1},fK=w.forwardRef((t,e)=>{const{onChange:n,children:r,multiple:o,accept:i,name:s,form:a,resetRef:l,disabled:c,capture:f,inputProps:h,...p}=Be("FileButton",$4e,t),y=w.useRef(null),b=()=>{var k;!c&&((k=y.current)==null||k.click())},x=k=>{n(o?Array.from(k.currentTarget.files):k.currentTarget.files[0]||null)};return lx(l,()=>{y.current&&(y.current.value="")}),g.jsxs(g.Fragment,{children:[r({onClick:b,...p}),g.jsx("input",{style:{display:"none"},type:"file",accept:i,multiple:o,onChange:x,ref:yl(e,y),name:s,form:a,capture:f,...h})]})});fK.displayName="@mantine/core/FileButton";const H4e=({value:t})=>g.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(t)?t.map(e=>e.name).join(", "):t==null?void 0:t.name}),z4e={valueComponent:H4e},WN=Vt((t,e)=>{const n=Be("FileInput",z4e,t),{unstyled:r,vars:o,onChange:i,value:s,defaultValue:a,multiple:l,accept:c,name:f,form:h,valueComponent:p,clearable:y,clearButtonProps:b,readOnly:x,capture:C,fileInputProps:k,rightSection:E,size:T,placeholder:R,component:A,resetRef:N,classNames:O,styles:j,...P}=n,z=w.useRef(null),{resolvedClassNames:X,resolvedStyles:Z}=$w({classNames:O,styles:j,props:n}),[q,re]=Ih({value:s,defaultValue:a,onChange:i,finalValue:l?[]:null}),ee=Array.isArray(q)?q.length!==0:q!==null,B=E||(y&&ee&&!x?g.jsx(Fw,{...b,variant:"subtle",onClick:()=>re(l?[]:null),size:T,unstyled:r}):null);w.useEffect(()=>{var V;(Array.isArray(q)&&q.length===0||q===null)&&((V=z.current)==null||V.call(z))},[q]);const $=p;return g.jsx(fK,{onChange:re,multiple:l,accept:c,name:f,form:h,resetRef:yl(z,N),disabled:x,capture:C,inputProps:k,children:V=>g.jsx($h,{component:A||"button",ref:e,rightSection:B,...V,...P,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:r,size:T,classNames:O,styles:j,children:ee?g.jsx($,{value:q}):g.jsx(ti.Placeholder,{__staticSelector:"FileInput",classNames:X,styles:Z,children:R})})})});WN.classes=$h.classes;WN.displayName="@mantine/core/FileInput";const F4e=WN;function U4e({open:t,close:e,openDelay:n,closeDelay:r}){const o=w.useRef(-1),i=w.useRef(-1),s=()=>{window.clearTimeout(o.current),window.clearTimeout(i.current)},a=()=>{s(),n===0||n===void 0?t():o.current=window.setTimeout(t,n)},l=()=>{s(),r===0||r===void 0?e():i.current=window.setTimeout(e,r)};return w.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:l}}var hK={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const xB={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Oy("overlay")},G4e=(t,{zIndex:e})=>({root:{"--lo-z-index":e==null?void 0:e.toString()}}),qN=Vt((t,e)=>{const n=Be("LoadingOverlay",xB,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,transitionProps:c,loaderProps:f,overlayProps:h,visible:p,zIndex:y,...b}=n,x=ni(),C=Pt({name:"LoadingOverlay",classes:hK,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:G4e}),k={...xB.overlayProps,...h};return g.jsx(bd,{transition:"fade",...c,mounted:!!p,children:E=>g.jsxs(st,{...C("root",{style:E}),ref:e,...b,children:[g.jsx($c,{...C("loader"),unstyled:a,...f}),g.jsx(Fg,{...k,...C("overlay"),darkHidden:!0,unstyled:a,color:(h==null?void 0:h.color)||x.white}),g.jsx(Fg,{...k,...C("overlay"),lightHidden:!0,unstyled:a,color:(h==null?void 0:h.color)||x.colors.dark[5]})]})})});qN.classes=hK;qN.displayName="@mantine/core/LoadingOverlay";const[W4e,By]=Iw("Menu component was not found in the tree");var zh={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const q4e={},YN=Vt((t,e)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,...a}=Be("MenuDivider",q4e,t),l=By();return g.jsx(st,{ref:e,...l.getStyles("divider",{className:r,style:o,styles:i,classNames:n}),...a})});YN.classes=zh;YN.displayName="@mantine/core/MenuDivider";const Y4e={},KN=Vt((t,e)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,onMouseEnter:a,onMouseLeave:l,onKeyDown:c,children:f,...h}=Be("MenuDropdown",Y4e,t),p=w.useRef(null),y=By(),b=Hs(c,k=>{var E,T;(k.key==="ArrowUp"||k.key==="ArrowDown")&&(k.preventDefault(),(T=(E=p.current)==null?void 0:E.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||T.focus())}),x=Hs(a,()=>(y.trigger==="hover"||y.trigger==="click-hover")&&y.openDropdown()),C=Hs(l,()=>(y.trigger==="hover"||y.trigger==="click-hover")&&y.closeDropdown());return g.jsxs(Bc.Dropdown,{...h,onMouseEnter:x,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:yl(e,p),...y.getStyles("dropdown",{className:r,style:o,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:b,children:[y.withInitialFocusPlaceholder&&g.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),f]})});KN.classes=zh;KN.displayName="@mantine/core/MenuDropdown";const K4e={},ZN=ho((t,e)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,color:a,closeMenuOnClick:l,leftSection:c,rightSection:f,children:h,disabled:p,"data-disabled":y,...b}=Be("MenuItem",K4e,t),x=By(),C=ni(),{dir:k}=jy(),E=w.useRef(null),T=x.getItemIndex(E.current),R=b,A=Hs(R.onMouseLeave,()=>x.setHovered(-1)),N=Hs(R.onMouseEnter,()=>x.setHovered(x.getItemIndex(E.current))),O=Hs(R.onClick,()=>{y||(typeof l=="boolean"?l&&x.closeDropdownImmediately():x.closeOnItemClick&&x.closeDropdownImmediately())}),j=Hs(R.onFocus,()=>x.setHovered(x.getItemIndex(E.current))),P=a?C.variantColorResolver({color:a,theme:C,variant:"light"}):void 0,z=a?Vh({color:a,theme:C}):null;return g.jsxs(vd,{...b,unstyled:x.unstyled,tabIndex:x.menuItemTabIndex,onFocus:j,...x.getStyles("item",{className:r,style:o,styles:i,classNames:n}),ref:yl(E,e),role:"menuitem",disabled:p,"data-menu-item":!0,"data-disabled":p||y||void 0,"data-hovered":x.hovered===T?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:N,onMouseLeave:A,onClick:O,onKeyDown:xY({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:x.loop,dir:k,orientation:"vertical",onKeyDown:R.onKeyDown}),__vars:{"--menu-item-color":z!=null&&z.isThemeColor&&(z==null?void 0:z.shade)===void 0?`var(--mantine-color-${z.color}-6)`:P==null?void 0:P.color,"--menu-item-hover":P==null?void 0:P.hover},children:[c&&g.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:c}),h&&g.jsx("div",{...x.getStyles("itemLabel",{styles:i,classNames:n}),children:h}),f&&g.jsx("div",{...x.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:f})]})});ZN.classes=zh;ZN.displayName="@mantine/core/MenuItem";const Z4e={},XN=Vt((t,e)=>{const{classNames:n,className:r,style:o,styles:i,vars:s,...a}=Be("MenuLabel",Z4e,t),l=By();return g.jsx(st,{ref:e,...l.getStyles("label",{className:r,style:o,styles:i,classNames:n}),...a})});XN.classes=zh;XN.displayName="@mantine/core/MenuLabel";const X4e={refProp:"ref"},pK=w.forwardRef((t,e)=>{const{children:n,refProp:r,...o}=Be("MenuTarget",X4e,t);if(!Ny(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=By(),s=n.props,a=Hs(s.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),l=Hs(s.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),c=Hs(s.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return g.jsx(Bc.Target,{refProp:r,popupType:"menu",ref:e,...o,children:w.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:c,"data-expanded":i.opened?!0:void 0})})});pK.displayName="@mantine/core/MenuTarget";const J4e={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Zn(t){const e=Be("Menu",J4e,t),{children:n,onOpen:r,onClose:o,opened:i,defaultOpened:s,trapFocus:a,onChange:l,closeOnItemClick:c,loop:f,closeOnEscape:h,trigger:p,openDelay:y,closeDelay:b,classNames:x,styles:C,unstyled:k,variant:E,vars:T,menuItemTabIndex:R,keepMounted:A,withInitialFocusPlaceholder:N,...O}=e,j=Pt({name:"Menu",classes:zh,props:e,classNames:x,styles:C,unstyled:k}),[P,{setHovered:z,resetHovered:X}]=zLe(),[Z,q]=Ih({value:i,defaultValue:s,finalValue:!1,onChange:l}),[re,ee]=w.useState(!1),B=()=>{q(!1),ee(!1),Z&&(o==null||o())},$=()=>{q(!0),!Z&&(r==null||r())},V=()=>{Z?B():$()},{openDropdown:G,closeDropdown:L}=U4e({open:$,close:B,closeDelay:b,openDelay:y}),W=fe=>HLe("[data-menu-item]","[data-menu-dropdown]",fe),{resolvedClassNames:se,resolvedStyles:ae}=$w({classNames:x,styles:C,props:e});return Tc(()=>{X()},[Z]),g.jsx(W4e,{value:{getStyles:j,opened:Z,toggleDropdown:V,getItemIndex:W,hovered:P,setHovered:z,openedViaClick:re,setOpenedViaClick:ee,closeOnItemClick:c,closeDropdown:p==="click"?B:L,openDropdown:p==="click"?$:G,closeDropdownImmediately:B,loop:f,trigger:p,unstyled:k,menuItemTabIndex:R,withInitialFocusPlaceholder:N},children:g.jsx(Bc,{...O,opened:Z,onChange:V,defaultOpened:s,trapFocus:A?!1:a,closeOnEscape:h,__staticSelector:"Menu",classNames:se,styles:ae,unstyled:k,variant:E,keepMounted:A,children:n})})}Zn.extend=t=>t;Zn.classes=zh;Zn.displayName="@mantine/core/Menu";Zn.Item=ZN;Zn.Label=XN;Zn.Dropdown=KN;Zn.Target=pK;Zn.Divider=YN;const Q4e={duration:100,transition:"fade"};function e5e(t,e){return{...Q4e,...e,...t}}function t5e({offset:t,position:e,defaultOpened:n}){const[r,o]=w.useState(n),i=w.useRef(null),{x:s,y:a,elements:l,refs:c,update:f,placement:h}=jh({placement:e,middleware:[Nc({crossAxis:!0,padding:5,rootBoundary:"document"})]}),p=h.includes("right")?t:e.includes("left")?t*-1:0,y=h.includes("bottom")?t:e.includes("top")?t*-1:0,b=w.useCallback(({clientX:x,clientY:C})=>{c.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x,y:C,left:x+p,top:C+y,right:x,bottom:C}}})},[l.reference]);return w.useEffect(()=>{if(c.floating.current){const x=i.current;x.addEventListener("mousemove",b);const C=Xa(c.floating.current);return C.forEach(k=>{k.addEventListener("scroll",f)}),()=>{x.removeEventListener("mousemove",b),C.forEach(k=>{k.removeEventListener("scroll",f)})}}},[l.reference,c.floating.current,f,b,r]),{handleMouseMove:b,x:s,y:a,opened:r,setOpened:o,boundaryRef:i,floating:c.setFloating}}var Jw={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const n5e={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Oy("popover")},r5e=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:Xr(e),"--tooltip-bg":n?dl(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),JN=Vt((t,e)=>{const n=Be("TooltipFloating",n5e,t),{children:r,refProp:o,withinPortal:i,style:s,className:a,classNames:l,styles:c,unstyled:f,radius:h,color:p,label:y,offset:b,position:x,multiline:C,zIndex:k,disabled:E,defaultOpened:T,variant:R,vars:A,portalProps:N,...O}=n,j=ni(),P=Pt({name:"TooltipFloating",props:n,classes:Jw,className:a,style:s,classNames:l,styles:c,unstyled:f,rootSelector:"tooltip",vars:A,varsResolver:r5e}),{handleMouseMove:z,x:X,y:Z,opened:q,boundaryRef:re,floating:ee,setOpened:B}=t5e({offset:b,position:x,defaultOpened:T});if(!Ny(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const $=yl(re,kN(r),e),V=r.props,G=W=>{var se;(se=V.onMouseEnter)==null||se.call(V,W),z(W),B(!0)},L=W=>{var se;(se=V.onMouseLeave)==null||se.call(V,W),B(!1)};return g.jsxs(g.Fragment,{children:[g.jsx(Iy,{...N,withinPortal:i,children:g.jsx(st,{...O,...P("tooltip",{style:{...IY(s,j),zIndex:k,display:!E&&q?"block":"none",top:(Z&&Math.round(Z))??"",left:(X&&Math.round(X))??""}}),variant:R,ref:ee,mod:{multiline:C},children:y})}),w.cloneElement(r,{...V,[o]:$,onMouseEnter:G,onMouseLeave:L})]})});JN.classes=Jw;JN.displayName="@mantine/core/TooltipFloating";const mK=w.createContext(!1),o5e=mK.Provider,i5e=()=>w.useContext(mK),s5e={openDelay:0,closeDelay:0};function QN(t){const{openDelay:e,closeDelay:n,children:r}=Be("TooltipGroup",s5e,t);return g.jsx(o5e,{value:!0,children:g.jsx(COe,{delay:{open:e,close:n},children:r})})}QN.displayName="@mantine/core/TooltipGroup";QN.extend=t=>t;function a5e(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function l5e(t){const e=a5e(t.middlewares),n=[hs(t.offset)];return e.shift&&n.push(Nc(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?Li():Li(e.flip)),n.push(nA({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?Sm():Sm(e.inline)):t.inline&&n.push(Sm()),n}function c5e(t){var N,O,j;const[e,n]=w.useState(t.defaultOpened),o=typeof t.opened=="boolean"?t.opened:e,i=i5e(),s=Py(),a=w.useCallback(P=>{n(P),P&&E(s)},[s]),{x:l,y:c,context:f,refs:h,update:p,placement:y,middlewareData:{arrow:{x:b,y:x}={}}}=jh({strategy:t.strategy,placement:t.position,open:o,onOpenChange:a,middleware:l5e(t)}),{delay:C,currentId:k,setCurrentId:E}=kOe(f,{id:s}),{getReferenceProps:T,getFloatingProps:R}=jq([wOe(f,{enabled:(N=t.events)==null?void 0:N.hover,delay:i?C:{open:t.openDelay,close:t.closeDelay},mouseOnly:!((O=t.events)!=null&&O.touch)}),jOe(f,{enabled:(j=t.events)==null?void 0:j.focus,visibleOnly:!0}),VOe(f,{role:"tooltip"}),Lq(f,{enabled:typeof t.opened>"u"})]);XY({opened:o,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:h,update:p}}),Tc(()=>{var P;(P=t.onPositionChange)==null||P.call(t,y)},[y]);const A=o&&k&&k!==s;return{x:l,y:c,arrowX:b,arrowY:x,reference:h.setReference,floating:h.setFloating,getFloatingProps:R,getReferenceProps:T,isGroupPhase:A,opened:o,placement:y}}const wB={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Oy("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},u5e=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:Xr(e),"--tooltip-bg":n?dl(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Fh=Vt((t,e)=>{const n=Be("Tooltip",wB,t),{children:r,position:o,refProp:i,label:s,openDelay:a,closeDelay:l,onPositionChange:c,opened:f,defaultOpened:h,withinPortal:p,radius:y,color:b,classNames:x,styles:C,unstyled:k,style:E,className:T,withArrow:R,arrowSize:A,arrowOffset:N,arrowRadius:O,arrowPosition:j,offset:P,transitionProps:z,multiline:X,events:Z,zIndex:q,disabled:re,positionDependencies:ee,onClick:B,onMouseEnter:$,onMouseLeave:V,inline:G,variant:L,keepMounted:W,vars:se,portalProps:ae,mod:fe,floatingStrategy:Ee,middlewares:pe,...Ne}=Be("Tooltip",wB,n),{dir:Oe}=jy(),Ie=w.useRef(null),Ue=c5e({position:GY(Oe,o),closeDelay:l,openDelay:a,onPositionChange:c,opened:f,defaultOpened:h,events:Z,arrowRef:Ie,arrowOffset:N,offset:typeof P=="number"?P+(R?A/2:0):P,positionDependencies:[...ee,r],inline:G,strategy:Ee,middlewares:pe}),At=Pt({name:"Tooltip",props:n,classes:Jw,className:T,style:E,classNames:x,styles:C,unstyled:k,rootSelector:"tooltip",vars:se,varsResolver:u5e});if(!Ny(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Tn=yl(Ue.reference,kN(r),e),zt=e5e(z,{duration:100,transition:"fade"}),Ve=r.props;return g.jsxs(g.Fragment,{children:[g.jsx(Iy,{...ae,withinPortal:p,children:g.jsx(bd,{...zt,keepMounted:W,mounted:!re&&!!Ue.opened,duration:Ue.isGroupPhase?10:zt.duration,children:dr=>g.jsxs(st,{...Ne,"data-fixed":Ee==="fixed"||void 0,variant:L,mod:[{multiline:X},fe],...Ue.getFloatingProps({ref:Ue.floating,className:At("tooltip").className,style:{...At("tooltip").style,...dr,zIndex:q,top:Ue.y??0,left:Ue.x??0}}),children:[s,g.jsx(ON,{ref:Ie,arrowX:Ue.arrowX,arrowY:Ue.arrowY,visible:R,position:Ue.placement,arrowSize:A,arrowOffset:N,arrowRadius:O,arrowPosition:j,...At("arrow")})]})})}),w.cloneElement(r,Ue.getReferenceProps({onClick:B,onMouseEnter:$,onMouseLeave:V,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[i]:Tn,className:us(T,Ve.className),...Ve}))]})});Fh.classes=Jw;Fh.displayName="@mantine/core/Tooltip";Fh.Floating=JN;Fh.Group=QN;var gK={root:"m_18320242","skeleton-fade":"m_299c329c"};const d5e={visible:!0,animate:!0},f5e=(t,{width:e,height:n,radius:r,circle:o})=>({root:{"--skeleton-height":ge(n),"--skeleton-width":ge(o?n:e),"--skeleton-radius":o?"1000px":r===void 0?void 0:Xr(r)}}),ux=Vt((t,e)=>{const n=Be("Skeleton",d5e,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,width:c,height:f,circle:h,visible:p,radius:y,animate:b,mod:x,...C}=n,k=Pt({name:"Skeleton",classes:gK,props:n,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:f5e});return g.jsx(st,{ref:e,...k("root"),mod:[{visible:p,animate:b},x],...C})});ux.classes=gK;ux.displayName="@mantine/core/Skeleton";var yK={root:"m_6d731127"};const h5e={gap:"md",align:"stretch",justify:"flex-start"},p5e=(t,{gap:e,align:n,justify:r})=>({root:{"--stack-gap":Dy(e),"--stack-align":n,"--stack-justify":r}}),$y=Vt((t,e)=>{const n=Be("Stack",h5e,t),{classNames:r,className:o,style:i,styles:s,unstyled:a,vars:l,align:c,justify:f,gap:h,variant:p,...y}=n,b=Pt({name:"Stack",props:n,classes:yK,className:o,style:i,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:p5e});return g.jsx(st,{ref:e,...b("root"),variant:p,...y})});$y.classes=yK;$y.displayName="@mantine/core/Stack";const[m5e,eO]=Iw("Tabs component was not found in the tree");var Hy={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const g5e={},tO=Vt((t,e)=>{const n=Be("TabsList",g5e,t),{children:r,className:o,grow:i,justify:s,classNames:a,styles:l,style:c,mod:f,...h}=n,p=eO();return g.jsx(st,{...h,...p.getStyles("list",{className:o,style:c,classNames:a,styles:l,props:n,variant:p.variant}),ref:e,role:"tablist",variant:p.variant,mod:[{grow:i,orientation:p.orientation,placement:p.orientation==="vertical"&&p.placement,inverted:p.inverted},f],"aria-orientation":p.orientation,__vars:{"--tabs-justify":s},children:r})});tO.classes=Hy;tO.displayName="@mantine/core/TabsList";const y5e={},nO=Vt((t,e)=>{const n=Be("TabsPanel",y5e,t),{children:r,className:o,value:i,classNames:s,styles:a,style:l,mod:c,keepMounted:f,...h}=n,p=eO(),y=p.value===i,b=p.keepMounted||f||y?r:null;return g.jsx(st,{...h,...p.getStyles("panel",{className:o,classNames:s,styles:a,style:[l,y?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:p.orientation},c],role:"tabpanel",id:p.getPanelId(i),"aria-labelledby":p.getTabId(i),children:b})});nO.classes=Hy;nO.displayName="@mantine/core/TabsPanel";const v5e={},rO=Vt((t,e)=>{const n=Be("TabsTab",v5e,t),{className:r,children:o,rightSection:i,leftSection:s,value:a,onClick:l,onKeyDown:c,disabled:f,color:h,style:p,classNames:y,styles:b,vars:x,mod:C,tabIndex:k,...E}=n,T=ni(),{dir:R}=jy(),A=eO(),N=a===A.value,O=P=>{A.onChange(A.allowTabDeactivation&&a===A.value?null:a),l==null||l(P)},j={classNames:y,styles:b,props:n};return g.jsxs(vd,{...E,...A.getStyles("tab",{className:r,style:p,variant:A.variant,...j}),disabled:f,unstyled:A.unstyled,variant:A.variant,mod:[{active:N,disabled:f,orientation:A.orientation,inverted:A.inverted,placement:A.orientation==="vertical"&&A.placement},C],ref:e,role:"tab",id:A.getTabId(a),"aria-selected":N,tabIndex:k!==void 0?k:N||A.value===null?0:-1,"aria-controls":A.getPanelId(a),onClick:O,__vars:{"--tabs-color":h?dl(h,T):void 0},onKeyDown:xY({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:A.activateTabWithKeyboard,loop:A.loop,orientation:A.orientation||"horizontal",dir:R,onKeyDown:c}),children:[s&&g.jsx("span",{...A.getStyles("tabSection",j),"data-position":"left",children:s}),o&&g.jsx("span",{...A.getStyles("tabLabel",j),children:o}),i&&g.jsx("span",{...A.getStyles("tabSection",j),"data-position":"right",children:i})]})});rO.classes=Hy;rO.displayName="@mantine/core/TabsTab";const SB="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",b5e={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},x5e=(t,{radius:e,color:n,autoContrast:r})=>({root:{"--tabs-radius":Xr(e),"--tabs-color":dl(n,t),"--tabs-text-color":Yje(r,t)?RY({color:n,theme:t,autoContrast:r}):void 0}}),qa=Vt((t,e)=>{const n=Be("Tabs",b5e,t),{defaultValue:r,value:o,onChange:i,orientation:s,children:a,loop:l,id:c,activateTabWithKeyboard:f,allowTabDeactivation:h,variant:p,color:y,radius:b,inverted:x,placement:C,keepMounted:k,classNames:E,styles:T,unstyled:R,className:A,style:N,vars:O,autoContrast:j,mod:P,...z}=n,X=Py(c),[Z,q]=Ih({value:o,defaultValue:r,finalValue:null,onChange:i}),re=Pt({name:"Tabs",props:n,classes:Hy,className:A,style:N,classNames:E,styles:T,unstyled:R,vars:O,varsResolver:x5e});return g.jsx(m5e,{value:{placement:C,value:Z,orientation:s,id:X,loop:l,activateTabWithKeyboard:f,getTabId:eB(`${X}-tab`,SB),getPanelId:eB(`${X}-panel`,SB),onChange:q,allowTabDeactivation:h,variant:p,color:y,radius:b,inverted:x,keepMounted:k,unstyled:R,getStyles:re},children:g.jsx(st,{ref:e,id:X,variant:p,mod:[{orientation:s,inverted:s==="horizontal"&&x,placement:s==="vertical"&&C},P],...re("root"),...z,children:a})})});qa.classes=Hy;qa.displayName="@mantine/core/Tabs";qa.Tab=rO;qa.Panel=nO;qa.List=tO;const w5e={},Qw=Vt((t,e)=>{const n=Be("TextInput",w5e,t);return g.jsx($h,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});Qw.classes=$h.classes;Qw.displayName="@mantine/core/TextInput";const vK=(t,e,n=!1)=>{const r=[];function o(i,s="--bn"){for(const a in i){const l=a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),c=`${s}-${l}`;typeof i[a]!="object"?(typeof i[a]=="number"&&(i[a]=`${i[a]}px`),n?e.style.removeProperty(c):e.style.setProperty(c,i[a].toString())):o(i[a],c)}}return o(t),r},CB=(t,e)=>vK(t,e),S5e={colors:{editor:{text:void 0,background:void 0},menu:{text:void 0,background:void 0},tooltip:{text:void 0,background:void 0},hovered:{text:void 0,background:void 0},selected:{text:void 0,background:void 0},disabled:{text:void 0,background:void 0},shadow:void 0,border:void 0,sideMenu:void 0,highlights:{gray:{text:void 0,background:void 0},brown:{text:void 0,background:void 0},red:{text:void 0,background:void 0},orange:{text:void 0,background:void 0},yellow:{text:void 0,background:void 0},green:{text:void 0,background:void 0},blue:{text:void 0,background:void 0},purple:{text:void 0,background:void 0},pink:{text:void 0,background:void 0}}},borderRadius:void 0,fontFamily:void 0},C5e=t=>vK(S5e,t,!0),bK=t=>g.jsxs($y,{gap:0,className:"bn-tooltip",children:[g.jsx(Mc,{size:"sm",lineClamp:5,children:t.mainTooltip}),t.secondaryTooltip&&g.jsx(Mc,{size:"xs",lineClamp:5,children:t.secondaryTooltip})]}),yE=w.forwardRef((t,e)=>{const{className:n,children:r,mainTooltip:o,secondaryTooltip:i,icon:s,isSelected:a,isDisabled:l,onClick:c,label:f,variant:h,...p}=t;yt(p,!1);const[y,b]=w.useState(!1),x=r?g.jsx(gs,{"aria-label":f,className:n,onMouseDown:C=>{v2()&&C.currentTarget.focus()},onClick:C=>{b(!0),c==null||c(C)},onPointerLeave:()=>b(!1),"aria-pressed":a,"data-selected":a||void 0,"data-test":o?o.slice(0,1).toLowerCase()+o.replace(/\s+/g,"").slice(1):void 0,size:h==="compact"?"compact-xs":"xs",disabled:l||!1,ref:e,...p,children:r}):g.jsx(xd,{className:n,"aria-label":f,onMouseDown:C=>{v2()&&C.currentTarget.focus()},onClick:C=>{b(!0),c==null||c(C)},onPointerLeave:()=>b(!1),"aria-pressed":a,"data-selected":a||void 0,"data-test":o?o.slice(0,1).toLowerCase()+o.replace(/\s+/g,"").slice(1):void 0,size:h==="compact"?20:30,disabled:l||!1,ref:e,...p,children:s});return o?g.jsx(Fh,{disabled:y,withinPortal:!1,label:g.jsx(bK,{mainTooltip:o,secondaryTooltip:i}),children:x}):x}),k5e=w.forwardRef((t,e)=>{const{className:n,text:r,icon:o,isSelected:i,mainTooltip:s,secondaryTooltip:a,onClick:l,onMouseEnter:c,...f}=t;yt(f,!1);const[h,p]=w.useState(!1),y=g.jsxs(Xw,{className:n,checked:i===!0,wrapperProps:{onMouseEnter:c,onMouseLeave:()=>p(!1),onClick:b=>{p(!0),l==null||l(b)}},variant:"light",icon:null,ref:e,children:[g.jsx("span",{children:o}),g.jsx("span",{children:r})]});return!s||h?y:g.jsx(Fh,{refProp:"rootRef",withinPortal:!1,label:g.jsx(bK,{mainTooltip:s,secondaryTooltip:a}),children:y})}),_5e=w.forwardRef((t,e)=>{const{className:n,children:r,...o}=t;return yt(o),g.jsx(Pr,{className:n,ref:e,children:r})}),E5e=w.forwardRef((t,e)=>{const{className:n,children:r,...o}=t;return yt(o,!1),g.jsx(Vy,{w:350,p:"md",className:n,ref:e,children:r})}),T5e=w.forwardRef((t,e)=>{const{className:n,children:r,...o}=t;return yt(o,!1),g.jsx(Vy.Section,{p:"md",className:n,ref:e,children:r})}),M5e=w.forwardRef((t,e)=>{const{authorInfo:n,timeString:r,...o}=t;return yt(o,!1),n==="loading"?g.jsxs(Pr,{children:[g.jsx(ux,{height:24,width:24}),g.jsx("div",{children:g.jsx(ux,{height:12,width:100})})]}):g.jsxs(Pr,{children:[g.jsx(Kw,{src:n.avatarUrl,alt:n.username,radius:"xl",size:"sm",color:"initials"}),g.jsxs(Mc,{fz:"sm",fw:"bold",children:[n.username,g.jsx(Mc,{fz:"xs",c:"dimmed",span:!0,ml:"xs",children:r})]})]})}),A5e=w.forwardRef((t,e)=>{const{className:n,showActions:r,authorInfo:o,timeString:i,actions:s,children:a,...l}=t,{hovered:c,ref:f}=rje(),{focused:h,ref:p}=EY(),y=nY([e,f]);return yt(l,!1),g.jsxs(Pr,{pos:"relative",ref:y,className:n,children:[s&&(r===!0||r===void 0||r==="hover"&&c||h)?g.jsx(Pr,{ref:p,style:{position:"absolute",right:0,top:0,zIndex:10},children:s}):null,g.jsx(M5e,{...t}),a]})}),R5e=w.forwardRef((t,e)=>{const{className:n,onFocus:r,onBlur:o,editor:i,editable:s,...a}=t;return yt(a,!1),g.jsx(kK,{autoFocus:!0,className:n,editor:t.editor,sideMenu:!1,slashMenu:!1,tableHandles:!1,filePanel:!1,formattingToolbar:!1,editable:s,ref:e,onFocus:r,onBlur:o,children:g.jsx(sY,{formattingToolbar:N5e})})}),N5e=()=>{const t=oY([]).filter(e=>e.key!=="nestBlockButton"&&e.key!=="unnestBlockButton");return g.jsx(iY,{blockTypeSelectItems:[],children:t})},O5e=w.forwardRef((t,e)=>{const{className:n,name:r,label:o,icon:i,value:s,autoFocus:a,placeholder:l,onKeyDown:c,onChange:f,onSubmit:h,...p}=t;return yt(p),g.jsx(Qw,{size:"xs",className:n,ref:e,name:r,label:o,leftSection:i,value:s,autoFocus:a,"data-autofocus":a?"true":void 0,placeholder:l,onKeyDown:c,onChange:f,onSubmit:h})});var xK={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kB=U.createContext&&U.createContext(xK),D5e=["attr","size","title"];function P5e(t,e){if(t==null)return{};var n=L5e(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dx(){return dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dx.apply(this,arguments)}function _B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function fx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(n),!0).forEach(function(r){j5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j5e(t,e,n){return e=I5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I5e(t){var e=V5e(t,"string");return typeof e=="symbol"?e:e+""}function V5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wK(t){return t&&t.map((e,n)=>U.createElement(e.tag,fx({key:n},e.attr),wK(e.child)))}function SK(t){return e=>U.createElement(B5e,dx({attr:fx({},t.attr)},e),wK(t.child))}function B5e(t){var e=n=>{var{attr:r,size:o,title:i}=t,s=P5e(t,D5e),a=o||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),U.createElement("svg",dx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:fx(fx({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&U.createElement("title",null,i),t.children)};return kB!==void 0?U.createElement(kB.Consumer,null,n=>e(n)):e(xK)}function $5e(t){return SK({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function H5e(t){return SK({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}const CK=w.createContext(void 0),z5e=w.forwardRef((t,e)=>{const{children:n,onOpenChange:r,position:o,sub:i,...s}=t;yt(s);const[a,l]=w.useState(!1),c=w.useRef(null),f=w.useRef(),h=w.useCallback(()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{l(!1)},250)},[]),p=w.useCallback(()=>{f.current&&clearTimeout(f.current),l(!0)},[]);return g.jsx(CK.Provider,{value:{onMenuMouseOver:p,onMenuMouseLeave:h},children:g.jsx(Zn.Item,{className:"bn-menu-item bn-mt-sub-menu-item",ref:Ly(e,c),onMouseOver:p,onMouseLeave:h,children:g.jsx(Zn,{portalProps:{target:c.current?c.current.parentElement:void 0},middlewares:{flip:!0,shift:!0,inline:!1,size:!0},trigger:"hover",opened:a,onChange:r,position:o,children:n})})})}),F5e=t=>{const{children:e,onOpenChange:n,position:r,sub:o,...i}=t;return yt(i),o?g.jsx(z5e,{...t}):g.jsx(Zn,{withinPortal:!1,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},onChange:n,position:r,children:e})},U5e=w.forwardRef((t,e)=>{const{className:n,children:r,icon:o,checked:i,subTrigger:s,onClick:a,...l}=t;return yt(l,!1),s?g.jsxs("div",{onClick:c=>{c.preventDefault(),c.stopPropagation()},ref:e,...l,children:[r,g.jsx(H5e,{size:15})]}):g.jsx(Zn.Item,{className:n,ref:e,leftSection:o,rightSection:i?g.jsx($N,{size:10}):i===!1?g.jsx("div",{className:"bn-tick-space"}):null,onClick:a,...l,children:r})}),G5e=t=>{const{children:e,sub:n,...r}=t;return yt(r),g.jsx(Zn.Target,{children:e})},W5e=w.forwardRef((t,e)=>{const{className:n,children:r,sub:o,...i}=t;yt(i);const s=w.useContext(CK);return g.jsx(Zn.Dropdown,{className:n,ref:e,onMouseOver:s==null?void 0:s.onMenuMouseOver,onMouseLeave:s==null?void 0:s.onMenuMouseLeave,children:r})}),q5e=w.forwardRef((t,e)=>{const{className:n,...r}=t;return yt(r),g.jsx(Zn.Divider,{className:n,ref:e})}),Y5e=w.forwardRef((t,e)=>{const{className:n,children:r,...o}=t;return yt(o),g.jsx(Zn.Label,{className:n,ref:e,children:r})}),K5e=w.forwardRef((t,e)=>{const{className:n,children:r,icon:o,onClick:i,onDragEnd:s,onDragStart:a,draggable:l,label:c,...f}=t;return yt(f,!1),o?g.jsx(xd,{size:24,className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:a,draggable:l,"aria-label":c,...f,children:o}):g.jsx(gs,{className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:a,draggable:l,"aria-label":c,...f,children:r})}),Z5e=w.forwardRef((t,e)=>{const{className:n,tabs:r,defaultOpenTab:o,openTab:i,setOpenTab:s,loading:a,...l}=t;return yt(l),g.jsx(Pr,{className:n,ref:e,children:g.jsxs(qa,{value:i,defaultValue:o,onChange:s,children:[a&&g.jsx(qN,{visible:a}),g.jsx(qa.List,{children:r.map(c=>g.jsx(qa.Tab,{"data-test":`${c.name.toLowerCase()}-tab`,value:c.name,children:c.name},c.name))}),r.map(c=>g.jsx(qa.Panel,{value:c.name,children:c.tabPanel},c.name))]})})}),X5e=w.forwardRef((t,e)=>{const{className:n,children:r,onClick:o,label:i,...s}=t;return yt(s),g.jsx(gs,{size:"xs","aria-label":i,className:n,ref:e,onClick:o,...s,children:r})}),J5e=w.forwardRef((t,e)=>{const{className:n,accept:r,value:o,placeholder:i,onChange:s,...a}=t;return yt(a),g.jsx(F4e,{size:"xs",className:n,ref:e,accept:r,value:o,placeholder:i,onChange:s,...a})}),Q5e=w.forwardRef((t,e)=>{const{className:n,children:r,...o}=t;return yt(o),g.jsx("div",{className:n,ref:e,children:r})}),e3e=w.forwardRef((t,e)=>{const{className:n,value:r,placeholder:o,onKeyDown:i,onChange:s,...a}=t;return yt(a),g.jsx(Qw,{size:"xs","data-test":"embed-input",className:n,ref:e,value:r,placeholder:o,onKeyDown:i,onChange:s})}),t3e=t=>{const{opened:e,position:n,children:r,...o}=t;return yt(o),g.jsx(Bc,{withinPortal:!1,opened:e,position:n,children:r})},n3e=t=>{const{children:e,...n}=t;return yt(n),g.jsx(PN,{children:e})},r3e=w.forwardRef((t,e)=>{const{className:n,children:r,variant:o,...i}=t;return yt(i),g.jsx(zw,{className:n,ref:e,children:r})}),o3e=w.forwardRef((t,e)=>{const{className:n,children:r,...o}=t;return yt(o,!1),g.jsx(Pr,{align:"center",gap:0,className:n,ref:e,...o,children:r})}),i3e=w.forwardRef((t,e)=>{const{className:n,children:r,icon:o,onClick:i,onDragEnd:s,onDragStart:a,draggable:l,label:c,...f}=t;return yt(f,!1),o?g.jsx(xd,{size:24,className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:a,draggable:l,"aria-label":c,...f,children:o}):g.jsx(gs,{className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:a,draggable:l,"aria-label":c,...f,children:r})}),s3e=w.forwardRef((t,e)=>{const{className:n,children:r,id:o,...i}=t;return yt(i),g.jsx($y,{gap:0,className:n,ref:e,id:o,role:"listbox",children:r})}),a3e=w.forwardRef((t,e)=>{const{className:n,children:r,...o}=t;return yt(o),g.jsx(Pr,{className:n,ref:e,children:g.jsx(Pr,{className:"bn-mt-suggestion-menu-item-title",children:r})})}),l3e=w.forwardRef((t,e)=>{const{className:n,isSelected:r,onClick:o,item:i,id:s,...a}=t;yt(a);const l=w.useRef(null);return w.useEffect(()=>{if(!l.current||!r)return;const c=yY(l.current,document.querySelector(".bn-suggestion-menu"));c==="top"?l.current.scrollIntoView(!0):c==="bottom"&&l.current.scrollIntoView(!1)},[r]),g.jsxs(Pr,{gap:0,className:n,ref:Ly(e,l),id:s,role:"option",onClick:o,"aria-selected":r||void 0,children:[i.icon&&g.jsx(Pr,{className:"bn-mt-suggestion-menu-item-section","data-position":"left",children:i.icon}),g.jsxs($y,{gap:0,className:"bn-mt-suggestion-menu-item-body",children:[g.jsx(Mc,{className:"bn-mt-suggestion-menu-item-title",children:i.title}),g.jsx(Mc,{className:"bn-mt-suggestion-menu-item-subtitle",children:i.subtext})]}),i.badge&&g.jsx(Pr,{"data-position":"right",className:"bn-mt-suggestion-menu-item-section",children:g.jsx(zN,{size:"xs",children:i.badge})})]})}),c3e=w.forwardRef((t,e)=>{const{className:n,children:r,...o}=t;return yt(o),g.jsx(Pr,{className:n,ref:e,children:r})}),u3e=w.forwardRef((t,e)=>{const{className:n,children:r,...o}=t;return yt(o),g.jsx($c,{className:n,type:"dots",ref:e})}),d3e=w.forwardRef((t,e)=>{const{className:n,children:r,id:o,columns:i,...s}=t;return yt(s),g.jsx("div",{className:n,style:{gridTemplateColumns:`repeat(${i}, 1fr)`},ref:e,id:o,role:"grid",children:r})}),f3e=w.forwardRef((t,e)=>{const{className:n,children:r,columns:o,...i}=t;return yt(i),g.jsx(Pr,{className:n,style:{gridColumn:`1 / ${o+1}`},ref:e,children:g.jsx(Pr,{className:"bn-mt-suggestion-menu-item-title",children:r})})}),h3e=w.forwardRef((t,e)=>{const{className:n,isSelected:r,onClick:o,item:i,id:s,...a}=t;yt(a);const l=w.useRef(null);return w.useEffect(()=>{if(!l.current||!r)return;const c=yY(l.current,document.querySelector(".bn-grid-suggestion-menu"));c==="top"?l.current.scrollIntoView(!0):c==="bottom"&&l.current.scrollIntoView(!1)},[r]),g.jsx("div",{className:n,ref:Ly(e,l),id:s,role:"option",onClick:o,"aria-selected":r||void 0,children:i.icon})}),p3e=w.forwardRef((t,e)=>{const{className:n,children:r,columns:o,...i}=t;return yt(i),g.jsx($c,{className:n,style:{gridColumn:`1 / ${o+1}`},type:"dots",ref:e})}),m3e=w.forwardRef((t,e)=>{const{children:n,className:r,onMouseDown:o,onClick:i,...s}=t;return yt(s,!1),g.jsx(gs,{className:r,ref:e,onMouseDown:o,onClick:i,...s,children:n})}),g3e=w.forwardRef((t,e)=>{const{className:n,children:r,draggable:o,onDragStart:i,onDragEnd:s,style:a,label:l,...c}=t;return yt(c,!1),g.jsx(gs,{className:n,ref:e,"aria-label":l,draggable:o,onDragStart:i,onDragEnd:s,style:a,...c,children:r})}),vE=w.forwardRef((t,e)=>{const{className:n,children:r,onMouseEnter:o,onMouseLeave:i,variant:s,...a}=t;yt(a);const{ref:l,focused:c}=EY(),f=_Y(c),h=Ly(e,l,f);return g.jsx(BN,{className:n,ref:h,role:"toolbar",onMouseEnter:o,onMouseLeave:i,gap:s==="action-toolbar"?2:void 0,children:r})}),y3e=w.forwardRef((t,e)=>{const{className:n,items:r,isDisabled:o,...i}=t;yt(i);const s=r.filter(a=>a.isSelected)[0];return s?g.jsxs(Zn,{withinPortal:!1,transitionProps:{exitDuration:0},disabled:o,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},children:[g.jsx(Zn.Target,{children:g.jsx(gs,{onMouseDown:a=>{v2()&&a.currentTarget.focus()},leftSection:s.icon,rightSection:g.jsx($5e,{}),size:"xs",variant:"subtle",disabled:o,children:s.text})}),g.jsx(Zn.Dropdown,{className:n,ref:e,children:r.map(a=>g.jsx(Zn.Item,{onClick:a.onClick,leftSection:a.icon,rightSection:a.isSelected?g.jsx($N,{size:10,className:"bn-tick-icon"}):g.jsx("div",{className:"bn-tick-space"}),disabled:a.isDisabled,children:a.text},a.text))})]}):null}),v3e={FormattingToolbar:{Root:vE,Button:yE,Select:y3e},FilePanel:{Root:Z5e,Button:X5e,FileInput:J5e,TabPanel:Q5e,TextInput:e3e},GridSuggestionMenu:{Root:d3e,Item:h3e,EmptyItem:f3e,Loader:p3e},LinkToolbar:{Root:vE,Button:yE},SideMenu:{Root:o3e,Button:i3e},SuggestionMenu:{Root:s3e,Item:l3e,EmptyItem:a3e,Label:c3e,Loader:u3e},TableHandle:{Root:g3e,ExtendButton:m3e},Generic:{Badge:{Root:k5e,Group:_5e},Form:{Root:t=>g.jsx("div",{children:t.children}),TextInput:O5e},Menu:{Root:F5e,Trigger:G5e,Dropdown:W5e,Divider:q5e,Label:Y5e,Item:U5e,Button:K5e},Popover:{Root:t3e,Trigger:n3e,Content:r3e},Toolbar:{Root:vE,Button:yE}},Comments:{Comment:A5e,Editor:R5e,Card:E5e,CardSection:T5e}},b3e={activeClassName:""},kK=t=>{const{className:e,theme:n,...r}=t,o=da(),i=hY(),s=(o==null?void 0:o.colorSchemePreference)||i,a=w.useCallback(c=>{if(c&&(C5e(c),typeof n=="object")){if("light"in n&&"dark"in n){CB(n[s==="dark"?"dark":"light"],c);return}CB(n,c);return}},[s,n]),l=typeof n=="string"?n:s!=="no-preference"?s:"light";return g.jsx(zq.Provider,{value:v3e,children:g.jsx(DY,{theme:b3e,cssVariablesSelector:".bn-mantine",getRootElement:()=>{},children:g.jsx(hLe,{"data-mantine-color-scheme":l,className:Bn("bn-mantine",e||""),theme:typeof n=="object"?void 0:n,...r,ref:a})})})},Ut=["#FFFFFF","#EFEFEF","#CFCFCF","#AFAFAF","#7F7F7F","#3F3F3F","#1F1F1F","#161616","#0F0F0F","#000000"],$2={colors:{editor:{text:Ut[5],background:Ut[0]},menu:{text:Ut[5],background:Ut[0]},tooltip:{text:Ut[5],background:Ut[1]},hovered:{text:Ut[5],background:Ut[1]},selected:{text:Ut[0],background:Ut[5]},disabled:{text:Ut[3],background:Ut[1]},shadow:Ut[2],border:Ut[1],sideMenu:Ut[2],highlights:VNe},borderRadius:6,fontFamily:'"Inter", "SF Pro Display", -apple-system, BlinkMacSystemFont, "Open Sans", "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif'},x3e={colors:{editor:{text:Ut[2],background:Ut[6]},menu:{text:Ut[2],background:Ut[6]},tooltip:{text:Ut[2],background:Ut[7]},hovered:{text:Ut[2],background:Ut[7]},selected:{text:Ut[2],background:Ut[8]},disabled:{text:Ut[5],background:Ut[7]},shadow:Ut[8],border:Ut[7],sideMenu:Ut[4],highlights:BNe},borderRadius:$2.borderRadius,fontFamily:$2.fontFamily},w3e=Ry({type:"divider",propSchema:{},content:"none"},{render:()=>g.jsx(ig,{contentEditable:!1,className:"my-[0.5rem]"})});function S3e(t){return g.jsx("div",{className:"bg-background p-2 shadow-sm grid flex-col gap-1 h-fit-content max-h-inherit overflow-y-auto",style:{gridTemplateColumns:`repeat(${t.columns||1}, 1fr)`},children:t.items.map((e,n)=>g.jsx("div",{className:`emoji-picker-item ${t.selectedIndex===n?" selected":""} cursor-pointer text-[1.5rem]`,onClick:()=>{var r;(r=t.onItemClick)==null||r.call(t,e)},children:e.icon},n))})}const EB={light:$2,dark:{...x3e,colors:{editor:{background:"oklch(0.145 0 0)",text:"#cfcfcf"}}}},C3e=Lh.create({blockSpecs:{...Ow,divider:w3e}}),k3e=t=>({title:"Divider",onItemClick:()=>{yo(t,{type:"divider"})},aliases:["divider","hr","line","separator","rule","thematic break"],group:"More",icon:g.jsx(bse,{})}),_3e=({isPlainBackground:t,isDarkTheme:e})=>{const n=Dw({schema:C3e}),r=I6(),o=t&&e?EB.dark:t?EB.light:e?"dark":"light";return g.jsxs(kK,{editor:n,theme:o,sideMenu:!r,slashMenu:!1,emojiPicker:!1,children:[g.jsx(fY,{triggerCharacter:"/",getItems:async i=>eq([...dY(n),k3e(n)],i)}),g.jsx(uY,{triggerCharacter:":",gridSuggestionMenuComponent:S3e,columns:r?6:10,minQueryLength:2})]})};function E3e(){const[t,e]=w.useState(!1),{theme:n}=YB(),[r,o]=w.useState(!1);w.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)");o(a.matches);const l=c=>{o(c.matches)};return a.addEventListener("change",l),()=>a.removeEventListener("change",l)},[]);const i=n==="dark"||n==="system"&&r,s=()=>{e(!t)};return g.jsxs("div",{className:"flex flex-col items-center h-full w-full",children:[i&&g.jsxs(Ls,{children:[g.jsx(js,{asChild:!0,children:g.jsx(Tt,{className:"fixed right-3 bottom-4 xl:bottom-4 xl:right-[17rem] z-50",onClick:s,size:"icon",variant:"outline",children:t?g.jsx(yse,{}):g.jsx(wse,{})})}),g.jsx(Is,{children:g.jsx("p",{children:"Switch to "+(t?"default background":"transparent background")})})]}),g.jsx("div",{className:"w-full max-w-5xl font-inherit relative",spellCheck:"false",children:g.jsx(_3e,{isPlainBackground:t,isDarkTheme:i})})]})}const T3e=({children:t})=>localStorage.getItem("token")?t:g.jsx(Rre,{to:"/login"}),M3e=()=>g.jsx(noe,{children:g.jsx(XB,{mode:"wait",children:g.jsxs(Ore,{children:[g.jsx(vr,{path:"/",element:g.jsx(qge,{})}),g.jsxs(vr,{element:g.jsx(y4,{}),children:[g.jsx(vr,{path:"/pages",element:g.jsx(iye,{})}),g.jsx(vr,{path:"/page",element:g.jsx(E3e,{})}),g.jsx(vr,{path:"/courses",element:g.jsx(oye,{})}),g.jsx(vr,{path:"/home",element:g.jsx(jse,{})}),g.jsx(vr,{path:"/library",element:g.jsx(pve,{})}),g.jsx(vr,{path:"/account",element:g.jsx(yve,{})}),g.jsx(vr,{path:"/settings",element:g.jsx(vve,{})}),g.jsx(vr,{path:"/inbox",element:g.jsx(bve,{})})]}),g.jsx(vr,{element:g.jsx(xve,{}),children:g.jsx(vr,{path:"/chat",element:g.jsx(gve,{})})}),g.jsxs(vr,{element:g.jsx(hoe,{}),children:[g.jsx(vr,{path:"/login",element:g.jsx(dI,{children:g.jsx(mle,{})})}),g.jsx(vr,{path:"/register",element:g.jsx(dI,{children:g.jsx(yle,{})})})]}),g.jsx(vr,{element:g.jsx(y4,{}),children:g.jsx(vr,{path:"/dashboard",element:g.jsx(T3e,{children:g.jsx(poe,{})})})})]})})});var A3e=(t,e,n,r,o,i,s,a)=>{let l=document.documentElement,c=["light","dark"];function f(y){(Array.isArray(t)?t:[t]).forEach(b=>{let x=b==="class",C=x&&i?o.map(k=>i[k]||k):o;x?(l.classList.remove(...C),l.classList.add(y)):l.setAttribute(b,y)}),h(y)}function h(y){a&&c.includes(y)&&(l.style.colorScheme=y)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let y=localStorage.getItem(e)||n,b=s&&y==="system"?p():y;f(b)}catch{}},R3e=w.createContext(void 0),N3e={setTheme:t=>{},themes:[]},O3e=()=>{var t;return(t=w.useContext(R3e))!=null?t:N3e};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:i,value:s,themes:a,nonce:l,scriptProps:c})=>{let f=JSON.stringify([n,e,i,t,a,s,r,o]).slice(1,-1);return w.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${A3e.toString()})(${f})`}})});const D3e=({...t})=>{const{theme:e="system"}=O3e();return g.jsx(Uge,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground font-medium",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground font-medium"}},...t})};function P3e(){const{i18n:t}=Gg();return w.useEffect(()=>{t.language==="vi"?(document.documentElement.classList.remove("font-[Geist]"),document.body.classList.remove("font-[Geist]")):(document.documentElement.classList.add("font-[Geist]"),document.body.classList.add("font-[Geist]"))},[t.language]),g.jsxs(g.Fragment,{children:[g.jsx(dJ,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:g.jsx(M3e,{})}),g.jsx(D3e,{})]})}const it=t=>typeof t=="string",om=()=>{let t,e;const n=new Promise((r,o)=>{t=r,e=o});return n.resolve=t,n.reject=e,n},TB=t=>t==null?"":""+t,L3e=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},j3e=/###/g,MB=t=>t&&t.indexOf("###")>-1?t.replace(j3e,"."):t,AB=t=>!t||it(t),jm=(t,e,n)=>{const r=it(e)?e.split("."):e;let o=0;for(;o<r.length-1;){if(AB(t))return{};const i=MB(r[o]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++o}return AB(t)?{}:{obj:t,k:MB(r[o])}},RB=(t,e,n)=>{const{obj:r,k:o}=jm(t,e,Object);if(r!==void 0||e.length===1){r[o]=n;return}let i=e[e.length-1],s=e.slice(0,e.length-1),a=jm(t,s,Object);for(;a.obj===void 0&&s.length;)i=`${s[s.length-1]}.${i}`,s=s.slice(0,s.length-1),a=jm(t,s,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},I3e=(t,e,n,r)=>{const{obj:o,k:i}=jm(t,e,Object);o[i]=o[i]||[],o[i].push(n)},hx=(t,e)=>{const{obj:n,k:r}=jm(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},V3e=(t,e,n)=>{const r=hx(t,n);return r!==void 0?r:hx(e,n)},_K=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?it(t[r])||t[r]instanceof String||it(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):_K(t[r],e[r],n):t[r]=e[r]);return t},gf=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var B3e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $3e=t=>it(t)?t.replace(/[&<>"'\/]/g,e=>B3e[e]):t;class H3e{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const z3e=[" ",",","?","!",";"],F3e=new H3e(20),U3e=(t,e,n)=>{e=e||"",n=n||"";const r=z3e.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const o=F3e.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let i=!o.test(t);if(!i){const s=t.indexOf(n);s>0&&!o.test(t.substring(0,s))&&(i=!0)}return i},H2=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let o=t;for(let i=0;i<r.length;){if(!o||typeof o!="object")return;let s,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],s=o[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;i+=l-i+1;break}o=s}return o},px=t=>t==null?void 0:t.replace("_","-"),G3e={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class mx{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||G3e,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,o){return o&&!this.debug?null:(it(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new mx(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new mx(this.logger,e)}}var zs=new mx;class eS{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const o=this.observers[r].get(n)||0;this.observers[r].set(n,o+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[a,l]=s;for(let c=0;c<l;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,l]=s;for(let c=0;c<l;c++)a.apply(a,[e,...r])})}}class NB extends eS{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){var c,f;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,s=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):it(r)&&i?a.push(...r.split(i)):a.push(r)));const l=hx(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!s||!it(r)?l:H2((f=(c=this.data)==null?void 0:c[e])==null?void 0:f[n],r,i)}addResource(e,n,r,o){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(a=e.split("."),o=n,n=a[1]),this.addNamespaces(n),RB(this.data,a,o),i.silent||this.emit("added",e,n,r,o)}addResources(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(it(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});o.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,o,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),o=r,r=n,n=a[1]),this.addNamespaces(n);let l=hx(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?_K(l,r,i):l={...l,...r},RB(this.data,a,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var EK={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,o){return t.forEach(i=>{var s;e=((s=this.processors[i])==null?void 0:s.process(e,n,r,o))??e}),e}};const OB={},DB=t=>!it(t)&&typeof t!="boolean"&&typeof t!="number";class gx extends eS{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),L3e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=zs.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return(r==null?void 0:r.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!U3e(e,r,o);if(s&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:it(i)?[i]:i};const c=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(o)}return{key:e,namespaces:it(i)?[i]:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],c=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((c==null?void 0:c.toLowerCase())==="cimode"){if(f){const X=n.nsSeparator||this.options.nsSeparator;return o?{res:`${l}${X}${s}`,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${X}${s}`}return o?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:s}const h=this.resolve(e,n);let p=h==null?void 0:h.res;const y=(h==null?void 0:h.usedKey)||s,b=(h==null?void 0:h.exactUsedKey)||s,x=["[object Number]","[object Function]","[object RegExp]"],C=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,E=n.count!==void 0&&!it(n.count),T=gx.hasDefaultValue(n),R=E?this.pluralResolver.getSuffix(c,n.count,n):"",A=n.ordinal&&E?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",N=E&&!n.ordinal&&n.count===0,O=N&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${R}`]||n[`defaultValue${A}`]||n.defaultValue;let j=p;k&&!p&&T&&(j=O);const P=DB(j),z=Object.prototype.toString.apply(j);if(k&&j&&P&&x.indexOf(z)<0&&!(it(C)&&Array.isArray(j))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const X=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,j,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(h.res=X,h.usedParams=this.getUsedParamsDetails(n),h):X}if(i){const X=Array.isArray(j),Z=X?[]:{},q=X?b:y;for(const re in j)if(Object.prototype.hasOwnProperty.call(j,re)){const ee=`${q}${i}${re}`;T&&!p?Z[re]=this.translate(ee,{...n,defaultValue:DB(O)?O[re]:void 0,joinArrays:!1,ns:a}):Z[re]=this.translate(ee,{...n,joinArrays:!1,ns:a}),Z[re]===ee&&(Z[re]=j[re])}p=Z}}else if(k&&it(C)&&Array.isArray(p))p=p.join(C),p&&(p=this.extendTranslation(p,e,n,r));else{let X=!1,Z=!1;!this.isValidLookup(p)&&T&&(X=!0,p=O),this.isValidLookup(p)||(Z=!0,p=s);const re=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Z?void 0:p,ee=T&&O!==p&&this.options.updateMissing;if(Z||X||ee){if(this.logger.log(ee?"updateKey":"missingKey",c,l,s,ee?O:p),i){const G=this.resolve(s,{...n,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const $=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$&&$[0])for(let G=0;G<$.length;G++)B.push($[G]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(n.lng||this.language):B.push(n.lng||this.language);const V=(G,L,W)=>{var ae;const se=T&&W!==p?W:re;this.options.missingKeyHandler?this.options.missingKeyHandler(G,l,L,se,ee,n):(ae=this.backendConnector)!=null&&ae.saveMissing&&this.backendConnector.saveMissing(G,l,L,se,ee,n),this.emit("missingKey",G,l,L,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?B.forEach(G=>{const L=this.pluralResolver.getSuffixes(G,n);N&&n[`defaultValue${this.options.pluralSeparator}zero`]&&L.indexOf(`${this.options.pluralSeparator}zero`)<0&&L.push(`${this.options.pluralSeparator}zero`),L.forEach(W=>{V([G],s+W,n[`defaultValue${W}`]||O)})}):V(B,s,O))}p=this.extendTranslation(p,e,n,h,r),Z&&p===s&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${s}`),(Z||X)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,X?p:void 0))}return o?(h.res=p,h.usedParams=this.getUsedParamsDetails(n),h):p}extendTranslation(e,n,r,o,i){var c,f;var s=this;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const h=it(e)&&(((f=r==null?void 0:r.interpolation)==null?void 0:f.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(h){const b=e.match(this.interpolator.nestingRegexp);p=b&&b.length}let y=r.replace&&!it(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,r.lng||this.language||o.usedLng,r),h){const b=e.match(this.interpolator.nestingRegexp),x=b&&b.length;p<x&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var b=arguments.length,x=new Array(b),C=0;C<b;C++)x[C]=arguments[C];return(i==null?void 0:i[0])===x[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${n[0]}`),null):s.translate(...x,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=it(a)?[a]:a;return e!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(e=EK.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,o,i,s,a;return it(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),f=c.key;o=f;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=n.count!==void 0&&!it(n.count),y=p&&!n.ordinal&&n.count===0,b=n.context!==void 0&&(it(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(C=>{var k,E;this.isValidLookup(r)||(a=C,!OB[`${x[0]}-${C}`]&&((k=this.utils)!=null&&k.hasLoadedNamespace)&&!((E=this.utils)!=null&&E.hasLoadedNamespace(a))&&(OB[`${x[0]}-${C}`]=!0,this.logger.warn(`key "${o}" for languages "${x.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(T=>{var N;if(this.isValidLookup(r))return;s=T;const R=[f];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(R,f,T,C,n);else{let O;p&&(O=this.pluralResolver.getSuffix(T,n.count,n));const j=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(R.push(f+O),n.ordinal&&O.indexOf(P)===0&&R.push(f+O.replace(P,this.options.pluralSeparator)),y&&R.push(f+j)),b){const z=`${f}${this.options.contextSeparator}${n.context}`;R.push(z),p&&(R.push(z+O),n.ordinal&&O.indexOf(P)===0&&R.push(z+O.replace(P,this.options.pluralSeparator)),y&&R.push(z+j))}}let A;for(;A=R.pop();)this.isValidLookup(r)||(i=A,r=this.getResource(T,C,A,n))}))})}),{res:r,usedKey:o,exactUsedKey:i,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){var i;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,n,r,o):this.resourceStore.getResource(e,n,r,o)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!it(e.replace);let o=r?e.replace:e;if(r&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(const i of n)delete o[i]}return o}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class PB{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=zs.create("languageUtils")}getScriptPartFromCode(e){if(e=px(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=px(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(it(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(i=>{if(i===o)return i;if(!(i.indexOf("-")<0&&o.indexOf("-")<0)&&(i.indexOf("-")>0&&o.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===o||i.indexOf(o)===0&&o.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),it(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),o=[],i=s=>{s&&(this.isSupportedCode(s)?o.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return it(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):it(e)&&i(this.formatLanguageCode(e)),r.forEach(s=>{o.indexOf(s)<0&&i(this.formatLanguageCode(s))}),o}}const LB={zero:0,one:1,two:2,few:3,many:4,other:5},jB={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class W3e{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=zs.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=px(e==="dev"?"en":e),o=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:o});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let s;try{s=new Intl.PluralRules(r,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),jB;if(!e.match(/-|_/))return jB;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[i]=s,s}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(o=>`${n}${o}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((o,i)=>LB[o]-LB[i]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const IB=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=V3e(t,e,n);return!i&&o&&it(n)&&(i=H2(t,n,r),i===void 0&&(i=H2(e,n,r))),i},bE=t=>t.replace(/\$/g,"$$$$");class q3e{constructor(){var n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=zs.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:o,prefix:i,prefixEscaped:s,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:y,nestingSuffix:b,nestingSuffixEscaped:x,nestingOptionsSeparator:C,maxReplaces:k,alwaysFormat:E}=e.interpolation;this.escape=n!==void 0?n:$3e,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=i?gf(i):s||"{{",this.suffix=a?gf(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=p?gf(p):y||gf("$t("),this.nestingSuffix=b?gf(b):x||gf(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=k||1e3,this.alwaysFormat=E!==void 0?E:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,o){var y;let i,s,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=b=>{if(b.indexOf(this.formatSeparator)<0){const E=IB(n,l,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,r,{...o,...n,interpolationkey:b}):E}const x=b.split(this.formatSeparator),C=x.shift().trim(),k=x.join(this.formatSeparator).trim();return this.format(IB(n,l,C,this.options.keySeparator,this.options.ignoreJSONStructure),k,r,{...o,...n,interpolationkey:C})};this.resetRegExp();const f=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((y=o==null?void 0:o.interpolation)==null?void 0:y.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>bE(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?bE(this.escape(b)):bE(b)}].forEach(b=>{for(a=0;i=b.regex.exec(e);){const x=i[1].trim();if(s=c(x),s===void 0)if(typeof f=="function"){const k=f(e,i,o);s=it(k)?k:""}else if(o&&Object.prototype.hasOwnProperty.call(o,x))s="";else if(h){s=i[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),s="";else!it(s)&&!this.useRawValueToEscape&&(s=TB(s));const C=b.safeValue(s);if(e=e.replace(i[0],C),h?(b.regex.lastIndex+=s.length,b.regex.lastIndex-=i[0].length):b.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,i,s;const a=(l,c)=>{const f=this.nestingOptionsSeparator;if(l.indexOf(f)<0)return l;const h=l.split(new RegExp(`${f}[ ]*{`));let p=`{${h[1]}`;l=h[0],p=this.interpolate(p,s);const y=p.match(/'/g),b=p.match(/"/g);(((y==null?void 0:y.length)??0)%2===0&&!b||b.length%2!==0)&&(p=p.replace(/'/g,'"'));try{s=JSON.parse(p),c&&(s={...c,...s})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${f}${p}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;o=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!it(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let c=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const f=o[1].split(this.formatSeparator).map(h=>h.trim());o[1]=f.shift(),l=f,c=!0}if(i=n(a.call(this,o[1].trim(),s),s),i&&o[0]===e&&!it(i))return i;it(i)||(i=TB(i)),i||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),i=""),c&&(i=l.reduce((f,h)=>this.format(f,h,r.lng,{...r,interpolationkey:o[1].trim()}),i.trim())),e=e.replace(o[0],i),this.regexp.lastIndex=0}return e}}const Y3e=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(s=>{if(s){const[a,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),f=a.trim();n[f]||(n[f]=c),c==="false"&&(n[f]=!1),c==="true"&&(n[f]=!0),isNaN(c)||(n[f]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},yf=t=>{const e={};return(n,r,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i={...i,[o.interpolationkey]:void 0});const s=r+JSON.stringify(i);let a=e[s];return a||(a=t(px(r),o),e[s]=a),a(n)}};class K3e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=zs.create("formatter"),this.options=e,this.formats={number:yf((n,r)=>{const o=new Intl.NumberFormat(n,{...r});return i=>o.format(i)}),currency:yf((n,r)=>{const o=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>o.format(i)}),datetime:yf((n,r)=>{const o=new Intl.DateTimeFormat(n,{...r});return i=>o.format(i)}),relativetime:yf((n,r)=>{const o=new Intl.RelativeTimeFormat(n,{...r});return i=>o.format(i,r.range||"day")}),list:yf((n,r)=>{const o=new Intl.ListFormat(n,{...r});return i=>o.format(i)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=yf(n)}format(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{var h;const{formatName:c,formatOptions:f}=Y3e(l);if(this.formats[c]){let p=a;try{const y=((h=o==null?void 0:o.formatParams)==null?void 0:h[o.interpolationkey])||{},b=y.locale||y.lng||o.locale||o.lng||r;p=this.formats[c](a,b,{...f,...o,...y})}catch(y){this.logger.warn(y)}return p}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const Z3e=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class X3e extends eS{constructor(e,n,r){var i,s;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=zs.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(s=(i=this.backend)==null?void 0:i.init)==null||s.call(i,r,o.backend,o)}queueLoad(e,n,r,o){const i={},s={},a={},l={};return e.forEach(c=>{let f=!0;n.forEach(h=>{const p=`${c}|${h}`;!r.reload&&this.store.hasResourceBundle(c,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?s[p]===void 0&&(s[p]=!0):(this.state[p]=1,f=!1,s[p]===void 0&&(s[p]=!0),i[p]===void 0&&(i[p]=!0),l[h]===void 0&&(l[h]=!0)))}),f||(a[c]=!0)}),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const o=e.split("|"),i=o[0],s=o[1];n&&this.emit("failedLoading",i,s,n),!n&&r&&this.store.addResourceBundle(i,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{I3e(l.loaded,[i],s),Z3e(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const f=l.loaded[c];f.length&&f.forEach(h=>{a[c][h]===void 0&&(a[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:o,wait:i,callback:s});return}this.readingCalls++;const a=(c,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&f&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,o+1,i*2,s)},i);return}s(c,f)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(f=>a(null,f)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();it(e)&&(e=this.languageUtils.toResolveHierarchy(e)),it(n)&&(n=[n]);const i=this.queueLoad(e,n,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${i} for language ${o} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${o}`,a),this.loaded(e,s,a)})}saveMissing(e,n,r,o,i){var l,c,f,h,p;let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((p=this.backend)!=null&&p.create){const y={...s,isUpdate:i},b=this.backend.create.bind(this.backend);if(b.length<6)try{let x;b.length===5?x=b(e,n,r,o,y):x=b(e,n,r,o),x&&typeof x.then=="function"?x.then(C=>a(null,C)).catch(a):a(null,x)}catch(x){a(x)}else b(e,n,r,o,a,y)}!e||!e[0]||this.store.addResource(e[0],n,r,o)}}}const VB=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),it(t[1])&&(e.defaultValue=t[1]),it(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),BB=t=>{var e,n;return it(t.ns)&&(t.ns=[t.ns]),it(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),it(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},$b=()=>{},J3e=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Ug extends eS{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=BB(e),this.services={},this.logger=zs,this.modules={external:[]},J3e(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),n.defaultNS==null&&n.ns&&(it(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const o=VB();this.options={...o,...this.options,...BB(n)},this.options.interpolation={...o.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?zs.init(i(this.modules.logger),this.options):zs.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=K3e;const h=new PB(this.options);this.store=new NB(this.options.resources,this.options);const p=this.services;p.logger=zs,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new W3e(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(p.formatter=i(f),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new q3e(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new X3e(i(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(y){for(var b=arguments.length,x=new Array(b>1?b-1:0),C=1;C<b;C++)x[C-1]=arguments[C];e.emit(y,...x)}),this.modules.languageDetector&&(p.languageDetector=i(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=i(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new gx(this.services,this.options),this.translator.on("*",function(y){for(var b=arguments.length,x=new Array(b>1?b-1:0),C=1;C<b;C++)x[C-1]=arguments[C];e.emit(y,...x)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,r||(r=$b),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const l=om(),c=()=>{const f=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),r(h,p)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e){var i,s;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$b;const o=it(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&a.indexOf(h)<0&&a.push(h)})};o?l(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>l(f)),(s=(i=this.options.preload)==null?void 0:i.forEach)==null||s.call(i,c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const o=om();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=$b),this.services.backendConnector.reload(e,n,i=>{o.resolve(),r(i)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&EK.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const o=om();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,o.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{var f,h;!e&&!l&&this.services.languageDetector&&(l=[]);const c=it(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(h=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||h.call(f,c)),this.loadResources(c,p=>{s(p,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),o}getFixedT(e,n,r){var o=this;const i=function(s,a){let l;if(typeof a!="object"){for(var c=arguments.length,f=new Array(c>2?c-2:0),h=2;h<c;h++)f[h-2]=arguments[h];l=o.options.overloadTranslationOptionHandler([s,a].concat(f))}else l={...a};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const p=o.options.keySeparator||".";let y;return l.keyPrefix&&Array.isArray(s)?y=s.map(b=>`${l.keyPrefix}${p}${b}`):y=l.keyPrefix?`${l.keyPrefix}${p}${s}`:s,o.t(y,l)};return it(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){var o;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=this.translator)==null?void 0:o.translate(...n)}exists(){var o;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=this.translator)==null?void 0:o.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!o||s(i,e)))}loadNamespaces(e,n){const r=om();return this.options.ns?(it(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=om();it(e)&&(e=[e]);const o=this.options.preload||[],i=e.filter(s=>o.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return i.length?(this.options.preload=o.concat(i),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var o,i;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((i=this.services)==null?void 0:i.languageUtils)||new PB(VB());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Ug(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$b;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},i=new Ug(o);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},Object.keys(l[c]).reduce((f,h)=>(f[h]={...l[c][h]},f),{})),{});i.store=new NB(a,o),i.services.resourceStore=i.store}return i.translator=new gx(i.services,o),i.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=arguments[f];i.emit(a,...c)}),i.init(o,n),i.translator.options=o,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Jr=Ug.createInstance();Jr.createInstance=Ug.createInstance;Jr.createInstance;Jr.dir;Jr.init;Jr.loadResources;Jr.reloadResources;Jr.use;Jr.changeLanguage;Jr.getFixedT;Jr.t;Jr.exists;Jr.setDefaultNamespace;Jr.hasLoadedNamespace;Jr.loadNamespaces;Jr.loadLanguages;Jr.use(iJ).init({resources:{en:{translation:{english:"English",vietnamese:"Vietnamese",languages:"Languages",welcome:"Welcome back",darkMode:"Dark Mode",lightMode:"Light Mode",system:"System",login_to:"Login to your Notebok account",password:"Password",forgot_password:"Forgot your password?",login:"Login",or_continue_with:"Or continue with",dont_have_account:"Don't have an account?",sign_up:"Sign up",create_account:"Create an account",join_study:"Join Notebok today",username:"Username",confirm_password:"Confirm Password",use_strong_password:"Use strong password.",your_unique_display_name:"Your unique display name.",re_enter_password:"Re-enter your password.",back:"Back",submit:"Submit",username_required:"Username must be at least 2 characters.",username_contain:"Username can only contain letters, numbers, and underscores.",email_required:"Invalid email address.",password_required:"Password must be at least 8 characters.",password_contain:"Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character.",confirm_password_required:"Confirm Password must be the same as Password.",password_not_match:"Passwords do not match.",already_have_account:"Already have an account?",sign_in:"Sign in"}},vi:{translation:{english:"Tiếng Anh",vietnamese:"Tiếng Việt",languages:"Ngôn ngữ",welcome:"Chào mừng trở lại",darkMode:"Chế độ tối",lightMode:"Chế độ sáng",system:"Hệ thống",login_to:"Đăng nhập vào tài khoản Notebok của bạn",password:"Mật khẩu",forgot_password:"Quên mật khẩu?",login:"Đăng nhập",or_continue_with:"Hoặc tiếp tục với",dont_have_account:"Chưa có tài khoản?",sign_up:"Đăng ký",create_account:"Tạo tài khoản",join_study:"Tham gia Notebok ngay hôm nay",username:"Tên người dùng",confirm_password:"Xác nhận mật khẩu",use_strong_password:"Sử dụng mật khẩu mạnh.",your_unique_display_name:"Tên hiển thị duy nhất của bạn.",re_enter_password:"Nhập lại mật khẩu của bạn.",back:"Quay lại",submit:"Gửi",username_required:"Tên người dùng phải có ít nhất 2 ký tự.",username_contain:"Tên người dùng chỉ có thể chứa các chữ cái, số và dấu gạch dưới",email_required:"Địa chỉ email không hợp lệ.",password_required:"Mật khẩu phải có ít nhất 8 ký tự.",password_contain:"Mật khẩu phải chứa ít nhất một chữ cái viết thường, một chữ cái viết hoa, một số và một ký tự đặc biệt.",confirm_password_required:"Phải giống với Mật khẩu trước đó.",password_not_match:"Mật khẩu không khớp.",already_have_account:"Đã có tài khoản?",sign_in:"Đăng nhập"}}},lng:localStorage.getItem("language")||"vi",fallbackLng:"vi",interpolation:{escapeValue:!1}});FB.createRoot(document.getElementById("root")).render(g.jsx(w.StrictMode,{children:g.jsx(P3e,{})}));export{Z7 as B,g9 as C,v9 as D,Iie as H,Bie as I,Wie as L,m9 as O,_t as P,h9 as R,e6 as S,y9 as T,Dse as U,Lse as X,w as a,p9 as b,rt as c,ke as d,b9 as e,Rc as f,pse as g,K7 as h,GE as i,g as j,Fie as k,Q7 as l,Ehe as m,_he as n,LM as o,$B as p,KSe as q,z2 as r,Wf as s,ZSe as t,sc as u,Y5 as v,vVe as w,yVe as x,hR as y,TSe as z};
